const e={};function t(t={}){const{src:o="https://cdn.jsdelivr.net/npm/typescript/lib/typescript.js",globalKey:n="ts"}=t,{contentWindow:r=window}=t,{document:s=window.document}=r;return r[n]?Promise.resolve():(e[o]=new Promise(((t,c)=>{const i=s.createElement("script");i.setAttribute("data-src",o),i.src=o,i.async=!0,i.onload=()=>{setTimeout((()=>{r[n]?(r[n],t()):(c(new Error(`Failed to load ${n}. Ensure the global variable ${n} is set by the script.`)),delete e[o])}),0)},i.onerror=t=>{c(new Error(`Failed to load ${n} from ${o}: ${t}`)),delete e[o]},s.body.appendChild(i)})),e[o])}async function o(e,o=window){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=n[r];await t({src:e[s],globalKey:s,contentWindow:o})}}export{o as l};
