var pX=Object.defineProperty;var vX=(t,e,n)=>e in t?pX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var jr=(t,e,n)=>vX(t,typeof e!="symbol"?e+"":e,n);import{Z as wm,a as y,$ as Uy,g as ol,J as Pu,r as xc,u as bt,d as mX,C as Uo,c as rt,M as CP,l as Kn,K as th,b as k_,a0 as ht,R as je,x as P,a1 as gX,E as ur,w as J,a2 as tl,z as _n,v as jk,t as Nn,G as uw,a3 as cw,a4 as yX,N as dw,y as Gy,a5 as fT,a6 as bX,a7 as fw,a8 as xX,O as Bk,a9 as _X,aa as Wy,p as Hf,ab as uN,ac as $_,ad as xo,ae as cN,af as SX,ag as wX,ah as TP,ai as EX,F as CX,aj as Af,S as Ip,ak as hT,al as hw,am as TX,an as RX,ao as PX,ap as AX,aq as OX,ar as zk,as as NX,at as MX,au as dN,av as IX,T as Ra,U as Ua,q as DX,n as E,aw as LX,P as Qn,ax as kX,ay as $X,i as ia,A as RP,k as Vn,B as Oi,j as dr,az as Uf,aA as Ha,aB as As,aC as FX,aD as jX,aE as Hk,aF as pT,_ as Mi,f as Ga}from"./index-D2t72-yQ.js";import{U as Uk,ao as BX,ap as Dp,aq as zX,ar as Od,as as Td,at as _c,P as Dd,I as Go,au as Gk,av as Wk,aw as HX,ax as UX,ay as GX,az as $r,aA as WX,Y as Gr,aB as vp,aC as fN,R as Vk,y as PP,aD as VX,aE as AP,aF as Rd,aG as Xk,aH as Kk,aI as Yk,aJ as vT,aK as Vy,X as mp,aL as qk,aM as XX,aN as pw,V as vw,aO as Zk,aP as Jk,aQ as Qk,aR as e$,aS as t$,aT as n$,aU as OP,aV as r$,aW as i$,aX as o$,aY as a$,p as gp,aZ as KX,a_ as YX,a$ as hN,b0 as qX,b1 as ZX,b2 as JX,b3 as QX,x as Ld,b4 as eK,b5 as tK,b6 as nK,b7 as rK,b8 as iK,b9 as oK,Z as s$,ba as aK,bb as pN,B as es,bc as sK,bd as lK,d as NP,T as wi,a as uK,c as l$,be as cK,Q as u$,bf as ax,bg as vN,bh as mN,bi as dK,bj as gN,bk as fK,bl as hK,a7 as Em,D as mw,bm as Xy,k as Sd,bn as pK,bo as vK,o as mo,bp as c$,E as yN,r as du,bq as Cm,br as mK,bs as gK,bt as yK,bu as bK,bv as xK,bw as Nd,bx as wu,by as Ts,bz as bN,bA as Au,bB as Cb,bC as Dl,bD as Lp,bE as Nl,bF as jl,bG as Fi,bH as _K,bI as Sc,bJ as SK,bK as eg,bL as Ll,bM as Tb,bN as d$,bO as nh,bP as gw,bQ as Ms,bR as MP,bS as kd,h as Rb,bT as rh,bU as ih,bV as IP,bW as di,bX as Pb,bY as tg,bZ as Eu,b_ as qi,b$ as Os,c0 as kp,c1 as Ab,c2 as is,c3 as zo,c4 as Hr,c5 as ng,c6 as wK,c7 as rg,c8 as f$,c9 as mc,ca as DP,cb as F_,cc as qo,cd as nl,ce as EK,cf as CK,cg as $d,ch as Ob,ci as h$,cj as $p,ck as Fd,af as rl,cl as TK,cm as ig,cn as RK,co as p$,cp as yw,cq as PK,cr as Tm,cs as LP,ct as kP,cu as v$,cv as m$,cw as g$,cx as y$,cy as b$,cz as AK,cA as x$,cB as OK,cC as NK,cD as MK,cE as j_,cF as $P,cG as bw,cH as IK,cI as DK,cJ as _$,cK as S$,cL as w$,cM as E$,cN as C$,cO as LK,cP as kK,cQ as $K,cR as FK,cS as HC,cT as jK,ad as Ai,cU as BK,ae as FP,cV as zK,ab as T$,f as Mr,cW as HK,cX as UK,cY as GK,ah as yp,cZ as WK,aa as Cu,a0 as R$,c_ as VK,c$ as XK,g as xw,d0 as KK,d1 as _w,an as vd,d2 as YK,d3 as qK,am as ZK,_ as JK,u as QK,d4 as eY,a1 as xi,F as to,ai as P$,H as Ln,J as Pn,d5 as tY,S as Tu,s as xN,t as Rl,v as Oo,d6 as nY,d7 as rY,d8 as A$,d9 as O$,da as iY,db as oY,dc as N$,dd as aY,de as sY,df as lY,dg as uY,dh as cY,di as M$,dj as dY,dk as fY,dl as hY,dm as pY,dn as vY,dp as mY,dq as gY,dr as I$,ds as yY,a8 as oh,dt as bY,du as xY,dv as _Y,ac as mT,dw as SY,a4 as wY,dx as D$,a2 as Rm,w as bp,q as EY,O as CY,dy as TY,dz as RY,n as PY,a5 as Fp,a3 as gT,dA as AY,dB as OY,dC as NY,dD as L$,N as k$,M as jP,dE as MY,dF as $$,dG as IY,m as DY,C as yd,a6 as bd,l as F$,e as B_,dH as LY,dI as kY}from"./index-CJyGQGl4.js";function yT(t){return t!=null&&t===t.window}const $Y=t=>{var e,n;if(typeof window>"u")return 0;let r=0;return yT(t)?r=t.pageYOffset:t instanceof Document?r=t.documentElement.scrollTop:(t instanceof HTMLElement||t)&&(r=t.scrollTop),t&&!yT(t)&&typeof r!="number"&&(r=(n=((e=t.ownerDocument)!==null&&e!==void 0?e:t).documentElement)===null||n===void 0?void 0:n.scrollTop),r};function FY(t,e,n,r){const i=n-e;return t/=r/2,t<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}function jY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:n=()=>window,callback:r,duration:i=450}=e,o=n(),a=$Y(o),s=Date.now(),l=()=>{const c=Date.now()-s,d=FY(c>i?i:c,a,t,i);yT(o)?o.scrollTo(window.pageXOffset,d):o instanceof Document||o.constructor.name==="HTMLDocument"?o.documentElement.scrollTop=d:o.scrollTop=d,c<i?wm(l):typeof r=="function"&&r()};wm(l)}function Nb(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const e=y.useRef({}),n=Uk(),r=BX();return Uy(()=>{const i=r.subscribe(o=>{e.current=o,t&&n()});return()=>r.unsubscribe(i)},[]),e.current}const bT=y.createContext({}),BY=t=>{const{antCls:e,componentCls:n,iconCls:r,avatarBg:i,avatarColor:o,containerSize:a,containerSizeLG:s,containerSizeSM:l,textFontSize:u,textFontSizeLG:c,textFontSizeSM:d,borderRadius:f,borderRadiusLG:h,borderRadiusSM:v,lineWidth:m,lineType:g}=t,x=(_,w,S)=>({width:_,height:_,borderRadius:"50%",[`&${n}-square`]:{borderRadius:S},[`&${n}-icon`]:{fontSize:w,[`> ${r}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},xc(t)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:o,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:i,border:`${bt(m)} ${g} transparent`,"&-image":{background:"transparent"},[`${e}-image-img`]:{display:"block"}}),x(a,u,f)),{"&-lg":Object.assign({},x(s,c,h)),"&-sm":Object.assign({},x(l,d,v)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},zY=t=>{const{componentCls:e,groupBorderColor:n,groupOverlapping:r,groupSpace:i}=t;return{[`${e}-group`]:{display:"inline-flex",[e]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},[`${e}-group-popover`]:{[`${e} + ${e}`]:{marginInlineStart:i}}}},HY=t=>{const{controlHeight:e,controlHeightLG:n,controlHeightSM:r,fontSize:i,fontSizeLG:o,fontSizeXL:a,fontSizeHeading3:s,marginXS:l,marginXXS:u,colorBorderBg:c}=t;return{containerSize:e,containerSizeLG:n,containerSizeSM:r,textFontSize:Math.round((o+a)/2),textFontSizeLG:s,textFontSizeSM:i,groupSpace:u,groupOverlapping:-l,groupBorderColor:c}},j$=ol("Avatar",t=>{const{colorTextLightSolid:e,colorTextPlaceholder:n}=t,r=Pu(t,{avatarBg:n,avatarColor:e});return[BY(r),zY(r)]},HY);var UY=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const GY=(t,e)=>{const[n,r]=y.useState(1),[i,o]=y.useState(!1),[a,s]=y.useState(!0),l=y.useRef(null),u=y.useRef(null),c=mX(e,l),{getPrefixCls:d,avatar:f}=y.useContext(Uo),h=y.useContext(bT),v=()=>{if(!u.current||!l.current)return;const ee=u.current.offsetWidth,fe=l.current.offsetWidth;if(ee!==0&&fe!==0){const{gap:ve=4}=t;ve*2<fe&&r(fe-ve*2<ee?(fe-ve*2)/ee:1)}};y.useEffect(()=>{o(!0)},[]),y.useEffect(()=>{s(!0),r(1)},[t.src]),y.useEffect(v,[t.gap]);const m=()=>{const{onError:ee}=t;(ee==null?void 0:ee())!==!1&&s(!1)},{prefixCls:g,shape:x,size:_,src:w,srcSet:S,icon:C,className:O,rootClassName:T,alt:N,draggable:M,children:D,crossOrigin:F}=t,j=UY(t,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),R=Dp(ee=>{var fe,ve;return(ve=(fe=_??(h==null?void 0:h.size))!==null&&fe!==void 0?fe:ee)!==null&&ve!==void 0?ve:"default"}),I=Object.keys(typeof R=="object"?R||{}:{}).some(ee=>["xs","sm","md","lg","xl","xxl"].includes(ee)),L=Nb(I),k=y.useMemo(()=>{if(typeof R!="object")return{};const ee=zX.find(ve=>L[ve]),fe=R[ee];return fe?{width:fe,height:fe,fontSize:fe&&(C||D)?fe/2:18}:{}},[L,R]),B=d("avatar",g),q=Od(B),[X,z,H]=j$(B,q),Q=rt({[`${B}-lg`]:R==="large",[`${B}-sm`]:R==="small"}),V=y.isValidElement(w),W=x||(h==null?void 0:h.shape)||"circle",te=rt(B,Q,f==null?void 0:f.className,`${B}-${W}`,{[`${B}-image`]:V||w&&a,[`${B}-icon`]:!!C},H,q,O,T,z),K=typeof R=="number"?{width:R,height:R,fontSize:C?R/2:18}:{};let U;if(typeof w=="string"&&a)U=y.createElement("img",{src:w,draggable:M,srcSet:S,onError:m,alt:N,crossOrigin:F});else if(V)U=w;else if(C)U=C;else if(i||n!==1){const ee=`scale(${n})`,fe={msTransform:ee,WebkitTransform:ee,transform:ee};U=y.createElement(Td,{onResize:v},y.createElement("span",{className:`${B}-string`,ref:u,style:Object.assign({},fe)},D))}else U=y.createElement("span",{className:`${B}-string`,style:{opacity:0},ref:u},D);return delete j.onError,delete j.gap,X(y.createElement("span",Object.assign({},j,{style:Object.assign(Object.assign(Object.assign(Object.assign({},K),k),f==null?void 0:f.style),j.style),className:te,ref:c}),U))},B$=y.forwardRef(GY),_N=t=>{const{size:e,shape:n}=y.useContext(bT),r=y.useMemo(()=>({size:t.size||e,shape:t.shape||n}),[t.size,t.shape,e,n]);return y.createElement(bT.Provider,{value:r},t.children)},WY=t=>{var e,n,r;const{getPrefixCls:i,direction:o}=y.useContext(Uo),{prefixCls:a,className:s,rootClassName:l,style:u,maxCount:c,maxStyle:d,size:f,shape:h,maxPopoverPlacement:v,maxPopoverTrigger:m,children:g,max:x}=t,_=i("avatar",a),w=`${_}-group`,S=Od(_),[C,O,T]=j$(_,S),N=rt(w,{[`${w}-rtl`]:o==="rtl"},T,S,s,l,O),M=_c(g).map((j,R)=>CP(j,{key:`avatar-key-${R}`})),D=(x==null?void 0:x.count)||c,F=M.length;if(D&&D<F){const j=M.slice(0,D),R=M.slice(D,F),I=(x==null?void 0:x.style)||d,L=((e=x==null?void 0:x.popover)===null||e===void 0?void 0:e.trigger)||m||"hover",k=((n=x==null?void 0:x.popover)===null||n===void 0?void 0:n.placement)||v||"top",B=Object.assign(Object.assign({content:R},x==null?void 0:x.popover),{overlayClassName:rt(`${w}-popover`,(r=x==null?void 0:x.popover)===null||r===void 0?void 0:r.overlayClassName),placement:k,trigger:L});return j.push(y.createElement(Dd,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},B),y.createElement(B$,{style:I},`+${F-D}`))),C(y.createElement(_N,{shape:h,size:f},y.createElement("div",{className:N,style:u},j)))}return C(y.createElement(_N,{shape:h,size:f},y.createElement("div",{className:N,style:u},M)))},z$=B$;z$.Group=WY;var VY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},XY=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:VY}))},KY=y.forwardRef(XY);const YY=new th("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),qY=new th("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),ZY=new th("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),JY=new th("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),QY=new th("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),eq=new th("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),tq=t=>{const{componentCls:e,iconCls:n,antCls:r,badgeShadowSize:i,textFontSize:o,textFontSizeSM:a,statusSize:s,dotSize:l,textFontWeight:u,indicatorHeight:c,indicatorHeightSM:d,marginXS:f,calc:h}=t,v=`${r}-scroll-number`,m=Gk(t,(g,x)=>{let{darkColor:_}=x;return{[`&${e} ${e}-color-${g}`]:{background:_,[`&:not(${e}-count)`]:{color:_},"a:hover &":{background:_}}}});return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},xc(t)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${e}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:t.indicatorZIndex,minWidth:c,height:c,color:t.badgeTextColor,fontWeight:u,fontSize:o,lineHeight:bt(c),whiteSpace:"nowrap",textAlign:"center",background:t.badgeColor,borderRadius:h(c).div(2).equal(),boxShadow:`0 0 0 ${bt(i)} ${t.badgeShadowColor}`,transition:`background ${t.motionDurationMid}`,a:{color:t.badgeTextColor},"a:hover":{color:t.badgeTextColor},"a:hover &":{background:t.badgeColorHover}},[`${e}-count-sm`]:{minWidth:d,height:d,fontSize:a,lineHeight:bt(d),borderRadius:h(d).div(2).equal()},[`${e}-multiple-words`]:{padding:`0 ${bt(t.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${e}-dot`]:{zIndex:t.indicatorZIndex,width:l,minWidth:l,height:l,background:t.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${bt(i)} ${t.badgeShadowColor}`},[`${e}-count, ${e}-dot, ${v}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${n}-spin`]:{animationName:eq,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${e}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${e}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:s,height:s,verticalAlign:"middle",borderRadius:"50%"},[`${e}-status-success`]:{backgroundColor:t.colorSuccess},[`${e}-status-processing`]:{overflow:"visible",color:t.colorInfo,backgroundColor:t.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:i,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:YY,animationDuration:t.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${e}-status-default`]:{backgroundColor:t.colorTextPlaceholder},[`${e}-status-error`]:{backgroundColor:t.colorError},[`${e}-status-warning`]:{backgroundColor:t.colorWarning},[`${e}-status-text`]:{marginInlineStart:f,color:t.colorText,fontSize:t.fontSize}}}),m),{[`${e}-zoom-appear, ${e}-zoom-enter`]:{animationName:qY,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`${e}-zoom-leave`]:{animationName:ZY,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`&${e}-not-a-wrapper`]:{[`${e}-zoom-appear, ${e}-zoom-enter`]:{animationName:JY,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`${e}-zoom-leave`]:{animationName:QY,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`&:not(${e}-status)`]:{verticalAlign:"middle"},[`${v}-custom-component, ${e}-count`]:{transform:"none"},[`${v}-custom-component, ${v}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[v]:{overflow:"hidden",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack}`,[`${v}-only`]:{position:"relative",display:"inline-block",height:c,transition:`all ${t.motionDurationSlow} ${t.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${v}-only-unit`]:{height:c,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${v}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${e}-count, ${e}-dot, ${v}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},H$=t=>{const{fontHeight:e,lineWidth:n,marginXS:r,colorBorderBg:i}=t,o=e,a=n,s=t.colorTextLightSolid,l=t.colorError,u=t.colorErrorHover;return Pu(t,{badgeFontHeight:o,badgeShadowSize:a,badgeTextColor:s,badgeColor:l,badgeColorHover:u,badgeShadowColor:i,badgeProcessingDuration:"1.2s",badgeRibbonOffset:r,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},U$=t=>{const{fontSize:e,lineHeight:n,fontSizeSM:r,lineWidth:i}=t;return{indicatorZIndex:"auto",indicatorHeight:Math.round(e*n)-2*i,indicatorHeightSM:e,dotSize:r/2,textFontSize:r,textFontSizeSM:r,textFontWeight:"normal",statusSize:r/2}},nq=ol("Badge",t=>{const e=H$(t);return tq(e)},U$),rq=t=>{const{antCls:e,badgeFontHeight:n,marginXS:r,badgeRibbonOffset:i,calc:o}=t,a=`${e}-ribbon`,s=`${e}-ribbon-wrapper`,l=Gk(t,(u,c)=>{let{darkColor:d}=c;return{[`&${a}-color-${u}`]:{background:d,color:d}}});return{[s]:{position:"relative"},[a]:Object.assign(Object.assign(Object.assign(Object.assign({},xc(t)),{position:"absolute",top:r,padding:`0 ${bt(t.paddingXS)}`,color:t.colorPrimary,lineHeight:bt(n),whiteSpace:"nowrap",backgroundColor:t.colorPrimary,borderRadius:t.borderRadiusSM,[`${a}-text`]:{color:t.badgeTextColor},[`${a}-corner`]:{position:"absolute",top:"100%",width:i,height:i,color:"currentcolor",border:`${bt(o(i).div(2).equal())} solid`,transform:t.badgeRibbonCornerTransform,transformOrigin:"top",filter:t.badgeRibbonCornerFilter}}),l),{[`&${a}-placement-end`]:{insetInlineEnd:o(i).mul(-1).equal(),borderEndEndRadius:0,[`${a}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${a}-placement-start`]:{insetInlineStart:o(i).mul(-1).equal(),borderEndStartRadius:0,[`${a}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},iq=ol(["Badge","Ribbon"],t=>{const e=H$(t);return rq(e)},U$),oq=t=>{const{className:e,prefixCls:n,style:r,color:i,children:o,text:a,placement:s="end",rootClassName:l}=t,{getPrefixCls:u,direction:c}=y.useContext(Uo),d=u("ribbon",n),f=`${d}-wrapper`,[h,v,m]=iq(d,f),g=Wk(i,!1),x=rt(d,`${d}-placement-${s}`,{[`${d}-rtl`]:c==="rtl",[`${d}-color-${i}`]:g},e),_={},w={};return i&&!g&&(_.background=i,w.color=i),h(y.createElement("div",{className:rt(f,l,v,m)},o,y.createElement("div",{className:rt(x,v),style:Object.assign(Object.assign({},_),r)},y.createElement("span",{className:`${d}-text`},a),y.createElement("div",{className:`${d}-corner`,style:w}))))},SN=t=>{const{prefixCls:e,value:n,current:r,offset:i=0}=t;let o;return i&&(o={position:"absolute",top:`${i}00%`,left:0}),y.createElement("span",{style:o,className:rt(`${e}-only-unit`,{current:r})},n)};function aq(t,e,n){let r=t,i=0;for(;(r+10)%10!==e;)r+=n,i+=n;return i}const sq=t=>{const{prefixCls:e,count:n,value:r}=t,i=Number(r),o=Math.abs(n),[a,s]=y.useState(i),[l,u]=y.useState(o),c=()=>{s(i),u(o)};y.useEffect(()=>{const h=setTimeout(c,1e3);return()=>clearTimeout(h)},[i]);let d,f;if(a===i||Number.isNaN(i)||Number.isNaN(a))d=[y.createElement(SN,Object.assign({},t,{key:i,current:!0}))],f={transition:"none"};else{d=[];const h=i+10,v=[];for(let _=i;_<=h;_+=1)v.push(_);const m=l<o?1:-1,g=v.findIndex(_=>_%10===a);d=(m<0?v.slice(0,g+1):v.slice(g)).map((_,w)=>{const S=_%10;return y.createElement(SN,Object.assign({},t,{key:_,value:S,offset:m<0?w-g:w,current:w===g}))}),f={transform:`translateY(${-aq(a,i,m)}00%)`}}return y.createElement("span",{className:`${e}-only`,style:f,onTransitionEnd:c},d)};var lq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const uq=y.forwardRef((t,e)=>{const{prefixCls:n,count:r,className:i,motionClassName:o,style:a,title:s,show:l,component:u="sup",children:c}=t,d=lq(t,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:f}=y.useContext(Uo),h=f("scroll-number",n),v=Object.assign(Object.assign({},d),{"data-show":l,style:a,className:rt(h,i,o),title:s});let m=r;if(r&&Number(r)%1===0){const g=String(r).split("");m=y.createElement("bdi",null,g.map((x,_)=>y.createElement(sq,{prefixCls:h,count:Number(r),value:x,key:g.length-_})))}return a!=null&&a.borderColor&&(v.style=Object.assign(Object.assign({},a),{boxShadow:`0 0 0 1px ${a.borderColor} inset`})),c?CP(c,g=>({className:rt(`${h}-custom-component`,g==null?void 0:g.className,o)})):y.createElement(u,Object.assign({},v,{ref:e}),m)});var cq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const dq=y.forwardRef((t,e)=>{var n,r,i,o,a;const{prefixCls:s,scrollNumberPrefixCls:l,children:u,status:c,text:d,color:f,count:h=null,overflowCount:v=99,dot:m=!1,size:g="default",title:x,offset:_,style:w,className:S,rootClassName:C,classNames:O,styles:T,showZero:N=!1}=t,M=cq(t,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:D,direction:F,badge:j}=y.useContext(Uo),R=D("badge",s),[I,L,k]=nq(R),B=h>v?`${v}+`:h,q=B==="0"||B===0,X=h===null||q&&!N,z=(c!=null||f!=null)&&X,H=m&&!q,Q=H?"":B,V=y.useMemo(()=>(Q==null||Q===""||q&&!N)&&!H,[Q,q,N,H]),W=y.useRef(h);V||(W.current=h);const te=W.current,K=y.useRef(Q);V||(K.current=Q);const U=K.current,ee=y.useRef(H);V||(ee.current=H);const fe=y.useMemo(()=>{if(!_)return Object.assign(Object.assign({},j==null?void 0:j.style),w);const Le={marginTop:_[1]};return F==="rtl"?Le.left=parseInt(_[0],10):Le.right=-parseInt(_[0],10),Object.assign(Object.assign(Object.assign({},Le),j==null?void 0:j.style),w)},[F,_,w,j==null?void 0:j.style]),ve=x??(typeof te=="string"||typeof te=="number"?te:void 0),Ce=V||!d?null:y.createElement("span",{className:`${R}-status-text`},d),ue=!te||typeof te!="object"?void 0:CP(te,Le=>({style:Object.assign(Object.assign({},fe),Le.style)})),we=Wk(f,!1),pe=rt(O==null?void 0:O.indicator,(n=j==null?void 0:j.classNames)===null||n===void 0?void 0:n.indicator,{[`${R}-status-dot`]:z,[`${R}-status-${c}`]:!!c,[`${R}-color-${f}`]:we}),$e={};f&&!we&&($e.color=f,$e.background=f);const Ne=rt(R,{[`${R}-status`]:z,[`${R}-not-a-wrapper`]:!u,[`${R}-rtl`]:F==="rtl"},S,C,j==null?void 0:j.className,(r=j==null?void 0:j.classNames)===null||r===void 0?void 0:r.root,O==null?void 0:O.root,L,k);if(!u&&z){const Le=fe.color;return I(y.createElement("span",Object.assign({},M,{className:Ne,style:Object.assign(Object.assign(Object.assign({},T==null?void 0:T.root),(i=j==null?void 0:j.styles)===null||i===void 0?void 0:i.root),fe)}),y.createElement("span",{className:pe,style:Object.assign(Object.assign(Object.assign({},T==null?void 0:T.indicator),(o=j==null?void 0:j.styles)===null||o===void 0?void 0:o.indicator),$e)}),d&&y.createElement("span",{style:{color:Le},className:`${R}-status-text`},d)))}return I(y.createElement("span",Object.assign({ref:e},M,{className:Ne,style:Object.assign(Object.assign({},(a=j==null?void 0:j.styles)===null||a===void 0?void 0:a.root),T==null?void 0:T.root)}),u,y.createElement(k_,{visible:!V,motionName:`${R}-zoom`,motionAppear:!1,motionDeadline:1e3},Le=>{let{className:Ie}=Le;var Z,ie;const ne=D("scroll-number",l),Te=ee.current,$=rt(O==null?void 0:O.indicator,(Z=j==null?void 0:j.classNames)===null||Z===void 0?void 0:Z.indicator,{[`${R}-dot`]:Te,[`${R}-count`]:!Te,[`${R}-count-sm`]:g==="small",[`${R}-multiple-words`]:!Te&&U&&U.toString().length>1,[`${R}-status-${c}`]:!!c,[`${R}-color-${f}`]:we});let se=Object.assign(Object.assign(Object.assign({},T==null?void 0:T.indicator),(ie=j==null?void 0:j.styles)===null||ie===void 0?void 0:ie.indicator),fe);return f&&!we&&(se=se||{},se.background=f),y.createElement(uq,{prefixCls:ne,show:!V,motionClassName:Ie,className:$,count:U,title:ve,style:se,key:"scrollNumber"},ue)}),Ce))}),Sl=dq;Sl.Ribbon=oq;const Sw=y.createContext(null);var fq=function(e){var n=e.activeTabOffset,r=e.horizontal,i=e.rtl,o=e.indicator,a=o===void 0?{}:o,s=a.size,l=a.align,u=l===void 0?"center":l,c=y.useState(),d=ht(c,2),f=d[0],h=d[1],v=y.useRef(),m=je.useCallback(function(x){return typeof s=="function"?s(x):typeof s=="number"?s:x},[s]);function g(){wm.cancel(v.current)}return y.useEffect(function(){var x={};if(n)if(r){x.width=m(n.width);var _=i?"right":"left";u==="start"&&(x[_]=n[_]),u==="center"&&(x[_]=n[_]+n.width/2,x.transform=i?"translateX(50%)":"translateX(-50%)"),u==="end"&&(x[_]=n[_]+n.width,x.transform="translateX(-100%)")}else x.height=m(n.height),u==="start"&&(x.top=n.top),u==="center"&&(x.top=n.top+n.height/2,x.transform="translateY(-50%)"),u==="end"&&(x.top=n.top+n.height,x.transform="translateY(-100%)");return g(),v.current=wm(function(){h(x)}),g},[n,r,i,u,m]),{style:f}},wN={width:0,height:0,left:0,top:0};function hq(t,e,n){return y.useMemo(function(){for(var r,i=new Map,o=e.get((r=t[0])===null||r===void 0?void 0:r.key)||wN,a=o.left+o.width,s=0;s<t.length;s+=1){var l=t[s].key,u=e.get(l);if(!u){var c;u=e.get((c=t[s-1])===null||c===void 0?void 0:c.key)||wN}var d=i.get(l)||P({},u);d.right=a-d.left-d.width,i.set(l,d)}return i},[t.map(function(r){return r.key}).join("_"),e,n])}function EN(t,e){var n=y.useRef(t),r=y.useState({}),i=ht(r,2),o=i[1];function a(s){var l=typeof s=="function"?s(n.current):s;l!==n.current&&e(l,n.current),n.current=l,o({})}return[n.current,a]}var pq=.1,CN=.01,h_=20,TN=Math.pow(.995,h_);function vq(t,e){var n=y.useState(),r=ht(n,2),i=r[0],o=r[1],a=y.useState(0),s=ht(a,2),l=s[0],u=s[1],c=y.useState(0),d=ht(c,2),f=d[0],h=d[1],v=y.useState(),m=ht(v,2),g=m[0],x=m[1],_=y.useRef();function w(M){var D=M.touches[0],F=D.screenX,j=D.screenY;o({x:F,y:j}),window.clearInterval(_.current)}function S(M){if(i){var D=M.touches[0],F=D.screenX,j=D.screenY;o({x:F,y:j});var R=F-i.x,I=j-i.y;e(R,I);var L=Date.now();u(L),h(L-l),x({x:R,y:I})}}function C(){if(i&&(o(null),x(null),g)){var M=g.x/f,D=g.y/f,F=Math.abs(M),j=Math.abs(D);if(Math.max(F,j)<pq)return;var R=M,I=D;_.current=window.setInterval(function(){if(Math.abs(R)<CN&&Math.abs(I)<CN){window.clearInterval(_.current);return}R*=TN,I*=TN,e(R*h_,I*h_)},h_)}}var O=y.useRef();function T(M){var D=M.deltaX,F=M.deltaY,j=0,R=Math.abs(D),I=Math.abs(F);R===I?j=O.current==="x"?D:F:R>I?(j=D,O.current="x"):(j=F,O.current="y"),e(-j,-j)&&M.preventDefault()}var N=y.useRef(null);N.current={onTouchStart:w,onTouchMove:S,onTouchEnd:C,onWheel:T},y.useEffect(function(){function M(R){N.current.onTouchStart(R)}function D(R){N.current.onTouchMove(R)}function F(R){N.current.onTouchEnd(R)}function j(R){N.current.onWheel(R)}return document.addEventListener("touchmove",D,{passive:!1}),document.addEventListener("touchend",F,{passive:!0}),t.current.addEventListener("touchstart",M,{passive:!0}),t.current.addEventListener("wheel",j,{passive:!1}),function(){document.removeEventListener("touchmove",D),document.removeEventListener("touchend",F)}},[])}function G$(t){var e=y.useState(0),n=ht(e,2),r=n[0],i=n[1],o=y.useRef(0),a=y.useRef();return a.current=t,gX(function(){var s;(s=a.current)===null||s===void 0||s.call(a)},[r]),function(){o.current===r&&(o.current+=1,i(o.current))}}function mq(t){var e=y.useRef([]),n=y.useState({}),r=ht(n,2),i=r[1],o=y.useRef(typeof t=="function"?t():t),a=G$(function(){var l=o.current;e.current.forEach(function(u){l=u(l)}),e.current=[],o.current=l,i({})});function s(l){e.current.push(l),a()}return[o.current,s]}var RN={width:0,height:0,left:0,top:0,right:0};function gq(t,e,n,r,i,o,a){var s=a.tabs,l=a.tabPosition,u=a.rtl,c,d,f;return["top","bottom"].includes(l)?(c="width",d=u?"right":"left",f=Math.abs(n)):(c="height",d="top",f=-n),y.useMemo(function(){if(!s.length)return[0,0];for(var h=s.length,v=h,m=0;m<h;m+=1){var g=t.get(s[m].key)||RN;if(Math.floor(g[d]+g[c])>Math.floor(f+e)){v=m-1;break}}for(var x=0,_=h-1;_>=0;_-=1){var w=t.get(s[_].key)||RN;if(w[d]<f){x=_+1;break}}return x>=v?[0,0]:[x,v]},[t,e,r,i,o,f,l,s.map(function(h){return h.key}).join("_"),u])}function PN(t){var e;return t instanceof Map?(e={},t.forEach(function(n,r){e[r]=n})):e=t,JSON.stringify(e)}var yq="TABS_DQ";function W$(t){return String(t).replace(/"/g,yq)}function V$(t,e,n,r){return!(!n||r||t===!1||t===void 0&&(e===!1||e===null))}var X$=y.forwardRef(function(t,e){var n=t.prefixCls,r=t.editable,i=t.locale,o=t.style;return!r||r.showAdd===!1?null:y.createElement("button",{ref:e,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(i==null?void 0:i.addAriaLabel)||"Add tab",onClick:function(s){r.onEdit("add",{event:s})}},r.addIcon||"+")}),AN=y.forwardRef(function(t,e){var n=t.position,r=t.prefixCls,i=t.extra;if(!i)return null;var o,a={};return ur(i)==="object"&&!y.isValidElement(i)?a=i:a.right=i,n==="right"&&(o=a.right),n==="left"&&(o=a.left),o?y.createElement("div",{className:"".concat(r,"-extra-content"),ref:e},o):null}),bq=y.forwardRef(function(t,e){var n=t.prefixCls,r=t.id,i=t.tabs,o=t.locale,a=t.mobile,s=t.more,l=s===void 0?{}:s,u=t.style,c=t.className,d=t.editable,f=t.tabBarGutter,h=t.rtl,v=t.removeAriaLabel,m=t.onTabClick,g=t.getPopupContainer,x=t.popupClassName,_=y.useState(!1),w=ht(_,2),S=w[0],C=w[1],O=y.useState(null),T=ht(O,2),N=T[0],M=T[1],D=l.icon,F=D===void 0?"More":D,j="".concat(r,"-more-popup"),R="".concat(n,"-dropdown"),I=N!==null?"".concat(j,"-").concat(N):null,L=o==null?void 0:o.dropdownAriaLabel;function k(V,W){V.preventDefault(),V.stopPropagation(),d.onEdit("remove",{key:W,event:V})}var B=y.createElement(HX,{onClick:function(W){var te=W.key,K=W.domEvent;m(te,K),C(!1)},prefixCls:"".concat(R,"-menu"),id:j,tabIndex:-1,role:"listbox","aria-activedescendant":I,selectedKeys:[N],"aria-label":L!==void 0?L:"expanded dropdown"},i.map(function(V){var W=V.closable,te=V.disabled,K=V.closeIcon,U=V.key,ee=V.label,fe=V$(W,K,d,te);return y.createElement(UX,{key:U,id:"".concat(j,"-").concat(U),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(U),disabled:te},y.createElement("span",null,ee),fe&&y.createElement("button",{type:"button","aria-label":v||"remove",tabIndex:0,className:"".concat(R,"-menu-item-remove"),onClick:function(Ce){Ce.stopPropagation(),k(Ce,U)}},K||d.removeIcon||"×"))}));function q(V){for(var W=i.filter(function(fe){return!fe.disabled}),te=W.findIndex(function(fe){return fe.key===N})||0,K=W.length,U=0;U<K;U+=1){te=(te+V+K)%K;var ee=W[te];if(!ee.disabled){M(ee.key);return}}}function X(V){var W=V.which;if(!S){[$r.DOWN,$r.SPACE,$r.ENTER].includes(W)&&(C(!0),V.preventDefault());return}switch(W){case $r.UP:q(-1),V.preventDefault();break;case $r.DOWN:q(1),V.preventDefault();break;case $r.ESC:C(!1);break;case $r.SPACE:case $r.ENTER:N!==null&&m(N,V);break}}y.useEffect(function(){var V=document.getElementById(I);V&&V.scrollIntoView&&V.scrollIntoView(!1)},[N]),y.useEffect(function(){S||M(null)},[S]);var z=J({},h?"marginRight":"marginLeft",f);i.length||(z.visibility="hidden",z.order=1);var H=rt(J({},"".concat(R,"-rtl"),h)),Q=a?null:y.createElement(GX,Kn({prefixCls:R,overlay:B,visible:i.length?S:!1,onVisibleChange:C,overlayClassName:rt(H,x),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:g},l),y.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:z,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":j,id:"".concat(r,"-more"),"aria-expanded":S,onKeyDown:X},F));return y.createElement("div",{className:rt("".concat(n,"-nav-operations"),c),style:u,ref:e},Q,y.createElement(X$,{prefixCls:n,locale:o,editable:d}))});const xq=y.memo(bq,function(t,e){return e.tabMoving});var _q=function(e){var n=e.prefixCls,r=e.id,i=e.active,o=e.tab,a=o.key,s=o.label,l=o.disabled,u=o.closeIcon,c=o.icon,d=e.closable,f=e.renderWrapper,h=e.removeAriaLabel,v=e.editable,m=e.onClick,g=e.onFocus,x=e.style,_="".concat(n,"-tab"),w=V$(d,u,v,l);function S(N){l||m(N)}function C(N){N.preventDefault(),N.stopPropagation(),v.onEdit("remove",{key:a,event:N})}var O=y.useMemo(function(){return c&&typeof s=="string"?y.createElement("span",null,s):s},[s,c]),T=y.createElement("div",{key:a,"data-node-key":W$(a),className:rt(_,J(J(J({},"".concat(_,"-with-remove"),w),"".concat(_,"-active"),i),"".concat(_,"-disabled"),l)),style:x,onClick:S},y.createElement("div",{role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(a),className:"".concat(_,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(a),"aria-disabled":l,tabIndex:l?null:0,onClick:function(M){M.stopPropagation(),S(M)},onKeyDown:function(M){[$r.SPACE,$r.ENTER].includes(M.which)&&(M.preventDefault(),S(M))},onFocus:g},c&&y.createElement("span",{className:"".concat(_,"-icon")},c),s&&O),w&&y.createElement("button",{type:"button","aria-label":h||"remove",tabIndex:0,className:"".concat(_,"-remove"),onClick:function(M){M.stopPropagation(),C(M)}},u||v.removeIcon||"×"));return f?f(T):T},Sq=function(e,n){var r=e.offsetWidth,i=e.offsetHeight,o=e.offsetTop,a=e.offsetLeft,s=e.getBoundingClientRect(),l=s.width,u=s.height,c=s.left,d=s.top;return Math.abs(l-r)<1?[l,u,c-n.left,d-n.top]:[r,i,a,o]},Nv=function(e){var n=e.current||{},r=n.offsetWidth,i=r===void 0?0:r,o=n.offsetHeight,a=o===void 0?0:o;if(e.current){var s=e.current.getBoundingClientRect(),l=s.width,u=s.height;if(Math.abs(l-i)<1)return[l,u]}return[i,a]},sx=function(e,n){return e[n?0:1]},ON=y.forwardRef(function(t,e){var n=t.className,r=t.style,i=t.id,o=t.animated,a=t.activeKey,s=t.rtl,l=t.extra,u=t.editable,c=t.locale,d=t.tabPosition,f=t.tabBarGutter,h=t.children,v=t.onTabClick,m=t.onTabScroll,g=t.indicator,x=y.useContext(Sw),_=x.prefixCls,w=x.tabs,S=y.useRef(null),C=y.useRef(null),O=y.useRef(null),T=y.useRef(null),N=y.useRef(null),M=y.useRef(null),D=y.useRef(null),F=d==="top"||d==="bottom",j=EN(0,function(_e,Re){F&&m&&m({direction:_e>Re?"left":"right"})}),R=ht(j,2),I=R[0],L=R[1],k=EN(0,function(_e,Re){!F&&m&&m({direction:_e>Re?"top":"bottom"})}),B=ht(k,2),q=B[0],X=B[1],z=y.useState([0,0]),H=ht(z,2),Q=H[0],V=H[1],W=y.useState([0,0]),te=ht(W,2),K=te[0],U=te[1],ee=y.useState([0,0]),fe=ht(ee,2),ve=fe[0],Ce=fe[1],ue=y.useState([0,0]),we=ht(ue,2),pe=we[0],$e=we[1],Ne=mq(new Map),Le=ht(Ne,2),Ie=Le[0],Z=Le[1],ie=hq(w,Ie,K[0]),ne=sx(Q,F),Te=sx(K,F),$=sx(ve,F),se=sx(pe,F),re=Math.floor(ne)<Math.floor(Te+$),oe=re?ne-se:ne-$,ye="".concat(_,"-nav-operations-hidden"),xe=0,He=0;F&&s?(xe=0,He=Math.max(0,Te-oe)):(xe=Math.min(0,oe-Te),He=0);function Fe(_e){return _e<xe?xe:_e>He?He:_e}var Ve=y.useRef(null),qe=y.useState(),vt=ht(qe,2),tt=vt[0],pt=vt[1];function Ht(){pt(Date.now())}function Lt(){Ve.current&&clearTimeout(Ve.current)}vq(T,function(_e,Re){function ae(Ee,be){Ee(function(Ke){var lt=Fe(Ke+be);return lt})}return re?(F?ae(L,_e):ae(X,Re),Lt(),Ht(),!0):!1}),y.useEffect(function(){return Lt(),tt&&(Ve.current=setTimeout(function(){pt(0)},100)),Lt},[tt]);var hn=gq(ie,oe,F?I:q,Te,$,se,P(P({},t),{},{tabs:w})),On=ht(hn,2),Yn=On[0],kn=On[1],bn=tl(function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a,Re=ie.get(_e)||{width:0,height:0,left:0,right:0,top:0};if(F){var ae=I;s?Re.right<I?ae=Re.right:Re.right+Re.width>I+oe&&(ae=Re.right+Re.width-oe):Re.left<-I?ae=-Re.left:Re.left+Re.width>-I+oe&&(ae=-(Re.left+Re.width-oe)),X(0),L(Fe(ae))}else{var Ee=q;Re.top<-q?Ee=-Re.top:Re.top+Re.height>-q+oe&&(Ee=-(Re.top+Re.height-oe)),L(0),X(Fe(Ee))}}),Sn={};d==="top"||d==="bottom"?Sn[s?"marginRight":"marginLeft"]=f:Sn.marginTop=f;var qn=w.map(function(_e,Re){var ae=_e.key;return y.createElement(_q,{id:i,prefixCls:_,key:ae,tab:_e,style:Re===0?void 0:Sn,closable:_e.closable,editable:u,active:ae===a,renderWrapper:h,removeAriaLabel:c==null?void 0:c.removeAriaLabel,onClick:function(be){v(ae,be)},onFocus:function(){bn(ae),Ht(),T.current&&(s||(T.current.scrollLeft=0),T.current.scrollTop=0)}})}),it=function(){return Z(function(){var Re,ae=new Map,Ee=(Re=N.current)===null||Re===void 0?void 0:Re.getBoundingClientRect();return w.forEach(function(be){var Ke,lt=be.key,dt=(Ke=N.current)===null||Ke===void 0?void 0:Ke.querySelector('[data-node-key="'.concat(W$(lt),'"]'));if(dt){var Je=Sq(dt,Ee),Tt=ht(Je,4),un=Tt[0],En=Tt[1],ce=Tt[2],Xe=Tt[3];ae.set(lt,{width:un,height:En,left:ce,top:Xe})}}),ae})};y.useEffect(function(){it()},[w.map(function(_e){return _e.key}).join("_")]);var It=G$(function(){var _e=Nv(S),Re=Nv(C),ae=Nv(O);V([_e[0]-Re[0]-ae[0],_e[1]-Re[1]-ae[1]]);var Ee=Nv(D);Ce(Ee);var be=Nv(M);$e(be);var Ke=Nv(N);U([Ke[0]-Ee[0],Ke[1]-Ee[1]]),it()}),Jt=w.slice(0,Yn),dn=w.slice(kn+1),Hn=[].concat(_n(Jt),_n(dn)),Bn=ie.get(a),kt=fq({activeTabOffset:Bn,horizontal:F,indicator:g,rtl:s}),Yt=kt.style;y.useEffect(function(){bn()},[a,xe,He,PN(Bn),PN(ie),F]),y.useEffect(function(){It()},[s]);var An=!!Hn.length,Sr="".concat(_,"-nav-wrap"),ai,tr,si,xn;return F?s?(tr=I>0,ai=I!==He):(ai=I<0,tr=I!==xe):(si=q<0,xn=q!==xe),y.createElement(Td,{onResize:It},y.createElement("div",{ref:jk(e,S),role:"tablist",className:rt("".concat(_,"-nav"),n),style:r,onKeyDown:function(){Ht()}},y.createElement(AN,{ref:C,position:"left",extra:l,prefixCls:_}),y.createElement(Td,{onResize:It},y.createElement("div",{className:rt(Sr,J(J(J(J({},"".concat(Sr,"-ping-left"),ai),"".concat(Sr,"-ping-right"),tr),"".concat(Sr,"-ping-top"),si),"".concat(Sr,"-ping-bottom"),xn)),ref:T},y.createElement(Td,{onResize:It},y.createElement("div",{ref:N,className:"".concat(_,"-nav-list"),style:{transform:"translate(".concat(I,"px, ").concat(q,"px)"),transition:tt?"none":void 0}},qn,y.createElement(X$,{ref:D,prefixCls:_,locale:c,editable:u,style:P(P({},qn.length===0?void 0:Sn),{},{visibility:An?"hidden":null})}),y.createElement("div",{className:rt("".concat(_,"-ink-bar"),J({},"".concat(_,"-ink-bar-animated"),o.inkBar)),style:Yt}))))),y.createElement(xq,Kn({},t,{removeAriaLabel:c==null?void 0:c.removeAriaLabel,ref:M,prefixCls:_,tabs:Hn,className:!An&&ye,tabMoving:!!tt})),y.createElement(AN,{ref:O,position:"right",extra:l,prefixCls:_})))}),K$=y.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.id,a=t.active,s=t.tabKey,l=t.children;return y.createElement("div",{id:o&&"".concat(o,"-panel-").concat(s),role:"tabpanel",tabIndex:a?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(s),"aria-hidden":!a,style:i,className:rt(n,a&&"".concat(n,"-active"),r),ref:e},l)}),wq=["renderTabBar"],Eq=["label","key"],Cq=function(e){var n=e.renderTabBar,r=Nn(e,wq),i=y.useContext(Sw),o=i.tabs;if(n){var a=P(P({},r),{},{panes:o.map(function(s){var l=s.label,u=s.key,c=Nn(s,Eq);return y.createElement(K$,Kn({tab:l,key:u,tabKey:u},c))})});return n(a,ON)}return y.createElement(ON,r)},Tq=["key","forceRender","style","className","destroyInactiveTabPane"],Rq=function(e){var n=e.id,r=e.activeKey,i=e.animated,o=e.tabPosition,a=e.destroyInactiveTabPane,s=y.useContext(Sw),l=s.prefixCls,u=s.tabs,c=i.tabPane,d="".concat(l,"-tabpane");return y.createElement("div",{className:rt("".concat(l,"-content-holder"))},y.createElement("div",{className:rt("".concat(l,"-content"),"".concat(l,"-content-").concat(o),J({},"".concat(l,"-content-animated"),c))},u.map(function(f){var h=f.key,v=f.forceRender,m=f.style,g=f.className,x=f.destroyInactiveTabPane,_=Nn(f,Tq),w=h===r;return y.createElement(k_,Kn({key:h,visible:w,forceRender:v,removeOnLeave:!!(a||x),leavedClassName:"".concat(d,"-hidden")},i.tabPaneMotion),function(S,C){var O=S.style,T=S.className;return y.createElement(K$,Kn({},_,{prefixCls:d,id:n,tabKey:h,animated:c,active:w,style:P(P({},m),O),className:rt(g,T),ref:C}))})})))};function Pq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},e;return t===!1?e={inkBar:!1,tabPane:!1}:t===!0?e={inkBar:!0,tabPane:!1}:e=P({inkBar:!0},ur(t)==="object"?t:{}),e.tabPaneMotion&&e.tabPane===void 0&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}var Aq=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],NN=0,Oq=y.forwardRef(function(t,e){var n=t.id,r=t.prefixCls,i=r===void 0?"rc-tabs":r,o=t.className,a=t.items,s=t.direction,l=t.activeKey,u=t.defaultActiveKey,c=t.editable,d=t.animated,f=t.tabPosition,h=f===void 0?"top":f,v=t.tabBarGutter,m=t.tabBarStyle,g=t.tabBarExtraContent,x=t.locale,_=t.more,w=t.destroyInactiveTabPane,S=t.renderTabBar,C=t.onChange,O=t.onTabClick,T=t.onTabScroll,N=t.getPopupContainer,M=t.popupClassName,D=t.indicator,F=Nn(t,Aq),j=y.useMemo(function(){return(a||[]).filter(function(pe){return pe&&ur(pe)==="object"&&"key"in pe})},[a]),R=s==="rtl",I=Pq(d),L=y.useState(!1),k=ht(L,2),B=k[0],q=k[1];y.useEffect(function(){q(WX())},[]);var X=Gr(function(){var pe;return(pe=j[0])===null||pe===void 0?void 0:pe.key},{value:l,defaultValue:u}),z=ht(X,2),H=z[0],Q=z[1],V=y.useState(function(){return j.findIndex(function(pe){return pe.key===H})}),W=ht(V,2),te=W[0],K=W[1];y.useEffect(function(){var pe=j.findIndex(function(Ne){return Ne.key===H});if(pe===-1){var $e;pe=Math.max(0,Math.min(te,j.length-1)),Q(($e=j[pe])===null||$e===void 0?void 0:$e.key)}K(pe)},[j.map(function(pe){return pe.key}).join("_"),H,te]);var U=Gr(null,{value:n}),ee=ht(U,2),fe=ee[0],ve=ee[1];y.useEffect(function(){n||(ve("rc-tabs-".concat(NN)),NN+=1)},[]);function Ce(pe,$e){O==null||O(pe,$e);var Ne=pe!==H;Q(pe),Ne&&(C==null||C(pe))}var ue={id:fe,activeKey:H,animated:I,tabPosition:h,rtl:R,mobile:B},we=P(P({},ue),{},{editable:c,locale:x,more:_,tabBarGutter:v,onTabClick:Ce,onTabScroll:T,extra:g,style:m,panes:null,getPopupContainer:N,popupClassName:M,indicator:D});return y.createElement(Sw.Provider,{value:{tabs:j,prefixCls:i}},y.createElement("div",Kn({ref:e,id:n,className:rt(i,"".concat(i,"-").concat(h),J(J(J({},"".concat(i,"-mobile"),B),"".concat(i,"-editable"),c),"".concat(i,"-rtl"),R),o)},F),y.createElement(Cq,Kn({},we,{renderTabBar:S})),y.createElement(Rq,Kn({destroyInactiveTabPane:w},ue,{animated:I}))))});const Nq={motionAppear:!1,motionEnter:!0,motionLeave:!0};function Mq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},n;return e===!1?n={inkBar:!1,tabPane:!1}:e===!0?n={inkBar:!0,tabPane:!0}:n=Object.assign({inkBar:!0},typeof e=="object"?e:{}),n.tabPane&&(n.tabPaneMotion=Object.assign(Object.assign({},Nq),{motionName:vp(t,"switch")})),n}var Iq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Dq(t){return t.filter(e=>e)}function Lq(t,e){if(t)return t;const n=_c(e).map(r=>{if(y.isValidElement(r)){const{key:i,props:o}=r,a=o||{},{tab:s}=a,l=Iq(a,["tab"]);return Object.assign(Object.assign({key:String(i)},l),{label:s})}return null});return Dq(n)}const kq=t=>{const{componentCls:e,motionDurationSlow:n}=t;return[{[e]:{[`${e}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[fN(t,"slide-up"),fN(t,"slide-down")]]},$q=t=>{const{componentCls:e,tabsCardPadding:n,cardBg:r,cardGutter:i,colorBorderSecondary:o,itemSelectedColor:a}=t;return{[`${e}-card`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{margin:0,padding:n,background:r,border:`${bt(t.lineWidth)} ${t.lineType} ${o}`,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOut}`},[`${e}-tab-active`]:{color:a,background:t.colorBgContainer},[`${e}-ink-bar`]:{visibility:"hidden"}},[`&${e}-top, &${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginLeft:{_skip_check_:!0,value:bt(i)}}}},[`&${e}-top`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`${bt(t.borderRadiusLG)} ${bt(t.borderRadiusLG)} 0 0`},[`${e}-tab-active`]:{borderBottomColor:t.colorBgContainer}}},[`&${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`0 0 ${bt(t.borderRadiusLG)} ${bt(t.borderRadiusLG)}`},[`${e}-tab-active`]:{borderTopColor:t.colorBgContainer}}},[`&${e}-left, &${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginTop:bt(i)}}},[`&${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${bt(t.borderRadiusLG)} 0 0 ${bt(t.borderRadiusLG)}`}},[`${e}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:t.colorBgContainer}}}},[`&${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${bt(t.borderRadiusLG)} ${bt(t.borderRadiusLG)} 0`}},[`${e}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:t.colorBgContainer}}}}}}},Fq=t=>{const{componentCls:e,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=t;return{[`${e}-dropdown`]:Object.assign(Object.assign({},xc(t)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:t.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:t.tabsDropdownHeight,margin:0,padding:`${bt(r)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:t.colorBgContainer,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,"&-item":Object.assign(Object.assign({},uw),{display:"flex",alignItems:"center",minWidth:t.tabsDropdownWidth,margin:0,padding:`${bt(t.paddingXXS)} ${bt(t.paddingSM)}`,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:t.marginSM},color:t.colorTextDescription,fontSize:t.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:t.controlItemBgHover},"&-disabled":{"&, &:hover":{color:t.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},jq=t=>{const{componentCls:e,margin:n,colorBorderSecondary:r,horizontalMargin:i,verticalItemPadding:o,verticalItemMargin:a,calc:s}=t;return{[`${e}-top, ${e}-bottom`]:{flexDirection:"column",[`> ${e}-nav, > div > ${e}-nav`]:{margin:i,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${bt(t.lineWidth)} ${t.lineType} ${r}`,content:"''"},[`${e}-ink-bar`]:{height:t.lineWidthBold,"&-animated":{transition:`width ${t.motionDurationSlow}, left ${t.motionDurationSlow},
            right ${t.motionDurationSlow}`}},[`${e}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:t.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowRight},[`&${e}-nav-wrap-ping-left::before`]:{opacity:1},[`&${e}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${e}-top`]:{[`> ${e}-nav,
        > div > ${e}-nav`]:{"&::before":{bottom:0},[`${e}-ink-bar`]:{bottom:0}}},[`${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},[`${e}-ink-bar`]:{top:0}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0}},[`${e}-left, ${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{flexDirection:"column",minWidth:s(t.controlHeight).mul(1.25).equal(),[`${e}-tab`]:{padding:o,textAlign:"center"},[`${e}-tab + ${e}-tab`]:{margin:a},[`${e}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:t.controlHeight},"&::before":{top:0,boxShadow:t.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:t.boxShadowTabsOverflowBottom},[`&${e}-nav-wrap-ping-top::before`]:{opacity:1},[`&${e}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${e}-ink-bar`]:{width:t.lineWidthBold,"&-animated":{transition:`height ${t.motionDurationSlow}, top ${t.motionDurationSlow}`}},[`${e}-nav-list, ${e}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{marginLeft:{_skip_check_:!0,value:bt(s(t.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${bt(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:t.paddingLG}}}},[`${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,[`${e}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:s(t.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${bt(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingRight:{_skip_check_:!0,value:t.paddingLG}}}}}},Bq=t=>{const{componentCls:e,cardPaddingSM:n,cardPaddingLG:r,horizontalItemPaddingSM:i,horizontalItemPaddingLG:o}=t;return{[e]:{"&-small":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:i,fontSize:t.titleFontSizeSM}}},"&-large":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:o,fontSize:t.titleFontSizeLG}}}},[`${e}-card`]:{[`&${e}-small`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:n}},[`&${e}-bottom`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`0 0 ${bt(t.borderRadius)} ${bt(t.borderRadius)}`}},[`&${e}-top`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`${bt(t.borderRadius)} ${bt(t.borderRadius)} 0 0`}},[`&${e}-right`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${bt(t.borderRadius)} ${bt(t.borderRadius)} 0`}}},[`&${e}-left`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${bt(t.borderRadius)} 0 0 ${bt(t.borderRadius)}`}}}},[`&${e}-large`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:r}}}}}},zq=t=>{const{componentCls:e,itemActiveColor:n,itemHoverColor:r,iconCls:i,tabsHorizontalItemMargin:o,horizontalItemPadding:a,itemSelectedColor:s,itemColor:l}=t,u=`${e}-tab`;return{[u]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:a,fontSize:t.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:l,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:n}},cw(t)),"&-btn":{outline:"none",transition:`all ${t.motionDurationSlow}`,[`${u}-icon:not(:last-child)`]:{marginInlineEnd:t.marginSM}},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:t.calc(t.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:t.marginXS},color:t.colorTextDescription,fontSize:t.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextHeading}},"&:hover":{color:r},[`&${u}-active ${u}-btn`]:{color:s,textShadow:t.tabsActiveTextShadow},[`&${u}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed"},[`&${u}-disabled ${u}-btn, &${u}-disabled ${e}-remove`]:{"&:focus, &:active":{color:t.colorTextDisabled}},[`& ${u}-remove ${i}`]:{margin:0},[`${i}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:t.marginSM}}},[`${u} + ${u}`]:{margin:{_skip_check_:!0,value:o}}}},Hq=t=>{const{componentCls:e,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:i,calc:o}=t;return{[`${e}-rtl`]:{direction:"rtl",[`${e}-nav`]:{[`${e}-tab`]:{margin:{_skip_check_:!0,value:n},[`${e}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:bt(t.marginSM)}},[`${e}-tab-remove`]:{marginRight:{_skip_check_:!0,value:bt(t.marginXS)},marginLeft:{_skip_check_:!0,value:bt(o(t.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},[`&${e}-left`]:{[`> ${e}-nav`]:{order:1},[`> ${e}-content-holder`]:{order:0}},[`&${e}-right`]:{[`> ${e}-nav`]:{order:0},[`> ${e}-content-holder`]:{order:1}},[`&${e}-card${e}-top, &${e}-card${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginRight:{_skip_check_:!0,value:i},marginLeft:{_skip_check_:!0,value:0}}}}},[`${e}-dropdown-rtl`]:{direction:"rtl"},[`${e}-menu-item`]:{[`${e}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},Uq=t=>{const{componentCls:e,tabsCardPadding:n,cardHeight:r,cardGutter:i,itemHoverColor:o,itemActiveColor:a,colorBorderSecondary:s}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},xc(t)),{display:"flex",[`> ${e}-nav, > div > ${e}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${e}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${t.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${e}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${t.motionDurationSlow}`},[`${e}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${e}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${e}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,color:t.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:t.calc(t.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${e}-nav-add`]:Object.assign({minWidth:r,minHeight:r,marginLeft:{_skip_check_:!0,value:i},padding:`0 ${bt(t.paddingXS)}`,background:"transparent",border:`${bt(t.lineWidth)} ${t.lineType} ${s}`,borderRadius:`${bt(t.borderRadiusLG)} ${bt(t.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:t.colorText,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:a}},cw(t))},[`${e}-extra-content`]:{flex:"none"},[`${e}-ink-bar`]:{position:"absolute",background:t.inkBarColor,pointerEvents:"none"}}),zq(t)),{[`${e}-content`]:{position:"relative",width:"100%"},[`${e}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${e}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${e}-centered`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-nav-wrap`]:{[`&:not([class*='${e}-nav-wrap-ping']) > ${e}-nav-list`]:{margin:"auto"}}}}}},Gq=t=>{const e=t.controlHeightLG;return{zIndexPopup:t.zIndexPopupBase+50,cardBg:t.colorFillAlter,cardHeight:e,cardPadding:`${(e-Math.round(t.fontSize*t.lineHeight))/2-t.lineWidth}px ${t.padding}px`,cardPaddingSM:`${t.paddingXXS*1.5}px ${t.padding}px`,cardPaddingLG:`${t.paddingXS}px ${t.padding}px ${t.paddingXXS*1.5}px`,titleFontSize:t.fontSize,titleFontSizeLG:t.fontSizeLG,titleFontSizeSM:t.fontSize,inkBarColor:t.colorPrimary,horizontalMargin:`0 0 ${t.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${t.paddingSM}px 0`,horizontalItemPaddingSM:`${t.paddingXS}px 0`,horizontalItemPaddingLG:`${t.padding}px 0`,verticalItemPadding:`${t.paddingXS}px ${t.paddingLG}px`,verticalItemMargin:`${t.margin}px 0 0 0`,itemColor:t.colorText,itemSelectedColor:t.colorPrimary,itemHoverColor:t.colorPrimaryHover,itemActiveColor:t.colorPrimaryActive,cardGutter:t.marginXXS/2}},Wq=ol("Tabs",t=>{const e=Pu(t,{tabsCardPadding:t.cardPadding,dropdownEdgeChildVerticalPadding:t.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${bt(t.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${bt(t.horizontalItemGutter)}`});return[Bq(e),Hq(e),jq(e),Fq(e),$q(e),Uq(e),kq(e)]},Gq),Vq=()=>null;var Xq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Gf=t=>{var e,n,r,i,o,a,s,l,u,c,d;const{type:f,className:h,rootClassName:v,size:m,onEdit:g,hideAdd:x,centered:_,addIcon:w,removeIcon:S,moreIcon:C,more:O,popupClassName:T,children:N,items:M,animated:D,style:F,indicatorSize:j,indicator:R}=t,I=Xq(t,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:L}=I,{direction:k,tabs:B,getPrefixCls:q,getPopupContainer:X}=y.useContext(Uo),z=q("tabs",L),H=Od(z),[Q,V,W]=Wq(z,H);let te;f==="editable-card"&&(te={onEdit:(ue,we)=>{let{key:pe,event:$e}=we;g==null||g(ue==="add"?$e:pe,ue)},removeIcon:(e=S??(B==null?void 0:B.removeIcon))!==null&&e!==void 0?e:y.createElement(Vk,null),addIcon:(w??(B==null?void 0:B.addIcon))||y.createElement(PP,null),showAdd:x!==!0});const K=q(),U=Dp(m),ee=Lq(M,N),fe=Mq(z,D),ve=Object.assign(Object.assign({},B==null?void 0:B.style),F),Ce={align:(n=R==null?void 0:R.align)!==null&&n!==void 0?n:(r=B==null?void 0:B.indicator)===null||r===void 0?void 0:r.align,size:(s=(o=(i=R==null?void 0:R.size)!==null&&i!==void 0?i:j)!==null&&o!==void 0?o:(a=B==null?void 0:B.indicator)===null||a===void 0?void 0:a.size)!==null&&s!==void 0?s:B==null?void 0:B.indicatorSize};return Q(y.createElement(Oq,Object.assign({direction:k,getPopupContainer:X},I,{items:ee,className:rt({[`${z}-${U}`]:U,[`${z}-card`]:["card","editable-card"].includes(f),[`${z}-editable-card`]:f==="editable-card",[`${z}-centered`]:_},B==null?void 0:B.className,h,v,V,W,H),popupClassName:rt(T,V,W,H),style:ve,editable:te,more:Object.assign({icon:(d=(c=(u=(l=B==null?void 0:B.more)===null||l===void 0?void 0:l.icon)!==null&&u!==void 0?u:B==null?void 0:B.moreIcon)!==null&&c!==void 0?c:C)!==null&&d!==void 0?d:y.createElement(VX,null),transitionName:`${K}-slide-up`},O),prefixCls:z,animated:fe,indicator:Ce})))};Gf.TabPane=Vq;var og=y.createContext({}),vm="__rc_cascader_search_mark__",Kq=function(e,n,r){var i=r.label,o=i===void 0?"":i;return n.some(function(a){return String(a[o]).toLowerCase().includes(e.toLowerCase())})},Yq=function(e,n,r,i){return n.map(function(o){return o[i.label]}).join(" / ")},qq=function(e,n,r,i,o,a){var s=o.filter,l=s===void 0?Kq:s,u=o.render,c=u===void 0?Yq:u,d=o.limit,f=d===void 0?50:d,h=o.sort;return y.useMemo(function(){var v=[];if(!e)return[];function m(g,x){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;g.forEach(function(w){if(!(!h&&f!==!1&&f>0&&v.length>=f)){var S=[].concat(_n(x),[w]),C=w[r.children],O=_||w.disabled;if((!C||C.length===0||a)&&l(e,S,{label:r.label})){var T;v.push(P(P({},w),{},(T={disabled:O},J(T,r.label,c(e,S,i,r)),J(T,vm,S),J(T,r.children,void 0),T)))}C&&m(w[r.children],S,O)}})}return m(n,[]),h&&v.sort(function(g,x){return h(g[vm],x[vm],e,r)}),f!==!1&&f>0?v.slice(0,f):v},[e,n,r,i,c,a,l,h,f])},BP="__RC_CASCADER_SPLIT__",Y$="SHOW_PARENT",q$="SHOW_CHILD";function gu(t){return t.join(BP)}function Pm(t){return t.map(gu)}function Zq(t){return t.split(BP)}function Z$(t){var e=t||{},n=e.label,r=e.value,i=e.children,o=r||"value";return{label:n||"label",value:o,key:o,children:i||"children"}}function ey(t,e){var n,r;return(n=t.isLeaf)!==null&&n!==void 0?n:!((r=t[e.children])!==null&&r!==void 0&&r.length)}function Jq(t){var e=t.parentElement;if(e){var n=t.offsetTop-e.offsetTop;n-e.scrollTop<0?e.scrollTo({top:n}):n+t.offsetHeight-e.scrollTop>e.offsetHeight&&e.scrollTo({top:n+t.offsetHeight-e.offsetHeight})}}function J$(t,e){return t.map(function(n){var r;return(r=n[vm])===null||r===void 0?void 0:r.map(function(i){return i[e.value]})})}function Qq(t){return Array.isArray(t)&&Array.isArray(t[0])}function z_(t){return t?Qq(t)?t:(t.length===0?[]:[t]).map(function(e){return Array.isArray(e)?e:[e]}):[]}function Q$(t,e,n){var r=new Set(t),i=e();return t.filter(function(o){var a=i[o],s=a?a.parent:null,l=a?a.children:null;return a&&a.node.disabled?!0:n===q$?!(l&&l.some(function(u){return u.key&&r.has(u.key)})):!(s&&!s.node.disabled&&r.has(s.key))})}function Am(t,e,n){for(var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=e,o=[],a=function(){var u,c,d,f=t[s],h=(u=i)===null||u===void 0?void 0:u.findIndex(function(m){var g=m[n.value];return r?String(g)===String(f):g===f}),v=h!==-1?(c=i)===null||c===void 0?void 0:c[h]:null;o.push({value:(d=v==null?void 0:v[n.value])!==null&&d!==void 0?d:f,index:h,option:v}),i=v==null?void 0:v[n.children]},s=0;s<t.length;s+=1)a();return o}const eZ=function(t,e,n,r,i){return y.useMemo(function(){var o=i||function(a){var s=r?a.slice(-1):a,l=" / ";return s.every(function(u){return["string","number"].includes(ur(u))})?s.join(l):s.reduce(function(u,c,d){var f=y.isValidElement(c)?y.cloneElement(c,{key:d}):c;return d===0?[f]:[].concat(_n(u),[l,f])},[])};return t.map(function(a){var s,l=Am(a,e,n),u=o(l.map(function(d){var f,h=d.option,v=d.value;return(f=h==null?void 0:h[n.label])!==null&&f!==void 0?f:v}),l.map(function(d){var f=d.option;return f})),c=gu(a);return{label:u,value:c,key:c,valueCells:a,disabled:(s=l[l.length-1])===null||s===void 0||(s=s.option)===null||s===void 0?void 0:s.disabled}})},[t,e,n,i,r])};function eF(t,e){return y.useCallback(function(n){var r=[],i=[];return n.forEach(function(o){var a=Am(o,t,e);a.every(function(s){return s.option})?i.push(o):r.push(o)}),[i,r]},[t,e])}const tZ=function(t,e){var n=y.useRef({options:[],info:{keyEntities:{},pathKeyEntities:{}}}),r=y.useCallback(function(){return n.current.options!==t&&(n.current.options=t,n.current.info=AP(t,{fieldNames:e,initWrapper:function(o){return P(P({},o),{},{pathKeyEntities:{}})},processEntity:function(o,a){var s=o.nodes.map(function(l){return l[e.value]}).join(BP);a.pathKeyEntities[s]=o,o.key=s}})),n.current.info.pathKeyEntities},[e,t]);return r};function tF(t,e){var n=y.useMemo(function(){return e||[]},[e]),r=tZ(n,t),i=y.useCallback(function(o){var a=r();return o.map(function(s){var l=a[s].nodes;return l.map(function(u){return u[t.value]})})},[r,t]);return[n,r,i]}function nZ(t){return y.useMemo(function(){if(!t)return[!1,{}];var e={matchInputWidth:!0,limit:50};return t&&ur(t)==="object"&&(e=P(P({},e),t)),e.limit<=0&&(e.limit=!1),[!0,e]},[t])}function nF(t,e,n,r,i,o,a,s){return function(l){if(!t)e(l);else{var u=gu(l),c=Pm(n),d=Pm(r),f=c.includes(u),h=i.some(function(O){return gu(O)===u}),v=n,m=i;if(h&&!f)m=i.filter(function(O){return gu(O)!==u});else{var g=f?c.filter(function(O){return O!==u}):[].concat(_n(c),[u]),x=o(),_;if(f){var w=Rd(g,{checked:!1,halfCheckedKeys:d},x);_=w.checkedKeys}else{var S=Rd(g,!0,x);_=S.checkedKeys}var C=Q$(_,o,s);v=a(C)}e([].concat(_n(m),_n(v)))}}}function rF(t,e,n,r,i){return y.useMemo(function(){var o=i(e),a=ht(o,2),s=a[0],l=a[1];if(!t||!e.length)return[s,[],l];var u=Pm(s),c=n(),d=Rd(u,!0,c),f=d.checkedKeys,h=d.halfCheckedKeys;return[r(f),r(h),l]},[t,e,n,r,i])}var rZ=y.memo(function(t){var e=t.children;return e},function(t,e){return!e.open});function iZ(t){var e,n=t.prefixCls,r=t.checked,i=t.halfChecked,o=t.disabled,a=t.onClick,s=t.disableCheckbox,l=y.useContext(og),u=l.checkable,c=typeof u!="boolean"?u:null;return y.createElement("span",{className:rt("".concat(n),(e={},J(e,"".concat(n,"-checked"),r),J(e,"".concat(n,"-indeterminate"),!r&&i),J(e,"".concat(n,"-disabled"),o||s),e)),onClick:a},c)}var iF="__cascader_fix_label__";function oZ(t){var e=t.prefixCls,n=t.multiple,r=t.options,i=t.activeValue,o=t.prevValuePath,a=t.onToggleOpen,s=t.onSelect,l=t.onActive,u=t.checkedSet,c=t.halfCheckedSet,d=t.loadingKeys,f=t.isSelectable,h=t.disabled,v="".concat(e,"-menu"),m="".concat(e,"-menu-item"),g=y.useContext(og),x=g.fieldNames,_=g.changeOnSelect,w=g.expandTrigger,S=g.expandIcon,C=g.loadingIcon,O=g.dropdownMenuColumnStyle,T=g.optionRender,N=w==="hover",M=function(j){return h||j},D=y.useMemo(function(){return r.map(function(F){var j,R=F.disabled,I=F.disableCheckbox,L=F[vm],k=(j=F[iF])!==null&&j!==void 0?j:F[x.label],B=F[x.value],q=ey(F,x),X=L?L.map(function(W){return W[x.value]}):[].concat(_n(o),[B]),z=gu(X),H=d.includes(z),Q=u.has(z),V=c.has(z);return{disabled:R,label:k,value:B,isLeaf:q,isLoading:H,checked:Q,halfChecked:V,option:F,disableCheckbox:I,fullPath:X,fullPathKey:z}})},[r,u,x,c,d,o]);return y.createElement("ul",{className:v,role:"menu"},D.map(function(F){var j,R=F.disabled,I=F.label,L=F.value,k=F.isLeaf,B=F.isLoading,q=F.checked,X=F.halfChecked,z=F.option,H=F.fullPath,Q=F.fullPathKey,V=F.disableCheckbox,W=function(){if(!M(R)){var ee=_n(H);N&&k&&ee.pop(),l(ee)}},te=function(){f(z)&&!M(R)&&s(H,k)},K;return typeof z.title=="string"?K=z.title:typeof I=="string"&&(K=I),y.createElement("li",{key:Q,className:rt(m,(j={},J(j,"".concat(m,"-expand"),!k),J(j,"".concat(m,"-active"),i===L||i===Q),J(j,"".concat(m,"-disabled"),M(R)),J(j,"".concat(m,"-loading"),B),j)),style:O,role:"menuitemcheckbox",title:K,"aria-checked":q,"data-path-key":Q,onClick:function(){W(),!V&&(!n||k)&&te()},onDoubleClick:function(){_&&a(!1)},onMouseEnter:function(){N&&W()},onMouseDown:function(ee){ee.preventDefault()}},n&&y.createElement(iZ,{prefixCls:"".concat(e,"-checkbox"),checked:q,halfChecked:X,disabled:M(R)||V,disableCheckbox:V,onClick:function(ee){V||(ee.stopPropagation(),te())}}),y.createElement("div",{className:"".concat(m,"-content")},T?T(z):I),!B&&S&&!k&&y.createElement("div",{className:"".concat(m,"-expand-icon")},S),B&&C&&y.createElement("div",{className:"".concat(m,"-loading-icon")},C))}))}var aZ=function(e,n){var r=y.useContext(og),i=r.values,o=i[0],a=y.useState([]),s=ht(a,2),l=s[0],u=s[1];return y.useEffect(function(){e||u(o||[])},[n,o]),[l,u]};const sZ=function(t,e,n,r,i,o,a){var s=a.direction,l=a.searchValue,u=a.toggleOpen,c=a.open,d=s==="rtl",f=y.useMemo(function(){for(var O=-1,T=e,N=[],M=[],D=r.length,F=J$(e,n),j=function(B){var q=T.findIndex(function(X,z){return(F[z]?gu(F[z]):X[n.value])===r[B]});if(q===-1)return 1;O=q,N.push(O),M.push(r[B]),T=T[O][n.children]},R=0;R<D&&T&&!j(R);R+=1);for(var I=e,L=0;L<N.length-1;L+=1)I=I[N[L]][n.children];return[M,O,I,F]},[r,n,e]),h=ht(f,4),v=h[0],m=h[1],g=h[2],x=h[3],_=function(T){i(T)},w=function(T){var N=g.length,M=m;M===-1&&T<0&&(M=N);for(var D=0;D<N;D+=1){M=(M+T+N)%N;var F=g[M];if(F&&!F.disabled){var j=v.slice(0,-1).concat(x[M]?gu(x[M]):F[n.value]);_(j);return}}},S=function(){if(v.length>1){var T=v.slice(0,-1);_(T)}else u(!1)},C=function(){var T,N=((T=g[m])===null||T===void 0?void 0:T[n.children])||[],M=N.find(function(F){return!F.disabled});if(M){var D=[].concat(_n(v),[M[n.value]]);_(D)}};y.useImperativeHandle(t,function(){return{onKeyDown:function(T){var N=T.which;switch(N){case $r.UP:case $r.DOWN:{var M=0;N===$r.UP?M=-1:N===$r.DOWN&&(M=1),M!==0&&w(M);break}case $r.LEFT:{if(l)break;d?C():S();break}case $r.RIGHT:{if(l)break;d?S():C();break}case $r.BACKSPACE:{l||S();break}case $r.ENTER:{if(v.length){var D=g[m],F=(D==null?void 0:D[vm])||[];F.length?o(F.map(function(j){return j[n.value]}),F[F.length-1]):o(v,g[m])}break}case $r.ESC:u(!1),c&&T.stopPropagation()}},onKeyUp:function(){}}})};var oF=y.forwardRef(function(t,e){var n,r,i,o=t.prefixCls,a=t.multiple,s=t.searchValue,l=t.toggleOpen,u=t.notFoundContent,c=t.direction,d=t.open,f=t.disabled,h=y.useRef(null),v=c==="rtl",m=y.useContext(og),g=m.options,x=m.values,_=m.halfValues,w=m.fieldNames,S=m.changeOnSelect,C=m.onSelect,O=m.searchOptions,T=m.dropdownPrefixCls,N=m.loadData,M=m.expandTrigger,D=T||o,F=y.useState([]),j=ht(F,2),R=j[0],I=j[1],L=function(pe){if(!(!N||s)){var $e=Am(pe,g,w),Ne=$e.map(function(Z){var ie=Z.option;return ie}),Le=Ne[Ne.length-1];if(Le&&!ey(Le,w)){var Ie=gu(pe);I(function(Z){return[].concat(_n(Z),[Ie])}),N(Ne)}}};y.useEffect(function(){R.length&&R.forEach(function(we){var pe=Zq(we),$e=Am(pe,g,w,!0).map(function(Le){var Ie=Le.option;return Ie}),Ne=$e[$e.length-1];(!Ne||Ne[w.children]||ey(Ne,w))&&I(function(Le){return Le.filter(function(Ie){return Ie!==we})})})},[g,R,w]);var k=y.useMemo(function(){return new Set(Pm(x))},[x]),B=y.useMemo(function(){return new Set(Pm(_))},[_]),q=aZ(a,d),X=ht(q,2),z=X[0],H=X[1],Q=function(pe){H(pe),L(pe)},V=function(pe){if(f)return!1;var $e=pe.disabled,Ne=ey(pe,w);return!$e&&(Ne||S||a)},W=function(pe,$e){var Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;C(pe),!a&&($e||S&&(M==="hover"||Ne))&&l(!1)},te=y.useMemo(function(){return s?O:g},[s,O,g]),K=y.useMemo(function(){for(var we=[{options:te}],pe=te,$e=J$(pe,w),Ne=function(){var Z=z[Le],ie=pe.find(function(Te,$){return($e[$]?gu($e[$]):Te[w.value])===Z}),ne=ie==null?void 0:ie[w.children];if(!(ne!=null&&ne.length))return 1;pe=ne,we.push({options:ne})},Le=0;Le<z.length&&!Ne();Le+=1);return we},[te,z,w]),U=function(pe,$e){V($e)&&W(pe,ey($e,w),!0)};sZ(e,te,w,z,Q,U,{direction:c,searchValue:s,toggleOpen:l,open:d}),y.useEffect(function(){if(!s)for(var we=0;we<z.length;we+=1){var pe,$e=z.slice(0,we+1),Ne=gu($e),Le=(pe=h.current)===null||pe===void 0?void 0:pe.querySelector('li[data-path-key="'.concat(Ne.replace(/\\{0,2}"/g,'\\"'),'"]'));Le&&Jq(Le)}},[z,s]);var ee=!((n=K[0])!==null&&n!==void 0&&(n=n.options)!==null&&n!==void 0&&n.length),fe=[(r={},J(r,w.value,"__EMPTY__"),J(r,iF,u),J(r,"disabled",!0),r)],ve=P(P({},t),{},{multiple:!ee&&a,onSelect:W,onActive:Q,onToggleOpen:l,checkedSet:k,halfCheckedSet:B,loadingKeys:R,isSelectable:V}),Ce=ee?[{options:fe}]:K,ue=Ce.map(function(we,pe){var $e=z.slice(0,pe),Ne=z[pe];return y.createElement(oZ,Kn({key:pe},ve,{prefixCls:D,options:we.options,prevValuePath:$e,activeValue:Ne}))});return y.createElement(rZ,{open:d},y.createElement("div",{className:rt("".concat(D,"-menus"),(i={},J(i,"".concat(D,"-menu-empty"),ee),J(i,"".concat(D,"-rtl"),v),i)),ref:h},ue))}),lZ=y.forwardRef(function(t,e){var n=Xk();return y.createElement(oF,Kn({},t,n,{ref:e}))});function uZ(){}function aF(t){var e,n=t,r=n.prefixCls,i=r===void 0?"rc-cascader":r,o=n.style,a=n.className,s=n.options,l=n.checkable,u=n.defaultValue,c=n.value,d=n.fieldNames,f=n.changeOnSelect,h=n.onChange,v=n.showCheckedStrategy,m=n.loadData,g=n.expandTrigger,x=n.expandIcon,_=x===void 0?">":x,w=n.loadingIcon,S=n.direction,C=n.notFoundContent,O=C===void 0?"Not Found":C,T=n.disabled,N=!!l,M=Gr(u,{value:c,postState:z_}),D=ht(M,2),F=D[0],j=D[1],R=y.useMemo(function(){return Z$(d)},[JSON.stringify(d)]),I=tF(R,s),L=ht(I,3),k=L[0],B=L[1],q=L[2],X=eF(k,R),z=rF(N,F,B,q,X),H=ht(z,3),Q=H[0],V=H[1],W=H[2],te=tl(function(Ce){if(j(Ce),h){var ue=z_(Ce),we=ue.map(function(Ne){return Am(Ne,k,R).map(function(Le){return Le.option})}),pe=N?ue:ue[0],$e=N?we:we[0];h(pe,$e)}}),K=nF(N,te,Q,V,W,B,q,v),U=tl(function(Ce){K(Ce)}),ee=y.useMemo(function(){return{options:k,fieldNames:R,values:Q,halfValues:V,changeOnSelect:f,onSelect:U,checkable:l,searchOptions:[],dropdownPrefixCls:void 0,loadData:m,expandTrigger:g,expandIcon:_,loadingIcon:w,dropdownMenuColumnStyle:void 0}},[k,R,Q,V,f,U,l,m,g,_,w]),fe="".concat(i,"-panel"),ve=!k.length;return y.createElement(og.Provider,{value:ee},y.createElement("div",{className:rt(fe,(e={},J(e,"".concat(fe,"-rtl"),S==="rtl"),J(e,"".concat(fe,"-empty"),ve),e),a),style:o},ve?O:y.createElement(oF,{prefixCls:i,searchValue:"",multiple:N,toggleOpen:uZ,open:!0,direction:S,disabled:T})))}var cZ=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","dropdownStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy","optionRender"],Mb=y.forwardRef(function(t,e){var n=t.id,r=t.prefixCls,i=r===void 0?"rc-cascader":r,o=t.fieldNames,a=t.defaultValue,s=t.value,l=t.changeOnSelect,u=t.onChange,c=t.displayRender,d=t.checkable,f=t.autoClearSearchValue,h=f===void 0?!0:f,v=t.searchValue,m=t.onSearch,g=t.showSearch,x=t.expandTrigger,_=t.options,w=t.dropdownPrefixCls,S=t.loadData,C=t.popupVisible,O=t.open,T=t.popupClassName,N=t.dropdownClassName,M=t.dropdownMenuColumnStyle,D=t.dropdownStyle,F=t.popupPlacement,j=t.placement,R=t.onDropdownVisibleChange,I=t.onPopupVisibleChange,L=t.expandIcon,k=L===void 0?">":L,B=t.loadingIcon,q=t.children,X=t.dropdownMatchSelectWidth,z=X===void 0?!1:X,H=t.showCheckedStrategy,Q=H===void 0?Y$:H,V=t.optionRender,W=Nn(t,cZ),te=Kk(n),K=!!d,U=Gr(a,{value:s,postState:z_}),ee=ht(U,2),fe=ee[0],ve=ee[1],Ce=y.useMemo(function(){return Z$(o)},[JSON.stringify(o)]),ue=tF(Ce,_),we=ht(ue,3),pe=we[0],$e=we[1],Ne=we[2],Le=Gr("",{value:v,postState:function(Jt){return Jt||""}}),Ie=ht(Le,2),Z=Ie[0],ie=Ie[1],ne=function(Jt,dn){ie(Jt),dn.source!=="blur"&&m&&m(Jt)},Te=nZ(g),$=ht(Te,2),se=$[0],re=$[1],oe=qq(Z,pe,Ce,w||i,re,l||K),ye=eF(pe,Ce),xe=rF(K,fe,$e,Ne,ye),He=ht(xe,3),Fe=He[0],Ve=He[1],qe=He[2],vt=y.useMemo(function(){var It=Pm(Fe),Jt=Q$(It,$e,Q);return[].concat(_n(qe),_n(Ne(Jt)))},[Fe,$e,Ne,qe,Q]),tt=eZ(vt,pe,Ce,K,c),pt=tl(function(It){if(ve(It),u){var Jt=z_(It),dn=Jt.map(function(kt){return Am(kt,pe,Ce).map(function(Yt){return Yt.option})}),Hn=K?Jt:Jt[0],Bn=K?dn:dn[0];u(Hn,Bn)}}),Ht=nF(K,pt,Fe,Ve,qe,$e,Ne,Q),Lt=tl(function(It){(!K||h)&&ie(""),Ht(It)}),hn=function(Jt,dn){if(dn.type==="clear"){pt([]);return}var Hn=dn.values[0],Bn=Hn.valueCells;Lt(Bn)},On=O!==void 0?O:C,Yn=N||T,kn=j||F,bn=function(Jt){R==null||R(Jt),I==null||I(Jt)},Sn=y.useMemo(function(){return{options:pe,fieldNames:Ce,values:Fe,halfValues:Ve,changeOnSelect:l,onSelect:Lt,checkable:d,searchOptions:oe,dropdownPrefixCls:w,loadData:S,expandTrigger:x,expandIcon:k,loadingIcon:B,dropdownMenuColumnStyle:M,optionRender:V}},[pe,Ce,Fe,Ve,l,Lt,d,oe,w,S,x,k,B,M,V]),qn=!(Z?oe:pe).length,it=Z&&re.matchInputWidth||qn?{}:{minWidth:"auto"};return y.createElement(og.Provider,{value:Sn},y.createElement(Yk,Kn({},W,{ref:e,id:te,prefixCls:i,autoClearSearchValue:h,dropdownMatchSelectWidth:z,dropdownStyle:P(P({},it),D),displayValues:tt,onDisplayValuesChange:hn,mode:K?"multiple":void 0,searchValue:Z,onSearch:ne,showSearch:se,OptionList:lZ,emptyOptions:qn,open:On,dropdownClassName:Yn,placement:kn,onDropdownVisibleChange:bn,getRawInputElement:function(){return q}})))});Mb.SHOW_PARENT=Y$;Mb.SHOW_CHILD=q$;Mb.Panel=aF;function sF(t,e){const{getPrefixCls:n,direction:r,renderEmpty:i}=y.useContext(Uo),o=e||r,a=n("select",t),s=n("cascader",t);return[a,s,o,i]}function lF(t,e){return y.useMemo(()=>e?y.createElement("span",{className:`${t}-checkbox-inner`}):!1,[e])}const uF=(t,e,n)=>{let r=n;n||(r=e?y.createElement(vT,null):y.createElement(Vy,null));const i=y.createElement("span",{className:`${t}-menu-item-loading-icon`},y.createElement(mp,{spin:!0}));return y.useMemo(()=>[r,i],[r])},cF=t=>{const{prefixCls:e,componentCls:n}=t,r=`${n}-menu-item`,i=`
  &${r}-expand ${r}-expand-icon,
  ${r}-loading-icon
`;return[qk(`${e}-checkbox`,t),{[n]:{"&-checkbox":{top:0,marginInlineEnd:t.paddingXS},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${n}-menu-empty`]:{[`${n}-menu`]:{width:"100%",height:"auto",[r]:{color:t.colorTextDisabled}}}},"&-menu":{flexGrow:1,flexShrink:0,minWidth:t.controlItemWidth,height:t.dropdownHeight,margin:0,padding:t.menuPadding,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${bt(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},"&-item":Object.assign(Object.assign({},uw),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:t.optionPadding,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${t.motionDurationMid}`,borderRadius:t.borderRadiusSM,"&:hover":{background:t.controlItemBgHover},"&-disabled":{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[i]:{color:t.colorTextDisabled}},[`&-active:not(${r}-disabled)`]:{"&, &:hover":{fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg}},"&-content":{flex:"auto"},[i]:{marginInlineStart:t.paddingXXS,color:t.colorTextDescription,fontSize:t.fontSizeIcon},"&-keyword":{color:t.colorHighlight}})}}}]},dZ=t=>{const{componentCls:e,antCls:n}=t;return[{[e]:{width:t.controlWidth}},{[`${e}-dropdown`]:[{[`&${n}-select-dropdown`]:{padding:0}},cF(t)]},{[`${e}-dropdown-rtl`]:{direction:"rtl"}},XX(t)]},dF=t=>{const e=Math.round((t.controlHeight-t.fontSize*t.lineHeight)/2);return{controlWidth:184,controlItemWidth:111,dropdownHeight:180,optionSelectedBg:t.controlItemBgActive,optionSelectedFontWeight:t.fontWeightStrong,optionPadding:`${e}px ${t.paddingSM}px`,menuPadding:t.paddingXXS}},fF=ol("Cascader",t=>[dZ(t)],dF),fZ=t=>{const{componentCls:e}=t;return{[`${e}-panel`]:[cF(t),{display:"inline-flex",border:`${bt(t.lineWidth)} ${t.lineType} ${t.colorSplit}`,borderRadius:t.borderRadiusLG,overflowX:"auto",maxWidth:"100%",[`${e}-menus`]:{alignItems:"stretch"},[`${e}-menu`]:{height:"auto"},"&-empty":{padding:t.paddingXXS}}]}},hZ=yX(["Cascader","Panel"],t=>fZ(t),dF);function pZ(t){const{prefixCls:e,className:n,multiple:r,rootClassName:i,notFoundContent:o,direction:a,expandIcon:s,disabled:l}=t,u=y.useContext(dw),c=l??u,[d,f,h,v]=sF(e,a),m=Od(f),[g,x,_]=fF(f,m);hZ(f);const w=h==="rtl",[S,C]=uF(d,w,s),O=o||(v==null?void 0:v("Cascader"))||y.createElement(pw,{componentName:"Cascader"}),T=lF(f,r);return g(y.createElement(aF,Object.assign({},t,{checkable:T,prefixCls:f,className:rt(n,x,i,_,m),notFoundContent:O,direction:h,expandIcon:S,loadingIcon:C,disabled:c})))}var vZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const{SHOW_CHILD:mZ,SHOW_PARENT:gZ}=Mb;function yZ(t,e,n){const r=t.toLowerCase().split(e).reduce((a,s,l)=>l===0?[s]:[].concat(_n(a),[e,s]),[]),i=[];let o=0;return r.forEach((a,s)=>{const l=o+a.length;let u=t.slice(o,l);o=l,s%2===1&&(u=y.createElement("span",{className:`${n}-menu-item-keyword`,key:`separator-${s}`},u)),i.push(u)}),i}const bZ=(t,e,n,r)=>{const i=[],o=t.toLowerCase();return e.forEach((a,s)=>{s!==0&&i.push(" / ");let l=a[r.label];const u=typeof l;(u==="string"||u==="number")&&(l=yZ(String(l),o,n)),i.push(l)}),i},ag=y.forwardRef((t,e)=>{var n;const{prefixCls:r,size:i,disabled:o,className:a,rootClassName:s,multiple:l,bordered:u=!0,transitionName:c,choiceTransitionName:d="",popupClassName:f,dropdownClassName:h,expandIcon:v,placement:m,showSearch:g,allowClear:x=!0,notFoundContent:_,direction:w,getPopupContainer:S,status:C,showArrow:O,builtinPlacements:T,style:N,variant:M}=t,D=vZ(t,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements","style","variant"]),F=vw(D,["suffixIcon"]),{getPopupContainer:j,getPrefixCls:R,popupOverflow:I,cascader:L}=y.useContext(Uo),{status:k,hasFeedback:B,isFormItemInput:q,feedbackIcon:X}=y.useContext(Zk),z=o$(k,C),[H,Q,V,W]=sF(r,w),te=V==="rtl",K=R(),U=Od(H),[ee,fe,ve]=Jk(H,U),Ce=Od(Q),[ue]=fF(Q,Ce),{compactSize:we,compactItemClassnames:pe}=Qk(H,w),[$e,Ne]=e$("cascader",M,u),Le=_||(W==null?void 0:W("Cascader"))||y.createElement(pw,{componentName:"Cascader"}),Ie=rt(f||h,`${Q}-dropdown`,{[`${Q}-dropdown-rtl`]:V==="rtl"},s,U,Ce,fe,ve),Z=y.useMemo(()=>{if(!g)return g;let tt={render:bZ};return typeof g=="object"&&(tt=Object.assign(Object.assign({},tt),g)),tt},[g]),ie=Dp(tt=>{var pt;return(pt=i??we)!==null&&pt!==void 0?pt:tt}),ne=y.useContext(dw),Te=o??ne,[$,se]=uF(H,te,v),re=lF(Q,l),oe=t$(t.suffixIcon,O),{suffixIcon:ye,removeIcon:xe,clearIcon:He}=n$(Object.assign(Object.assign({},t),{hasFeedback:B,feedbackIcon:X,showSuffixIcon:oe,multiple:l,prefixCls:H,componentName:"Cascader"})),Fe=y.useMemo(()=>m!==void 0?m:te?"bottomRight":"bottomLeft",[m,te]),Ve=x===!0?{clearIcon:He}:x,[qe]=OP("SelectLike",(n=F.dropdownStyle)===null||n===void 0?void 0:n.zIndex),vt=y.createElement(Mb,Object.assign({prefixCls:H,className:rt(!r&&Q,{[`${H}-lg`]:ie==="large",[`${H}-sm`]:ie==="small",[`${H}-rtl`]:te,[`${H}-${$e}`]:Ne,[`${H}-in-form-item`]:q},r$(H,z,B),pe,L==null?void 0:L.className,a,s,U,Ce,fe,ve),disabled:Te,style:Object.assign(Object.assign({},L==null?void 0:L.style),N)},F,{builtinPlacements:i$(T,I),direction:V,placement:Fe,notFoundContent:Le,allowClear:Ve,showSearch:Z,expandIcon:$,suffixIcon:ye,removeIcon:xe,loadingIcon:se,checkable:re,dropdownClassName:Ie,dropdownPrefixCls:r||Q,dropdownStyle:Object.assign(Object.assign({},F.dropdownStyle),{zIndex:qe}),choiceTransitionName:vp(K,"",d),transitionName:vp(K,"slide-up",c),getPopupContainer:S||j,ref:e}));return ue(ee(vt))}),xZ=a$(ag);ag.SHOW_PARENT=gZ;ag.SHOW_CHILD=mZ;ag.Panel=pZ;ag._InternalPanelDoNotUseOrYouWillBeFired=xZ;var MN=y.createContext(null),hF=y.createContext({}),_Z=["prefixCls","className","containerRef"],SZ=function(e){var n=e.prefixCls,r=e.className,i=e.containerRef,o=Nn(e,_Z),a=y.useContext(hF),s=a.panel,l=jk(s,i);return y.createElement("div",Kn({className:rt("".concat(n,"-content"),r),role:"dialog",ref:l},gp(e,{aria:!0}),{"aria-modal":"true"},o))};function IN(t){return typeof t=="string"&&String(Number(t))===t?(Gy(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(t)):t}var DN={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function wZ(t,e){var n,r,i,o=t.prefixCls,a=t.open,s=t.placement,l=t.inline,u=t.push,c=t.forceRender,d=t.autoFocus,f=t.keyboard,h=t.classNames,v=t.rootClassName,m=t.rootStyle,g=t.zIndex,x=t.className,_=t.id,w=t.style,S=t.motion,C=t.width,O=t.height,T=t.children,N=t.mask,M=t.maskClosable,D=t.maskMotion,F=t.maskClassName,j=t.maskStyle,R=t.afterOpenChange,I=t.onClose,L=t.onMouseEnter,k=t.onMouseOver,B=t.onMouseLeave,q=t.onClick,X=t.onKeyDown,z=t.onKeyUp,H=t.styles,Q=t.drawerRender,V=y.useRef(),W=y.useRef(),te=y.useRef();y.useImperativeHandle(e,function(){return V.current});var K=function(Te){var $=Te.keyCode,se=Te.shiftKey;switch($){case $r.TAB:{if($===$r.TAB){if(!se&&document.activeElement===te.current){var re;(re=W.current)===null||re===void 0||re.focus({preventScroll:!0})}else if(se&&document.activeElement===W.current){var oe;(oe=te.current)===null||oe===void 0||oe.focus({preventScroll:!0})}}break}case $r.ESC:{I&&f&&(Te.stopPropagation(),I(Te));break}}};y.useEffect(function(){if(a&&d){var ne;(ne=V.current)===null||ne===void 0||ne.focus({preventScroll:!0})}},[a]);var U=y.useState(!1),ee=ht(U,2),fe=ee[0],ve=ee[1],Ce=y.useContext(MN),ue;typeof u=="boolean"?ue=u?{}:{distance:0}:ue=u||{};var we=(n=(r=(i=ue)===null||i===void 0?void 0:i.distance)!==null&&r!==void 0?r:Ce==null?void 0:Ce.pushDistance)!==null&&n!==void 0?n:180,pe=y.useMemo(function(){return{pushDistance:we,push:function(){ve(!0)},pull:function(){ve(!1)}}},[we]);y.useEffect(function(){if(a){var ne;Ce==null||(ne=Ce.push)===null||ne===void 0||ne.call(Ce)}else{var Te;Ce==null||(Te=Ce.pull)===null||Te===void 0||Te.call(Ce)}},[a]),y.useEffect(function(){return function(){var ne;Ce==null||(ne=Ce.pull)===null||ne===void 0||ne.call(Ce)}},[]);var $e=N&&y.createElement(k_,Kn({key:"mask"},D,{visible:a}),function(ne,Te){var $=ne.className,se=ne.style;return y.createElement("div",{className:rt("".concat(o,"-mask"),$,h==null?void 0:h.mask,F),style:P(P(P({},se),j),H==null?void 0:H.mask),onClick:M&&a?I:void 0,ref:Te})}),Ne=typeof S=="function"?S(s):S,Le={};if(fe&&we)switch(s){case"top":Le.transform="translateY(".concat(we,"px)");break;case"bottom":Le.transform="translateY(".concat(-we,"px)");break;case"left":Le.transform="translateX(".concat(we,"px)");break;default:Le.transform="translateX(".concat(-we,"px)");break}s==="left"||s==="right"?Le.width=IN(C):Le.height=IN(O);var Ie={onMouseEnter:L,onMouseOver:k,onMouseLeave:B,onClick:q,onKeyDown:X,onKeyUp:z},Z=y.createElement(k_,Kn({key:"panel"},Ne,{visible:a,forceRender:c,onVisibleChanged:function(Te){R==null||R(Te)},removeOnLeave:!1,leavedClassName:"".concat(o,"-content-wrapper-hidden")}),function(ne,Te){var $=ne.className,se=ne.style,re=y.createElement(SZ,Kn({id:_,containerRef:Te,prefixCls:o,className:rt(x,h==null?void 0:h.content),style:P(P({},w),H==null?void 0:H.content)},gp(t,{aria:!0}),Ie),T);return y.createElement("div",Kn({className:rt("".concat(o,"-content-wrapper"),h==null?void 0:h.wrapper,$),style:P(P(P({},Le),se),H==null?void 0:H.wrapper)},gp(t,{data:!0})),Q?Q(re):re)}),ie=P({},m);return g&&(ie.zIndex=g),y.createElement(MN.Provider,{value:pe},y.createElement("div",{className:rt(o,"".concat(o,"-").concat(s),v,J(J({},"".concat(o,"-open"),a),"".concat(o,"-inline"),l)),style:ie,tabIndex:-1,ref:V,onKeyDown:K},$e,y.createElement("div",{tabIndex:0,ref:W,style:DN,"aria-hidden":"true","data-sentinel":"start"}),Z,y.createElement("div",{tabIndex:0,ref:te,style:DN,"aria-hidden":"true","data-sentinel":"end"})))}var EZ=y.forwardRef(wZ),CZ=function(e){var n=e.open,r=n===void 0?!1:n,i=e.prefixCls,o=i===void 0?"rc-drawer":i,a=e.placement,s=a===void 0?"right":a,l=e.autoFocus,u=l===void 0?!0:l,c=e.keyboard,d=c===void 0?!0:c,f=e.width,h=f===void 0?378:f,v=e.mask,m=v===void 0?!0:v,g=e.maskClosable,x=g===void 0?!0:g,_=e.getContainer,w=e.forceRender,S=e.afterOpenChange,C=e.destroyOnClose,O=e.onMouseEnter,T=e.onMouseOver,N=e.onMouseLeave,M=e.onClick,D=e.onKeyDown,F=e.onKeyUp,j=e.panelRef,R=y.useState(!1),I=ht(R,2),L=I[0],k=I[1],B=y.useState(!1),q=ht(B,2),X=q[0],z=q[1];Uy(function(){z(!0)},[]);var H=X?r:!1,Q=y.useRef(),V=y.useRef();Uy(function(){H&&(V.current=document.activeElement)},[H]);var W=function(fe){var ve;if(k(fe),S==null||S(fe),!fe&&V.current&&!((ve=Q.current)!==null&&ve!==void 0&&ve.contains(V.current))){var Ce;(Ce=V.current)===null||Ce===void 0||Ce.focus({preventScroll:!0})}},te=y.useMemo(function(){return{panel:j}},[j]);if(!w&&!L&&!H&&C)return null;var K={onMouseEnter:O,onMouseOver:T,onMouseLeave:N,onClick:M,onKeyDown:D,onKeyUp:F},U=P(P({},e),{},{open:H,prefixCls:o,placement:s,autoFocus:u,keyboard:d,width:h,mask:m,maskClosable:x,inline:_===!1,afterOpenChange:W,ref:Q},K);return y.createElement(hF.Provider,{value:te},y.createElement(KX,{open:H||w||L,autoDestroy:!1,getContainer:_,autoLock:m&&(H||L)},y.createElement(EZ,U)))};const pF=t=>{var e,n;const{prefixCls:r,title:i,footer:o,extra:a,loading:s,onClose:l,headerStyle:u,bodyStyle:c,footerStyle:d,children:f,classNames:h,styles:v}=t,{drawer:m}=y.useContext(Uo),g=y.useCallback(C=>y.createElement("button",{type:"button",onClick:l,"aria-label":"Close",className:`${r}-close`},C),[l]),[x,_]=YX(hN(t),hN(m),{closable:!0,closeIconRender:g}),w=y.useMemo(()=>{var C,O;return!i&&!x?null:y.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(C=m==null?void 0:m.styles)===null||C===void 0?void 0:C.header),u),v==null?void 0:v.header),className:rt(`${r}-header`,{[`${r}-header-close-only`]:x&&!i&&!a},(O=m==null?void 0:m.classNames)===null||O===void 0?void 0:O.header,h==null?void 0:h.header)},y.createElement("div",{className:`${r}-header-title`},_,i&&y.createElement("div",{className:`${r}-title`},i)),a&&y.createElement("div",{className:`${r}-extra`},a))},[x,_,a,u,r,i]),S=y.useMemo(()=>{var C,O;if(!o)return null;const T=`${r}-footer`;return y.createElement("div",{className:rt(T,(C=m==null?void 0:m.classNames)===null||C===void 0?void 0:C.footer,h==null?void 0:h.footer),style:Object.assign(Object.assign(Object.assign({},(O=m==null?void 0:m.styles)===null||O===void 0?void 0:O.footer),d),v==null?void 0:v.footer)},o)},[o,d,r]);return y.createElement(y.Fragment,null,w,y.createElement("div",{className:rt(`${r}-body`,h==null?void 0:h.body,(e=m==null?void 0:m.classNames)===null||e===void 0?void 0:e.body),style:Object.assign(Object.assign(Object.assign({},(n=m==null?void 0:m.styles)===null||n===void 0?void 0:n.body),c),v==null?void 0:v.body)},s?y.createElement(qX,{active:!0,title:!1,paragraph:{rows:5},className:`${r}-body-skeleton`}):f),S)},TZ=t=>{const e="100%";return{left:`translateX(-${e})`,right:`translateX(${e})`,top:`translateY(-${e})`,bottom:`translateY(${e})`}[t]},vF=(t,e)=>({"&-enter, &-appear":Object.assign(Object.assign({},t),{"&-active":e}),"&-leave":Object.assign(Object.assign({},e),{"&-active":t})}),mF=(t,e)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${e}`}}},vF({opacity:t},{opacity:1})),RZ=(t,e)=>[mF(.7,e),vF({transform:TZ(t)},{transform:"none"})],PZ=t=>{const{componentCls:e,motionDurationSlow:n}=t;return{[e]:{[`${e}-mask-motion`]:mF(0,n),[`${e}-panel-motion`]:["left","right","top","bottom"].reduce((r,i)=>Object.assign(Object.assign({},r),{[`&-${i}`]:RZ(i,n)}),{})}}},AZ=t=>{const{borderRadiusSM:e,componentCls:n,zIndexPopup:r,colorBgMask:i,colorBgElevated:o,motionDurationSlow:a,motionDurationMid:s,paddingXS:l,padding:u,paddingLG:c,fontSizeLG:d,lineHeightLG:f,lineWidth:h,lineType:v,colorSplit:m,marginXS:g,colorIcon:x,colorIconHover:_,colorBgTextHover:w,colorBgTextActive:S,colorText:C,fontWeightStrong:O,footerPaddingBlock:T,footerPaddingInline:N,calc:M}=t,D=`${n}-content-wrapper`;return{[n]:{position:"fixed",inset:0,zIndex:r,pointerEvents:"none",color:C,"&-pure":{position:"relative",background:o,display:"flex",flexDirection:"column",[`&${n}-left`]:{boxShadow:t.boxShadowDrawerLeft},[`&${n}-right`]:{boxShadow:t.boxShadowDrawerRight},[`&${n}-top`]:{boxShadow:t.boxShadowDrawerUp},[`&${n}-bottom`]:{boxShadow:t.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${n}-mask`]:{position:"absolute",inset:0,zIndex:r,background:i,pointerEvents:"auto"},[D]:{position:"absolute",zIndex:r,maxWidth:"100vw",transition:`all ${a}`,"&-hidden":{display:"none"}},[`&-left > ${D}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowDrawerLeft},[`&-right > ${D}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:t.boxShadowDrawerRight},[`&-top > ${D}`]:{top:0,insetInline:0,boxShadow:t.boxShadowDrawerUp},[`&-bottom > ${D}`]:{bottom:0,insetInline:0,boxShadow:t.boxShadowDrawerDown},[`${n}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:o,pointerEvents:"auto"},[`${n}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${bt(u)} ${bt(c)}`,fontSize:d,lineHeight:f,borderBottom:`${bt(h)} ${v} ${m}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${n}-extra`]:{flex:"none"},[`${n}-close`]:Object.assign({display:"inline-flex",width:M(d).add(l).equal(),height:M(d).add(l).equal(),borderRadius:e,justifyContent:"center",alignItems:"center",marginInlineEnd:g,color:x,fontWeight:O,fontSize:d,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${s}`,textRendering:"auto","&:hover":{color:_,backgroundColor:w,textDecoration:"none"},"&:active":{backgroundColor:S}},cw(t)),[`${n}-title`]:{flex:1,margin:0,fontWeight:t.fontWeightStrong,fontSize:d,lineHeight:f},[`${n}-body`]:{flex:1,minWidth:0,minHeight:0,padding:c,overflow:"auto",[`${n}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${n}-footer`]:{flexShrink:0,padding:`${bt(T)} ${bt(N)}`,borderTop:`${bt(h)} ${v} ${m}`},"&-rtl":{direction:"rtl"}}}},OZ=t=>({zIndexPopup:t.zIndexPopupBase,footerPaddingBlock:t.paddingXS,footerPaddingInline:t.padding}),gF=ol("Drawer",t=>{const e=Pu(t,{});return[AZ(e),PZ(e)]},OZ);var yF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const NZ={distance:180},zP=t=>{const{rootClassName:e,width:n,height:r,size:i="default",mask:o=!0,push:a=NZ,open:s,afterOpenChange:l,onClose:u,prefixCls:c,getContainer:d,style:f,className:h,visible:v,afterVisibleChange:m,maskStyle:g,drawerStyle:x,contentWrapperStyle:_}=t,w=yF(t,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:S,getPrefixCls:C,direction:O,drawer:T}=y.useContext(Uo),N=C("drawer",c),[M,D,F]=gF(N),j=d===void 0&&S?()=>S(document.body):d,R=rt({"no-mask":!o,[`${N}-rtl`]:O==="rtl"},e,D,F),I=y.useMemo(()=>n??(i==="large"?736:378),[n,i]),L=y.useMemo(()=>r??(i==="large"?736:378),[r,i]),k={motionName:vp(N,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},B=te=>({motionName:vp(N,`panel-motion-${te}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),q=ZX(),[X,z]=OP("Drawer",w.zIndex),{classNames:H={},styles:Q={}}=w,{classNames:V={},styles:W={}}=T||{};return M(y.createElement(JX,{form:!0,space:!0},y.createElement(QX.Provider,{value:z},y.createElement(CZ,Object.assign({prefixCls:N,onClose:u,maskMotion:k,motion:B},w,{classNames:{mask:rt(H.mask,V.mask),content:rt(H.content,V.content),wrapper:rt(H.wrapper,V.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},Q.mask),g),W.mask),content:Object.assign(Object.assign(Object.assign({},Q.content),x),W.content),wrapper:Object.assign(Object.assign(Object.assign({},Q.wrapper),_),W.wrapper)},open:s??v,mask:o,push:a,width:I,height:L,style:Object.assign(Object.assign({},T==null?void 0:T.style),f),className:rt(T==null?void 0:T.className,h),rootClassName:R,getContainer:j,afterOpenChange:l??m,panelRef:q,zIndex:X}),y.createElement(pF,Object.assign({prefixCls:N},w,{onClose:u}))))))},MZ=t=>{const{prefixCls:e,style:n,className:r,placement:i="right"}=t,o=yF(t,["prefixCls","style","className","placement"]),{getPrefixCls:a}=y.useContext(Uo),s=a("drawer",e),[l,u,c]=gF(s),d=rt(s,`${s}-pure`,`${s}-${i}`,u,c,r);return l(y.createElement("div",{className:d,style:n},y.createElement(pF,Object.assign({prefixCls:s},o))))};zP._InternalPanelDoNotUseOrYouWillBeFired=MZ;const bF=function(){const t=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const n=e<0||arguments.length<=e?void 0:arguments[e];n&&Object.keys(n).forEach(r=>{const i=n[r];i!==void 0&&(t[r]=i)})}return t};var IZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},DZ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:IZ}))},xT=y.forwardRef(DZ),LZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},kZ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:LZ}))},_T=y.forwardRef(kZ),xF={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"},$Z=["10","20","50","100"],FZ=function(e){var n=e.pageSizeOptions,r=n===void 0?$Z:n,i=e.locale,o=e.changeSize,a=e.pageSize,s=e.goButton,l=e.quickGo,u=e.rootPrefixCls,c=e.selectComponentClass,d=e.selectPrefixCls,f=e.disabled,h=e.buildOptionText,v=e.showSizeChanger,m=je.useState(""),g=ht(m,2),x=g[0],_=g[1],w=function(){return!x||Number.isNaN(x)?void 0:Number(x)},S=typeof h=="function"?h:function(q){return"".concat(q," ").concat(i.items_per_page)},C=function(X,z){if(o==null||o(Number(X)),ur(v)==="object"){var H;(H=v.onChange)===null||H===void 0||H.call(v,X,z)}},O=function(X){_(X.target.value)},T=function(X){s||x===""||(_(""),!(X.relatedTarget&&(X.relatedTarget.className.indexOf("".concat(u,"-item-link"))>=0||X.relatedTarget.className.indexOf("".concat(u,"-item"))>=0))&&(l==null||l(w())))},N=function(X){x!==""&&(X.keyCode===$r.ENTER||X.type==="click")&&(_(""),l==null||l(w()))},M=function(){return r.some(function(X){return X.toString()===a.toString()})?r:r.concat([a.toString()]).sort(function(X,z){var H=Number.isNaN(Number(X))?0:Number(X),Q=Number.isNaN(Number(z))?0:Number(z);return H-Q})},D="".concat(u,"-options");if(!v&&!l)return null;var F=null,j=null,R=null;if(v&&c){var I=ur(v)==="object"?v:{},L=I.options,k=I.className,B=L?void 0:M().map(function(q,X){return je.createElement(c.Option,{key:X,value:q.toString()},S(q))});F=je.createElement(c,Kn({disabled:f,prefixCls:d,showSearch:!1,optionLabelProp:L?"label":"children",popupMatchSelectWidth:!1,value:(a||r[0]).toString(),getPopupContainer:function(X){return X.parentNode},"aria-label":i.page_size,defaultOpen:!1},ur(v)==="object"?v:null,{className:rt("".concat(D,"-size-changer"),k),options:L,onChange:C}),B)}return l&&(s&&(R=typeof s=="boolean"?je.createElement("button",{type:"button",onClick:N,onKeyUp:N,disabled:f,className:"".concat(D,"-quick-jumper-button")},i.jump_to_confirm):je.createElement("span",{onClick:N,onKeyUp:N},s)),j=je.createElement("div",{className:"".concat(D,"-quick-jumper")},i.jump_to,je.createElement("input",{disabled:f,type:"text",value:x,onChange:O,onKeyUp:N,onBlur:T,"aria-label":i.page}),i.page,R)),je.createElement("li",{className:D},F,j)},x0=function(e){var n=e.rootPrefixCls,r=e.page,i=e.active,o=e.className,a=e.showTitle,s=e.onClick,l=e.onKeyPress,u=e.itemRender,c="".concat(n,"-item"),d=rt(c,"".concat(c,"-").concat(r),J(J({},"".concat(c,"-active"),i),"".concat(c,"-disabled"),!r),o),f=function(){s(r)},h=function(g){l(g,s,r)},v=u(r,"page",je.createElement("a",{rel:"nofollow"},r));return v?je.createElement("li",{title:a?String(r):null,className:d,onClick:f,onKeyDown:h,tabIndex:0},v):null},jZ=function(e,n,r){return r};function LN(){}function kN(t){var e=Number(t);return typeof e=="number"&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}function zh(t,e,n){var r=typeof t>"u"?e:t;return Math.floor((n-1)/r)+1}var BZ=function(e){var n=e.prefixCls,r=n===void 0?"rc-pagination":n,i=e.selectPrefixCls,o=i===void 0?"rc-select":i,a=e.className,s=e.selectComponentClass,l=e.current,u=e.defaultCurrent,c=u===void 0?1:u,d=e.total,f=d===void 0?0:d,h=e.pageSize,v=e.defaultPageSize,m=v===void 0?10:v,g=e.onChange,x=g===void 0?LN:g,_=e.hideOnSinglePage,w=e.align,S=e.showPrevNextJumpers,C=S===void 0?!0:S,O=e.showQuickJumper,T=e.showLessItems,N=e.showTitle,M=N===void 0?!0:N,D=e.onShowSizeChange,F=D===void 0?LN:D,j=e.locale,R=j===void 0?xF:j,I=e.style,L=e.totalBoundaryShowSizeChanger,k=L===void 0?50:L,B=e.disabled,q=e.simple,X=e.showTotal,z=e.showSizeChanger,H=z===void 0?f>k:z,Q=e.pageSizeOptions,V=e.itemRender,W=V===void 0?jZ:V,te=e.jumpPrevIcon,K=e.jumpNextIcon,U=e.prevIcon,ee=e.nextIcon,fe=je.useRef(null),ve=Gr(10,{value:h,defaultValue:m}),Ce=ht(ve,2),ue=Ce[0],we=Ce[1],pe=Gr(1,{value:l,defaultValue:c,postState:function(Cn){return Math.max(1,Math.min(Cn,zh(void 0,ue,f)))}}),$e=ht(pe,2),Ne=$e[0],Le=$e[1],Ie=je.useState(Ne),Z=ht(Ie,2),ie=Z[0],ne=Z[1];y.useEffect(function(){ne(Ne)},[Ne]);var Te=Math.max(1,Ne-(T?3:5)),$=Math.min(zh(void 0,ue,f),Ne+(T?3:5));function se(Nt,Cn){var he=Nt||je.createElement("button",{type:"button","aria-label":Cn,className:"".concat(r,"-item-link")});return typeof Nt=="function"&&(he=je.createElement(Nt,P({},e))),he}function re(Nt){var Cn=Nt.target.value,he=zh(void 0,ue,f),Ze;return Cn===""?Ze=Cn:Number.isNaN(Number(Cn))?Ze=ie:Cn>=he?Ze=he:Ze=Number(Cn),Ze}function oe(Nt){return kN(Nt)&&Nt!==Ne&&kN(f)&&f>0}var ye=f>ue?O:!1;function xe(Nt){(Nt.keyCode===$r.UP||Nt.keyCode===$r.DOWN)&&Nt.preventDefault()}function He(Nt){var Cn=re(Nt);switch(Cn!==ie&&ne(Cn),Nt.keyCode){case $r.ENTER:qe(Cn);break;case $r.UP:qe(Cn-1);break;case $r.DOWN:qe(Cn+1);break}}function Fe(Nt){qe(re(Nt))}function Ve(Nt){var Cn=zh(Nt,ue,f),he=Ne>Cn&&Cn!==0?Cn:Ne;we(Nt),ne(he),F==null||F(Ne,Nt),Le(he),x==null||x(he,Nt)}function qe(Nt){if(oe(Nt)&&!B){var Cn=zh(void 0,ue,f),he=Nt;return Nt>Cn?he=Cn:Nt<1&&(he=1),he!==ie&&ne(he),Le(he),x==null||x(he,ue),he}return Ne}var vt=Ne>1,tt=Ne<zh(void 0,ue,f);function pt(){vt&&qe(Ne-1)}function Ht(){tt&&qe(Ne+1)}function Lt(){qe(Te)}function hn(){qe($)}function On(Nt,Cn){if(Nt.key==="Enter"||Nt.charCode===$r.ENTER||Nt.keyCode===$r.ENTER){for(var he=arguments.length,Ze=new Array(he>2?he-2:0),Ut=2;Ut<he;Ut++)Ze[Ut-2]=arguments[Ut];Cn.apply(void 0,Ze)}}function Yn(Nt){On(Nt,pt)}function kn(Nt){On(Nt,Ht)}function bn(Nt){On(Nt,Lt)}function Sn(Nt){On(Nt,hn)}function qn(Nt){var Cn=W(Nt,"prev",se(U,"prev page"));return je.isValidElement(Cn)?je.cloneElement(Cn,{disabled:!vt}):Cn}function it(Nt){var Cn=W(Nt,"next",se(ee,"next page"));return je.isValidElement(Cn)?je.cloneElement(Cn,{disabled:!tt}):Cn}function It(Nt){(Nt.type==="click"||Nt.keyCode===$r.ENTER)&&qe(ie)}var Jt=null,dn=gp(e,{aria:!0,data:!0}),Hn=X&&je.createElement("li",{className:"".concat(r,"-total-text")},X(f,[f===0?0:(Ne-1)*ue+1,Ne*ue>f?f:Ne*ue])),Bn=null,kt=zh(void 0,ue,f);if(_&&f<=ue)return null;var Yt=[],An={rootPrefixCls:r,onClick:qe,onKeyPress:On,showTitle:M,itemRender:W,page:-1},Sr=Ne-1>0?Ne-1:0,ai=Ne+1<kt?Ne+1:kt,tr=O&&O.goButton,si=ur(q)==="object"?q.readOnly:!q,xn=tr,_e=null;q&&(tr&&(typeof tr=="boolean"?xn=je.createElement("button",{type:"button",onClick:It,onKeyUp:It},R.jump_to_confirm):xn=je.createElement("span",{onClick:It,onKeyUp:It},tr),xn=je.createElement("li",{title:M?"".concat(R.jump_to).concat(Ne,"/").concat(kt):null,className:"".concat(r,"-simple-pager")},xn)),_e=je.createElement("li",{title:M?"".concat(Ne,"/").concat(kt):null,className:"".concat(r,"-simple-pager")},si?ie:je.createElement("input",{type:"text",value:ie,disabled:B,onKeyDown:xe,onKeyUp:He,onChange:He,onBlur:Fe,size:3}),je.createElement("span",{className:"".concat(r,"-slash")},"/"),kt));var Re=T?1:2;if(kt<=3+Re*2){kt||Yt.push(je.createElement(x0,Kn({},An,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var ae=1;ae<=kt;ae+=1)Yt.push(je.createElement(x0,Kn({},An,{key:ae,page:ae,active:Ne===ae})))}else{var Ee=T?R.prev_3:R.prev_5,be=T?R.next_3:R.next_5,Ke=W(Te,"jump-prev",se(te,"prev page")),lt=W($,"jump-next",se(K,"next page"));C&&(Jt=Ke?je.createElement("li",{title:M?Ee:null,key:"prev",onClick:Lt,tabIndex:0,onKeyDown:bn,className:rt("".concat(r,"-jump-prev"),J({},"".concat(r,"-jump-prev-custom-icon"),!!te))},Ke):null,Bn=lt?je.createElement("li",{title:M?be:null,key:"next",onClick:hn,tabIndex:0,onKeyDown:Sn,className:rt("".concat(r,"-jump-next"),J({},"".concat(r,"-jump-next-custom-icon"),!!K))},lt):null);var dt=Math.max(1,Ne-Re),Je=Math.min(Ne+Re,kt);Ne-1<=Re&&(Je=1+Re*2),kt-Ne<=Re&&(dt=kt-Re*2);for(var Tt=dt;Tt<=Je;Tt+=1)Yt.push(je.createElement(x0,Kn({},An,{key:Tt,page:Tt,active:Ne===Tt})));if(Ne-1>=Re*2&&Ne!==3&&(Yt[0]=je.cloneElement(Yt[0],{className:rt("".concat(r,"-item-after-jump-prev"),Yt[0].props.className)}),Yt.unshift(Jt)),kt-Ne>=Re*2&&Ne!==kt-2){var un=Yt[Yt.length-1];Yt[Yt.length-1]=je.cloneElement(un,{className:rt("".concat(r,"-item-before-jump-next"),un.props.className)}),Yt.push(Bn)}dt!==1&&Yt.unshift(je.createElement(x0,Kn({},An,{key:1,page:1}))),Je!==kt&&Yt.push(je.createElement(x0,Kn({},An,{key:kt,page:kt})))}var En=qn(Sr);if(En){var ce=!vt||!kt;En=je.createElement("li",{title:M?R.prev_page:null,onClick:pt,tabIndex:ce?null:0,onKeyDown:Yn,className:rt("".concat(r,"-prev"),J({},"".concat(r,"-disabled"),ce)),"aria-disabled":ce},En)}var Xe=it(ai);if(Xe){var _t,Qt;q?(_t=!tt,Qt=vt?0:null):(_t=!tt||!kt,Qt=_t?null:0),Xe=je.createElement("li",{title:M?R.next_page:null,onClick:Ht,tabIndex:Qt,onKeyDown:kn,className:rt("".concat(r,"-next"),J({},"".concat(r,"-disabled"),_t)),"aria-disabled":_t},Xe)}var Tn=rt(r,a,J(J(J(J(J({},"".concat(r,"-start"),w==="start"),"".concat(r,"-center"),w==="center"),"".concat(r,"-end"),w==="end"),"".concat(r,"-simple"),q),"".concat(r,"-disabled"),B));return je.createElement("ul",Kn({className:Tn,style:I,ref:fe},dn),Hn,En,q?_e:Yt,Xe,je.createElement(FZ,{locale:R,rootPrefixCls:r,disabled:B,selectComponentClass:s,selectPrefixCls:o,changeSize:Ve,pageSize:ue,pageSizeOptions:Q,quickGo:ye?qe:null,goButton:xn,showSizeChanger:H}))};const _F=t=>y.createElement(Ld,Object.assign({},t,{showSearch:!0,size:"small"})),SF=t=>y.createElement(Ld,Object.assign({},t,{showSearch:!0,size:"middle"}));_F.Option=Ld.Option;SF.Option=Ld.Option;const zZ=t=>{const{componentCls:e}=t;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:t.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:t.colorBorder,backgroundColor:t.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:t.itemActiveBgDisabled},a:{color:t.itemActiveColorDisabled}}},[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:t.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},HZ=t=>{const{componentCls:e}=t;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:t.itemSizeSM,lineHeight:bt(t.itemSizeSM)},[`&${e}-mini ${e}-item`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:bt(t.calc(t.itemSizeSM).sub(2).equal())},[`&${e}-mini:not(${e}-disabled) ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:bt(t.itemSizeSM)},[`&${e}-mini:not(${e}-disabled)`]:{[`${e}-prev, ${e}-next`]:{[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:t.itemSizeSM,lineHeight:bt(t.itemSizeSM)}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:t.itemSizeSM,marginInlineEnd:0,lineHeight:bt(t.itemSizeSM)},[`&${e}-mini ${e}-options`]:{marginInlineStart:t.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:t.miniOptionsSizeChangerTop},"&-quick-jumper":{height:t.itemSizeSM,lineHeight:bt(t.itemSizeSM),input:Object.assign(Object.assign({},nK(t)),{width:t.paginationMiniQuickJumperInputWidth,height:t.controlHeightSM})}}}},UZ=t=>{const{componentCls:e}=t;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:t.itemSizeSM,lineHeight:bt(t.itemSizeSM),verticalAlign:"top",[`${e}-item-link`]:{height:t.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive},"&::after":{height:t.itemSizeSM,lineHeight:bt(t.itemSizeSM)}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:t.itemSizeSM,marginInlineEnd:t.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${bt(t.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:t.itemInputBg,border:`${bt(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,outline:"none",transition:`border-color ${t.motionDurationMid}`,color:"inherit","&:hover":{borderColor:t.colorPrimary},"&:focus":{borderColor:t.colorPrimaryHover,boxShadow:`${bt(t.inputOutlineOffset)} 0 ${bt(t.controlOutlineWidth)} ${t.controlOutline}`},"&[disabled]":{color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,cursor:"not-allowed"}}}}},GZ=t=>{const{componentCls:e}=t;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:t.colorPrimary,fontSize:t.fontSizeSM,opacity:0,transition:`all ${t.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:t.colorTextDisabled,letterSpacing:t.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:t.paginationEllipsisTextIndent,opacity:1,transition:`all ${t.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}}},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:t.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,color:t.colorText,fontFamily:t.fontFamily,lineHeight:bt(t.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{outline:0,button:{color:t.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:t.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${bt(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:"none",transition:`all ${t.motionDurationMid}`},[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:t.paginationSlashMarginInlineEnd,marginInlineStart:t.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:t.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:t.controlHeight,marginInlineStart:t.marginXS,lineHeight:bt(t.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},rK(t)),iK(t,{borderColor:t.colorBorder,hoverBorderColor:t.colorPrimaryHover,activeBorderColor:t.colorPrimary,activeShadow:t.activeShadow})),{"&[disabled]":Object.assign({},oK(t)),width:t.calc(t.controlHeightLG).mul(1.25).equal(),height:t.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:t.marginXS,marginInlineEnd:t.marginXS})}}}},WZ=t=>{const{componentCls:e}=t;return{[`${e}-item`]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,marginInlineEnd:t.marginXS,fontFamily:t.fontFamily,lineHeight:bt(t.calc(t.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:t.itemBg,border:`${bt(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${bt(t.paginationItemPaddingInline)}`,color:t.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${t.motionDurationMid}`,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},"&-active":{fontWeight:t.fontWeightStrong,backgroundColor:t.itemActiveBg,borderColor:t.colorPrimary,a:{color:t.colorPrimary},"&:hover":{borderColor:t.colorPrimaryHover},"&:hover a":{color:t.colorPrimaryHover}}}}},VZ=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xc(t)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:t.itemSize,marginInlineEnd:t.marginXS,lineHeight:bt(t.calc(t.itemSize).sub(2).equal()),verticalAlign:"middle"}}),WZ(t)),GZ(t)),UZ(t)),HZ(t)),zZ(t)),{[`@media only screen and (max-width: ${t.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${t.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${t.componentCls}-rtl`]:{direction:"rtl"}}},XZ=t=>{const{componentCls:e}=t;return{[`${e}:not(${e}-disabled)`]:{[`${e}-item`]:Object.assign({},cw(t)),[`${e}-jump-prev, ${e}-jump-next`]:{"&:focus-visible":Object.assign({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},fT(t))},[`${e}-prev, ${e}-next`]:{[`&:focus-visible ${e}-item-link`]:Object.assign({},fT(t))}}}},wF=t=>Object.assign({itemBg:t.colorBgContainer,itemSize:t.controlHeight,itemSizeSM:t.controlHeightSM,itemActiveBg:t.colorBgContainer,itemLinkBg:t.colorBgContainer,itemActiveColorDisabled:t.colorTextDisabled,itemActiveBgDisabled:t.controlItemBgActiveDisabled,itemInputBg:t.colorBgContainer,miniOptionsSizeChangerTop:0},eK(t)),EF=t=>Pu(t,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:t.calc(t.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:t.calc(t.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:t.calc(t.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:t.calc(t.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:t.marginSM,paginationSlashMarginInlineEnd:t.marginSM,paginationEllipsisTextIndent:"0.13em"},tK(t)),KZ=ol("Pagination",t=>{const e=EF(t);return[VZ(e),XZ(e)]},wF),YZ=t=>{const{componentCls:e}=t;return{[`${e}${e}-bordered${e}-disabled:not(${e}-mini)`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:t.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:t.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,a:{color:t.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:t.itemActiveBgDisabled}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,color:t.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder}}},[`${e}${e}-bordered:not(${e}-mini)`]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:t.colorPrimaryHover,backgroundColor:t.itemBg},[`${e}-item-link`]:{backgroundColor:t.itemLinkBg,borderColor:t.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,color:t.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:t.colorBorder,color:t.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:t.itemBg,border:`${bt(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,a:{color:t.colorPrimary}},"&-active":{borderColor:t.colorPrimary}}}}},qZ=bX(["Pagination","bordered"],t=>{const e=EF(t);return[YZ(e)]},wF);var ZZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const JZ=t=>{const{align:e,prefixCls:n,selectPrefixCls:r,className:i,rootClassName:o,style:a,size:s,locale:l,selectComponentClass:u,responsive:c,showSizeChanger:d}=t,f=ZZ(t,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:h}=Nb(c),[,v]=fw(),{getPrefixCls:m,direction:g,pagination:x={}}=y.useContext(Uo),_=m("pagination",n),[w,S,C]=KZ(_),O=d??x.showSizeChanger,T=y.useMemo(()=>{const L=y.createElement("span",{className:`${_}-item-ellipsis`},"•••"),k=y.createElement("button",{className:`${_}-item-link`,type:"button",tabIndex:-1},g==="rtl"?y.createElement(Vy,null):y.createElement(vT,null)),B=y.createElement("button",{className:`${_}-item-link`,type:"button",tabIndex:-1},g==="rtl"?y.createElement(vT,null):y.createElement(Vy,null)),q=y.createElement("a",{className:`${_}-item-link`},y.createElement("div",{className:`${_}-item-container`},g==="rtl"?y.createElement(_T,{className:`${_}-item-link-icon`}):y.createElement(xT,{className:`${_}-item-link-icon`}),L)),X=y.createElement("a",{className:`${_}-item-link`},y.createElement("div",{className:`${_}-item-container`},g==="rtl"?y.createElement(xT,{className:`${_}-item-link-icon`}):y.createElement(_T,{className:`${_}-item-link-icon`}),L));return{prevIcon:k,nextIcon:B,jumpPrevIcon:q,jumpNextIcon:X}},[g,_]),[N]=s$("Pagination",xX),M=Object.assign(Object.assign({},N),l),D=Dp(s),F=D==="small"||!!(h&&!D&&c),j=m("select",r),R=rt({[`${_}-${e}`]:!!e,[`${_}-mini`]:F,[`${_}-rtl`]:g==="rtl",[`${_}-bordered`]:v.wireframe},x==null?void 0:x.className,i,o,S,C),I=Object.assign(Object.assign({},x==null?void 0:x.style),a);return w(y.createElement(y.Fragment,null,v.wireframe&&y.createElement(qZ,{prefixCls:_}),y.createElement(BZ,Object.assign({},T,f,{style:I,prefixCls:_,selectPrefixCls:j,className:R,selectComponentClass:u||(F?_F:SF),locale:M,showSizeChanger:O}))))},QZ=t=>{const{componentCls:e,iconCls:n,antCls:r,zIndexPopup:i,colorText:o,colorWarning:a,marginXXS:s,marginXS:l,fontSize:u,fontWeightStrong:c,colorTextHeading:d}=t;return{[e]:{zIndex:i,[`&${r}-popover`]:{fontSize:u},[`${e}-message`]:{marginBottom:l,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e}-message-icon ${n}`]:{color:a,fontSize:u,lineHeight:1,marginInlineEnd:l},[`${e}-title`]:{fontWeight:c,color:d,"&:only-child":{fontWeight:"normal"}},[`${e}-description`]:{marginTop:s,color:o}},[`${e}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:l}}}}},eJ=t=>{const{zIndexPopupBase:e}=t;return{zIndexPopup:e+60}},CF=ol("Popconfirm",t=>QZ(t),eJ,{resetStyle:!1});var tJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const TF=t=>{const{prefixCls:e,okButtonProps:n,cancelButtonProps:r,title:i,description:o,cancelText:a,okText:s,okType:l="primary",icon:u=y.createElement(NP,null),showCancel:c=!0,close:d,onConfirm:f,onCancel:h,onPopupClick:v}=t,{getPrefixCls:m}=y.useContext(Uo),[g]=s$("Popconfirm",Bk.Popconfirm),x=pN(i),_=pN(o);return y.createElement("div",{className:`${e}-inner-content`,onClick:v},y.createElement("div",{className:`${e}-message`},u&&y.createElement("span",{className:`${e}-message-icon`},u),y.createElement("div",{className:`${e}-message-text`},x&&y.createElement("div",{className:`${e}-title`},x),_&&y.createElement("div",{className:`${e}-description`},_))),y.createElement("div",{className:`${e}-buttons`},c&&y.createElement(es,Object.assign({onClick:h,size:"small"},r),a||(g==null?void 0:g.cancelText)),y.createElement(sK,{buttonProps:Object.assign(Object.assign({size:"small"},lK(l)),n),actionFn:f,close:d,prefixCls:m("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},s||(g==null?void 0:g.okText))))},nJ=t=>{const{prefixCls:e,placement:n,className:r,style:i}=t,o=tJ(t,["prefixCls","placement","className","style"]),{getPrefixCls:a}=y.useContext(Uo),s=a("popconfirm",e),[l]=CF(s);return l(y.createElement(aK,{placement:n,className:rt(s,r),style:i,content:y.createElement(TF,Object.assign({prefixCls:s},o))}))};var rJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const iJ=y.forwardRef((t,e)=>{var n,r;const{prefixCls:i,placement:o="top",trigger:a="click",okType:s="primary",icon:l=y.createElement(NP,null),children:u,overlayClassName:c,onOpenChange:d,onVisibleChange:f}=t,h=rJ(t,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:v}=y.useContext(Uo),[m,g]=Gr(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),x=(M,D)=>{g(M,!0),f==null||f(M),d==null||d(M,D)},_=M=>{x(!1,M)},w=M=>{var D;return(D=t.onConfirm)===null||D===void 0?void 0:D.call(void 0,M)},S=M=>{var D;x(!1,M),(D=t.onCancel)===null||D===void 0||D.call(void 0,M)},C=(M,D)=>{const{disabled:F=!1}=t;F||x(M,D)},O=v("popconfirm",i),T=rt(O,c),[N]=CF(O);return N(y.createElement(Dd,Object.assign({},vw(h,["title"]),{trigger:a,placement:o,onOpenChange:C,open:m,ref:e,overlayClassName:T,content:y.createElement(TF,Object.assign({okType:s,icon:l},t,{prefixCls:O,close:_,onConfirm:w,onCancel:S})),"data-popover-inject":!0}),u))}),ww=iJ;ww._InternalPanelDoNotUseOrYouWillBeFired=nJ;function p_(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_X(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw o}}}}var oJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"}},{tag:"path",attrs:{d:"M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"}}]},name:"aim",theme:"outlined"},aJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:oJ}))},sJ=y.forwardRef(aJ),lJ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},uJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:lJ}))},cJ=y.forwardRef(uJ),dJ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},fJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:dJ}))},hJ=y.forwardRef(fJ),pJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 00-11.3 0L403.6 366.3a7.23 7.23 0 005.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z"}}]},name:"column-height",theme:"outlined"},vJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:pJ}))},mJ=y.forwardRef(vJ),gJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},yJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:gJ}))},bJ=y.forwardRef(yJ),xJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},_J=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:xJ}))},SJ=y.forwardRef(_J),wJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},EJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:wJ}))},CJ=y.forwardRef(EJ),TJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},RJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:TJ}))},PJ=y.forwardRef(RJ),AJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"},OJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:AJ}))},RF=y.forwardRef(OJ),NJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"},MJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:NJ}))},IJ=y.forwardRef(MJ),DJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},LJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:DJ}))},kJ=y.forwardRef(LJ),$J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},FJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:$J}))},PF=y.forwardRef(FJ),jJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},BJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:jJ}))},AF=y.forwardRef(BJ),zJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},HJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:zJ}))},UJ=y.forwardRef(HJ),GJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},WJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:GJ}))},VJ=y.forwardRef(WJ),XJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},KJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:XJ}))},OF=y.forwardRef(KJ),YJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 474H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zm-353.6-74.7c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H550V104c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v156h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.6zm11.4 225.4a7.14 7.14 0 00-11.3 0L405.6 752.3a7.23 7.23 0 005.7 11.7H474v156c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V764h62.8c6 0 9.4-7 5.7-11.7L517.7 624.7z"}}]},name:"vertical-align-middle",theme:"outlined"},qJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:YJ}))},ZJ=y.forwardRef(qJ),JJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},QJ=function(e,n){return y.createElement(Go,Kn({},e,{ref:n,icon:JJ}))},eQ=y.forwardRef(QJ);function tQ(t,e){var n=t.disabled,r=t.prefixCls,i=t.character,o=t.characterRender,a=t.index,s=t.count,l=t.value,u=t.allowHalf,c=t.focused,d=t.onHover,f=t.onClick,h=function(C){d(C,a)},v=function(C){f(C,a)},m=function(C){C.keyCode===$r.ENTER&&f(C,a)},g=a+1,x=new Set([r]);l===0&&a===0&&c?x.add("".concat(r,"-focused")):u&&l+.5>=g&&l<g?(x.add("".concat(r,"-half")),x.add("".concat(r,"-active")),c&&x.add("".concat(r,"-focused"))):(g<=l?x.add("".concat(r,"-full")):x.add("".concat(r,"-zero")),g===l&&c&&x.add("".concat(r,"-focused")));var _=typeof i=="function"?i(t):i,w=je.createElement("li",{className:rt(Array.from(x)),ref:e},je.createElement("div",{onClick:n?null:v,onKeyDown:n?null:m,onMouseMove:n?null:h,role:"radio","aria-checked":l>a?"true":"false","aria-posinset":a+1,"aria-setsize":s,tabIndex:n?-1:0},je.createElement("div",{className:"".concat(r,"-first")},_),je.createElement("div",{className:"".concat(r,"-second")},_)));return o&&(w=o(w,t)),w}const nQ=je.forwardRef(tQ);function rQ(){var t=y.useRef({});function e(r){return t.current[r]}function n(r){return function(i){t.current[r]=i}}return[e,n]}function iQ(t){var e=t.pageXOffset,n="scrollLeft";if(typeof e!="number"){var r=t.document;e=r.documentElement[n],typeof e!="number"&&(e=r.body[n])}return e}function oQ(t){var e,n,r=t.ownerDocument,i=r.body,o=r&&r.documentElement,a=t.getBoundingClientRect();return e=a.left,n=a.top,e-=o.clientLeft||i.clientLeft||0,n-=o.clientTop||i.clientTop||0,{left:e,top:n}}function aQ(t){var e=oQ(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=iQ(r),e.left}var sQ=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function lQ(t,e){var n=t.prefixCls,r=n===void 0?"rc-rate":n,i=t.className,o=t.defaultValue,a=t.value,s=t.count,l=s===void 0?5:s,u=t.allowHalf,c=u===void 0?!1:u,d=t.allowClear,f=d===void 0?!0:d,h=t.keyboard,v=h===void 0?!0:h,m=t.character,g=m===void 0?"★":m,x=t.characterRender,_=t.disabled,w=t.direction,S=w===void 0?"ltr":w,C=t.tabIndex,O=C===void 0?0:C,T=t.autoFocus,N=t.onHoverChange,M=t.onChange,D=t.onFocus,F=t.onBlur,j=t.onKeyDown,R=t.onMouseLeave,I=Nn(t,sQ),L=rQ(),k=ht(L,2),B=k[0],q=k[1],X=je.useRef(null),z=function(){if(!_){var xe;(xe=X.current)===null||xe===void 0||xe.focus()}};je.useImperativeHandle(e,function(){return{focus:z,blur:function(){if(!_){var xe;(xe=X.current)===null||xe===void 0||xe.blur()}}}});var H=Gr(o||0,{value:a}),Q=ht(H,2),V=Q[0],W=Q[1],te=Gr(null),K=ht(te,2),U=K[0],ee=K[1],fe=function(xe,He){var Fe=S==="rtl",Ve=xe+1;if(c){var qe=B(xe),vt=aQ(qe),tt=qe.clientWidth;(Fe&&He-vt>tt/2||!Fe&&He-vt<tt/2)&&(Ve-=.5)}return Ve},ve=function(xe){W(xe),M==null||M(xe)},Ce=je.useState(!1),ue=ht(Ce,2),we=ue[0],pe=ue[1],$e=function(){pe(!0),D==null||D()},Ne=function(){pe(!1),F==null||F()},Le=je.useState(null),Ie=ht(Le,2),Z=Ie[0],ie=Ie[1],ne=function(xe,He){var Fe=fe(He,xe.pageX);Fe!==U&&(ie(Fe),ee(null)),N==null||N(Fe)},Te=function(xe){_||(ie(null),ee(null),N==null||N(void 0)),xe&&(R==null||R(xe))},$=function(xe,He){var Fe=fe(He,xe.pageX),Ve=!1;f&&(Ve=Fe===V),Te(),ve(Ve?0:Fe),ee(Ve?Fe:null)},se=function(xe){var He=xe.keyCode,Fe=S==="rtl",Ve=c?.5:1;v&&(He===$r.RIGHT&&V<l&&!Fe?(ve(V+Ve),xe.preventDefault()):He===$r.LEFT&&V>0&&!Fe||He===$r.RIGHT&&V>0&&Fe?(ve(V-Ve),xe.preventDefault()):He===$r.LEFT&&V<l&&Fe&&(ve(V+Ve),xe.preventDefault())),j==null||j(xe)};je.useEffect(function(){T&&!_&&z()},[]);var re=new Array(l).fill(0).map(function(ye,xe){return je.createElement(nQ,{ref:q(xe),index:xe,count:l,disabled:_,prefixCls:"".concat(r,"-star"),allowHalf:c,value:Z===null?V:Z,onClick:$,onHover:ne,key:ye||xe,character:g,characterRender:x,focused:we})}),oe=rt(r,i,J(J({},"".concat(r,"-disabled"),_),"".concat(r,"-rtl"),S==="rtl"));return je.createElement("ul",Kn({className:oe,onMouseLeave:Te,tabIndex:_?-1:O,onFocus:_?null:$e,onBlur:_?null:Ne,onKeyDown:_?null:se,ref:X,role:"radiogroup"},gp(I,{aria:!0,data:!0,attr:!0})),re)}const uQ=je.forwardRef(lQ),cQ=t=>{const{componentCls:e}=t;return{[`${e}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:t.marginXS},"> div":{transition:`all ${t.motionDurationMid}, outline 0s`,"&:hover":{transform:t.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${bt(t.lineWidth)} dashed ${t.starColor}`,transform:t.starHoverScale}},"&-first, &-second":{color:t.starBg,transition:`all ${t.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${e}-star-first, &-half ${e}-star-second`]:{opacity:1},[`&-half ${e}-star-first, &-full ${e}-star-second`]:{color:"inherit"}}}},dQ=t=>({[`&-rtl${t.componentCls}`]:{direction:"rtl"}}),fQ=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},xc(t)),{display:"inline-block",margin:0,padding:0,color:t.starColor,fontSize:t.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${e} ${e}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),cQ(t)),dQ(t))}},hQ=t=>({starColor:t.yellow6,starSize:t.controlHeightLG*.5,starHoverScale:"scale(1.1)",starBg:t.colorFillContent}),pQ=ol("Rate",t=>{const e=Pu(t,{});return[fQ(e)]},hQ);var vQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const $N=y.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,style:o,tooltips:a,character:s=y.createElement(VJ,null),disabled:l}=t,u=vQ(t,["prefixCls","className","rootClassName","style","tooltips","character","disabled"]),c=(C,O)=>{let{index:T}=O;return a?y.createElement(wi,{title:a[T]},C):C},{getPrefixCls:d,direction:f,rate:h}=y.useContext(Uo),v=d("rate",n),[m,g,x]=pQ(v),_=Object.assign(Object.assign({},h==null?void 0:h.style),o),w=y.useContext(dw),S=l??w;return m(y.createElement(uQ,Object.assign({ref:e,character:s,characterRender:c,disabled:S},u,{className:rt(r,i,g,x,h==null?void 0:h.className),style:_,prefixCls:v,direction:f})))}),mQ=()=>y.createElement("svg",{width:"252",height:"294"},y.createElement("title",null,"No Found"),y.createElement("defs",null,y.createElement("path",{d:"M0 .387h251.772v251.772H0z"})),y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("g",{transform:"translate(0 .012)"},y.createElement("mask",{fill:"#fff"}),y.createElement("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),y.createElement("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),y.createElement("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),y.createElement("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),y.createElement("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),y.createElement("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),y.createElement("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),y.createElement("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1677ff"}),y.createElement("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),y.createElement("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),y.createElement("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),y.createElement("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),y.createElement("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),y.createElement("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),y.createElement("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),y.createElement("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),y.createElement("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),y.createElement("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),y.createElement("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),y.createElement("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),y.createElement("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),y.createElement("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),y.createElement("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),y.createElement("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),y.createElement("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),y.createElement("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),y.createElement("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),y.createElement("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),y.createElement("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),y.createElement("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),y.createElement("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),y.createElement("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),y.createElement("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),y.createElement("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),y.createElement("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),y.createElement("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),y.createElement("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),y.createElement("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),y.createElement("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}))),gQ=()=>y.createElement("svg",{width:"254",height:"294"},y.createElement("title",null,"Server Error"),y.createElement("defs",null,y.createElement("path",{d:"M0 .335h253.49v253.49H0z"}),y.createElement("path",{d:"M0 293.665h253.49V.401H0z"})),y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("g",{transform:"translate(0 .067)"},y.createElement("mask",{fill:"#fff"}),y.createElement("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),y.createElement("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),y.createElement("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),y.createElement("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),y.createElement("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),y.createElement("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),y.createElement("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),y.createElement("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),y.createElement("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),y.createElement("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),y.createElement("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),y.createElement("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),y.createElement("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),y.createElement("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),y.createElement("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),y.createElement("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),y.createElement("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),y.createElement("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),y.createElement("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),y.createElement("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),y.createElement("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),y.createElement("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),y.createElement("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),y.createElement("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),y.createElement("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),y.createElement("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),y.createElement("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),y.createElement("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),y.createElement("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),y.createElement("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),y.createElement("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),y.createElement("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),y.createElement("mask",{fill:"#fff"}),y.createElement("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),y.createElement("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),y.createElement("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),y.createElement("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),y.createElement("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),y.createElement("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),y.createElement("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),y.createElement("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),y.createElement("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),y.createElement("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),y.createElement("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"}))),yQ=t=>{const{componentCls:e,lineHeightHeading3:n,iconCls:r,padding:i,paddingXL:o,paddingXS:a,paddingLG:s,marginXS:l,lineHeight:u}=t;return{[e]:{padding:`${bt(t.calc(s).mul(2).equal())} ${bt(o)}`,"&-rtl":{direction:"rtl"}},[`${e} ${e}-image`]:{width:t.imageWidth,height:t.imageHeight,margin:"auto"},[`${e} ${e}-icon`]:{marginBottom:s,textAlign:"center",[`& > ${r}`]:{fontSize:t.iconFontSize}},[`${e} ${e}-title`]:{color:t.colorTextHeading,fontSize:t.titleFontSize,lineHeight:n,marginBlock:l,textAlign:"center"},[`${e} ${e}-subtitle`]:{color:t.colorTextDescription,fontSize:t.subtitleFontSize,lineHeight:u,textAlign:"center"},[`${e} ${e}-content`]:{marginTop:s,padding:`${bt(s)} ${bt(t.calc(i).mul(2.5).equal())}`,backgroundColor:t.colorFillAlter},[`${e} ${e}-extra`]:{margin:t.extraMargin,textAlign:"center","& > *":{marginInlineEnd:a,"&:last-child":{marginInlineEnd:0}}}}},bQ=t=>{const{componentCls:e,iconCls:n}=t;return{[`${e}-success ${e}-icon > ${n}`]:{color:t.resultSuccessIconColor},[`${e}-error ${e}-icon > ${n}`]:{color:t.resultErrorIconColor},[`${e}-info ${e}-icon > ${n}`]:{color:t.resultInfoIconColor},[`${e}-warning ${e}-icon > ${n}`]:{color:t.resultWarningIconColor}}},xQ=t=>[yQ(t),bQ(t)],_Q=t=>xQ(t),SQ=t=>({titleFontSize:t.fontSizeHeading3,subtitleFontSize:t.fontSize,iconFontSize:t.fontSizeHeading3*3,extraMargin:`${t.paddingLG}px 0 0 0`}),wQ=ol("Result",t=>{const e=t.colorInfo,n=t.colorError,r=t.colorSuccess,i=t.colorWarning,o=Pu(t,{resultInfoIconColor:e,resultErrorIconColor:n,resultSuccessIconColor:r,resultWarningIconColor:i,imageWidth:250,imageHeight:295});return[_Q(o)]},SQ),EQ=()=>y.createElement("svg",{width:"251",height:"294"},y.createElement("title",null,"Unauthorized"),y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),y.createElement("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),y.createElement("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),y.createElement("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),y.createElement("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),y.createElement("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),y.createElement("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),y.createElement("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),y.createElement("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),y.createElement("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),y.createElement("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),y.createElement("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),y.createElement("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),y.createElement("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),y.createElement("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),y.createElement("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),y.createElement("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),y.createElement("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),y.createElement("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),y.createElement("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),y.createElement("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),y.createElement("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),y.createElement("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),y.createElement("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),y.createElement("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),y.createElement("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),y.createElement("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),y.createElement("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),y.createElement("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),y.createElement("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),y.createElement("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),y.createElement("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),y.createElement("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),y.createElement("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),y.createElement("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),y.createElement("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}))),CQ={success:uK,error:l$,info:NP,warning:eQ},Ib={404:mQ,500:gQ,403:EQ},TQ=Object.keys(Ib),RQ=t=>{let{prefixCls:e,icon:n,status:r}=t;const i=rt(`${e}-icon`);if(TQ.includes(`${r}`)){const a=Ib[r];return y.createElement("div",{className:`${i} ${e}-image`},y.createElement(a,null))}const o=y.createElement(CQ[r]);return n===null||n===!1?null:y.createElement("div",{className:i},n||o)},PQ=t=>{let{prefixCls:e,extra:n}=t;return n?y.createElement("div",{className:`${e}-extra`},n):null},Ew=t=>{let{prefixCls:e,className:n,rootClassName:r,subTitle:i,title:o,style:a,children:s,status:l="info",icon:u,extra:c}=t;const{getPrefixCls:d,direction:f,result:h}=y.useContext(Uo),v=d("result",e),[m,g,x]=wQ(v),_=rt(v,`${v}-${l}`,n,h==null?void 0:h.className,r,{[`${v}-rtl`]:f==="rtl"},g,x),w=Object.assign(Object.assign({},h==null?void 0:h.style),a);return m(y.createElement("div",{className:_,style:w},y.createElement(RQ,{prefixCls:v,status:l,icon:u}),y.createElement("div",{className:`${v}-title`},o),i&&y.createElement("div",{className:`${v}-subtitle`},i),y.createElement(PQ,{prefixCls:v,extra:c}),s&&y.createElement("div",{className:`${v}-content`},s)))};Ew.PRESENTED_IMAGE_403=Ib[403];Ew.PRESENTED_IMAGE_404=Ib[404];Ew.PRESENTED_IMAGE_500=Ib[500];var AQ=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function FN(t){return typeof t=="string"}function NF(t){var e,n=t.className,r=t.prefixCls,i=t.style,o=t.active,a=t.status,s=t.iconPrefix,l=t.icon;t.wrapperStyle;var u=t.stepNumber,c=t.disabled,d=t.description,f=t.title,h=t.subTitle,v=t.progressDot,m=t.stepIcon,g=t.tailContent,x=t.icons,_=t.stepIndex,w=t.onStepClick,S=t.onClick,C=t.render,O=Nn(t,AQ),T=!!w&&!c,N={};T&&(N.role="button",N.tabIndex=0,N.onClick=function(I){S==null||S(I),w(_)},N.onKeyDown=function(I){var L=I.which;(L===$r.ENTER||L===$r.SPACE)&&w(_)});var M=function(){var L,k,B=rt("".concat(r,"-icon"),"".concat(s,"icon"),(L={},J(L,"".concat(s,"icon-").concat(l),l&&FN(l)),J(L,"".concat(s,"icon-check"),!l&&a==="finish"&&(x&&!x.finish||!x)),J(L,"".concat(s,"icon-cross"),!l&&a==="error"&&(x&&!x.error||!x)),L)),q=y.createElement("span",{className:"".concat(r,"-icon-dot")});return v?typeof v=="function"?k=y.createElement("span",{className:"".concat(r,"-icon")},v(q,{index:u-1,status:a,title:f,description:d})):k=y.createElement("span",{className:"".concat(r,"-icon")},q):l&&!FN(l)?k=y.createElement("span",{className:"".concat(r,"-icon")},l):x&&x.finish&&a==="finish"?k=y.createElement("span",{className:"".concat(r,"-icon")},x.finish):x&&x.error&&a==="error"?k=y.createElement("span",{className:"".concat(r,"-icon")},x.error):l||a==="finish"||a==="error"?k=y.createElement("span",{className:B}):k=y.createElement("span",{className:"".concat(r,"-icon")},u),m&&(k=m({index:u-1,status:a,title:f,description:d,node:k})),k},D=a||"wait",F=rt("".concat(r,"-item"),"".concat(r,"-item-").concat(D),n,(e={},J(e,"".concat(r,"-item-custom"),l),J(e,"".concat(r,"-item-active"),o),J(e,"".concat(r,"-item-disabled"),c===!0),e)),j=P({},i),R=y.createElement("div",Kn({},O,{className:F,style:j}),y.createElement("div",Kn({onClick:S},N,{className:"".concat(r,"-item-container")}),y.createElement("div",{className:"".concat(r,"-item-tail")},g),y.createElement("div",{className:"".concat(r,"-item-icon")},M()),y.createElement("div",{className:"".concat(r,"-item-content")},y.createElement("div",{className:"".concat(r,"-item-title")},f,h&&y.createElement("div",{title:typeof h=="string"?h:void 0,className:"".concat(r,"-item-subtitle")},h)),d&&y.createElement("div",{className:"".concat(r,"-item-description")},d))));return C&&(R=C(R)||null),R}var OQ=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function HP(t){var e,n=t.prefixCls,r=n===void 0?"rc-steps":n,i=t.style,o=i===void 0?{}:i,a=t.className;t.children;var s=t.direction,l=s===void 0?"horizontal":s,u=t.type,c=u===void 0?"default":u,d=t.labelPlacement,f=d===void 0?"horizontal":d,h=t.iconPrefix,v=h===void 0?"rc":h,m=t.status,g=m===void 0?"process":m,x=t.size,_=t.current,w=_===void 0?0:_,S=t.progressDot,C=S===void 0?!1:S,O=t.stepIcon,T=t.initial,N=T===void 0?0:T,M=t.icons,D=t.onChange,F=t.itemRender,j=t.items,R=j===void 0?[]:j,I=Nn(t,OQ),L=c==="navigation",k=c==="inline",B=k||C,q=k?"horizontal":l,X=k?void 0:x,z=B?"vertical":f,H=rt(r,"".concat(r,"-").concat(q),a,(e={},J(e,"".concat(r,"-").concat(X),X),J(e,"".concat(r,"-label-").concat(z),q==="horizontal"),J(e,"".concat(r,"-dot"),!!B),J(e,"".concat(r,"-navigation"),L),J(e,"".concat(r,"-inline"),k),e)),Q=function(te){D&&w!==te&&D(te)},V=function(te,K){var U=P({},te),ee=N+K;return g==="error"&&K===w-1&&(U.className="".concat(r,"-next-error")),U.status||(ee===w?U.status=g:ee<w?U.status="finish":U.status="wait"),k&&(U.icon=void 0,U.subTitle=void 0),!U.render&&F&&(U.render=function(fe){return F(U,fe)}),je.createElement(NF,Kn({},U,{active:ee===w,stepNumber:ee+1,stepIndex:ee,key:ee,prefixCls:r,iconPrefix:v,wrapperStyle:o,progressDot:B,stepIcon:O,icons:M,onStepClick:D&&Q}))};return je.createElement("div",Kn({className:H,style:o},I),R.filter(function(W){return W}).map(V))}HP.Step=NF;const NQ=t=>{const{componentCls:e,customIconTop:n,customIconSize:r,customIconFontSize:i}=t;return{[`${e}-item-custom`]:{[`> ${e}-item-container > ${e}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${e}-icon`]:{top:n,width:r,height:r,fontSize:i,lineHeight:bt(r)}}},[`&:not(${e}-vertical)`]:{[`${e}-item-custom`]:{[`${e}-item-icon`]:{width:"auto",background:"none"}}}}},MQ=t=>{const{componentCls:e}=t,n=`${e}-item`;return{[`${e}-horizontal`]:{[`${n}-tail`]:{transform:"translateY(-50%)"}}}},IQ=t=>{const{componentCls:e,inlineDotSize:n,inlineTitleColor:r,inlineTailColor:i}=t,o=t.calc(t.paddingXS).add(t.lineWidth).equal(),a={[`${e}-item-container ${e}-item-content ${e}-item-title`]:{color:r}};return{[`&${e}-inline`]:{width:"auto",display:"inline-flex",[`${e}-item`]:{flex:"none","&-container":{padding:`${bt(o)} ${bt(t.paddingXXS)} 0`,margin:`0 ${bt(t.calc(t.marginXXS).div(2).equal())}`,borderRadius:t.borderRadiusSM,cursor:"pointer",transition:`background-color ${t.motionDurationMid}`,"&:hover":{background:t.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:n,height:n,marginInlineStart:`calc(50% - ${bt(t.calc(n).div(2).equal())})`,[`> ${e}-icon`]:{top:0},[`${e}-icon-dot`]:{borderRadius:t.calc(t.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:t.calc(t.marginXS).sub(t.lineWidth).equal()},"&-title":{color:r,fontSize:t.fontSizeSM,lineHeight:t.lineHeightSM,fontWeight:"normal",marginBottom:t.calc(t.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:t.calc(n).div(2).add(o).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:t.lineWidth,borderRadius:0,marginInlineStart:0,background:i}},[`&:first-child ${e}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${e}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${e}-item-icon ${e}-icon ${e}-icon-dot`]:{backgroundColor:t.colorBorderBg,border:`${bt(t.lineWidth)} ${t.lineType} ${i}`}},a),"&-finish":Object.assign({[`${e}-item-tail::after`]:{backgroundColor:i},[`${e}-item-icon ${e}-icon ${e}-icon-dot`]:{backgroundColor:i,border:`${bt(t.lineWidth)} ${t.lineType} ${i}`}},a),"&-error":a,"&-active, &-process":Object.assign({[`${e}-item-icon`]:{width:n,height:n,marginInlineStart:`calc(50% - ${bt(t.calc(n).div(2).equal())})`,top:0}},a),[`&:not(${e}-item-active) > ${e}-item-container[role='button']:hover`]:{[`${e}-item-title`]:{color:r}}}}}},DQ=t=>{const{componentCls:e,iconSize:n,lineHeight:r,iconSizeSM:i}=t;return{[`&${e}-label-vertical`]:{[`${e}-item`]:{overflow:"visible","&-tail":{marginInlineStart:t.calc(n).div(2).add(t.controlHeightLG).equal(),padding:`0 ${bt(t.paddingLG)}`},"&-content":{display:"block",width:t.calc(n).div(2).add(t.controlHeightLG).mul(2).equal(),marginTop:t.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:t.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:t.marginXXS,marginInlineStart:0,lineHeight:r}},[`&${e}-small:not(${e}-dot)`]:{[`${e}-item`]:{"&-icon":{marginInlineStart:t.calc(n).sub(i).div(2).add(t.controlHeightLG).equal()}}}}}},LQ=t=>{const{componentCls:e,navContentMaxWidth:n,navArrowColor:r,stepsNavActiveColor:i,motionDurationSlow:o}=t;return{[`&${e}-navigation`]:{paddingTop:t.paddingSM,[`&${e}-small`]:{[`${e}-item`]:{"&-container":{marginInlineStart:t.calc(t.marginSM).mul(-1).equal()}}},[`${e}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:t.calc(t.margin).mul(-1).equal(),paddingBottom:t.paddingSM,textAlign:"start",transition:`opacity ${o}`,[`${e}-item-content`]:{maxWidth:n},[`${e}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},uw),{"&::after":{display:"none"}})},[`&:not(${e}-item-active)`]:{[`${e}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${bt(t.calc(t.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,borderTop:`${bt(t.lineWidth)} ${t.lineType} ${r}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${bt(t.lineWidth)} ${t.lineType} ${r}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:t.lineWidthBold,backgroundColor:i,transition:`width ${o}, inset-inline-start ${o}`,transitionTimingFunction:"ease-out",content:'""'}},[`${e}-item${e}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${e}-navigation${e}-vertical`]:{[`> ${e}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${e}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:t.calc(t.lineWidth).mul(3).equal(),height:`calc(100% - ${bt(t.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:t.calc(t.controlHeight).mul(.25).equal(),height:t.calc(t.controlHeight).mul(.25).equal(),marginBottom:t.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${e}-item-container > ${e}-item-tail`]:{visibility:"hidden"}}},[`&${e}-navigation${e}-horizontal`]:{[`> ${e}-item > ${e}-item-container > ${e}-item-tail`]:{visibility:"hidden"}}}},kQ=t=>{const{antCls:e,componentCls:n,iconSize:r,iconSizeSM:i,processIconColor:o,marginXXS:a,lineWidthBold:s,lineWidth:l,paddingXXS:u}=t,c=t.calc(r).add(t.calc(s).mul(4).equal()).equal(),d=t.calc(i).add(t.calc(t.lineWidth).mul(4).equal()).equal();return{[`&${n}-with-progress`]:{[`${n}-item`]:{paddingTop:u,[`&-process ${n}-item-container ${n}-item-icon ${n}-icon`]:{color:o}},[`&${n}-vertical > ${n}-item `]:{paddingInlineStart:u,[`> ${n}-item-container > ${n}-item-tail`]:{top:a,insetInlineStart:t.calc(r).div(2).sub(l).add(u).equal()}},[`&, &${n}-small`]:{[`&${n}-horizontal ${n}-item:first-child`]:{paddingBottom:u,paddingInlineStart:u}},[`&${n}-small${n}-vertical > ${n}-item > ${n}-item-container > ${n}-item-tail`]:{insetInlineStart:t.calc(i).div(2).sub(l).add(u).equal()},[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:t.calc(r).div(2).add(u).equal()},[`${n}-item-icon`]:{position:"relative",[`${e}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${bt(c)} !important`,height:`${bt(c)} !important`}}},[`&${n}-small`]:{[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:t.calc(i).div(2).add(u).equal()},[`${n}-item-icon ${e}-progress-inner`]:{width:`${bt(d)} !important`,height:`${bt(d)} !important`}}}}},$Q=t=>{const{componentCls:e,descriptionMaxWidth:n,lineHeight:r,dotCurrentSize:i,dotSize:o,motionDurationSlow:a}=t;return{[`&${e}-dot, &${e}-dot${e}-small`]:{[`${e}-item`]:{"&-title":{lineHeight:r},"&-tail":{top:t.calc(t.dotSize).sub(t.calc(t.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${bt(t.calc(n).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${bt(t.calc(t.marginSM).mul(2).equal())})`,height:t.calc(t.lineWidth).mul(3).equal(),marginInlineStart:t.marginSM}},"&-icon":{width:o,height:o,marginInlineStart:t.calc(t.descriptionMaxWidth).sub(o).div(2).equal(),paddingInlineEnd:0,lineHeight:bt(o),background:"transparent",border:0,[`${e}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${a}`,"&::after":{position:"absolute",top:t.calc(t.marginSM).mul(-1).equal(),insetInlineStart:t.calc(o).sub(t.calc(t.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:t.calc(t.controlHeightLG).mul(1.5).equal(),height:t.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:n},[`&-process ${e}-item-icon`]:{position:"relative",top:t.calc(o).sub(i).div(2).equal(),width:i,height:i,lineHeight:bt(i),background:"none",marginInlineStart:t.calc(t.descriptionMaxWidth).sub(i).div(2).equal()},[`&-process ${e}-icon`]:{[`&:first-child ${e}-icon-dot`]:{insetInlineStart:0}}}},[`&${e}-vertical${e}-dot`]:{[`${e}-item-icon`]:{marginTop:t.calc(t.controlHeight).sub(o).div(2).equal(),marginInlineStart:0,background:"none"},[`${e}-item-process ${e}-item-icon`]:{marginTop:t.calc(t.controlHeight).sub(i).div(2).equal(),top:0,insetInlineStart:t.calc(o).sub(i).div(2).equal(),marginInlineStart:0},[`${e}-item > ${e}-item-container > ${e}-item-tail`]:{top:t.calc(t.controlHeight).sub(o).div(2).equal(),insetInlineStart:0,margin:0,padding:`${bt(t.calc(o).add(t.paddingXS).equal())} 0 ${bt(t.paddingXS)}`,"&::after":{marginInlineStart:t.calc(o).sub(t.lineWidth).div(2).equal()}},[`&${e}-small`]:{[`${e}-item-icon`]:{marginTop:t.calc(t.controlHeightSM).sub(o).div(2).equal()},[`${e}-item-process ${e}-item-icon`]:{marginTop:t.calc(t.controlHeightSM).sub(i).div(2).equal()},[`${e}-item > ${e}-item-container > ${e}-item-tail`]:{top:t.calc(t.controlHeightSM).sub(o).div(2).equal()}},[`${e}-item:first-child ${e}-icon-dot`]:{insetInlineStart:0},[`${e}-item-content`]:{width:"inherit"}}}},FQ=t=>{const{componentCls:e}=t;return{[`&${e}-rtl`]:{direction:"rtl",[`${e}-item`]:{"&-subtitle":{float:"left"}},[`&${e}-navigation`]:{[`${e}-item::after`]:{transform:"rotate(-45deg)"}},[`&${e}-vertical`]:{[`> ${e}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${e}-item-icon`]:{float:"right"}}},[`&${e}-dot`]:{[`${e}-item-icon ${e}-icon-dot, &${e}-small ${e}-item-icon ${e}-icon-dot`]:{float:"right"}}}}},jQ=t=>{const{componentCls:e,iconSizeSM:n,fontSizeSM:r,fontSize:i,colorTextDescription:o}=t;return{[`&${e}-small`]:{[`&${e}-horizontal:not(${e}-label-vertical) ${e}-item`]:{paddingInlineStart:t.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${e}-item-icon`]:{width:n,height:n,marginTop:0,marginBottom:0,marginInline:`0 ${bt(t.marginXS)}`,fontSize:r,lineHeight:bt(n),textAlign:"center",borderRadius:n},[`${e}-item-title`]:{paddingInlineEnd:t.paddingSM,fontSize:i,lineHeight:bt(n),"&::after":{top:t.calc(n).div(2).equal()}},[`${e}-item-description`]:{color:o,fontSize:i},[`${e}-item-tail`]:{top:t.calc(n).div(2).sub(t.paddingXXS).equal()},[`${e}-item-custom ${e}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${e}-icon`]:{fontSize:n,lineHeight:bt(n),transform:"none"}}}}},BQ=t=>{const{componentCls:e,iconSizeSM:n,iconSize:r}=t;return{[`&${e}-vertical`]:{display:"flex",flexDirection:"column",[`> ${e}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${e}-item-icon`]:{float:"left",marginInlineEnd:t.margin},[`${e}-item-content`]:{display:"block",minHeight:t.calc(t.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${e}-item-title`]:{lineHeight:bt(r)},[`${e}-item-description`]:{paddingBottom:t.paddingSM}},[`> ${e}-item > ${e}-item-container > ${e}-item-tail`]:{position:"absolute",top:0,insetInlineStart:t.calc(r).div(2).sub(t.lineWidth).equal(),width:t.lineWidth,height:"100%",padding:`${bt(t.calc(t.marginXXS).mul(1.5).add(r).equal())} 0 ${bt(t.calc(t.marginXXS).mul(1.5).equal())}`,"&::after":{width:t.lineWidth,height:"100%"}},[`> ${e}-item:not(:last-child) > ${e}-item-container > ${e}-item-tail`]:{display:"block"},[` > ${e}-item > ${e}-item-container > ${e}-item-content > ${e}-item-title`]:{"&::after":{display:"none"}},[`&${e}-small ${e}-item-container`]:{[`${e}-item-tail`]:{position:"absolute",top:0,insetInlineStart:t.calc(n).div(2).sub(t.lineWidth).equal(),padding:`${bt(t.calc(t.marginXXS).mul(1.5).add(n).equal())} 0 ${bt(t.calc(t.marginXXS).mul(1.5).equal())}`},[`${e}-item-title`]:{lineHeight:bt(n)}}}}},zQ="wait",HQ="process",UQ="finish",GQ="error",lx=(t,e)=>{const n=`${e.componentCls}-item`,r=`${t}IconColor`,i=`${t}TitleColor`,o=`${t}DescriptionColor`,a=`${t}TailColor`,s=`${t}IconBgColor`,l=`${t}IconBorderColor`,u=`${t}DotColor`;return{[`${n}-${t} ${n}-icon`]:{backgroundColor:e[s],borderColor:e[l],[`> ${e.componentCls}-icon`]:{color:e[r],[`${e.componentCls}-icon-dot`]:{background:e[u]}}},[`${n}-${t}${n}-custom ${n}-icon`]:{[`> ${e.componentCls}-icon`]:{color:e[u]}},[`${n}-${t} > ${n}-container > ${n}-content > ${n}-title`]:{color:e[i],"&::after":{backgroundColor:e[a]}},[`${n}-${t} > ${n}-container > ${n}-content > ${n}-description`]:{color:e[o]},[`${n}-${t} > ${n}-container > ${n}-tail::after`]:{backgroundColor:e[a]}}},WQ=t=>{const{componentCls:e,motionDurationSlow:n}=t,r=`${e}-item`,i=`${r}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[r]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${r}-container > ${r}-tail, > ${r}-container >  ${r}-content > ${r}-title::after`]:{display:"none"}}},[`${r}-container`]:{outline:"none","&:focus-visible":{[i]:Object.assign({},fT(t))}},[`${i}, ${r}-content`]:{display:"inline-block",verticalAlign:"top"},[i]:{width:t.iconSize,height:t.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:t.marginXS,fontSize:t.iconFontSize,fontFamily:t.fontFamily,lineHeight:bt(t.iconSize),textAlign:"center",borderRadius:t.iconSize,border:`${bt(t.lineWidth)} ${t.lineType} transparent`,transition:`background-color ${n}, border-color ${n}`,[`${e}-icon`]:{position:"relative",top:t.iconTop,color:t.colorPrimary,lineHeight:1}},[`${r}-tail`]:{position:"absolute",top:t.calc(t.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:t.lineWidth,background:t.colorSplit,borderRadius:t.lineWidth,transition:`background ${n}`,content:'""'}},[`${r}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:t.padding,color:t.colorText,fontSize:t.fontSizeLG,lineHeight:bt(t.titleLineHeight),"&::after":{position:"absolute",top:t.calc(t.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:t.lineWidth,background:t.processTailColor,content:'""'}},[`${r}-subtitle`]:{display:"inline",marginInlineStart:t.marginXS,color:t.colorTextDescription,fontWeight:"normal",fontSize:t.fontSize},[`${r}-description`]:{color:t.colorTextDescription,fontSize:t.fontSize}},lx(zQ,t)),lx(HQ,t)),{[`${r}-process > ${r}-container > ${r}-title`]:{fontWeight:t.fontWeightStrong}}),lx(UQ,t)),lx(GQ,t)),{[`${r}${e}-next-error > ${e}-item-title::after`]:{background:t.colorError},[`${r}-disabled`]:{cursor:"not-allowed"}})},VQ=t=>{const{componentCls:e,motionDurationSlow:n}=t;return{[`& ${e}-item`]:{[`&:not(${e}-item-active)`]:{[`& > ${e}-item-container[role='button']`]:{cursor:"pointer",[`${e}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${e}-icon`]:{transition:`color ${n}`}},"&:hover":{[`${e}-item`]:{"&-title, &-subtitle, &-description":{color:t.colorPrimary}}}},[`&:not(${e}-item-process)`]:{[`& > ${e}-item-container[role='button']:hover`]:{[`${e}-item`]:{"&-icon":{borderColor:t.colorPrimary,[`${e}-icon`]:{color:t.colorPrimary}}}}}}},[`&${e}-horizontal:not(${e}-label-vertical)`]:{[`${e}-item`]:{paddingInlineStart:t.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${e}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:t.descriptionMaxWidth,whiteSpace:"normal"}}}}},XQ=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xc(t)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),WQ(t)),VQ(t)),NQ(t)),jQ(t)),BQ(t)),MQ(t)),DQ(t)),$Q(t)),LQ(t)),FQ(t)),kQ(t)),IQ(t))}},KQ=t=>({titleLineHeight:t.controlHeight,customIconSize:t.controlHeight,customIconTop:0,customIconFontSize:t.controlHeightSM,iconSize:t.controlHeight,iconTop:-.5,iconFontSize:t.fontSize,iconSizeSM:t.fontSizeHeading3,dotSize:t.controlHeight/4,dotCurrentSize:t.controlHeightLG/4,navArrowColor:t.colorTextDisabled,navContentMaxWidth:"auto",descriptionMaxWidth:140,waitIconColor:t.wireframe?t.colorTextDisabled:t.colorTextLabel,waitIconBgColor:t.wireframe?t.colorBgContainer:t.colorFillContent,waitIconBorderColor:t.wireframe?t.colorTextDisabled:"transparent",finishIconBgColor:t.wireframe?t.colorBgContainer:t.controlItemBgActive,finishIconBorderColor:t.wireframe?t.colorPrimary:t.controlItemBgActive}),YQ=ol("Steps",t=>{const{colorTextDisabled:e,controlHeightLG:n,colorTextLightSolid:r,colorText:i,colorPrimary:o,colorTextDescription:a,colorTextQuaternary:s,colorError:l,colorBorderSecondary:u,colorSplit:c}=t,d=Pu(t,{processIconColor:r,processTitleColor:i,processDescriptionColor:i,processIconBgColor:o,processIconBorderColor:o,processDotColor:o,processTailColor:c,waitTitleColor:a,waitDescriptionColor:a,waitTailColor:c,waitDotColor:e,finishIconColor:o,finishTitleColor:i,finishDescriptionColor:a,finishTailColor:o,finishDotColor:o,errorIconColor:r,errorTitleColor:l,errorDescriptionColor:l,errorTailColor:c,errorIconBgColor:l,errorIconBorderColor:l,errorDotColor:l,stepsNavActiveColor:o,stepsProgressSize:n,inlineDotSize:6,inlineTitleColor:s,inlineTailColor:u});return[XQ(d)]},KQ);function qQ(t){return t.filter(e=>e)}function ZQ(t,e){if(t)return t;const n=_c(e).map(r=>{if(y.isValidElement(r)){const{props:i}=r;return Object.assign({},i)}return null});return qQ(n)}var JQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ST=t=>{const{percent:e,size:n,className:r,rootClassName:i,direction:o,items:a,responsive:s=!0,current:l=0,children:u,style:c}=t,d=JQ(t,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:f}=Nb(s),{getPrefixCls:h,direction:v,steps:m}=y.useContext(Uo),g=y.useMemo(()=>s&&f?"vertical":o,[f,o]),x=Dp(n),_=h("steps",t.prefixCls),[w,S,C]=YQ(_),O=t.type==="inline",T=h("",t.iconPrefix),N=ZQ(a,u),M=O?void 0:e,D=Object.assign(Object.assign({},m==null?void 0:m.style),c),F=rt(m==null?void 0:m.className,{[`${_}-rtl`]:v==="rtl",[`${_}-with-progress`]:M!==void 0},r,i,S,C),j={finish:y.createElement(cK,{className:`${_}-finish-icon`}),error:y.createElement(Vk,{className:`${_}-error-icon`})},R=L=>{let{node:k,status:B}=L;if(B==="process"&&M!==void 0){const q=x==="small"?32:40;return y.createElement("div",{className:`${_}-progress-icon`},y.createElement(u$,{type:"circle",percent:M,size:q,strokeWidth:4,format:()=>null}),k)}return k},I=(L,k)=>L.description?y.createElement(wi,{title:L.description},k):k;return w(y.createElement(HP,Object.assign({icons:j},d,{style:D,current:l,size:x,items:N,itemRender:O?I:void 0,stepIcon:R,direction:g,prefixCls:_,iconPrefix:T,className:F})))};ST.Step=HP.Step;var wf={},Db="rc-table-internal-hook";function UP(t){var e=y.createContext(void 0),n=function(i){var o=i.value,a=i.children,s=y.useRef(o);s.current=o;var l=y.useState(function(){return{getValue:function(){return s.current},listeners:new Set}}),u=ht(l,1),c=u[0];return Uy(function(){Hf.unstable_batchedUpdates(function(){c.listeners.forEach(function(d){d(o)})})},[o]),y.createElement(e.Provider,{value:c},a)};return{Context:e,Provider:n,defaultValue:t}}function Oa(t,e){var n=tl(typeof e=="function"?e:function(d){if(e===void 0)return d;if(!Array.isArray(e))return d[e];var f={};return e.forEach(function(h){f[h]=d[h]}),f}),r=y.useContext(t==null?void 0:t.Context),i=r||{},o=i.listeners,a=i.getValue,s=y.useRef();s.current=n(r?a():t==null?void 0:t.defaultValue);var l=y.useState({}),u=ht(l,2),c=u[1];return Uy(function(){if(!r)return;function d(f){var h=n(f);Wy(s.current,h,!0)||c({})}return o.add(d),function(){o.delete(d)}},[r]),s.current}function QQ(){var t=y.createContext(null);function e(){return y.useContext(t)}function n(i,o){var a=uN(i),s=function(u,c){var d=a?{ref:c}:{},f=y.useRef(0),h=y.useRef(u),v=e();return v!==null?y.createElement(i,Kn({},u,d)):((!o||o(h.current,u))&&(f.current+=1),h.current=u,y.createElement(t.Provider,{value:f.current},y.createElement(i,Kn({},u,d))))};return a?y.forwardRef(s):s}function r(i,o){var a=uN(i),s=function(u,c){var d=a?{ref:c}:{};return e(),y.createElement(i,Kn({},u,d))};return a?y.memo(y.forwardRef(s),o):y.memo(s,o)}return{makeImmutable:n,responseImmutable:r,useImmutableMark:e}}var GP=QQ(),MF=GP.makeImmutable,sg=GP.responseImmutable,eee=GP.useImmutableMark,os=UP(),IF=y.createContext({renderWithProps:!1}),tee="RC_TABLE_KEY";function nee(t){return t==null?[]:Array.isArray(t)?t:[t]}function Cw(t){var e=[],n={};return t.forEach(function(r){for(var i=r||{},o=i.key,a=i.dataIndex,s=o||nee(a).join("-")||tee;n[s];)s="".concat(s,"_next");n[s]=!0,e.push(s)}),e}function wT(t){return t!=null}function ree(t){return typeof t=="number"&&!Number.isNaN(t)}function iee(t){return t&&ur(t)==="object"&&!Array.isArray(t)&&!y.isValidElement(t)}function oee(t,e,n,r,i,o){var a=y.useContext(IF),s=eee(),l=$_(function(){if(wT(r))return[r];var u=e==null||e===""?[]:Array.isArray(e)?e:[e],c=xo(t,u),d=c,f=void 0;if(i){var h=i(c,t,n);iee(h)?(d=h.children,f=h.props,a.renderWithProps=!0):d=h}return[d,f]},[s,t,r,e,i,n],function(u,c){if(o){var d=ht(u,2),f=d[1],h=ht(c,2),v=h[1];return o(v,f)}return a.renderWithProps?!0:!Wy(u,c,!0)});return l}function aee(t,e,n,r){var i=t+e-1;return t<=r&&i>=n}function see(t,e){return Oa(os,function(n){var r=aee(t,e||1,n.hoverStartRow,n.hoverEndRow);return[r,n.onHover]})}var lee=function(e){var n=e.ellipsis,r=e.rowType,i=e.children,o,a=n===!0?{showTitle:!0}:n;return a&&(a.showTitle||r==="header")&&(typeof i=="string"||typeof i=="number"?o=i.toString():y.isValidElement(i)&&typeof i.props.children=="string"&&(o=i.props.children)),o};function uee(t){var e,n,r,i,o,a,s,l,u=t.component,c=t.children,d=t.ellipsis,f=t.scope,h=t.prefixCls,v=t.className,m=t.align,g=t.record,x=t.render,_=t.dataIndex,w=t.renderIndex,S=t.shouldCellUpdate,C=t.index,O=t.rowType,T=t.colSpan,N=t.rowSpan,M=t.fixLeft,D=t.fixRight,F=t.firstFixLeft,j=t.lastFixLeft,R=t.firstFixRight,I=t.lastFixRight,L=t.appendNode,k=t.additionalProps,B=k===void 0?{}:k,q=t.isSticky,X="".concat(h,"-cell"),z=Oa(os,["supportSticky","allColumnsFixedLeft","rowHoverable"]),H=z.supportSticky,Q=z.allColumnsFixedLeft,V=z.rowHoverable,W=oee(g,_,w,c,x,S),te=ht(W,2),K=te[0],U=te[1],ee={},fe=typeof M=="number"&&H,ve=typeof D=="number"&&H;fe&&(ee.position="sticky",ee.left=M),ve&&(ee.position="sticky",ee.right=D);var Ce=(e=(n=(r=U==null?void 0:U.colSpan)!==null&&r!==void 0?r:B.colSpan)!==null&&n!==void 0?n:T)!==null&&e!==void 0?e:1,ue=(i=(o=(a=U==null?void 0:U.rowSpan)!==null&&a!==void 0?a:B.rowSpan)!==null&&o!==void 0?o:N)!==null&&i!==void 0?i:1,we=see(C,ue),pe=ht(we,2),$e=pe[0],Ne=pe[1],Le=tl(function(se){var re;g&&Ne(C,C+ue-1),B==null||(re=B.onMouseEnter)===null||re===void 0||re.call(B,se)}),Ie=tl(function(se){var re;g&&Ne(-1,-1),B==null||(re=B.onMouseLeave)===null||re===void 0||re.call(B,se)});if(Ce===0||ue===0)return null;var Z=(s=B.title)!==null&&s!==void 0?s:lee({rowType:O,ellipsis:d,children:K}),ie=rt(X,v,(l={},J(J(J(J(J(J(J(J(J(J(l,"".concat(X,"-fix-left"),fe&&H),"".concat(X,"-fix-left-first"),F&&H),"".concat(X,"-fix-left-last"),j&&H),"".concat(X,"-fix-left-all"),j&&Q&&H),"".concat(X,"-fix-right"),ve&&H),"".concat(X,"-fix-right-first"),R&&H),"".concat(X,"-fix-right-last"),I&&H),"".concat(X,"-ellipsis"),d),"".concat(X,"-with-append"),L),"".concat(X,"-fix-sticky"),(fe||ve)&&q&&H),J(l,"".concat(X,"-row-hover"),!U&&$e)),B.className,U==null?void 0:U.className),ne={};m&&(ne.textAlign=m);var Te=P(P(P(P({},U==null?void 0:U.style),ee),ne),B.style),$=K;return ur($)==="object"&&!Array.isArray($)&&!y.isValidElement($)&&($=null),d&&(j||R)&&($=y.createElement("span",{className:"".concat(X,"-content")},$)),y.createElement(u,Kn({},U,B,{className:ie,style:Te,title:Z,scope:f,onMouseEnter:V?Le:void 0,onMouseLeave:V?Ie:void 0,colSpan:Ce!==1?Ce:null,rowSpan:ue!==1?ue:null}),L,$)}const lg=y.memo(uee);function WP(t,e,n,r,i){var o=n[t]||{},a=n[e]||{},s,l;o.fixed==="left"?s=r.left[i==="rtl"?e:t]:a.fixed==="right"&&(l=r.right[i==="rtl"?t:e]);var u=!1,c=!1,d=!1,f=!1,h=n[e+1],v=n[t-1],m=h&&!h.fixed||v&&!v.fixed||n.every(function(S){return S.fixed==="left"});if(i==="rtl"){if(s!==void 0){var g=v&&v.fixed==="left";f=!g&&m}else if(l!==void 0){var x=h&&h.fixed==="right";d=!x&&m}}else if(s!==void 0){var _=h&&h.fixed==="left";u=!_&&m}else if(l!==void 0){var w=v&&v.fixed==="right";c=!w&&m}return{fixLeft:s,fixRight:l,lastFixLeft:u,firstFixRight:c,lastFixRight:d,firstFixLeft:f,isSticky:r.isSticky}}var DF=y.createContext({});function cee(t){var e=t.className,n=t.index,r=t.children,i=t.colSpan,o=i===void 0?1:i,a=t.rowSpan,s=t.align,l=Oa(os,["prefixCls","direction"]),u=l.prefixCls,c=l.direction,d=y.useContext(DF),f=d.scrollColumnIndex,h=d.stickyOffsets,v=d.flattenColumns,m=n+o-1,g=m+1===f?o+1:o,x=WP(n,n+g-1,v,h,c);return y.createElement(lg,Kn({className:e,index:n,component:"td",prefixCls:u,record:null,dataIndex:null,align:s,colSpan:g,rowSpan:a,render:function(){return r}},x))}var dee=["children"];function fee(t){var e=t.children,n=Nn(t,dee);return y.createElement("tr",n,e)}function Tw(t){var e=t.children;return e}Tw.Row=fee;Tw.Cell=cee;function hee(t){var e=t.children,n=t.stickyOffsets,r=t.flattenColumns,i=Oa(os,"prefixCls"),o=r.length-1,a=r[o],s=y.useMemo(function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:a!=null&&a.scrollbar?o:null}},[a,r,o,n]);return y.createElement(DF.Provider,{value:s},y.createElement("tfoot",{className:"".concat(i,"-summary")},e))}const ux=sg(hee);var LF=Tw;function pee(t){return null}function vee(t){return null}function kF(t,e,n,r,i,o,a){t.push({record:e,indent:n,index:a});var s=o(e),l=i==null?void 0:i.has(s);if(e&&Array.isArray(e[r])&&l)for(var u=0;u<e[r].length;u+=1)kF(t,e[r][u],n+1,r,i,o,u)}function $F(t,e,n,r){var i=y.useMemo(function(){if(n!=null&&n.size){for(var o=[],a=0;a<(t==null?void 0:t.length);a+=1){var s=t[a];kF(o,s,0,e,n,r,a)}return o}return t==null?void 0:t.map(function(l,u){return{record:l,indent:0,index:u}})},[t,e,n,r]);return i}function FF(t,e,n,r){var i=Oa(os,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),o=i.flattenColumns,a=i.expandableType,s=i.expandedKeys,l=i.childrenColumnName,u=i.onTriggerExpand,c=i.rowExpandable,d=i.onRow,f=i.expandRowByClick,h=i.rowClassName,v=a==="nest",m=a==="row"&&(!c||c(t)),g=m||v,x=s&&s.has(e),_=l&&t&&t[l],w=tl(u),S=d==null?void 0:d(t,n),C=S==null?void 0:S.onClick,O=function(D){f&&g&&u(t,D);for(var F=arguments.length,j=new Array(F>1?F-1:0),R=1;R<F;R++)j[R-1]=arguments[R];C==null||C.apply(void 0,[D].concat(j))},T;typeof h=="string"?T=h:typeof h=="function"&&(T=h(t,n,r));var N=Cw(o);return P(P({},i),{},{columnsKey:N,nestExpandable:v,expanded:x,hasNestChildren:_,record:t,onTriggerExpand:w,rowSupportExpand:m,expandable:g,rowProps:P(P({},S),{},{className:rt(T,S==null?void 0:S.className),onClick:O})})}function jF(t){var e=t.prefixCls,n=t.children,r=t.component,i=t.cellComponent,o=t.className,a=t.expanded,s=t.colSpan,l=t.isEmpty,u=Oa(os,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),c=u.scrollbarSize,d=u.fixHeader,f=u.fixColumn,h=u.componentWidth,v=u.horizonScroll,m=n;return(l?v&&h:f)&&(m=y.createElement("div",{style:{width:h-(d&&!l?c:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(e,"-expanded-row-fixed")},m)),y.createElement(r,{className:o,style:{display:a?null:"none"}},y.createElement(lg,{component:i,prefixCls:e,colSpan:s},m))}function mee(t){var e=t.prefixCls,n=t.record,r=t.onExpand,i=t.expanded,o=t.expandable,a="".concat(e,"-row-expand-icon");if(!o)return y.createElement("span",{className:rt(a,"".concat(e,"-row-spaced"))});var s=function(u){r(n,u),u.stopPropagation()};return y.createElement("span",{className:rt(a,J(J({},"".concat(e,"-row-expanded"),i),"".concat(e,"-row-collapsed"),!i)),onClick:s})}function gee(t,e,n){var r=[];function i(o){(o||[]).forEach(function(a,s){r.push(e(a,s)),i(a[n])})}return i(t),r}function BF(t,e,n,r){return typeof t=="string"?t:typeof t=="function"?t(e,n,r):""}function zF(t,e,n,r,i){var o=t.record,a=t.prefixCls,s=t.columnsKey,l=t.fixedInfoList,u=t.expandIconColumnIndex,c=t.nestExpandable,d=t.indentSize,f=t.expandIcon,h=t.expanded,v=t.hasNestChildren,m=t.onTriggerExpand,g=s[n],x=l[n],_;n===(u||0)&&c&&(_=y.createElement(y.Fragment,null,y.createElement("span",{style:{paddingLeft:"".concat(d*r,"px")},className:"".concat(a,"-row-indent indent-level-").concat(r)}),f({prefixCls:a,expanded:h,expandable:v,record:o,onExpand:m})));var w;return e.onCell&&(w=e.onCell(o,i)),{key:g,fixedInfo:x,appendCellNode:_,additionalCellProps:w||{}}}function yee(t){var e=t.className,n=t.style,r=t.record,i=t.index,o=t.renderIndex,a=t.rowKey,s=t.indent,l=s===void 0?0:s,u=t.rowComponent,c=t.cellComponent,d=t.scopeCellComponent,f=FF(r,a,i,l),h=f.prefixCls,v=f.flattenColumns,m=f.expandedRowClassName,g=f.expandedRowRender,x=f.rowProps,_=f.expanded,w=f.rowSupportExpand,S=y.useRef(!1);S.current||(S.current=_);var C=BF(m,r,i,l),O=y.createElement(u,Kn({},x,{"data-row-key":a,className:rt(e,"".concat(h,"-row"),"".concat(h,"-row-level-").concat(l),x==null?void 0:x.className,J({},C,l>=1)),style:P(P({},n),x==null?void 0:x.style)}),v.map(function(M,D){var F=M.render,j=M.dataIndex,R=M.className,I=zF(f,M,D,l,i),L=I.key,k=I.fixedInfo,B=I.appendCellNode,q=I.additionalCellProps;return y.createElement(lg,Kn({className:R,ellipsis:M.ellipsis,align:M.align,scope:M.rowScope,component:M.rowScope?d:c,prefixCls:h,key:L,record:r,index:i,renderIndex:o,dataIndex:j,render:F,shouldCellUpdate:M.shouldCellUpdate},k,{appendNode:B,additionalProps:q}))})),T;if(w&&(S.current||_)){var N=g(r,i,l+1,_);T=y.createElement(jF,{expanded:_,className:rt("".concat(h,"-expanded-row"),"".concat(h,"-expanded-row-level-").concat(l+1),C),prefixCls:h,component:u,cellComponent:c,colSpan:v.length,isEmpty:!1},N)}return y.createElement(y.Fragment,null,O,T)}const bee=sg(yee);function xee(t){var e=t.columnKey,n=t.onColumnResize,r=y.useRef();return y.useEffect(function(){r.current&&n(e,r.current.offsetWidth)},[]),y.createElement(Td,{data:e},y.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},y.createElement("div",{style:{height:0,overflow:"hidden"}}," ")))}function _ee(t){var e=t.prefixCls,n=t.columnsKey,r=t.onColumnResize;return y.createElement("tr",{"aria-hidden":"true",className:"".concat(e,"-measure-row"),style:{height:0,fontSize:0}},y.createElement(Td.Collection,{onBatchResize:function(o){o.forEach(function(a){var s=a.data,l=a.size;r(s,l.offsetWidth)})}},n.map(function(i){return y.createElement(xee,{key:i,columnKey:i,onColumnResize:r})})))}function See(t){var e=t.data,n=t.measureColumnWidth,r=Oa(os,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),i=r.prefixCls,o=r.getComponent,a=r.onColumnResize,s=r.flattenColumns,l=r.getRowKey,u=r.expandedKeys,c=r.childrenColumnName,d=r.emptyNode,f=$F(e,c,u,l),h=y.useRef({renderWithProps:!1}),v=o(["body","wrapper"],"tbody"),m=o(["body","row"],"tr"),g=o(["body","cell"],"td"),x=o(["body","cell"],"th"),_;e.length?_=f.map(function(S,C){var O=S.record,T=S.indent,N=S.index,M=l(O,C);return y.createElement(bee,{key:M,rowKey:M,record:O,index:C,renderIndex:N,rowComponent:m,cellComponent:g,scopeCellComponent:x,getRowKey:l,indent:T})}):_=y.createElement(jF,{expanded:!0,className:"".concat(i,"-placeholder"),prefixCls:i,component:m,cellComponent:g,colSpan:s.length,isEmpty:!0},d);var w=Cw(s);return y.createElement(IF.Provider,{value:h.current},y.createElement(v,{className:"".concat(i,"-tbody")},n&&y.createElement(_ee,{prefixCls:i,columnsKey:w,onColumnResize:a}),_))}const wee=sg(See);var Eee=["expandable"],fy="RC_TABLE_INTERNAL_COL_DEFINE";function Cee(t){var e=t.expandable,n=Nn(t,Eee),r;return"expandable"in t?r=P(P({},n),e):r=n,r.showExpandColumn===!1&&(r.expandIconColumnIndex=-1),r}var Tee=["columnType"];function HF(t){for(var e=t.colWidths,n=t.columns,r=t.columCount,i=Oa(os,["tableLayout"]),o=i.tableLayout,a=[],s=r||n.length,l=!1,u=s-1;u>=0;u-=1){var c=e[u],d=n&&n[u],f=void 0,h=void 0;if(d&&(f=d[fy],o==="auto"&&(h=d.minWidth)),c||h||f||l){var v=f||{};v.columnType;var m=Nn(v,Tee);a.unshift(y.createElement("col",Kn({key:u,style:{width:c,minWidth:h}},m))),l=!0}}return y.createElement("colgroup",null,a)}var Ree=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function Pee(t,e){return y.useMemo(function(){for(var n=[],r=0;r<e;r+=1){var i=t[r];if(i!==void 0)n[r]=i;else return null}return n},[t.join("_"),e])}var Aee=y.forwardRef(function(t,e){var n=t.className,r=t.noData,i=t.columns,o=t.flattenColumns,a=t.colWidths,s=t.columCount,l=t.stickyOffsets,u=t.direction,c=t.fixHeader,d=t.stickyTopOffset,f=t.stickyBottomOffset,h=t.stickyClassName,v=t.onScroll,m=t.maxContentScroll,g=t.children,x=Nn(t,Ree),_=Oa(os,["prefixCls","scrollbarSize","isSticky","getComponent"]),w=_.prefixCls,S=_.scrollbarSize,C=_.isSticky,O=_.getComponent,T=O(["header","table"],"table"),N=C&&!c?0:S,M=y.useRef(null),D=y.useCallback(function(q){cN(e,q),cN(M,q)},[]);y.useEffect(function(){var q;function X(z){var H=z,Q=H.currentTarget,V=H.deltaX;V&&(v({currentTarget:Q,scrollLeft:Q.scrollLeft+V}),z.preventDefault())}return(q=M.current)===null||q===void 0||q.addEventListener("wheel",X,{passive:!1}),function(){var z;(z=M.current)===null||z===void 0||z.removeEventListener("wheel",X)}},[]);var F=y.useMemo(function(){return o.every(function(q){return q.width})},[o]),j=o[o.length-1],R={fixed:j?j.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(w,"-cell-scrollbar")}}},I=y.useMemo(function(){return N?[].concat(_n(i),[R]):i},[N,i]),L=y.useMemo(function(){return N?[].concat(_n(o),[R]):o},[N,o]),k=y.useMemo(function(){var q=l.right,X=l.left;return P(P({},l),{},{left:u==="rtl"?[].concat(_n(X.map(function(z){return z+N})),[0]):X,right:u==="rtl"?q:[].concat(_n(q.map(function(z){return z+N})),[0]),isSticky:C})},[N,l,C]),B=Pee(a,s);return y.createElement("div",{style:P({overflow:"hidden"},C?{top:d,bottom:f}:{}),ref:D,className:rt(n,J({},h,!!h))},y.createElement(T,{style:{tableLayout:"fixed",visibility:r||B?null:"hidden"}},(!r||!m||F)&&y.createElement(HF,{colWidths:B?[].concat(_n(B),[N]):[],columCount:s+1,columns:L}),g(P(P({},x),{},{stickyOffsets:k,columns:I,flattenColumns:L}))))});const jN=y.memo(Aee);var Oee=function(e){var n=e.cells,r=e.stickyOffsets,i=e.flattenColumns,o=e.rowComponent,a=e.cellComponent,s=e.onHeaderRow,l=e.index,u=Oa(os,["prefixCls","direction"]),c=u.prefixCls,d=u.direction,f;s&&(f=s(n.map(function(v){return v.column}),l));var h=Cw(n.map(function(v){return v.column}));return y.createElement(o,f,n.map(function(v,m){var g=v.column,x=WP(v.colStart,v.colEnd,i,r,d),_;return g&&g.onHeaderCell&&(_=v.column.onHeaderCell(g)),y.createElement(lg,Kn({},v,{scope:g.title?v.colSpan>1?"colgroup":"col":null,ellipsis:g.ellipsis,align:g.align,component:a,prefixCls:c,key:h[m]},x,{additionalProps:_,rowType:"header"}))}))};function Nee(t){var e=[];function n(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[l]=e[l]||[];var u=s,c=a.filter(Boolean).map(function(d){var f={key:d.key,className:d.className||"",children:d.title,column:d,colStart:u},h=1,v=d.children;return v&&v.length>0&&(h=n(v,u,l+1).reduce(function(m,g){return m+g},0),f.hasSubColumns=!0),"colSpan"in d&&(h=d.colSpan),"rowSpan"in d&&(f.rowSpan=d.rowSpan),f.colSpan=h,f.colEnd=f.colStart+h-1,e[l].push(f),u+=h,h});return c}n(t,0);for(var r=e.length,i=function(s){e[s].forEach(function(l){!("rowSpan"in l)&&!l.hasSubColumns&&(l.rowSpan=r-s)})},o=0;o<r;o+=1)i(o);return e}var Mee=function(e){var n=e.stickyOffsets,r=e.columns,i=e.flattenColumns,o=e.onHeaderRow,a=Oa(os,["prefixCls","getComponent"]),s=a.prefixCls,l=a.getComponent,u=y.useMemo(function(){return Nee(r)},[r]),c=l(["header","wrapper"],"thead"),d=l(["header","row"],"tr"),f=l(["header","cell"],"th");return y.createElement(c,{className:"".concat(s,"-thead")},u.map(function(h,v){var m=y.createElement(Oee,{key:v,flattenColumns:i,cells:h,stickyOffsets:n,rowComponent:d,cellComponent:f,onHeaderRow:o,index:v});return m}))};const BN=sg(Mee);function zN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof e=="number"?e:e.endsWith("%")?t*parseFloat(e)/100:null}function Iee(t,e,n){return y.useMemo(function(){if(e&&e>0){var r=0,i=0;t.forEach(function(f){var h=zN(e,f.width);h?r+=h:i+=1});var o=Math.max(e,n),a=Math.max(o-r,i),s=i,l=a/i,u=0,c=t.map(function(f){var h=P({},f),v=zN(e,h.width);if(v)h.width=v;else{var m=Math.floor(l);h.width=s===1?a:m,a-=m,s-=1}return u+=h.width,h});if(u<o){var d=o/u;a=o,c.forEach(function(f,h){var v=Math.floor(f.width*d);f.width=h===c.length-1?a:v,a-=v})}return[c,Math.max(u,o)]}return[t,e]},[t,e,n])}var Dee=["children"],Lee=["fixed"];function VP(t){return _c(t).filter(function(e){return y.isValidElement(e)}).map(function(e){var n=e.key,r=e.props,i=r.children,o=Nn(r,Dee),a=P({key:n},o);return i&&(a.children=VP(i)),a})}function UF(t){return t.filter(function(e){return e&&ur(e)==="object"&&!e.hidden}).map(function(e){var n=e.children;return n&&n.length>0?P(P({},e),{},{children:UF(n)}):e})}function ET(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return t.filter(function(n){return n&&ur(n)==="object"}).reduce(function(n,r,i){var o=r.fixed,a=o===!0?"left":o,s="".concat(e,"-").concat(i),l=r.children;return l&&l.length>0?[].concat(_n(n),_n(ET(l,s).map(function(u){return P({fixed:a},u)}))):[].concat(_n(n),[P(P({key:s},r),{},{fixed:a})])},[])}function kee(t){return t.map(function(e){var n=e.fixed,r=Nn(e,Lee),i=n;return n==="left"?i="right":n==="right"&&(i="left"),P({fixed:i},r)})}function $ee(t,e){var n=t.prefixCls,r=t.columns,i=t.children,o=t.expandable,a=t.expandedKeys,s=t.columnTitle,l=t.getRowKey,u=t.onTriggerExpand,c=t.expandIcon,d=t.rowExpandable,f=t.expandIconColumnIndex,h=t.direction,v=t.expandRowByClick,m=t.columnWidth,g=t.fixed,x=t.scrollWidth,_=t.clientWidth,w=y.useMemo(function(){var j=r||VP(i)||[];return UF(j.slice())},[r,i]),S=y.useMemo(function(){if(o){var j=w.slice();if(!j.includes(wf)){var R=f||0;R>=0&&j.splice(R,0,wf)}var I=j.indexOf(wf);j=j.filter(function(q,X){return q!==wf||X===I});var L=w[I],k;(g==="left"||g)&&!f?k="left":(g==="right"||g)&&f===w.length?k="right":k=L?L.fixed:null;var B=J(J(J(J(J(J({},fy,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",s),"fixed",k),"className","".concat(n,"-row-expand-icon-cell")),"width",m),"render",function(X,z,H){var Q=l(z,H),V=a.has(Q),W=d?d(z):!0,te=c({prefixCls:n,expanded:V,expandable:W,record:z,onExpand:u});return v?y.createElement("span",{onClick:function(U){return U.stopPropagation()}},te):te});return j.map(function(q){return q===wf?B:q})}return w.filter(function(q){return q!==wf})},[o,w,l,a,c,h]),C=y.useMemo(function(){var j=S;return e&&(j=e(j)),j.length||(j=[{render:function(){return null}}]),j},[e,S,h]),O=y.useMemo(function(){return h==="rtl"?kee(ET(C)):ET(C)},[C,h,x]),T=y.useMemo(function(){for(var j=-1,R=O.length-1;R>=0;R-=1){var I=O[R].fixed;if(I==="left"||I===!0){j=R;break}}if(j>=0)for(var L=0;L<=j;L+=1){var k=O[L].fixed;if(k!=="left"&&k!==!0)return!0}var B=O.findIndex(function(z){var H=z.fixed;return H==="right"});if(B>=0)for(var q=B;q<O.length;q+=1){var X=O[q].fixed;if(X!=="right")return!0}return!1},[O]),N=Iee(O,x,_),M=ht(N,2),D=M[0],F=M[1];return[C,D,F,T]}function Fee(t,e,n){var r=Cee(t),i=r.expandIcon,o=r.expandedRowKeys,a=r.defaultExpandedRowKeys,s=r.defaultExpandAllRows,l=r.expandedRowRender,u=r.onExpand,c=r.onExpandedRowsChange,d=r.childrenColumnName,f=i||mee,h=d||"children",v=y.useMemo(function(){return l?"row":t.expandable&&t.internalHooks===Db&&t.expandable.__PARENT_RENDER_ICON__||e.some(function(C){return C&&ur(C)==="object"&&C[h]})?"nest":!1},[!!l,e]),m=y.useState(function(){return a||(s?gee(e,n,h):[])}),g=ht(m,2),x=g[0],_=g[1],w=y.useMemo(function(){return new Set(o||x||[])},[o,x]),S=y.useCallback(function(C){var O=n(C,e.indexOf(C)),T,N=w.has(O);N?(w.delete(O),T=_n(w)):T=[].concat(_n(w),[O]),_(T),u&&u(!N,C),c&&c(T)},[n,w,e,u,c]);return[r,v,w,f,h,S]}function jee(t,e,n){var r=t.map(function(i,o){return WP(o,o,t,e,n)});return $_(function(){return r},[r],function(i,o){return!Wy(i,o)})}function GF(t){var e=y.useRef(t),n=y.useState({}),r=ht(n,2),i=r[1],o=y.useRef(null),a=y.useRef([]);function s(l){a.current.push(l);var u=Promise.resolve();o.current=u,u.then(function(){if(o.current===u){var c=a.current,d=e.current;a.current=[],c.forEach(function(f){e.current=f(e.current)}),o.current=null,d!==e.current&&i({})}})}return y.useEffect(function(){return function(){o.current=null}},[]),[e.current,s]}function Bee(t){var e=y.useRef(null),n=y.useRef();function r(){window.clearTimeout(n.current)}function i(a){e.current=a,r(),n.current=window.setTimeout(function(){e.current=null,n.current=void 0},100)}function o(){return e.current}return y.useEffect(function(){return r},[]),[i,o]}function zee(){var t=y.useState(-1),e=ht(t,2),n=e[0],r=e[1],i=y.useState(-1),o=ht(i,2),a=o[0],s=o[1],l=y.useCallback(function(u,c){r(u),s(c)},[]);return[n,a,l]}var HN=SX()?window:null;function Hee(t,e){var n=ur(t)==="object"?t:{},r=n.offsetHeader,i=r===void 0?0:r,o=n.offsetSummary,a=o===void 0?0:o,s=n.offsetScroll,l=s===void 0?0:s,u=n.getContainer,c=u===void 0?function(){return HN}:u,d=c()||HN,f=!!t;return y.useMemo(function(){return{isSticky:f,stickyClassName:f?"".concat(e,"-sticky-holder"):"",offsetHeader:i,offsetSummary:a,offsetScroll:l,container:d}},[f,l,i,a,e,d])}function Uee(t,e,n){var r=y.useMemo(function(){var i=e.length,o=function(u,c,d){for(var f=[],h=0,v=u;v!==c;v+=d)f.push(h),e[v].fixed&&(h+=t[v]||0);return f},a=o(0,i,1),s=o(i-1,-1,-1).reverse();return n==="rtl"?{left:s,right:a}:{left:a,right:s}},[t,e,n]);return r}function UN(t){var e=t.className,n=t.children;return y.createElement("div",{className:e},n)}var Gee=function(e,n){var r,i,o=e.scrollBodyRef,a=e.onScroll,s=e.offsetScroll,l=e.container,u=Oa(os,"prefixCls"),c=((r=o.current)===null||r===void 0?void 0:r.scrollWidth)||0,d=((i=o.current)===null||i===void 0?void 0:i.clientWidth)||0,f=c&&d*(d/c),h=y.useRef(),v=GF({scrollLeft:0,isHiddenScrollBar:!0}),m=ht(v,2),g=m[0],x=m[1],_=y.useRef({delta:0,x:0}),w=y.useState(!1),S=ht(w,2),C=S[0],O=S[1],T=y.useRef(null);y.useEffect(function(){return function(){wm.cancel(T.current)}},[]);var N=function(){O(!1)},M=function(I){I.persist(),_.current.delta=I.pageX-g.scrollLeft,_.current.x=0,O(!0),I.preventDefault()},D=function(I){var L,k=I||((L=window)===null||L===void 0?void 0:L.event),B=k.buttons;if(!C||B===0){C&&O(!1);return}var q=_.current.x+I.pageX-_.current.x-_.current.delta;q<=0&&(q=0),q+f>=d&&(q=d-f),a({scrollLeft:q/d*(c+2)}),_.current.x=I.pageX},F=function(){T.current=wm(function(){if(o.current){var I=mN(o.current).top,L=I+o.current.offsetHeight,k=l===window?document.documentElement.scrollTop+window.innerHeight:mN(l).top+l.clientHeight;L-vN()<=k||I>=k-s?x(function(B){return P(P({},B),{},{isHiddenScrollBar:!0})}):x(function(B){return P(P({},B),{},{isHiddenScrollBar:!1})})}})},j=function(I){x(function(L){return P(P({},L),{},{scrollLeft:I/c*d||0})})};return y.useImperativeHandle(n,function(){return{setScrollLeft:j,checkScrollBarVisible:F}}),y.useEffect(function(){var R=ax(document.body,"mouseup",N,!1),I=ax(document.body,"mousemove",D,!1);return F(),function(){R.remove(),I.remove()}},[f,C]),y.useEffect(function(){var R=ax(l,"scroll",F,!1),I=ax(window,"resize",F,!1);return function(){R.remove(),I.remove()}},[l]),y.useEffect(function(){g.isHiddenScrollBar||x(function(R){var I=o.current;return I?P(P({},R),{},{scrollLeft:I.scrollLeft/I.scrollWidth*I.clientWidth}):R})},[g.isHiddenScrollBar]),c<=d||!f||g.isHiddenScrollBar?null:y.createElement("div",{style:{height:vN(),width:d,bottom:s},className:"".concat(u,"-sticky-scroll")},y.createElement("div",{onMouseDown:M,ref:h,className:rt("".concat(u,"-sticky-scroll-bar"),J({},"".concat(u,"-sticky-scroll-bar-active"),C)),style:{width:"".concat(f,"px"),transform:"translate3d(".concat(g.scrollLeft,"px, 0, 0)")}}))};const Wee=y.forwardRef(Gee);var WF="rc-table",Vee=[],Xee={};function Kee(){return"No Data"}function Yee(t,e){var n=P({rowKey:"key",prefixCls:WF,emptyText:Kee},t),r=n.prefixCls,i=n.className,o=n.rowClassName,a=n.style,s=n.data,l=n.rowKey,u=n.scroll,c=n.tableLayout,d=n.direction,f=n.title,h=n.footer,v=n.summary,m=n.caption,g=n.id,x=n.showHeader,_=n.components,w=n.emptyText,S=n.onRow,C=n.onHeaderRow,O=n.onScroll,T=n.internalHooks,N=n.transformColumns,M=n.internalRefs,D=n.tailor,F=n.getContainerWidth,j=n.sticky,R=n.rowHoverable,I=R===void 0?!0:R,L=s||Vee,k=!!L.length,B=T===Db,q=y.useCallback(function(Ir,Kr){return xo(_,Ir)||Kr},[_]),X=y.useMemo(function(){return typeof l=="function"?l:function(Ir){var Kr=Ir&&Ir[l];return Kr}},[l]),z=q(["body"]),H=zee(),Q=ht(H,3),V=Q[0],W=Q[1],te=Q[2],K=Fee(n,L,X),U=ht(K,6),ee=U[0],fe=U[1],ve=U[2],Ce=U[3],ue=U[4],we=U[5],pe=u==null?void 0:u.x,$e=y.useState(0),Ne=ht($e,2),Le=Ne[0],Ie=Ne[1],Z=$ee(P(P(P({},n),ee),{},{expandable:!!ee.expandedRowRender,columnTitle:ee.columnTitle,expandedKeys:ve,getRowKey:X,onTriggerExpand:we,expandIcon:Ce,expandIconColumnIndex:ee.expandIconColumnIndex,direction:d,scrollWidth:B&&D&&typeof pe=="number"?pe:null,clientWidth:Le}),B?N:null),ie=ht(Z,4),ne=ie[0],Te=ie[1],$=ie[2],se=ie[3],re=$??pe,oe=y.useMemo(function(){return{columns:ne,flattenColumns:Te}},[ne,Te]),ye=y.useRef(),xe=y.useRef(),He=y.useRef(),Fe=y.useRef();y.useImperativeHandle(e,function(){return{nativeElement:ye.current,scrollTo:function(Kr){var Ro;if(He.current instanceof HTMLElement){var sa=Kr.index,_o=Kr.top,Ul=Kr.key;if(ree(_o)){var Gl;(Gl=He.current)===null||Gl===void 0||Gl.scrollTo({top:_o})}else{var Ls,Pc=Ul??X(L[sa]);(Ls=He.current.querySelector('[data-row-key="'.concat(Pc,'"]')))===null||Ls===void 0||Ls.scrollIntoView()}}else(Ro=He.current)!==null&&Ro!==void 0&&Ro.scrollTo&&He.current.scrollTo(Kr)}}});var Ve=y.useRef(),qe=y.useState(!1),vt=ht(qe,2),tt=vt[0],pt=vt[1],Ht=y.useState(!1),Lt=ht(Ht,2),hn=Lt[0],On=Lt[1],Yn=GF(new Map),kn=ht(Yn,2),bn=kn[0],Sn=kn[1],qn=Cw(Te),it=qn.map(function(Ir){return bn.get(Ir)}),It=y.useMemo(function(){return it},[it.join("_")]),Jt=Uee(It,Te,d),dn=u&&wT(u.y),Hn=u&&wT(re)||!!ee.fixed,Bn=Hn&&Te.some(function(Ir){var Kr=Ir.fixed;return Kr}),kt=y.useRef(),Yt=Hee(j,r),An=Yt.isSticky,Sr=Yt.offsetHeader,ai=Yt.offsetSummary,tr=Yt.offsetScroll,si=Yt.stickyClassName,xn=Yt.container,_e=y.useMemo(function(){return v==null?void 0:v(L)},[v,L]),Re=(dn||An)&&y.isValidElement(_e)&&_e.type===Tw&&_e.props.fixed,ae,Ee,be;dn&&(Ee={overflowY:k?"scroll":"auto",maxHeight:u.y}),Hn&&(ae={overflowX:"auto"},dn||(Ee={overflowY:"hidden"}),be={width:re===!0?"auto":re,minWidth:"100%"});var Ke=y.useCallback(function(Ir,Kr){dK(ye.current)&&Sn(function(Ro){if(Ro.get(Ir)!==Kr){var sa=new Map(Ro);return sa.set(Ir,Kr),sa}return Ro})},[]),lt=Bee(),dt=ht(lt,2),Je=dt[0],Tt=dt[1];function un(Ir,Kr){Kr&&(typeof Kr=="function"?Kr(Ir):Kr.scrollLeft!==Ir&&(Kr.scrollLeft=Ir,Kr.scrollLeft!==Ir&&setTimeout(function(){Kr.scrollLeft=Ir},0)))}var En=tl(function(Ir){var Kr=Ir.currentTarget,Ro=Ir.scrollLeft,sa=d==="rtl",_o=typeof Ro=="number"?Ro:Kr.scrollLeft,Ul=Kr||Xee;if(!Tt()||Tt()===Ul){var Gl;Je(Ul),un(_o,xe.current),un(_o,He.current),un(_o,Ve.current),un(_o,(Gl=kt.current)===null||Gl===void 0?void 0:Gl.setScrollLeft)}var Ls=Kr||xe.current;if(Ls){var Pc=B&&D&&typeof re=="number"?re:Ls.scrollWidth,Ud=Ls.clientWidth;if(Pc===Ud){pt(!1),On(!1);return}sa?(pt(-_o<Pc-Ud),On(-_o>0)):(pt(_o>0),On(_o<Pc-Ud))}}),ce=tl(function(Ir){En(Ir),O==null||O(Ir)}),Xe=function(){if(Hn&&He.current){var Kr;En({currentTarget:wX(He.current),scrollLeft:(Kr=He.current)===null||Kr===void 0?void 0:Kr.scrollLeft})}else pt(!1),On(!1)},_t=function(Kr){var Ro,sa=Kr.width;(Ro=kt.current)===null||Ro===void 0||Ro.checkScrollBarVisible();var _o=ye.current?ye.current.offsetWidth:sa;B&&F&&ye.current&&(_o=F(ye.current,_o)||_o),_o!==Le&&(Xe(),Ie(_o))},Qt=y.useRef(!1);y.useEffect(function(){Qt.current&&Xe()},[Hn,s,ne.length]),y.useEffect(function(){Qt.current=!0},[]);var Tn=y.useState(0),Nt=ht(Tn,2),Cn=Nt[0],he=Nt[1],Ze=y.useState(!0),Ut=ht(Ze,2),gn=Ut[0],Xn=Ut[1];y.useEffect(function(){(!D||!B)&&(He.current instanceof Element?he(gN(He.current).width):he(gN(Fe.current).width)),Xn(fK("position","sticky"))},[]),y.useEffect(function(){B&&M&&(M.body.current=He.current)});var wr=y.useCallback(function(Ir){return y.createElement(y.Fragment,null,y.createElement(BN,Ir),Re==="top"&&y.createElement(ux,Ir,_e))},[Re,_e]),en=y.useCallback(function(Ir){return y.createElement(ux,Ir,_e)},[_e]),$n=q(["table"],"table"),Un=y.useMemo(function(){return c||(Bn?re==="max-content"?"auto":"fixed":dn||An||Te.some(function(Ir){var Kr=Ir.ellipsis;return Kr})?"fixed":"auto")},[dn,Bn,Te,c,An]),vr,Wi={colWidths:It,columCount:Te.length,stickyOffsets:Jt,onHeaderRow:C,fixHeader:dn,scroll:u},Wa=y.useMemo(function(){return k?null:typeof w=="function"?w():w},[k,w]),oa=y.createElement(wee,{data:L,measureColumnWidth:dn||Hn||An}),no=y.createElement(HF,{colWidths:Te.map(function(Ir){var Kr=Ir.width;return Kr}),columns:Te}),Ma=m!=null?y.createElement("caption",{className:"".concat(r,"-caption")},m):void 0,pa=gp(n,{data:!0}),Zi=gp(n,{aria:!0});if(dn||An){var To;typeof z=="function"?(To=z(L,{scrollbarSize:Cn,ref:He,onScroll:En}),Wi.colWidths=Te.map(function(Ir,Kr){var Ro=Ir.width,sa=Kr===Te.length-1?Ro-Cn:Ro;return typeof sa=="number"&&!Number.isNaN(sa)?sa:0})):To=y.createElement("div",{style:P(P({},ae),Ee),onScroll:ce,ref:He,className:rt("".concat(r,"-body"))},y.createElement($n,Kn({style:P(P({},be),{},{tableLayout:Un})},Zi),Ma,no,oa,!Re&&_e&&y.createElement(ux,{stickyOffsets:Jt,flattenColumns:Te},_e)));var Mu=P(P(P({noData:!L.length,maxContentScroll:Hn&&re==="max-content"},Wi),oe),{},{direction:d,stickyClassName:si,onScroll:En});vr=y.createElement(y.Fragment,null,x!==!1&&y.createElement(jN,Kn({},Mu,{stickyTopOffset:Sr,className:"".concat(r,"-header"),ref:xe}),wr),To,Re&&Re!=="top"&&y.createElement(jN,Kn({},Mu,{stickyBottomOffset:ai,className:"".concat(r,"-summary"),ref:Ve}),en),An&&He.current&&He.current instanceof Element&&y.createElement(Wee,{ref:kt,offsetScroll:tr,scrollBodyRef:He,onScroll:En,container:xn}))}else vr=y.createElement("div",{style:P(P({},ae),Ee),className:rt("".concat(r,"-content")),onScroll:En,ref:He},y.createElement($n,Kn({style:P(P({},be),{},{tableLayout:Un})},Zi),Ma,no,x!==!1&&y.createElement(BN,Kn({},Wi,oe)),oa,_e&&y.createElement(ux,{stickyOffsets:Jt,flattenColumns:Te},_e)));var al=y.createElement("div",Kn({className:rt(r,i,J(J(J(J(J(J(J(J(J(J({},"".concat(r,"-rtl"),d==="rtl"),"".concat(r,"-ping-left"),tt),"".concat(r,"-ping-right"),hn),"".concat(r,"-layout-fixed"),c==="fixed"),"".concat(r,"-fixed-header"),dn),"".concat(r,"-fixed-column"),Bn),"".concat(r,"-fixed-column-gapped"),Bn&&se),"".concat(r,"-scroll-horizontal"),Hn),"".concat(r,"-has-fix-left"),Te[0]&&Te[0].fixed),"".concat(r,"-has-fix-right"),Te[Te.length-1]&&Te[Te.length-1].fixed==="right")),style:a,id:g,ref:ye},pa),f&&y.createElement(UN,{className:"".concat(r,"-title")},f(L)),y.createElement("div",{ref:Fe,className:"".concat(r,"-container")},vr),h&&y.createElement(UN,{className:"".concat(r,"-footer")},h(L)));Hn&&(al=y.createElement(Td,{onResize:_t},al));var Lo=jee(Te,Jt,d),aa=y.useMemo(function(){return{scrollX:re,prefixCls:r,getComponent:q,scrollbarSize:Cn,direction:d,fixedInfoList:Lo,isSticky:An,supportSticky:gn,componentWidth:Le,fixHeader:dn,fixColumn:Bn,horizonScroll:Hn,tableLayout:Un,rowClassName:o,expandedRowClassName:ee.expandedRowClassName,expandIcon:Ce,expandableType:fe,expandRowByClick:ee.expandRowByClick,expandedRowRender:ee.expandedRowRender,onTriggerExpand:we,expandIconColumnIndex:ee.expandIconColumnIndex,indentSize:ee.indentSize,allColumnsFixedLeft:Te.every(function(Ir){return Ir.fixed==="left"}),emptyNode:Wa,columns:ne,flattenColumns:Te,onColumnResize:Ke,hoverStartRow:V,hoverEndRow:W,onHover:te,rowExpandable:ee.rowExpandable,onRow:S,getRowKey:X,expandedKeys:ve,childrenColumnName:ue,rowHoverable:I}},[re,r,q,Cn,d,Lo,An,gn,Le,dn,Bn,Hn,Un,o,ee.expandedRowClassName,Ce,fe,ee.expandRowByClick,ee.expandedRowRender,we,ee.expandIconColumnIndex,ee.indentSize,Wa,ne,Te,Ke,V,W,te,ee.rowExpandable,S,X,ve,ue,I]);return y.createElement(os.Provider,{value:aa},al)}var qee=y.forwardRef(Yee);function VF(t){return MF(qee,t)}var ug=VF();ug.EXPAND_COLUMN=wf;ug.INTERNAL_HOOKS=Db;ug.Column=pee;ug.ColumnGroup=vee;ug.Summary=LF;var XP=UP(null),XF=UP(null);function Zee(t,e,n){var r=e||1;return n[t+r]-(n[t]||0)}function Jee(t){var e=t.rowInfo,n=t.column,r=t.colIndex,i=t.indent,o=t.index,a=t.component,s=t.renderIndex,l=t.record,u=t.style,c=t.className,d=t.inverse,f=t.getHeight,h=n.render,v=n.dataIndex,m=n.className,g=n.width,x=Oa(XF,["columnsOffset"]),_=x.columnsOffset,w=zF(e,n,r,i,o),S=w.key,C=w.fixedInfo,O=w.appendCellNode,T=w.additionalCellProps,N=T.style,M=T.colSpan,D=M===void 0?1:M,F=T.rowSpan,j=F===void 0?1:F,R=r-1,I=Zee(R,D,_),L=D>1?g-I:0,k=P(P(P({},N),u),{},{flex:"0 0 ".concat(I,"px"),width:"".concat(I,"px"),marginRight:L,pointerEvents:"auto"}),B=y.useMemo(function(){return d?j<=1:D===0||j===0||j>1},[j,D,d]);B?k.visibility="hidden":d&&(k.height=f==null?void 0:f(j));var q=B?function(){return null}:h,X={};return(j===0||D===0)&&(X.rowSpan=1,X.colSpan=1),y.createElement(lg,Kn({className:rt(m,c),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:a,prefixCls:e.prefixCls,key:S,record:l,index:o,renderIndex:s,dataIndex:v,render:q,shouldCellUpdate:n.shouldCellUpdate},C,{appendNode:O,additionalProps:P(P({},T),{},{style:k},X)}))}var Qee=["data","index","className","rowKey","style","extra","getHeight"],ete=y.forwardRef(function(t,e){var n=t.data,r=t.index,i=t.className,o=t.rowKey,a=t.style,s=t.extra,l=t.getHeight,u=Nn(t,Qee),c=n.record,d=n.indent,f=n.index,h=Oa(os,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),v=h.scrollX,m=h.flattenColumns,g=h.prefixCls,x=h.fixColumn,_=h.componentWidth,w=Oa(XP,["getComponent"]),S=w.getComponent,C=FF(c,o,r,d),O=S(["body","row"],"div"),T=S(["body","cell"],"div"),N=C.rowSupportExpand,M=C.expanded,D=C.rowProps,F=C.expandedRowRender,j=C.expandedRowClassName,R;if(N&&M){var I=F(c,r,d+1,M),L=BF(j,c,r,d),k={};x&&(k={style:J({},"--virtual-width","".concat(_,"px"))});var B="".concat(g,"-expanded-row-cell");R=y.createElement(O,{className:rt("".concat(g,"-expanded-row"),"".concat(g,"-expanded-row-level-").concat(d+1),L)},y.createElement(lg,{component:T,prefixCls:g,className:rt(B,J({},"".concat(B,"-fixed"),x)),additionalProps:k},I))}var q=P(P({},a),{},{width:v});s&&(q.position="absolute",q.pointerEvents="none");var X=y.createElement(O,Kn({},D,u,{"data-row-key":o,ref:N?null:e,className:rt(i,"".concat(g,"-row"),D==null?void 0:D.className,J({},"".concat(g,"-row-extra"),s)),style:P(P({},q),D==null?void 0:D.style)}),m.map(function(z,H){return y.createElement(Jee,{key:H,component:T,rowInfo:C,column:z,colIndex:H,indent:d,index:r,renderIndex:f,record:c,inverse:s,getHeight:l})}));return N?y.createElement("div",{ref:e},X,R):X}),GN=sg(ete),tte=y.forwardRef(function(t,e){var n=t.data,r=t.onScroll,i=Oa(os,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),o=i.flattenColumns,a=i.onColumnResize,s=i.getRowKey,l=i.expandedKeys,u=i.prefixCls,c=i.childrenColumnName,d=i.scrollX,f=i.direction,h=Oa(XP),v=h.sticky,m=h.scrollY,g=h.listItemHeight,x=h.getComponent,_=h.onScroll,w=y.useRef(),S=$F(n,c,l,s),C=y.useMemo(function(){var R=0;return o.map(function(I){var L=I.width,k=I.key;return R+=L,[k,L,R]})},[o]),O=y.useMemo(function(){return C.map(function(R){return R[2]})},[C]);y.useEffect(function(){C.forEach(function(R){var I=ht(R,2),L=I[0],k=I[1];a(L,k)})},[C]),y.useImperativeHandle(e,function(){var R,I={scrollTo:function(k){var B;(B=w.current)===null||B===void 0||B.scrollTo(k)},nativeElement:(R=w.current)===null||R===void 0?void 0:R.nativeElement};return Object.defineProperty(I,"scrollLeft",{get:function(){var k;return((k=w.current)===null||k===void 0?void 0:k.getScrollInfo().x)||0},set:function(k){var B;(B=w.current)===null||B===void 0||B.scrollTo({left:k})}}),I});var T=function(I,L){var k,B=(k=S[L])===null||k===void 0?void 0:k.record,q=I.onCell;if(q){var X,z=q(B,L);return(X=z==null?void 0:z.rowSpan)!==null&&X!==void 0?X:1}return 1},N=function(I){var L=I.start,k=I.end,B=I.getSize,q=I.offsetY;if(k<0)return null;for(var X=o.filter(function(Ce){return T(Ce,L)===0}),z=L,H=function(ue){if(X=X.filter(function(we){return T(we,ue)===0}),!X.length)return z=ue,1},Q=L;Q>=0&&!H(Q);Q-=1);for(var V=o.filter(function(Ce){return T(Ce,k)!==1}),W=k,te=function(ue){if(V=V.filter(function(we){return T(we,ue)!==1}),!V.length)return W=Math.max(ue-1,k),1},K=k;K<S.length&&!te(K);K+=1);for(var U=[],ee=function(ue){var we=S[ue];if(!we)return 1;o.some(function(pe){return T(pe,ue)>1})&&U.push(ue)},fe=z;fe<=W;fe+=1)ee(fe);var ve=U.map(function(Ce){var ue=S[Ce],we=s(ue.record,Ce),pe=function(Le){var Ie=Ce+Le-1,Z=s(S[Ie].record,Ie),ie=B(we,Z);return ie.bottom-ie.top},$e=B(we);return y.createElement(GN,{key:Ce,data:ue,rowKey:we,index:Ce,style:{top:-q+$e.top},extra:!0,getHeight:pe})});return ve},M=y.useMemo(function(){return{columnsOffset:O}},[O]),D="".concat(u,"-tbody"),F=x(["body","wrapper"]),j={};return v&&(j.position="sticky",j.bottom=0,ur(v)==="object"&&v.offsetScroll&&(j.bottom=v.offsetScroll)),y.createElement(XF.Provider,{value:M},y.createElement(hK,{fullHeight:!1,ref:w,prefixCls:"".concat(D,"-virtual"),styles:{horizontalScrollBar:j},className:D,height:m,itemHeight:g||24,data:S,itemKey:function(I){return s(I.record)},component:F,scrollWidth:d,direction:f,onVirtualScroll:function(I){var L,k=I.x;r({currentTarget:(L=w.current)===null||L===void 0?void 0:L.nativeElement,scrollLeft:k})},onScroll:_,extraRender:N},function(R,I,L){var k=s(R.record,I);return y.createElement(GN,{data:R,rowKey:k,index:I,style:L.style})}))}),nte=sg(tte),rte=function(e,n){var r=n.ref,i=n.onScroll;return y.createElement(nte,{ref:r,data:e,onScroll:i})};function ite(t,e){var n=t.data,r=t.columns,i=t.scroll,o=t.sticky,a=t.prefixCls,s=a===void 0?WF:a,l=t.className,u=t.listItemHeight,c=t.components,d=t.onScroll,f=i||{},h=f.x,v=f.y;typeof h!="number"&&(h=1),typeof v!="number"&&(v=500);var m=tl(function(_,w){return xo(c,_)||w}),g=tl(d),x=y.useMemo(function(){return{sticky:o,scrollY:v,listItemHeight:u,getComponent:m,onScroll:g}},[o,v,u,m,g]);return y.createElement(XP.Provider,{value:x},y.createElement(ug,Kn({},t,{className:rt(l,"".concat(s,"-virtual")),scroll:P(P({},i),{},{x:h}),components:P(P({},c),{},{body:n!=null&&n.length?rte:void 0}),columns:r,internalHooks:Db,tailor:!0,ref:e})))}var ote=y.forwardRef(ite);function KF(t){return MF(ote,t)}KF();const ate=t=>null,ste=t=>null;function lte(t){const[e,n]=y.useState(null);return[y.useCallback((o,a,s)=>{const l=e??o,u=Math.min(l||0,o),c=Math.max(l||0,o),d=a.slice(u,c+1).map(v=>t(v)),f=d.some(v=>!s.has(v)),h=[];return d.forEach(v=>{f?(s.has(v)||h.push(v),s.add(v)):(s.delete(v),h.push(v))}),n(f?c:null),h},[e]),o=>{n(o)}]}const _f={},CT="SELECT_ALL",TT="SELECT_INVERT",RT="SELECT_NONE",WN=[],YF=(t,e)=>{let n=[];return(e||[]).forEach(r=>{n.push(r),r&&typeof r=="object"&&t in r&&(n=[].concat(_n(n),_n(YF(t,r[t]))))}),n},ute=(t,e)=>{const{preserveSelectedRowKeys:n,selectedRowKeys:r,defaultSelectedRowKeys:i,getCheckboxProps:o,onChange:a,onSelect:s,onSelectAll:l,onSelectInvert:u,onSelectNone:c,onSelectMultiple:d,columnWidth:f,type:h,selections:v,fixed:m,renderCell:g,hideSelectAll:x,checkStrictly:_=!0}=e||{},{prefixCls:w,data:S,pageData:C,getRecordByKey:O,getRowKey:T,expandType:N,childrenColumnName:M,locale:D,getPopupContainer:F}=t,j=TP(),[R,I]=lte(Ce=>Ce),[L,k]=Gr(r||i||WN,{value:r}),B=y.useRef(new Map),q=y.useCallback(Ce=>{if(n){const ue=new Map;Ce.forEach(we=>{let pe=O(we);!pe&&B.current.has(we)&&(pe=B.current.get(we)),ue.set(we,pe)}),B.current=ue}},[O,n]);y.useEffect(()=>{q(L)},[L]);const X=y.useMemo(()=>YF(M,C),[M,C]),{keyEntities:z}=y.useMemo(()=>{if(_)return{keyEntities:null};let Ce=S;if(n){const ue=new Set(X.map((pe,$e)=>T(pe,$e))),we=Array.from(B.current).reduce((pe,$e)=>{let[Ne,Le]=$e;return ue.has(Ne)?pe:pe.concat(Le)},[]);Ce=[].concat(_n(Ce),_n(we))}return AP(Ce,{externalGetKey:T,childrenPropName:M})},[S,T,_,M,n,X]),H=y.useMemo(()=>{const Ce=new Map;return X.forEach((ue,we)=>{const pe=T(ue,we),$e=(o?o(ue):null)||{};Ce.set(pe,$e)}),Ce},[X,T,o]),Q=y.useCallback(Ce=>{var ue;return!!(!((ue=H.get(T(Ce)))===null||ue===void 0)&&ue.disabled)},[H,T]),[V,W]=y.useMemo(()=>{if(_)return[L||[],[]];const{checkedKeys:Ce,halfCheckedKeys:ue}=Rd(L,!0,z,Q);return[Ce||[],ue]},[L,_,z,Q]),te=y.useMemo(()=>{const Ce=h==="radio"?V.slice(0,1):V;return new Set(Ce)},[V,h]),K=y.useMemo(()=>h==="radio"?new Set:new Set(W),[W,h]);y.useEffect(()=>{e||k(WN)},[!!e]);const U=y.useCallback((Ce,ue)=>{let we,pe;q(Ce),n?(we=Ce,pe=Ce.map($e=>B.current.get($e))):(we=[],pe=[],Ce.forEach($e=>{const Ne=O($e);Ne!==void 0&&(we.push($e),pe.push(Ne))})),k(we),a==null||a(we,pe,{type:ue})},[k,O,a,n]),ee=y.useCallback((Ce,ue,we,pe)=>{if(s){const $e=we.map(Ne=>O(Ne));s(O(Ce),ue,$e,pe)}U(we,"single")},[s,O,U]),fe=y.useMemo(()=>!v||x?null:(v===!0?[CT,TT,RT]:v).map(ue=>ue===CT?{key:"all",text:D.selectionAll,onSelect(){U(S.map((we,pe)=>T(we,pe)).filter(we=>{const pe=H.get(we);return!(pe!=null&&pe.disabled)||te.has(we)}),"all")}}:ue===TT?{key:"invert",text:D.selectInvert,onSelect(){const we=new Set(te);C.forEach(($e,Ne)=>{const Le=T($e,Ne),Ie=H.get(Le);Ie!=null&&Ie.disabled||(we.has(Le)?we.delete(Le):we.add(Le))});const pe=Array.from(we);u&&(j.deprecated(!1,"onSelectInvert","onChange"),u(pe)),U(pe,"invert")}}:ue===RT?{key:"none",text:D.selectNone,onSelect(){c==null||c(),U(Array.from(te).filter(we=>{const pe=H.get(we);return pe==null?void 0:pe.disabled}),"none")}}:ue).map(ue=>Object.assign(Object.assign({},ue),{onSelect:function(){for(var we,pe,$e=arguments.length,Ne=new Array($e),Le=0;Le<$e;Le++)Ne[Le]=arguments[Le];(pe=ue.onSelect)===null||pe===void 0||(we=pe).call.apply(we,[ue].concat(Ne)),I(null)}})),[v,te,C,T,u,U]);return[y.useCallback(Ce=>{var ue;if(!e)return Ce.filter(Fe=>Fe!==_f);let we=_n(Ce);const pe=new Set(te),$e=X.map(T).filter(Fe=>!H.get(Fe).disabled),Ne=$e.every(Fe=>pe.has(Fe)),Le=$e.some(Fe=>pe.has(Fe)),Ie=()=>{const Fe=[];Ne?$e.forEach(qe=>{pe.delete(qe),Fe.push(qe)}):$e.forEach(qe=>{pe.has(qe)||(pe.add(qe),Fe.push(qe))});const Ve=Array.from(pe);l==null||l(!Ne,Ve.map(qe=>O(qe)),Fe.map(qe=>O(qe))),U(Ve,"all"),I(null)};let Z,ie;if(h!=="radio"){let Fe;if(fe){const pt={getPopupContainer:F,items:fe.map((Ht,Lt)=>{const{key:hn,text:On,onSelect:Yn}=Ht;return{key:hn??Lt,onClick:()=>{Yn==null||Yn($e)},label:On}})};Fe=y.createElement("div",{className:`${w}-selection-extra`},y.createElement(mw,{menu:pt,getPopupContainer:F},y.createElement("span",null,y.createElement(Xy,null))))}const Ve=X.map((pt,Ht)=>{const Lt=T(pt,Ht),hn=H.get(Lt)||{};return Object.assign({checked:pe.has(Lt)},hn)}).filter(pt=>{let{disabled:Ht}=pt;return Ht}),qe=!!Ve.length&&Ve.length===X.length,vt=qe&&Ve.every(pt=>{let{checked:Ht}=pt;return Ht}),tt=qe&&Ve.some(pt=>{let{checked:Ht}=pt;return Ht});ie=y.createElement(Em,{checked:qe?vt:!!X.length&&Ne,indeterminate:qe?!vt&&tt:!Ne&&Le,onChange:Ie,disabled:X.length===0||qe,"aria-label":Fe?"Custom selection":"Select all",skipGroup:!0}),Z=!x&&y.createElement("div",{className:`${w}-selection`},ie,Fe)}let ne;h==="radio"?ne=(Fe,Ve,qe)=>{const vt=T(Ve,qe),tt=pe.has(vt),pt=H.get(vt);return{node:y.createElement(Sd,Object.assign({},pt,{checked:tt,onClick:Ht=>{var Lt;Ht.stopPropagation(),(Lt=pt==null?void 0:pt.onClick)===null||Lt===void 0||Lt.call(pt,Ht)},onChange:Ht=>{var Lt;pe.has(vt)||ee(vt,!0,[vt],Ht.nativeEvent),(Lt=pt==null?void 0:pt.onChange)===null||Lt===void 0||Lt.call(pt,Ht)}})),checked:tt}}:ne=(Fe,Ve,qe)=>{var vt;const tt=T(Ve,qe),pt=pe.has(tt),Ht=K.has(tt),Lt=H.get(tt);let hn;return N==="nest"?hn=Ht:hn=(vt=Lt==null?void 0:Lt.indeterminate)!==null&&vt!==void 0?vt:Ht,{node:y.createElement(Em,Object.assign({},Lt,{indeterminate:hn,checked:pt,skipGroup:!0,onClick:On=>{var Yn;On.stopPropagation(),(Yn=Lt==null?void 0:Lt.onClick)===null||Yn===void 0||Yn.call(Lt,On)},onChange:On=>{var Yn;const{nativeEvent:kn}=On,{shiftKey:bn}=kn,Sn=$e.findIndex(it=>it===tt),qn=V.some(it=>$e.includes(it));if(bn&&_&&qn){const it=R(Sn,$e,pe),It=Array.from(pe);d==null||d(!pt,It.map(Jt=>O(Jt)),it.map(Jt=>O(Jt))),U(It,"multiple")}else{const it=V;if(_){const It=pt?pK(it,tt):vK(it,tt);ee(tt,!pt,It,kn)}else{const It=Rd([].concat(_n(it),[tt]),!0,z,Q),{checkedKeys:Jt,halfCheckedKeys:dn}=It;let Hn=Jt;if(pt){const Bn=new Set(Jt);Bn.delete(tt),Hn=Rd(Array.from(Bn),{checked:!1,halfCheckedKeys:dn},z,Q).checkedKeys}ee(tt,!pt,Hn,kn)}}I(pt?null:Sn),(Yn=Lt==null?void 0:Lt.onChange)===null||Yn===void 0||Yn.call(Lt,On)}})),checked:pt}};const Te=(Fe,Ve,qe)=>{const{node:vt,checked:tt}=ne(Fe,Ve,qe);return g?g(tt,Ve,qe,vt):vt};if(!we.includes(_f))if(we.findIndex(Fe=>{var Ve;return((Ve=Fe[fy])===null||Ve===void 0?void 0:Ve.columnType)==="EXPAND_COLUMN"})===0){const[Fe,...Ve]=we;we=[Fe,_f].concat(_n(Ve))}else we=[_f].concat(_n(we));const $=we.indexOf(_f);we=we.filter((Fe,Ve)=>Fe!==_f||Ve===$);const se=we[$-1],re=we[$+1];let oe=m;oe===void 0&&((re==null?void 0:re.fixed)!==void 0?oe=re.fixed:(se==null?void 0:se.fixed)!==void 0&&(oe=se.fixed)),oe&&se&&((ue=se[fy])===null||ue===void 0?void 0:ue.columnType)==="EXPAND_COLUMN"&&se.fixed===void 0&&(se.fixed=oe);const ye=rt(`${w}-selection-col`,{[`${w}-selection-col-with-dropdown`]:v&&h==="checkbox"}),xe=()=>e!=null&&e.columnTitle?typeof e.columnTitle=="function"?e.columnTitle(ie):e.columnTitle:Z,He={fixed:oe,width:f,className:`${w}-selection-column`,title:xe(),render:Te,onCell:e.onCell,[fy]:{className:ye}};return we.map(Fe=>Fe===_f?He:Fe)},[T,X,e,V,te,K,f,fe,N,H,d,ee,Q]),te]};function cte(t,e){return t._antProxy=t._antProxy||{},Object.keys(e).forEach(n=>{if(!(n in t._antProxy)){const r=t[n];t._antProxy[n]=r,t[n]=e[n]}}),t}function dte(t,e){return y.useImperativeHandle(t,()=>{const n=e(),{nativeElement:r}=n;return typeof Proxy<"u"?new Proxy(r,{get(i,o){return n[o]?n[o]:Reflect.get(i,o)}}):cte(r,n)})}function fte(t){return e=>{const{prefixCls:n,onExpand:r,record:i,expanded:o,expandable:a}=e,s=`${n}-row-expand-icon`;return y.createElement("button",{type:"button",onClick:l=>{r(i,l),l.stopPropagation()},className:rt(s,{[`${s}-spaced`]:!a,[`${s}-expanded`]:a&&o,[`${s}-collapsed`]:a&&!o}),"aria-label":o?t.collapse:t.expand,"aria-expanded":o})}}function hte(t){return(n,r)=>{const i=n.querySelector(`.${t}-container`);let o=r;if(i){const a=getComputedStyle(i),s=parseInt(a.borderLeftWidth,10),l=parseInt(a.borderRightWidth,10);o=r-s-l}return o}}const Wf=(t,e)=>"key"in t&&t.key!==void 0&&t.key!==null?t.key:t.dataIndex?Array.isArray(t.dataIndex)?t.dataIndex.join("."):t.dataIndex:e;function cg(t,e){return e?`${e}-${t}`:`${t}`}const Rw=(t,e)=>typeof t=="function"?t(e):t,pte=(t,e)=>{const n=Rw(t,e);return Object.prototype.toString.call(n)==="[object Object]"?"":n};function vte(t){const e=y.useRef(t),n=Uk();return[()=>e.current,r=>{e.current=r,n()}]}const VN=t=>{const{value:e,filterSearch:n,tablePrefixCls:r,locale:i,onChange:o}=t;return n?y.createElement("div",{className:`${r}-filter-dropdown-search`},y.createElement(mo,{prefix:y.createElement(c$,null),placeholder:i.filterSearchPlaceholder,onChange:o,value:e,htmlSize:1,className:`${r}-filter-dropdown-search-input`})):null},mte=t=>{const{keyCode:e}=t;e===$r.ENTER&&t.stopPropagation()},gte=y.forwardRef((t,e)=>y.createElement("div",{className:t.className,onClick:n=>n.stopPropagation(),onKeyDown:mte,ref:e},t.children));function mm(t){let e=[];return(t||[]).forEach(n=>{let{value:r,children:i}=n;e.push(r),i&&(e=[].concat(_n(e),_n(mm(i))))}),e}function yte(t){return t.some(e=>{let{children:n}=e;return n})}function qF(t,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(t.trim().toLowerCase()):!1}function ZF(t){let{filters:e,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:o,filterSearch:a}=t;return e.map((s,l)=>{const u=String(s.value);if(s.children)return{key:u||l,label:s.text,popupClassName:`${n}-dropdown-submenu`,children:ZF({filters:s.children,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:o,filterSearch:a})};const c=i?Em:Sd,d={key:s.value!==void 0?u:l,label:y.createElement(y.Fragment,null,y.createElement(c,{checked:r.includes(u)}),y.createElement("span",null,s.text))};return o.trim()?typeof a=="function"?a(o,s)?d:null:qF(o,s.text)?d:null:d})}function UC(t){return t||[]}const bte=t=>{var e,n,r,i;const{tablePrefixCls:o,prefixCls:a,column:s,dropdownPrefixCls:l,columnKey:u,filterOnClose:c,filterMultiple:d,filterMode:f="menu",filterSearch:h=!1,filterState:v,triggerFilter:m,locale:g,children:x,getPopupContainer:_,rootClassName:w}=t,{filterResetToDefaultFilteredValue:S,defaultFilteredValue:C,filterDropdownProps:O={},filterDropdownOpen:T,filterDropdownVisible:N,onFilterDropdownVisibleChange:M,onFilterDropdownOpenChange:D}=s,[F,j]=y.useState(!1),R=!!(v&&(!((e=v.filteredKeys)===null||e===void 0)&&e.length||v.forceFiltered)),I=ne=>{var Te;j(ne),(Te=O.onOpenChange)===null||Te===void 0||Te.call(O,ne),D==null||D(ne),M==null||M(ne)},L=(i=(r=(n=O.open)!==null&&n!==void 0?n:T)!==null&&r!==void 0?r:N)!==null&&i!==void 0?i:F,k=v==null?void 0:v.filteredKeys,[B,q]=vte(UC(k)),X=ne=>{let{selectedKeys:Te}=ne;q(Te)},z=(ne,Te)=>{let{node:$,checked:se}=Te;X(d?{selectedKeys:ne}:{selectedKeys:se&&$.key?[$.key]:[]})};y.useEffect(()=>{F&&X({selectedKeys:UC(k)})},[k]);const[H,Q]=y.useState([]),V=ne=>{Q(ne)},[W,te]=y.useState(""),K=ne=>{const{value:Te}=ne.target;te(Te)};y.useEffect(()=>{F||te("")},[F]);const U=ne=>{const Te=ne!=null&&ne.length?ne:null;if(Te===null&&(!v||!v.filteredKeys)||Wy(Te,v==null?void 0:v.filteredKeys,!0))return null;m({column:s,key:u,filteredKeys:Te})},ee=()=>{I(!1),U(B())},fe=function(){let{confirm:ne,closeDropdown:Te}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};ne&&U([]),Te&&I(!1),te(""),q(S?(C||[]).map($=>String($)):[])},ve=function(){let{closeDropdown:ne}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};ne&&I(!1),U(B())},Ce=(ne,Te)=>{Te.source==="trigger"&&(ne&&k!==void 0&&q(UC(k)),I(ne),!ne&&!s.filterDropdown&&c&&ee())},ue=rt({[`${l}-menu-without-submenu`]:!yte(s.filters||[])}),we=ne=>{if(ne.target.checked){const Te=mm(s==null?void 0:s.filters).map($=>String($));q(Te)}else q([])},pe=ne=>{let{filters:Te}=ne;return(Te||[]).map(($,se)=>{const re=String($.value),oe={title:$.text,key:$.value!==void 0?re:String(se)};return $.children&&(oe.children=pe({filters:$.children})),oe})},$e=ne=>{var Te;return Object.assign(Object.assign({},ne),{text:ne.title,value:ne.key,children:((Te=ne.children)===null||Te===void 0?void 0:Te.map($=>$e($)))||[]})};let Ne;const{direction:Le,renderEmpty:Ie}=y.useContext(Uo);if(typeof s.filterDropdown=="function")Ne=s.filterDropdown({prefixCls:`${l}-custom`,setSelectedKeys:ne=>X({selectedKeys:ne}),selectedKeys:B(),confirm:ve,clearFilters:fe,filters:s.filters,visible:L,close:()=>{I(!1)}});else if(s.filterDropdown)Ne=s.filterDropdown;else{const ne=B()||[],Te=()=>{var se;const re=(se=Ie==null?void 0:Ie("Table.filter"))!==null&&se!==void 0?se:y.createElement(yN,{image:yN.PRESENTED_IMAGE_SIMPLE,description:g.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}});if((s.filters||[]).length===0)return re;if(f==="tree")return y.createElement(y.Fragment,null,y.createElement(VN,{filterSearch:h,value:W,onChange:K,tablePrefixCls:o,locale:g}),y.createElement("div",{className:`${o}-filter-dropdown-tree`},d?y.createElement(Em,{checked:ne.length===mm(s.filters).length,indeterminate:ne.length>0&&ne.length<mm(s.filters).length,className:`${o}-filter-dropdown-checkall`,onChange:we},g.filterCheckall):null,y.createElement(du,{checkable:!0,selectable:!1,blockNode:!0,multiple:d,checkStrictly:!d,className:`${l}-menu`,onCheck:z,checkedKeys:ne,selectedKeys:ne,showIcon:!1,treeData:pe({filters:s.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:W.trim()?xe=>typeof h=="function"?h(W,$e(xe)):qF(W,xe.title):void 0})));const oe=ZF({filters:s.filters||[],filterSearch:h,prefixCls:a,filteredKeys:B(),filterMultiple:d,searchValue:W}),ye=oe.every(xe=>xe===null);return y.createElement(y.Fragment,null,y.createElement(VN,{filterSearch:h,value:W,onChange:K,tablePrefixCls:o,locale:g}),ye?re:y.createElement(Cm,{selectable:!0,multiple:d,prefixCls:`${l}-menu`,className:ue,onSelect:X,onDeselect:X,selectedKeys:ne,getPopupContainer:_,openKeys:H,onOpenChange:V,items:oe}))},$=()=>S?Wy((C||[]).map(se=>String(se)),ne,!0):ne.length===0;Ne=y.createElement(y.Fragment,null,Te(),y.createElement("div",{className:`${a}-dropdown-btns`},y.createElement(es,{type:"link",size:"small",disabled:$(),onClick:()=>fe()},g.filterReset),y.createElement(es,{type:"primary",size:"small",onClick:ee},g.filterConfirm)))}s.filterDropdown&&(Ne=y.createElement(mK,{selectable:void 0},Ne)),Ne=y.createElement(gte,{className:`${a}-dropdown`},Ne);const ie=bF({trigger:["click"],placement:Le==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let ne;return typeof s.filterIcon=="function"?ne=s.filterIcon(R):s.filterIcon?ne=s.filterIcon:ne=y.createElement(CJ,null),y.createElement("span",{role:"button",tabIndex:-1,className:rt(`${a}-trigger`,{active:R}),onClick:Te=>{Te.stopPropagation()}},ne)})(),getPopupContainer:_},Object.assign(Object.assign({},O),{rootClassName:rt(w,O.rootClassName),open:L,onOpenChange:Ce,dropdownRender:()=>typeof(O==null?void 0:O.dropdownRender)=="function"?O.dropdownRender(Ne):Ne}));return y.createElement("div",{className:`${a}-column`},y.createElement("span",{className:`${o}-column-title`},x),y.createElement(mw,Object.assign({},ie)))},PT=(t,e,n)=>{let r=[];return(t||[]).forEach((i,o)=>{var a;const s=cg(o,n);if(i.filters||"filterDropdown"in i||"onFilter"in i)if("filteredValue"in i){let l=i.filteredValue;"filterDropdown"in i||(l=(a=l==null?void 0:l.map(String))!==null&&a!==void 0?a:l),r.push({column:i,key:Wf(i,s),filteredKeys:l,forceFiltered:i.filtered})}else r.push({column:i,key:Wf(i,s),filteredKeys:e&&i.defaultFilteredValue?i.defaultFilteredValue:void 0,forceFiltered:i.filtered});"children"in i&&(r=[].concat(_n(r),_n(PT(i.children,e,s))))}),r};function JF(t,e,n,r,i,o,a,s,l){return n.map((u,c)=>{const d=cg(c,s),{filterOnClose:f=!0,filterMultiple:h=!0,filterMode:v,filterSearch:m}=u;let g=u;if(g.filters||g.filterDropdown){const x=Wf(g,d),_=r.find(w=>{let{key:S}=w;return x===S});g=Object.assign(Object.assign({},g),{title:w=>y.createElement(bte,{tablePrefixCls:t,prefixCls:`${t}-filter`,dropdownPrefixCls:e,column:g,columnKey:x,filterState:_,filterOnClose:f,filterMultiple:h,filterMode:v,filterSearch:m,triggerFilter:o,locale:i,getPopupContainer:a,rootClassName:l},Rw(u.title,w))})}return"children"in g&&(g=Object.assign(Object.assign({},g),{children:JF(t,e,g.children,r,i,o,a,d,l)})),g})}const XN=t=>{const e={};return t.forEach(n=>{let{key:r,filteredKeys:i,column:o}=n;const a=r,{filters:s,filterDropdown:l}=o;if(l)e[a]=i||null;else if(Array.isArray(i)){const u=mm(s);e[a]=u.filter(c=>i.includes(String(c)))}else e[a]=null}),e},AT=(t,e,n)=>e.reduce((i,o)=>{const{column:{onFilter:a,filters:s},filteredKeys:l}=o;return a&&l&&l.length?i.map(u=>Object.assign({},u)).filter(u=>l.some(c=>{const d=mm(s),f=d.findIndex(v=>String(v)===String(c)),h=f!==-1?d[f]:c;return u[n]&&(u[n]=AT(u[n],e,n)),a(h,u)})):i},t),QF=t=>t.flatMap(e=>"children"in e?[e].concat(_n(QF(e.children||[]))):[e]),xte=t=>{const{prefixCls:e,dropdownPrefixCls:n,mergedColumns:r,onFilterChange:i,getPopupContainer:o,locale:a,rootClassName:s}=t;TP();const l=y.useMemo(()=>QF(r||[]),[r]),[u,c]=y.useState(()=>PT(l,!0)),d=y.useMemo(()=>{const m=PT(l,!1);if(m.length===0)return m;let g=!0;if(m.forEach(x=>{let{filteredKeys:_}=x;_!==void 0&&(g=!1)}),g){const x=(l||[]).map((_,w)=>Wf(_,cg(w)));return u.filter(_=>{let{key:w}=_;return x.includes(w)}).map(_=>{const w=l[x.findIndex(S=>S===_.key)];return Object.assign(Object.assign({},_),{column:Object.assign(Object.assign({},_.column),w),forceFiltered:w.filtered})})}return m},[l,u]),f=y.useMemo(()=>XN(d),[d]),h=m=>{const g=d.filter(x=>{let{key:_}=x;return _!==m.key});g.push(m),c(g),i(XN(g),g)};return[m=>JF(e,n,m,d,a,h,o,void 0,s),d,f]},e7=(t,e,n)=>{const r=y.useRef({});function i(o){var a;if(!r.current||r.current.data!==t||r.current.childrenColumnName!==e||r.current.getRowKey!==n){let l=function(u){u.forEach((c,d)=>{const f=n(c,d);s.set(f,c),c&&typeof c=="object"&&e in c&&l(c[e]||[])})};const s=new Map;l(t),r.current={data:t,childrenColumnName:e,kvMap:s,getRowKey:n}}return(a=r.current.kvMap)===null||a===void 0?void 0:a.get(o)}return[i]};var _te=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const t7=10;function Ste(t,e){const n={current:t.current,pageSize:t.pageSize};return Object.keys(e&&typeof e=="object"?e:{}).forEach(i=>{const o=t[i];typeof o!="function"&&(n[i]=o)}),n}function wte(t,e,n){const r=n&&typeof n=="object"?n:{},{total:i=0}=r,o=_te(r,["total"]),[a,s]=y.useState(()=>({current:"defaultCurrent"in o?o.defaultCurrent:1,pageSize:"defaultPageSize"in o?o.defaultPageSize:t7})),l=bF(a,o,{total:i>0?i:t}),u=Math.ceil((i||t)/l.pageSize);l.current>u&&(l.current=u||1);const c=(f,h)=>{s({current:f??1,pageSize:h||l.pageSize})},d=(f,h)=>{var v;n&&((v=n.onChange)===null||v===void 0||v.call(n,f,h)),c(f,h),e(f,h||(l==null?void 0:l.pageSize))};return n===!1?[{},()=>{}]:[Object.assign(Object.assign({},l),{onChange:d}),c]}const v_="ascend",GC="descend",H_=t=>typeof t.sorter=="object"&&typeof t.sorter.multiple=="number"?t.sorter.multiple:!1,KN=t=>typeof t=="function"?t:t&&typeof t=="object"&&t.compare?t.compare:!1,Ete=(t,e)=>e?t[t.indexOf(e)+1]:t[0],OT=(t,e,n)=>{let r=[];const i=(o,a)=>{r.push({column:o,key:Wf(o,a),multiplePriority:H_(o),sortOrder:o.sortOrder})};return(t||[]).forEach((o,a)=>{const s=cg(a,n);o.children?("sortOrder"in o&&i(o,s),r=[].concat(_n(r),_n(OT(o.children,e,s)))):o.sorter&&("sortOrder"in o?i(o,s):e&&o.defaultSortOrder&&r.push({column:o,key:Wf(o,s),multiplePriority:H_(o),sortOrder:o.defaultSortOrder}))}),r},n7=(t,e,n,r,i,o,a,s)=>(e||[]).map((u,c)=>{const d=cg(c,s);let f=u;if(f.sorter){const h=f.sortDirections||i,v=f.showSorterTooltip===void 0?a:f.showSorterTooltip,m=Wf(f,d),g=n.find(M=>{let{key:D}=M;return D===m}),x=g?g.sortOrder:null,_=Ete(h,x);let w;if(u.sortIcon)w=u.sortIcon({sortOrder:x});else{const M=h.includes(v_)&&y.createElement(hJ,{className:rt(`${t}-column-sorter-up`,{active:x===v_})}),D=h.includes(GC)&&y.createElement(cJ,{className:rt(`${t}-column-sorter-down`,{active:x===GC})});w=y.createElement("span",{className:rt(`${t}-column-sorter`,{[`${t}-column-sorter-full`]:!!(M&&D)})},y.createElement("span",{className:`${t}-column-sorter-inner`,"aria-hidden":"true"},M,D))}const{cancelSort:S,triggerAsc:C,triggerDesc:O}=o||{};let T=S;_===GC?T=O:_===v_&&(T=C);const N=typeof v=="object"?Object.assign({title:T},v):{title:T};f=Object.assign(Object.assign({},f),{className:rt(f.className,{[`${t}-column-sort`]:x}),title:M=>{const D=`${t}-column-sorters`,F=y.createElement("span",{className:`${t}-column-title`},Rw(u.title,M)),j=y.createElement("div",{className:D},F,w);return v?typeof v!="boolean"&&(v==null?void 0:v.target)==="sorter-icon"?y.createElement("div",{className:`${D} ${t}-column-sorters-tooltip-target-sorter`},F,y.createElement(wi,Object.assign({},N),w)):y.createElement(wi,Object.assign({},N),j):j},onHeaderCell:M=>{var D;const F=((D=u.onHeaderCell)===null||D===void 0?void 0:D.call(u,M))||{},j=F.onClick,R=F.onKeyDown;F.onClick=k=>{r({column:u,key:m,sortOrder:_,multiplePriority:H_(u)}),j==null||j(k)},F.onKeyDown=k=>{k.keyCode===$r.ENTER&&(r({column:u,key:m,sortOrder:_,multiplePriority:H_(u)}),R==null||R(k))};const I=pte(u.title,{}),L=I==null?void 0:I.toString();return x?F["aria-sort"]=x==="ascend"?"ascending":"descending":F["aria-label"]=L||"",F.className=rt(F.className,`${t}-column-has-sorters`),F.tabIndex=0,u.ellipsis&&(F.title=(I??"").toString()),F}})}return"children"in f&&(f=Object.assign(Object.assign({},f),{children:n7(t,f.children,n,r,i,o,a,d)})),f}),YN=t=>{const{column:e,sortOrder:n}=t;return{column:e,order:n,field:e.dataIndex,columnKey:e.key}},qN=t=>{const e=t.filter(n=>{let{sortOrder:r}=n;return r}).map(YN);if(e.length===0&&t.length){const n=t.length-1;return Object.assign(Object.assign({},YN(t[n])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return e.length<=1?e[0]||{}:e},NT=(t,e,n)=>{const r=e.slice().sort((a,s)=>s.multiplePriority-a.multiplePriority),i=t.slice(),o=r.filter(a=>{let{column:{sorter:s},sortOrder:l}=a;return KN(s)&&l});return o.length?i.sort((a,s)=>{for(let l=0;l<o.length;l+=1){const u=o[l],{column:{sorter:c},sortOrder:d}=u,f=KN(c);if(f&&d){const h=f(a,s,d);if(h!==0)return d===v_?h:-h}}return 0}).map(a=>{const s=a[n];return s?Object.assign(Object.assign({},a),{[n]:NT(s,e,n)}):a}):i},Cte=t=>{const{prefixCls:e,mergedColumns:n,sortDirections:r,tableLocale:i,showSorterTooltip:o,onSorterChange:a}=t,[s,l]=y.useState(OT(n,!0)),u=(m,g)=>{const x=[];return m.forEach((_,w)=>{const S=cg(w,g);if(x.push(Wf(_,S)),Array.isArray(_.children)){const C=u(_.children,S);x.push.apply(x,_n(C))}}),x},c=y.useMemo(()=>{let m=!0;const g=OT(n,!1);if(!g.length){const S=u(n);return s.filter(C=>{let{key:O}=C;return S.includes(O)})}const x=[];function _(S){m?x.push(S):x.push(Object.assign(Object.assign({},S),{sortOrder:null}))}let w=null;return g.forEach(S=>{w===null?(_(S),S.sortOrder&&(S.multiplePriority===!1?m=!1:w=!0)):(w&&S.multiplePriority!==!1||(m=!1),_(S))}),x},[n,s]),d=y.useMemo(()=>{var m,g;const x=c.map(_=>{let{column:w,sortOrder:S}=_;return{column:w,order:S}});return{sortColumns:x,sortColumn:(m=x[0])===null||m===void 0?void 0:m.column,sortOrder:(g=x[0])===null||g===void 0?void 0:g.order}},[c]),f=m=>{let g;m.multiplePriority===!1||!c.length||c[0].multiplePriority===!1?g=[m]:g=[].concat(_n(c.filter(x=>{let{key:_}=x;return _!==m.key})),[m]),l(g),a(qN(g),g)};return[m=>n7(e,m,c,f,r,i,o),c,d,()=>qN(c)]},r7=(t,e)=>t.map(r=>{const i=Object.assign({},r);return i.title=Rw(r.title,e),"children"in i&&(i.children=r7(i.children,e)),i}),Tte=t=>[y.useCallback(n=>r7(n,t),[t])],Rte=VF((t,e)=>{const{_renderTimes:n}=t,{_renderTimes:r}=e;return n!==r}),Pte=KF((t,e)=>{const{_renderTimes:n}=t,{_renderTimes:r}=e;return n!==r}),Ate=t=>{const{componentCls:e,lineWidth:n,lineType:r,tableBorderColor:i,tableHeaderBg:o,tablePaddingVertical:a,tablePaddingHorizontal:s,calc:l}=t,u=`${bt(n)} ${r} ${i}`,c=(d,f,h)=>({[`&${e}-${d}`]:{[`> ${e}-container`]:{[`> ${e}-content, > ${e}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${e}-expanded-row-fixed`]:{margin:`${bt(l(f).mul(-1).equal())}
              ${bt(l(l(h).add(n)).mul(-1).equal())}`}}}}}});return{[`${e}-wrapper`]:{[`${e}${e}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${e}-title`]:{border:u,borderBottom:0},[`> ${e}-container`]:{borderInlineStart:u,borderTop:u,[`
            > ${e}-content,
            > ${e}-header,
            > ${e}-body,
            > ${e}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:u},"> thead":{"> tr:not(:last-child) > th":{borderBottom:u},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${e}-cell-fix-right-first::after`]:{borderInlineEnd:u}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${e}-expanded-row-fixed`]:{margin:`${bt(l(a).mul(-1).equal())} ${bt(l(l(s).add(n)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:u,content:'""'}}}}}},[`&${e}-scroll-horizontal`]:{[`> ${e}-container > ${e}-body`]:{"> table > tbody":{[`
                > tr${e}-expanded-row,
                > tr${e}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},c("middle",t.tablePaddingVerticalMiddle,t.tablePaddingHorizontalMiddle)),c("small",t.tablePaddingVerticalSmall,t.tablePaddingHorizontalSmall)),{[`> ${e}-footer`]:{border:u,borderTop:0}}),[`${e}-cell`]:{[`${e}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${bt(n)} 0 ${bt(n)} ${o}`}},[`${e}-bordered ${e}-cell-scrollbar`]:{borderInlineEnd:u}}}},Ote=t=>{const{componentCls:e}=t;return{[`${e}-wrapper`]:{[`${e}-cell-ellipsis`]:Object.assign(Object.assign({},uw),{wordBreak:"keep-all",[`
          &${e}-cell-fix-left-last,
          &${e}-cell-fix-right-first
        `]:{overflow:"visible",[`${e}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${e}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},Nte=t=>{const{componentCls:e}=t;return{[`${e}-wrapper`]:{[`${e}-tbody > tr${e}-placeholder`]:{textAlign:"center",color:t.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:t.colorBgContainer}}}}},Mte=t=>{const{componentCls:e,antCls:n,motionDurationSlow:r,lineWidth:i,paddingXS:o,lineType:a,tableBorderColor:s,tableExpandIconBg:l,tableExpandColumnWidth:u,borderRadius:c,tablePaddingVertical:d,tablePaddingHorizontal:f,tableExpandedRowBg:h,paddingXXS:v,expandIconMarginTop:m,expandIconSize:g,expandIconHalfInner:x,expandIconScale:_,calc:w}=t,S=`${bt(i)} ${a} ${s}`,C=w(v).sub(i).equal();return{[`${e}-wrapper`]:{[`${e}-expand-icon-col`]:{width:u},[`${e}-row-expand-icon-cell`]:{textAlign:"center",[`${e}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${e}-row-indent`]:{height:1,float:"left"},[`${e}-row-expand-icon`]:Object.assign(Object.assign({},EX(t)),{position:"relative",float:"left",width:g,height:g,color:"inherit",lineHeight:bt(g),background:l,border:S,borderRadius:c,transform:`scale(${_})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${r} ease-out`,content:'""'},"&::before":{top:x,insetInlineEnd:C,insetInlineStart:C,height:i},"&::after":{top:C,bottom:C,insetInlineStart:x,width:i,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${e}-row-indent + ${e}-row-expand-icon`]:{marginTop:m,marginInlineEnd:o},[`tr${e}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:h}},[`${n}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${e}-expanded-row-fixed`]:{position:"relative",margin:`${bt(w(d).mul(-1).equal())} ${bt(w(f).mul(-1).equal())}`,padding:`${bt(d)} ${bt(f)}`}}}},Ite=t=>{const{componentCls:e,antCls:n,iconCls:r,tableFilterDropdownWidth:i,tableFilterDropdownSearchWidth:o,paddingXXS:a,paddingXS:s,colorText:l,lineWidth:u,lineType:c,tableBorderColor:d,headerIconColor:f,fontSizeSM:h,tablePaddingHorizontal:v,borderRadius:m,motionDurationSlow:g,colorTextDescription:x,colorPrimary:_,tableHeaderFilterActiveBg:w,colorTextDisabled:S,tableFilterDropdownBg:C,tableFilterDropdownHeight:O,controlItemBgHover:T,controlItemBgActive:N,boxShadowSecondary:M,filterDropdownMenuBg:D,calc:F}=t,j=`${n}-dropdown`,R=`${e}-filter-dropdown`,I=`${n}-tree`,L=`${bt(u)} ${c} ${d}`;return[{[`${e}-wrapper`]:{[`${e}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${e}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:F(a).mul(-1).equal(),marginInline:`${bt(a)} ${bt(F(v).div(2).mul(-1).equal())}`,padding:`0 ${bt(a)}`,color:f,fontSize:h,borderRadius:m,cursor:"pointer",transition:`all ${g}`,"&:hover":{color:x,background:w},"&.active":{color:_}}}},{[`${n}-dropdown`]:{[R]:Object.assign(Object.assign({},xc(t)),{minWidth:i,backgroundColor:C,borderRadius:m,boxShadow:M,overflow:"hidden",[`${j}-menu`]:{maxHeight:O,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:D,"&:empty::after":{display:"block",padding:`${bt(s)} 0`,color:S,fontSize:h,textAlign:"center",content:'"Not Found"'}},[`${R}-tree`]:{paddingBlock:`${bt(s)} 0`,paddingInline:s,[I]:{padding:0},[`${I}-treenode ${I}-node-content-wrapper:hover`]:{backgroundColor:T},[`${I}-treenode-checkbox-checked ${I}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:N}}},[`${R}-search`]:{padding:s,borderBottom:L,"&-input":{input:{minWidth:o},[r]:{color:S}}},[`${R}-checkall`]:{width:"100%",marginBottom:a,marginInlineStart:a},[`${R}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${bt(F(s).sub(u).equal())} ${bt(s)}`,overflow:"hidden",borderTop:L}})}},{[`${n}-dropdown ${R}, ${R}-submenu`]:{[`${n}-checkbox-wrapper + span`]:{paddingInlineStart:s,color:l},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},Dte=t=>{const{componentCls:e,lineWidth:n,colorSplit:r,motionDurationSlow:i,zIndexTableFixed:o,tableBg:a,zIndexTableSticky:s,calc:l}=t,u=r;return{[`${e}-wrapper`]:{[`
        ${e}-cell-fix-left,
        ${e}-cell-fix-right
      `]:{position:"sticky !important",zIndex:o,background:a},[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:l(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},[`${e}-cell-fix-left-all::after`]:{display:"none"},[`
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:l(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},[`${e}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:l(s).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${e}-ping-left`]:{[`&:not(${e}-has-fix-left) ${e}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${u}`},[`
          ${e}-cell-fix-left-first::after,
          ${e}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${u}`},[`${e}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${e}-ping-right`]:{[`&:not(${e}-has-fix-right) ${e}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${u}`},[`
          ${e}-cell-fix-right-first::after,
          ${e}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${u}`}},[`${e}-fixed-column-gapped`]:{[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after,
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},Lte=t=>{const{componentCls:e,antCls:n,margin:r}=t;return{[`${e}-wrapper`]:{[`${e}-pagination${n}-pagination`]:{margin:`${bt(r)} 0`},[`${e}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:t.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},kte=t=>{const{componentCls:e,tableRadius:n}=t;return{[`${e}-wrapper`]:{[e]:{[`${e}-title, ${e}-header`]:{borderRadius:`${bt(n)} ${bt(n)} 0 0`},[`${e}-title + ${e}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${e}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:`0 0 ${bt(n)} ${bt(n)}`}}}}},$te=t=>{const{componentCls:e}=t;return{[`${e}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${e}-pagination-left`]:{justifyContent:"flex-end"},[`${e}-pagination-right`]:{justifyContent:"flex-start"},[`${e}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${e}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${e}-row-indent`]:{float:"right"}}}}},Fte=t=>{const{componentCls:e,antCls:n,iconCls:r,fontSizeIcon:i,padding:o,paddingXS:a,headerIconColor:s,headerIconHoverColor:l,tableSelectionColumnWidth:u,tableSelectedRowBg:c,tableSelectedRowHoverBg:d,tableRowHoverBg:f,tablePaddingHorizontal:h,calc:v}=t;return{[`${e}-wrapper`]:{[`${e}-selection-col`]:{width:u,[`&${e}-selection-col-with-dropdown`]:{width:v(u).add(i).add(v(o).div(4)).equal()}},[`${e}-bordered ${e}-selection-col`]:{width:v(u).add(v(a).mul(2)).equal(),[`&${e}-selection-col-with-dropdown`]:{width:v(u).add(i).add(v(o).div(4)).add(v(a).mul(2)).equal()}},[`
        table tr th${e}-selection-column,
        table tr td${e}-selection-column,
        ${e}-selection-column
      `]:{paddingInlineEnd:t.paddingXS,paddingInlineStart:t.paddingXS,textAlign:"center",[`${n}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${e}-selection-column${e}-cell-fix-left`]:{zIndex:v(t.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${e}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${e}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${e}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:bt(v(h).div(4).equal()),[r]:{color:s,fontSize:i,verticalAlign:"baseline","&:hover":{color:l}}},[`${e}-tbody`]:{[`${e}-row`]:{[`&${e}-row-selected`]:{[`> ${e}-cell`]:{background:c,"&-row-hover":{background:d}}},[`> ${e}-cell-row-hover`]:{background:f}}}}}},jte=t=>{const{componentCls:e,tableExpandColumnWidth:n,calc:r}=t,i=(o,a,s,l)=>({[`${e}${e}-${o}`]:{fontSize:l,[`
        ${e}-title,
        ${e}-footer,
        ${e}-cell,
        ${e}-thead > tr > th,
        ${e}-tbody > tr > th,
        ${e}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${bt(a)} ${bt(s)}`},[`${e}-filter-trigger`]:{marginInlineEnd:bt(r(s).div(2).mul(-1).equal())},[`${e}-expanded-row-fixed`]:{margin:`${bt(r(a).mul(-1).equal())} ${bt(r(s).mul(-1).equal())}`},[`${e}-tbody`]:{[`${e}-wrapper:only-child ${e}`]:{marginBlock:bt(r(a).mul(-1).equal()),marginInline:`${bt(r(n).sub(s).equal())} ${bt(r(s).mul(-1).equal())}`}},[`${e}-selection-extra`]:{paddingInlineStart:bt(r(s).div(4).equal())}}});return{[`${e}-wrapper`]:Object.assign(Object.assign({},i("middle",t.tablePaddingVerticalMiddle,t.tablePaddingHorizontalMiddle,t.tableFontSizeMiddle)),i("small",t.tablePaddingVerticalSmall,t.tablePaddingHorizontalSmall,t.tableFontSizeSmall))}},Bte=t=>{const{componentCls:e,marginXXS:n,fontSizeIcon:r,headerIconColor:i,headerIconHoverColor:o}=t;return{[`${e}-wrapper`]:{[`${e}-thead th${e}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}, left 0s`,"&:hover":{background:t.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:t.colorPrimary},[`
          &${e}-cell-fix-left:hover,
          &${e}-cell-fix-right:hover
        `]:{background:t.tableFixedHeaderSortActiveBg}},[`${e}-thead th${e}-column-sort`]:{background:t.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${e}-column-sort`]:{background:t.tableBodySortBg},[`${e}-column-title`]:{position:"relative",zIndex:1,flex:1},[`${e}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${e}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${e}-column-sorter`]:{marginInlineStart:n,color:i,fontSize:0,transition:`color ${t.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:t.colorPrimary}},[`${e}-column-sorter-up + ${e}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${e}-column-sorters:hover ${e}-column-sorter`]:{color:o}}}},zte=t=>{const{componentCls:e,opacityLoading:n,tableScrollThumbBg:r,tableScrollThumbBgHover:i,tableScrollThumbSize:o,tableScrollBg:a,zIndexTableSticky:s,stickyScrollBarBorderRadius:l,lineWidth:u,lineType:c,tableBorderColor:d}=t,f=`${bt(u)} ${c} ${d}`;return{[`${e}-wrapper`]:{[`${e}-sticky`]:{"&-holder":{position:"sticky",zIndex:s,background:t.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${bt(o)} !important`,zIndex:s,display:"flex",alignItems:"center",background:a,borderTop:f,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:o,backgroundColor:r,borderRadius:l,transition:`all ${t.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:i}}}}}}},ZN=t=>{const{componentCls:e,lineWidth:n,tableBorderColor:r,calc:i}=t,o=`${bt(n)} ${t.lineType} ${r}`;return{[`${e}-wrapper`]:{[`${e}-summary`]:{position:"relative",zIndex:t.zIndexTableFixed,background:t.tableBg,"> tr":{"> th, > td":{borderBottom:o}}},[`div${e}-summary`]:{boxShadow:`0 ${bt(i(n).mul(-1).equal())} 0 ${r}`}}}},Hte=t=>{const{componentCls:e,motionDurationMid:n,lineWidth:r,lineType:i,tableBorderColor:o,calc:a}=t,s=`${bt(r)} ${i} ${o}`,l=`${e}-expanded-row-cell`;return{[`${e}-wrapper`]:{[`${e}-tbody-virtual`]:{[`${e}-tbody-virtual-holder-inner`]:{[`
            & > ${e}-row, 
            & > div:not(${e}-row) > ${e}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${e}-cell`]:{borderBottom:s,transition:`background ${n}`},[`${e}-expanded-row`]:{[`${l}${l}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${bt(r)})`,borderInlineEnd:"none"}}},[`${e}-bordered`]:{[`${e}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:s,position:"absolute"},[`${e}-cell`]:{borderInlineEnd:s,[`&${e}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:a(r).mul(-1).equal(),borderInlineStart:s}}},[`&${e}-virtual`]:{[`${e}-placeholder ${e}-cell`]:{borderInlineEnd:s,borderBottom:s}}}}}},Ute=t=>{const{componentCls:e,fontWeightStrong:n,tablePaddingVertical:r,tablePaddingHorizontal:i,tableExpandColumnWidth:o,lineWidth:a,lineType:s,tableBorderColor:l,tableFontSize:u,tableBg:c,tableRadius:d,tableHeaderTextColor:f,motionDurationMid:h,tableHeaderBg:v,tableHeaderCellSplitColor:m,tableFooterTextColor:g,tableFooterBg:x,calc:_}=t,w=`${bt(a)} ${s} ${l}`;return{[`${e}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},CX()),{[e]:Object.assign(Object.assign({},xc(t)),{fontSize:u,background:c,borderRadius:`${bt(d)} ${bt(d)} 0 0`,scrollbarColor:`${t.tableScrollThumbBg} ${t.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${bt(d)} ${bt(d)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${e}-cell,
          ${e}-thead > tr > th,
          ${e}-tbody > tr > th,
          ${e}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${bt(r)} ${bt(i)}`,overflowWrap:"break-word"},[`${e}-title`]:{padding:`${bt(r)} ${bt(i)}`},[`${e}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:f,fontWeight:n,textAlign:"start",background:v,borderBottom:w,transition:`background ${h} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${e}-selection-column):not(${e}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:m,transform:"translateY(-50%)",transition:`background-color ${h}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${e}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${h}, border-color ${h}`,borderBottom:w,[`
              > ${e}-wrapper:only-child,
              > ${e}-expanded-row-fixed > ${e}-wrapper:only-child
            `]:{[e]:{marginBlock:bt(_(r).mul(-1).equal()),marginInline:`${bt(_(o).sub(i).equal())}
                ${bt(_(i).mul(-1).equal())}`,[`${e}-tbody > tr:last-child > td`]:{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:f,fontWeight:n,textAlign:"start",background:v,borderBottom:w,transition:`background ${h} ease`}}},[`${e}-footer`]:{padding:`${bt(r)} ${bt(i)}`,color:g,background:x}})}},Gte=t=>{const{colorFillAlter:e,colorBgContainer:n,colorTextHeading:r,colorFillSecondary:i,colorFillContent:o,controlItemBgActive:a,controlItemBgActiveHover:s,padding:l,paddingSM:u,paddingXS:c,colorBorderSecondary:d,borderRadiusLG:f,controlHeight:h,colorTextPlaceholder:v,fontSize:m,fontSizeSM:g,lineHeight:x,lineWidth:_,colorIcon:w,colorIconHover:S,opacityLoading:C,controlInteractiveSize:O}=t,T=new Af(i).onBackground(n).toHexShortString(),N=new Af(o).onBackground(n).toHexShortString(),M=new Af(e).onBackground(n).toHexShortString(),D=new Af(w),F=new Af(S),j=O/2-_,R=j*2+_*3;return{headerBg:M,headerColor:r,headerSortActiveBg:T,headerSortHoverBg:N,bodySortBg:M,rowHoverBg:M,rowSelectedBg:a,rowSelectedHoverBg:s,rowExpandedBg:e,cellPaddingBlock:l,cellPaddingInline:l,cellPaddingBlockMD:u,cellPaddingInlineMD:c,cellPaddingBlockSM:c,cellPaddingInlineSM:c,borderColor:d,headerBorderRadius:f,footerBg:M,footerColor:r,cellFontSize:m,cellFontSizeMD:m,cellFontSizeSM:m,headerSplitColor:d,fixedHeaderSortActiveBg:T,headerFilterHoverBg:o,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:h,stickyScrollBarBg:v,stickyScrollBarBorderRadius:100,expandIconMarginTop:(m*x-_*3)/2-Math.ceil((g*1.4-_*3)/2),headerIconColor:D.clone().setAlpha(D.getAlpha()*C).toRgbString(),headerIconHoverColor:F.clone().setAlpha(F.getAlpha()*C).toRgbString(),expandIconHalfInner:j,expandIconSize:R,expandIconScale:O/R}},JN=2,Wte=ol("Table",t=>{const{colorTextHeading:e,colorSplit:n,colorBgContainer:r,controlInteractiveSize:i,headerBg:o,headerColor:a,headerSortActiveBg:s,headerSortHoverBg:l,bodySortBg:u,rowHoverBg:c,rowSelectedBg:d,rowSelectedHoverBg:f,rowExpandedBg:h,cellPaddingBlock:v,cellPaddingInline:m,cellPaddingBlockMD:g,cellPaddingInlineMD:x,cellPaddingBlockSM:_,cellPaddingInlineSM:w,borderColor:S,footerBg:C,footerColor:O,headerBorderRadius:T,cellFontSize:N,cellFontSizeMD:M,cellFontSizeSM:D,headerSplitColor:F,fixedHeaderSortActiveBg:j,headerFilterHoverBg:R,filterDropdownBg:I,expandIconBg:L,selectionColumnWidth:k,stickyScrollBarBg:B,calc:q}=t,X=Pu(t,{tableFontSize:N,tableBg:r,tableRadius:T,tablePaddingVertical:v,tablePaddingHorizontal:m,tablePaddingVerticalMiddle:g,tablePaddingHorizontalMiddle:x,tablePaddingVerticalSmall:_,tablePaddingHorizontalSmall:w,tableBorderColor:S,tableHeaderTextColor:a,tableHeaderBg:o,tableFooterTextColor:O,tableFooterBg:C,tableHeaderCellSplitColor:F,tableHeaderSortBg:s,tableHeaderSortHoverBg:l,tableBodySortBg:u,tableFixedHeaderSortActiveBg:j,tableHeaderFilterActiveBg:R,tableFilterDropdownBg:I,tableRowHoverBg:c,tableSelectedRowBg:d,tableSelectedRowHoverBg:f,zIndexTableFixed:JN,zIndexTableSticky:q(JN).add(1).equal({unit:!1}),tableFontSizeMiddle:M,tableFontSizeSmall:D,tableSelectionColumnWidth:k,tableExpandIconBg:L,tableExpandColumnWidth:q(i).add(q(t.padding).mul(2)).equal(),tableExpandedRowBg:h,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:B,tableScrollThumbBgHover:e,tableScrollBg:n});return[Ute(X),Lte(X),ZN(X),Bte(X),Ite(X),Ate(X),kte(X),Mte(X),ZN(X),Nte(X),Fte(X),Dte(X),zte(X),Ote(X),jte(X),$te(X),Hte(X)]},Gte,{unitless:{expandIconScale:!0}}),Vte=[],Xte=(t,e)=>{var n,r;const{prefixCls:i,className:o,rootClassName:a,style:s,size:l,bordered:u,dropdownPrefixCls:c,dataSource:d,pagination:f,rowSelection:h,rowKey:v="key",rowClassName:m,columns:g,children:x,childrenColumnName:_,onChange:w,getPopupContainer:S,loading:C,expandIcon:O,expandable:T,expandedRowRender:N,expandIconColumnIndex:M,indentSize:D,scroll:F,sortDirections:j,locale:R,showSorterTooltip:I={target:"full-header"},virtual:L}=t;TP();const k=y.useMemo(()=>g||VP(x),[g,x]),B=y.useMemo(()=>k.some(xn=>xn.responsive),[k]),q=Nb(B),X=y.useMemo(()=>{const xn=new Set(Object.keys(q).filter(_e=>q[_e]));return k.filter(_e=>!_e.responsive||_e.responsive.some(Re=>xn.has(Re)))},[k,q]),z=vw(t,["className","style","columns"]),{locale:H=Bk,direction:Q,table:V,renderEmpty:W,getPrefixCls:te,getPopupContainer:K}=y.useContext(Uo),U=Dp(l),ee=Object.assign(Object.assign({},H.Table),R),fe=d||Vte,ve=te("table",i),Ce=te("dropdown",c),[,ue]=fw(),we=Od(ve),[pe,$e,Ne]=Wte(ve,we),Le=Object.assign(Object.assign({childrenColumnName:_,expandIconColumnIndex:M},T),{expandIcon:(n=T==null?void 0:T.expandIcon)!==null&&n!==void 0?n:(r=V==null?void 0:V.expandable)===null||r===void 0?void 0:r.expandIcon}),{childrenColumnName:Ie="children"}=Le,Z=y.useMemo(()=>fe.some(xn=>xn==null?void 0:xn[Ie])?"nest":N||T!=null&&T.expandedRowRender?"row":null,[fe]),ie={body:y.useRef()},ne=hte(ve),Te=y.useRef(null),$=y.useRef(null);dte(e,()=>Object.assign(Object.assign({},$.current),{nativeElement:Te.current}));const se=y.useMemo(()=>typeof v=="function"?v:xn=>xn==null?void 0:xn[v],[v]),[re]=e7(fe,Ie,se),oe={},ye=function(xn,_e){let Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var ae,Ee,be,Ke;const lt=Object.assign(Object.assign({},oe),xn);Re&&((ae=oe.resetPagination)===null||ae===void 0||ae.call(oe),!((Ee=lt.pagination)===null||Ee===void 0)&&Ee.current&&(lt.pagination.current=1),f&&((be=f.onChange)===null||be===void 0||be.call(f,1,(Ke=lt.pagination)===null||Ke===void 0?void 0:Ke.pageSize))),F&&F.scrollToFirstRowOnChange!==!1&&ie.body.current&&jY(0,{getContainer:()=>ie.body.current}),w==null||w(lt.pagination,lt.filters,lt.sorter,{currentDataSource:AT(NT(fe,lt.sorterStates,Ie),lt.filterStates,Ie),action:_e})},xe=(xn,_e)=>{ye({sorter:xn,sorterStates:_e},"sort",!1)},[He,Fe,Ve,qe]=Cte({prefixCls:ve,mergedColumns:X,onSorterChange:xe,sortDirections:j||["ascend","descend"],tableLocale:ee,showSorterTooltip:I}),vt=y.useMemo(()=>NT(fe,Fe,Ie),[fe,Fe]);oe.sorter=qe(),oe.sorterStates=Fe;const tt=(xn,_e)=>{ye({filters:xn,filterStates:_e},"filter",!0)},[pt,Ht,Lt]=xte({prefixCls:ve,locale:ee,dropdownPrefixCls:Ce,mergedColumns:X,onFilterChange:tt,getPopupContainer:S||K,rootClassName:rt(a,we)}),hn=AT(vt,Ht,Ie);oe.filters=Lt,oe.filterStates=Ht;const On=y.useMemo(()=>{const xn={};return Object.keys(Lt).forEach(_e=>{Lt[_e]!==null&&(xn[_e]=Lt[_e])}),Object.assign(Object.assign({},Ve),{filters:xn})},[Ve,Lt]),[Yn]=Tte(On),kn=(xn,_e)=>{ye({pagination:Object.assign(Object.assign({},oe.pagination),{current:xn,pageSize:_e})},"paginate")},[bn,Sn]=wte(hn.length,kn,f);oe.pagination=f===!1?{}:Ste(bn,f),oe.resetPagination=Sn;const qn=y.useMemo(()=>{if(f===!1||!bn.pageSize)return hn;const{current:xn=1,total:_e,pageSize:Re=t7}=bn;return hn.length<_e?hn.length>Re?hn.slice((xn-1)*Re,xn*Re):hn:hn.slice((xn-1)*Re,xn*Re)},[!!f,hn,bn==null?void 0:bn.current,bn==null?void 0:bn.pageSize,bn==null?void 0:bn.total]),[it,It]=ute({prefixCls:ve,data:hn,pageData:qn,getRowKey:se,getRecordByKey:re,expandType:Z,childrenColumnName:Ie,locale:ee,getPopupContainer:S||K},h),Jt=(xn,_e,Re)=>{let ae;return typeof m=="function"?ae=rt(m(xn,_e,Re)):ae=rt(m),rt({[`${ve}-row-selected`]:It.has(se(xn,_e))},ae)};Le.__PARENT_RENDER_ICON__=Le.expandIcon,Le.expandIcon=Le.expandIcon||O||fte(ee),Z==="nest"&&Le.expandIconColumnIndex===void 0?Le.expandIconColumnIndex=h?1:0:Le.expandIconColumnIndex>0&&h&&(Le.expandIconColumnIndex-=1),typeof Le.indentSize!="number"&&(Le.indentSize=typeof D=="number"?D:15);const dn=y.useCallback(xn=>Yn(it(pt(He(xn)))),[He,pt,it]);let Hn,Bn;if(f!==!1&&(bn!=null&&bn.total)){let xn;bn.size?xn=bn.size:xn=U==="small"||U==="middle"?"small":void 0;const _e=Ee=>y.createElement(JZ,Object.assign({},bn,{className:rt(`${ve}-pagination ${ve}-pagination-${Ee}`,bn.className),size:xn})),Re=Q==="rtl"?"left":"right",{position:ae}=bn;if(ae!==null&&Array.isArray(ae)){const Ee=ae.find(lt=>lt.includes("top")),be=ae.find(lt=>lt.includes("bottom")),Ke=ae.every(lt=>`${lt}`=="none");!Ee&&!be&&!Ke&&(Bn=_e(Re)),Ee&&(Hn=_e(Ee.toLowerCase().replace("top",""))),be&&(Bn=_e(be.toLowerCase().replace("bottom","")))}else Bn=_e(Re)}let kt;typeof C=="boolean"?kt={spinning:C}:typeof C=="object"&&(kt=Object.assign({spinning:!0},C));const Yt=rt(Ne,we,`${ve}-wrapper`,V==null?void 0:V.className,{[`${ve}-wrapper-rtl`]:Q==="rtl"},o,a,$e),An=Object.assign(Object.assign({},V==null?void 0:V.style),s),Sr=typeof(R==null?void 0:R.emptyText)<"u"?R.emptyText:(W==null?void 0:W("Table"))||y.createElement(pw,{componentName:"Table"}),ai=L?Pte:Rte,tr={},si=y.useMemo(()=>{const{fontSize:xn,lineHeight:_e,padding:Re,paddingXS:ae,paddingSM:Ee}=ue,be=Math.floor(xn*_e);switch(U){case"large":return Re*2+be;case"small":return ae*2+be;default:return Ee*2+be}},[ue,U]);return L&&(tr.listItemHeight=si),pe(y.createElement("div",{ref:Te,className:Yt,style:An},y.createElement(Ip,Object.assign({spinning:!1},kt),Hn,y.createElement(ai,Object.assign({},tr,z,{ref:$,columns:X,direction:Q,expandable:Le,prefixCls:ve,className:rt({[`${ve}-middle`]:U==="middle",[`${ve}-small`]:U==="small",[`${ve}-bordered`]:u,[`${ve}-empty`]:fe.length===0},Ne,we,$e),data:qn,rowKey:se,rowClassName:Jt,emptyText:Sr,internalHooks:Db,internalRefs:ie,transformColumns:dn,getContainerWidth:ne})),Bn)))},Kte=y.forwardRef(Xte),Yte=(t,e)=>{const n=y.useRef(0);return n.current+=1,y.createElement(Kte,Object.assign({},t,{ref:e,_renderTimes:n.current}))},Ba=y.forwardRef(Yte);Ba.SELECTION_COLUMN=_f;Ba.EXPAND_COLUMN=wf;Ba.SELECTION_ALL=CT;Ba.SELECTION_INVERT=TT;Ba.SELECTION_NONE=RT;Ba.Column=ate;Ba.ColumnGroup=ste;Ba.Summary=LF;const qte=t=>{const e=t!=null&&t.algorithm?hT(t.algorithm):hT(hw),n=Object.assign(Object.assign({},TX),t==null?void 0:t.token);return RX(n,{override:t==null?void 0:t.token},e,PX)};function Zte(t){const{sizeUnit:e,sizeStep:n}=t,r=n-2;return{sizeXXL:e*(r+10),sizeXL:e*(r+6),sizeLG:e*(r+2),sizeMD:e*(r+2),sizeMS:e*(r+1),size:e*r,sizeSM:e*r,sizeXS:e*(r-1),sizeXXS:e*(r-1)}}const Jte=(t,e)=>{const n=e??hw(t),r=n.fontSizeSM,i=n.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),Zte(e??t)),AX(r)),{controlHeight:i}),OX(Object.assign(Object.assign({},n),{controlHeight:i})))},ml=(t,e)=>new Af(t).setAlpha(e).toRgbString(),Mv=(t,e)=>new Af(t).lighten(e).toHexString(),Qte=t=>{const e=zk(t,{theme:"dark"});return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[6],6:e[5],7:e[4],8:e[6],9:e[5],10:e[4]}},ene=(t,e)=>{const n=t||"#000",r=e||"#fff";return{colorBgBase:n,colorTextBase:r,colorText:ml(r,.85),colorTextSecondary:ml(r,.65),colorTextTertiary:ml(r,.45),colorTextQuaternary:ml(r,.25),colorFill:ml(r,.18),colorFillSecondary:ml(r,.12),colorFillTertiary:ml(r,.08),colorFillQuaternary:ml(r,.04),colorBgSolid:ml(r,.95),colorBgSolidHover:ml(r,1),colorBgSolidActive:ml(r,.9),colorBgElevated:Mv(n,12),colorBgContainer:Mv(n,8),colorBgLayout:Mv(n,0),colorBgSpotlight:Mv(n,26),colorBgBlur:ml(r,.04),colorBorder:Mv(n,26),colorBorderSecondary:Mv(n,19)}},tne=(t,e)=>{const n=Object.keys(NX).map(i=>{const o=zk(t[i],{theme:"dark"});return new Array(10).fill(1).reduce((a,s,l)=>(a[`${i}-${l+1}`]=o[l],a[`${i}${l+1}`]=o[l],a),{})}).reduce((i,o)=>(i=Object.assign(Object.assign({},i),o),i),{}),r=e??hw(t);return Object.assign(Object.assign(Object.assign({},r),n),MX(t,{generateColorPalettes:Qte,generateNeutralColorPalettes:ene}))};function nne(){const[t,e,n]=fw();return{theme:t,token:e,hashId:n}}const rc={defaultSeed:dN.token,useToken:nne,defaultAlgorithm:hw,darkAlgorithm:tne,compactAlgorithm:Jte,getDesignToken:qte,defaultConfig:dN,_internalContext:IX},rne=function(t){var e=y.useRef({valueLabels:new Map});return y.useMemo(function(){var n=e.current.valueLabels,r=new Map,i=t.map(function(o){var a=o.value,s=o.label,l=s??n.get(a);return r.set(a,l),P(P({},o),{},{label:l})});return e.current.valueLabels=r,[i]},[t])};var ine=function(e,n,r,i){return y.useMemo(function(){var o=function(h){return h.map(function(v){var m=v.value;return m})},a=o(e),s=o(n),l=a.filter(function(f){return!i[f]}),u=a,c=s;if(r){var d=Rd(a,!0,i);u=d.checkedKeys,c=d.halfCheckedKeys}return[Array.from(new Set([].concat(_n(l),_n(u)))),c]},[e,n,r,i])},one=function(e){return Array.isArray(e)?e:e!==void 0?[e]:[]},ane=function(e){var n=e||{},r=n.label,i=n.value,o=n.children;return{_title:r?[r]:["title","label"],value:i||"value",key:i||"value",children:o||"children"}},MT=function(e){return!e||e.disabled||e.disableCheckbox||e.checkable===!1},sne=function(e,n){var r=[],i=function o(a){a.forEach(function(s){var l=s[n.children];l&&(r.push(s[n.value]),o(l))})};return i(e),r},QN=function(e){return e==null};const lne=function(t,e){return y.useMemo(function(){var n=AP(t,{fieldNames:e,initWrapper:function(i){return P(P({},i),{},{valueEntities:new Map})},processEntity:function(i,o){var a=i.node[e.value];o.valueEntities.set(a,i)}});return n},[t,e])};var KP=function(){return null},une=["children","value"];function i7(t){return _c(t).map(function(e){if(!y.isValidElement(e)||!e.type)return null;var n=e,r=n.key,i=n.props,o=i.children,a=i.value,s=Nn(i,une),l=P({key:r,value:a},s),u=i7(o);return u.length&&(l.children=u),l}).filter(function(e){return e})}function IT(t){if(!t)return t;var e=P({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return Gy(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),e}}),e}function cne(t,e,n,r,i,o){var a=null,s=null;function l(){function u(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return c.map(function(h,v){var m="".concat(d,"-").concat(v),g=h[o.value],x=n.includes(g),_=u(h[o.children]||[],m,x),w=y.createElement(KP,h,_.map(function(C){return C.node}));if(e===g&&(a=w),x){var S={pos:m,node:w,children:_};return f||s.push(S),S}return null}).filter(function(h){return h})}s||(s=[],u(r),s.sort(function(c,d){var f=c.node.props.value,h=d.node.props.value,v=n.indexOf(f),m=n.indexOf(h);return v-m}))}Object.defineProperty(t,"triggerNode",{get:function(){return Gy(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),l(),a}}),Object.defineProperty(t,"allCheckedNodes",{get:function(){return Gy(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),l(),i?s:s.map(function(c){var d=c.node;return d})}})}var dne=function(e,n,r){var i=r.fieldNames,o=r.treeNodeFilterProp,a=r.filterTreeNode,s=i.children;return y.useMemo(function(){if(!n||a===!1)return e;var l=typeof a=="function"?a:function(c,d){return String(d[o]).toUpperCase().includes(n.toUpperCase())},u=function c(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return d.reduce(function(h,v){var m=v[s],g=f||l(n,IT(v)),x=c(m||[],g);return(g||x.length)&&h.push(P(P({},v),{},J({isLeaf:void 0},s,x))),h},[])};return u(e)},[e,n,s,o,a])};function e3(t){var e=y.useRef();e.current=t;var n=y.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}function fne(t,e){var n=e.id,r=e.pId,i=e.rootPId,o=new Map,a=[];return t.forEach(function(s){var l=s[n],u=P(P({},s),{},{key:s.key||l});o.set(l,u)}),o.forEach(function(s){var l=s[r],u=o.get(l);u?(u.children=u.children||[],u.children.push(s)):(l===i||i===null)&&a.push(s)}),a}function hne(t,e,n){return y.useMemo(function(){if(t){if(n){var r=P({id:"id",pId:"pId",rootPId:null},ur(n)==="object"?n:{});return fne(t,r)}return t}return i7(e)},[e,n,t])}var o7=y.createContext(null),a7=y.createContext(null),pne={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},vne=function(e,n){var r=Xk(),i=r.prefixCls,o=r.multiple,a=r.searchValue,s=r.toggleOpen,l=r.open,u=r.notFoundContent,c=y.useContext(a7),d=c.virtual,f=c.listHeight,h=c.listItemHeight,v=c.listItemScrollOffset,m=c.treeData,g=c.fieldNames,x=c.onSelect,_=c.dropdownMatchSelectWidth,w=c.treeExpandAction,S=c.treeTitleRender,C=c.onPopupScroll,O=y.useContext(o7),T=O.checkable,N=O.checkedKeys,M=O.halfCheckedKeys,D=O.treeExpandedKeys,F=O.treeDefaultExpandAll,j=O.treeDefaultExpandedKeys,R=O.onTreeExpand,I=O.treeIcon,L=O.showTreeIcon,k=O.switcherIcon,B=O.treeLine,q=O.treeNodeFilterProp,X=O.loadData,z=O.treeLoadedKeys,H=O.treeMotion,Q=O.onTreeLoad,V=O.keyEntities,W=y.useRef(),te=$_(function(){return m},[l,m],function(Fe,Ve){return Ve[0]&&Fe[1]!==Ve[1]}),K=y.useMemo(function(){return T?{checked:N,halfChecked:M}:null},[T,N,M]);y.useEffect(function(){if(l&&!o&&N.length){var Fe;(Fe=W.current)===null||Fe===void 0||Fe.scrollTo({key:N[0]})}},[l]);var U=function(Ve){Ve.preventDefault()},ee=function(Ve,qe){var vt=qe.node;T&&MT(vt)||(x(vt.key,{selected:!N.includes(vt.key)}),o||s(!1))},fe=y.useState(j),ve=ht(fe,2),Ce=ve[0],ue=ve[1],we=y.useState(null),pe=ht(we,2),$e=pe[0],Ne=pe[1],Le=y.useMemo(function(){return D?_n(D):a?$e:Ce},[Ce,$e,D,a]),Ie=function(Ve){ue(Ve),Ne(Ve),R&&R(Ve)},Z=String(a).toLowerCase(),ie=function(Ve){return Z?String(Ve[q]).toLowerCase().includes(Z):!1};y.useEffect(function(){a&&Ne(sne(m,g))},[a]);var ne=function Fe(Ve){var qe=p_(Ve),vt;try{for(qe.s();!(vt=qe.n()).done;){var tt=vt.value;if(!(tt.disabled||tt.selectable===!1)){if(a){if(ie(tt))return tt}else return tt;if(tt[g.children]){var pt=Fe(tt[g.children]);if(pt)return pt}}}}catch(Ht){qe.e(Ht)}finally{qe.f()}return null},Te=y.useState(null),$=ht(Te,2),se=$[0],re=$[1],oe=V[se];y.useEffect(function(){if(l){var Fe=null,Ve=function(){var vt=ne(te);return vt?vt[g.value]:null};!o&&N.length&&!a?Fe=N[0]:Fe=Ve(),re(Fe)}},[l,a]),y.useImperativeHandle(n,function(){var Fe;return{scrollTo:(Fe=W.current)===null||Fe===void 0?void 0:Fe.scrollTo,onKeyDown:function(qe){var vt,tt=qe.which;switch(tt){case $r.UP:case $r.DOWN:case $r.LEFT:case $r.RIGHT:(vt=W.current)===null||vt===void 0||vt.onKeyDown(qe);break;case $r.ENTER:{if(oe){var pt=(oe==null?void 0:oe.node)||{},Ht=pt.selectable,Lt=pt.value,hn=pt.disabled;Ht!==!1&&!hn&&ee(null,{node:{key:se},selected:!N.includes(Lt)})}break}case $r.ESC:s(!1)}},onKeyUp:function(){}}});var ye=$_(function(){return!a},[a,D||Ce],function(Fe,Ve){var qe=ht(Fe,1),vt=qe[0],tt=ht(Ve,2),pt=tt[0],Ht=tt[1];return vt!==pt&&!!(pt||Ht)}),xe=ye?X:null;if(te.length===0)return y.createElement("div",{role:"listbox",className:"".concat(i,"-empty"),onMouseDown:U},u);var He={fieldNames:g};return z&&(He.loadedKeys=z),Le&&(He.expandedKeys=Le),y.createElement("div",{onMouseDown:U},oe&&l&&y.createElement("span",{style:pne,"aria-live":"assertive"},oe.node.value),y.createElement(gK,Kn({ref:W,focusable:!1,prefixCls:"".concat(i,"-tree"),treeData:te,height:f,itemHeight:h,itemScrollOffset:v,virtual:d!==!1&&_!==!1,multiple:o,icon:I,showIcon:L,switcherIcon:k,showLine:B,loadData:xe,motion:H,activeKey:se,checkable:T,checkStrictly:!0,checkedKeys:K,selectedKeys:T?[]:N,defaultExpandAll:F,titleRender:S},He,{onActiveChange:re,onSelect:ee,onCheck:ee,onExpand:Ie,onLoad:Q,filterTreeNode:ie,expandAction:w,onScroll:C})))},mne=y.forwardRef(vne),YP="SHOW_ALL",qP="SHOW_PARENT",Pw="SHOW_CHILD";function t3(t,e,n,r){var i=new Set(t);return e===Pw?t.filter(function(o){var a=n[o];return!a||!a.children||!a.children.some(function(s){var l=s.node;return i.has(l[r.value])})||!a.children.every(function(s){var l=s.node;return MT(l)||i.has(l[r.value])})}):e===qP?t.filter(function(o){var a=n[o],s=a?a.parent:null;return!s||MT(s.node)||!i.has(s.key)}):t}var gne=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function yne(t){return!t||ur(t)!=="object"}var bne=y.forwardRef(function(t,e){var n=t.id,r=t.prefixCls,i=r===void 0?"rc-tree-select":r,o=t.value,a=t.defaultValue,s=t.onChange,l=t.onSelect,u=t.onDeselect,c=t.searchValue,d=t.inputValue,f=t.onSearch,h=t.autoClearSearchValue,v=h===void 0?!0:h,m=t.filterTreeNode,g=t.treeNodeFilterProp,x=g===void 0?"value":g,_=t.showCheckedStrategy,w=t.treeNodeLabelProp,S=t.multiple,C=t.treeCheckable,O=t.treeCheckStrictly,T=t.labelInValue,N=t.fieldNames,M=t.treeDataSimpleMode,D=t.treeData,F=t.children,j=t.loadData,R=t.treeLoadedKeys,I=t.onTreeLoad,L=t.treeDefaultExpandAll,k=t.treeExpandedKeys,B=t.treeDefaultExpandedKeys,q=t.onTreeExpand,X=t.treeExpandAction,z=t.virtual,H=t.listHeight,Q=H===void 0?200:H,V=t.listItemHeight,W=V===void 0?20:V,te=t.listItemScrollOffset,K=te===void 0?0:te,U=t.onDropdownVisibleChange,ee=t.dropdownMatchSelectWidth,fe=ee===void 0?!0:ee,ve=t.treeLine,Ce=t.treeIcon,ue=t.showTreeIcon,we=t.switcherIcon,pe=t.treeMotion,$e=t.treeTitleRender,Ne=t.onPopupScroll,Le=Nn(t,gne),Ie=Kk(n),Z=C&&!O,ie=C||O,ne=O||T,Te=ie||S,$=Gr(a,{value:o}),se=ht($,2),re=se[0],oe=se[1],ye=y.useMemo(function(){return C?_||Pw:YP},[_,C]),xe=y.useMemo(function(){return ane(N)},[JSON.stringify(N)]),He=Gr("",{value:c!==void 0?c:d,postState:function(Ke){return Ke||""}}),Fe=ht(He,2),Ve=Fe[0],qe=Fe[1],vt=function(Ke){qe(Ke),f==null||f(Ke)},tt=hne(D,F,M),pt=lne(tt,xe),Ht=pt.keyEntities,Lt=pt.valueEntities,hn=y.useCallback(function(be){var Ke=[],lt=[];return be.forEach(function(dt){Lt.has(dt)?lt.push(dt):Ke.push(dt)}),{missingRawValues:Ke,existRawValues:lt}},[Lt]),On=dne(tt,Ve,{fieldNames:xe,treeNodeFilterProp:x,filterTreeNode:m}),Yn=y.useCallback(function(be){if(be){if(w)return be[w];for(var Ke=xe._title,lt=0;lt<Ke.length;lt+=1){var dt=be[Ke[lt]];if(dt!==void 0)return dt}}},[xe,w]),kn=y.useCallback(function(be){var Ke=one(be);return Ke.map(function(lt){return yne(lt)?{value:lt}:lt})},[]),bn=y.useCallback(function(be){var Ke=kn(be);return Ke.map(function(lt){var dt=lt.label,Je=lt.value,Tt=lt.halfChecked,un,En=Lt.get(Je);if(En){var ce;dt=$e?$e(En.node):(ce=dt)!==null&&ce!==void 0?ce:Yn(En.node),un=En.node.disabled}else if(dt===void 0){var Xe=kn(re).find(function(_t){return _t.value===Je});dt=Xe.label}return{label:dt,value:Je,halfChecked:Tt,disabled:un}})},[Lt,Yn,kn,re]),Sn=y.useMemo(function(){return kn(re===null?[]:re)},[kn,re]),qn=y.useMemo(function(){var be=[],Ke=[];return Sn.forEach(function(lt){lt.halfChecked?Ke.push(lt):be.push(lt)}),[be,Ke]},[Sn]),it=ht(qn,2),It=it[0],Jt=it[1],dn=y.useMemo(function(){return It.map(function(be){return be.value})},[It]),Hn=ine(It,Jt,Z,Ht),Bn=ht(Hn,2),kt=Bn[0],Yt=Bn[1],An=y.useMemo(function(){var be=t3(kt,ye,Ht,xe),Ke=be.map(function(Tt){var un,En;return(un=(En=Ht[Tt])===null||En===void 0||(En=En.node)===null||En===void 0?void 0:En[xe.value])!==null&&un!==void 0?un:Tt}),lt=Ke.map(function(Tt){var un=It.find(function(ce){return ce.value===Tt}),En=T?un==null?void 0:un.label:$e==null?void 0:$e(un);return{value:Tt,label:En}}),dt=bn(lt),Je=dt[0];return!Te&&Je&&QN(Je.value)&&QN(Je.label)?[]:dt.map(function(Tt){var un;return P(P({},Tt),{},{label:(un=Tt.label)!==null&&un!==void 0?un:Tt.value})})},[xe,Te,kt,It,bn,ye,Ht]),Sr=rne(An),ai=ht(Sr,1),tr=ai[0],si=e3(function(be,Ke,lt){var dt=bn(be);if(oe(dt),v&&qe(""),s){var Je=be;if(Z){var Tt=t3(be,ye,Ht,xe);Je=Tt.map(function(he){var Ze=Lt.get(he);return Ze?Ze.node[xe.value]:he})}var un=Ke||{triggerValue:void 0,selected:void 0},En=un.triggerValue,ce=un.selected,Xe=Je;if(O){var _t=Jt.filter(function(he){return!Je.includes(he.value)});Xe=[].concat(_n(Xe),_n(_t))}var Qt=bn(Xe),Tn={preValue:It,triggerValue:En},Nt=!0;(O||lt==="selection"&&!ce)&&(Nt=!1),cne(Tn,En,be,tt,Nt,xe),ie?Tn.checked=ce:Tn.selected=ce;var Cn=ne?Qt:Qt.map(function(he){return he.value});s(Te?Cn:Cn[0],ne?null:Qt.map(function(he){return he.label}),Tn)}}),xn=y.useCallback(function(be,Ke){var lt,dt=Ke.selected,Je=Ke.source,Tt=Ht[be],un=Tt==null?void 0:Tt.node,En=(lt=un==null?void 0:un[xe.value])!==null&&lt!==void 0?lt:be;if(!Te)si([En],{selected:!0,triggerValue:En},"option");else{var ce=dt?[].concat(_n(dn),[En]):kt.filter(function(Ze){return Ze!==En});if(Z){var Xe=hn(ce),_t=Xe.missingRawValues,Qt=Xe.existRawValues,Tn=Qt.map(function(Ze){return Lt.get(Ze).key}),Nt;if(dt){var Cn=Rd(Tn,!0,Ht);Nt=Cn.checkedKeys}else{var he=Rd(Tn,{checked:!1,halfCheckedKeys:Yt},Ht);Nt=he.checkedKeys}ce=[].concat(_n(_t),_n(Nt.map(function(Ze){return Ht[Ze].node[xe.value]})))}si(ce,{selected:dt,triggerValue:En},Je||"option")}dt||!Te?l==null||l(En,IT(un)):u==null||u(En,IT(un))},[hn,Lt,Ht,xe,Te,dn,si,Z,l,u,kt,Yt]),_e=y.useCallback(function(be){if(U){var Ke={};Object.defineProperty(Ke,"documentClickClose",{get:function(){return Gy(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),U(be,Ke)}},[U]),Re=e3(function(be,Ke){var lt=be.map(function(dt){return dt.value});if(Ke.type==="clear"){si(lt,{},"selection");return}Ke.values.length&&xn(Ke.values[0].value,{selected:!1,source:"selection"})}),ae=y.useMemo(function(){return{virtual:z,dropdownMatchSelectWidth:fe,listHeight:Q,listItemHeight:W,listItemScrollOffset:K,treeData:On,fieldNames:xe,onSelect:xn,treeExpandAction:X,treeTitleRender:$e,onPopupScroll:Ne}},[z,fe,Q,W,K,On,xe,xn,X,$e,Ne]),Ee=y.useMemo(function(){return{checkable:ie,loadData:j,treeLoadedKeys:R,onTreeLoad:I,checkedKeys:kt,halfCheckedKeys:Yt,treeDefaultExpandAll:L,treeExpandedKeys:k,treeDefaultExpandedKeys:B,onTreeExpand:q,treeIcon:Ce,treeMotion:pe,showTreeIcon:ue,switcherIcon:we,treeLine:ve,treeNodeFilterProp:x,keyEntities:Ht}},[ie,j,R,I,kt,Yt,L,k,B,q,Ce,pe,ue,we,ve,x,Ht]);return y.createElement(a7.Provider,{value:ae},y.createElement(o7.Provider,{value:Ee},y.createElement(Yk,Kn({ref:e},Le,{id:Ie,prefixCls:i,mode:Te?"multiple":void 0,displayValues:tr,onDisplayValuesChange:Re,searchValue:Ve,onSearch:vt,OptionList:mne,emptyOptions:!tt.length,onDropdownVisibleChange:_e,dropdownMatchSelectWidth:fe}))))}),Lb=bne;Lb.TreeNode=KP;Lb.SHOW_ALL=YP;Lb.SHOW_PARENT=qP;Lb.SHOW_CHILD=Pw;const xne=t=>{const{componentCls:e,treePrefixCls:n,colorBgElevated:r}=t,i=`.${n}`;return[{[`${e}-dropdown`]:[{padding:`${bt(t.paddingXS)} ${bt(t.calc(t.paddingXS).div(2).equal())}`},bK(n,Pu(t,{colorBgContainer:r})),{[i]:{borderRadius:0,[`${i}-list-holder-inner`]:{alignItems:"stretch",[`${i}-treenode`]:{[`${i}-node-content-wrapper`]:{flex:"auto"}}}}},qk(`${n}-checkbox`,t),{"&-rtl":{direction:"rtl",[`${i}-switcher${i}-switcher_close`]:{[`${i}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};function _ne(t,e,n){return ol("TreeSelect",r=>{const i=Pu(r,{treePrefixCls:e});return[xne(i)]},yK)(t,n)}var Sne=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const wne=(t,e)=>{var n;const{prefixCls:r,size:i,disabled:o,bordered:a=!0,className:s,rootClassName:l,treeCheckable:u,multiple:c,listHeight:d=256,listItemHeight:f,placement:h,notFoundContent:v,switcherIcon:m,treeLine:g,getPopupContainer:x,popupClassName:_,dropdownClassName:w,treeIcon:S=!1,transitionName:C,choiceTransitionName:O="",status:T,treeExpandAction:N,builtinPlacements:M,dropdownMatchSelectWidth:D,popupMatchSelectWidth:F,allowClear:j,variant:R,dropdownStyle:I,tagRender:L}=t,k=Sne(t,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender"]),{getPopupContainer:B,getPrefixCls:q,renderEmpty:X,direction:z,virtual:H,popupMatchSelectWidth:Q,popupOverflow:V}=y.useContext(Uo),[,W]=fw(),te=f??(W==null?void 0:W.controlHeightSM)+(W==null?void 0:W.paddingXXS),K=q(),U=q("select",r),ee=q("select-tree",r),fe=q("tree-select",r),{compactSize:ve,compactItemClassnames:Ce}=Qk(U,z),ue=Od(U),we=Od(fe),[pe,$e,Ne]=Jk(U,ue),[Le]=_ne(fe,ee,we),[Ie,Z]=e$("treeSelect",R,a),ie=rt(_||w,`${fe}-dropdown`,{[`${fe}-dropdown-rtl`]:z==="rtl"},l,Ne,ue,we,$e),ne=!!(u||c),Te=t$(t.suffixIcon,t.showArrow),$=(n=F??D)!==null&&n!==void 0?n:Q,{status:se,hasFeedback:re,isFormItemInput:oe,feedbackIcon:ye}=y.useContext(Zk),xe=o$(se,T),{suffixIcon:He,removeIcon:Fe,clearIcon:Ve}=n$(Object.assign(Object.assign({},k),{multiple:ne,showSuffixIcon:Te,hasFeedback:re,feedbackIcon:ye,prefixCls:U,componentName:"TreeSelect"})),qe=j===!0?{clearIcon:Ve}:j;let vt;v!==void 0?vt=v:vt=(X==null?void 0:X("Select"))||y.createElement(pw,{componentName:"Select"});const tt=vw(k,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),pt=y.useMemo(()=>h!==void 0?h:z==="rtl"?"bottomRight":"bottomLeft",[h,z]),Ht=Dp(Sn=>{var qn;return(qn=i??ve)!==null&&qn!==void 0?qn:Sn}),Lt=y.useContext(dw),hn=o??Lt,On=rt(!r&&fe,{[`${U}-lg`]:Ht==="large",[`${U}-sm`]:Ht==="small",[`${U}-rtl`]:z==="rtl",[`${U}-${Ie}`]:Z,[`${U}-in-form-item`]:oe},r$(U,xe,re),Ce,s,l,Ne,ue,we,$e),Yn=Sn=>y.createElement(xK,{prefixCls:ee,switcherIcon:m,treeNodeProps:Sn,showLine:g}),[kn]=OP("SelectLike",I==null?void 0:I.zIndex),bn=y.createElement(Lb,Object.assign({virtual:H,disabled:hn},tt,{dropdownMatchSelectWidth:$,builtinPlacements:i$(M,V),ref:e,prefixCls:U,className:On,listHeight:d,listItemHeight:te,treeCheckable:u&&y.createElement("span",{className:`${U}-tree-checkbox-inner`}),treeLine:!!g,suffixIcon:He,multiple:ne,placement:pt,removeIcon:Fe,allowClear:qe,switcherIcon:Yn,showTreeIcon:S,notFoundContent:vt,getPopupContainer:x||B,treeMotion:null,dropdownClassName:ie,dropdownStyle:Object.assign(Object.assign({},I),{zIndex:kn}),choiceTransitionName:vp(K,"",O),transitionName:vp(K,"slide-up",C),treeExpandAction:N,tagRender:ne?L:void 0}));return pe(Le(bn))},Ene=y.forwardRef(wne),jp=Ene,Cne=a$(jp);jp.TreeNode=KP;jp.SHOW_ALL=YP;jp.SHOW_PARENT=qP;jp.SHOW_CHILD=Pw;jp._InternalPanelDoNotUseOrYouWillBeFired=Cne;function Tne(t){return typeof t=="string"?"string":typeof t=="number"?"number":typeof t=="boolean"?"boolean":Array.isArray(t)?"array":t===null?"null":typeof t=="object"?"object":typeof t>"u"?"undefined":typeof t=="function"?"function":"unknown"}var Rne=NaN;function n3(t){return typeof t=="number"?t:Nd(t)?Rne:+t}function Aw(t,e){return function(n,r){var i;if(n===void 0&&r===void 0)return e;if(n!==void 0&&(i=n),r!==void 0){if(i===void 0)return r;typeof n=="string"||typeof r=="string"?(n=wu(n),r=wu(r)):(n=n3(n),r=n3(r)),i=t(n,r)}return i}}var Pne=Aw(function(t,e){return t+e},0),r3=1/0,Ane=17976931348623157e292;function Pd(t){if(!t)return t===0?t:0;if(t=Ts(t),t===r3||t===-r3){var e=t<0?-1:1;return e*Ane}return t===t?t:0}function Xr(t){var e=Pd(t),n=e%1;return e===e?n?e-n:e:0}var One="Expected a function";function Nne(t,e){if(typeof e!="function")throw new TypeError(One);return t=Xr(t),function(){if(--t<1)return e.apply(this,arguments)}}var U_=bN&&new bN,s7=U_?function(t,e){return U_.set(t,e),t}:Au;function Ky(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Cb(t.prototype),r=t.apply(n,e);return Dl(r)?r:n}}var Mne=1;function Ine(t,e,n){var r=e&Mne,i=Ky(t);function o(){var a=this&&this!==Lp&&this instanceof o?i:t;return a.apply(r?n:this,arguments)}return o}var Dne=Math.max;function l7(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,l=e.length,u=Dne(o-a,0),c=Array(l+u),d=!r;++s<l;)c[s]=e[s];for(;++i<a;)(d||i<o)&&(c[n[i]]=t[i]);for(;u--;)c[s++]=t[i++];return c}var Lne=Math.max;function u7(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,c=Lne(o-s,0),d=Array(c+u),f=!r;++i<c;)d[i]=t[i];for(var h=i;++l<u;)d[h+l]=e[l];for(;++a<s;)(f||i<o)&&(d[h+n[a]]=t[i++]);return d}function kne(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function Ow(){}var $ne=4294967295;function pi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$ne,this.__views__=[]}pi.prototype=Cb(Ow.prototype);pi.prototype.constructor=pi;function gm(){}var ZP=U_?function(t){return U_.get(t)}:gm,ym={},Fne=Object.prototype,jne=Fne.hasOwnProperty;function m_(t){for(var e=t.name+"",n=ym[e],r=jne.call(ym,e)?n.length:0;r--;){var i=n[r],o=i.func;if(o==null||o==t)return i.name}return e}function kl(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}kl.prototype=Cb(Ow.prototype);kl.prototype.constructor=kl;function c7(t){if(t instanceof pi)return t.clone();var e=new kl(t.__wrapped__,t.__chain__);return e.__actions__=Nl(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Bne=Object.prototype,zne=Bne.hasOwnProperty;function Se(t){if(jl(t)&&!Fi(t)&&!(t instanceof pi)){if(t instanceof kl)return t;if(zne.call(t,"__wrapped__"))return c7(t)}return new kl(t)}Se.prototype=Ow.prototype;Se.prototype.constructor=Se;function DT(t){var e=m_(t),n=Se[e];if(typeof n!="function"||!(e in pi.prototype))return!1;if(t===n)return!0;var r=ZP(n);return!!r&&t===r[0]}var d7=_K(s7),Hne=/\{\n\/\* \[wrapped with (.+)\] \*/,Une=/,? & /;function Gne(t){var e=t.match(Hne);return e?e[1].split(Une):[]}var Wne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Vne(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Wne,`{
/* [wrapped with `+e+`] */
`)}function Nw(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function f7(t){return t!==t}function Xne(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function dg(t,e,n){return e===e?Xne(t,e,n):Nw(t,f7,n)}function Mw(t,e){var n=t==null?0:t.length;return!!n&&dg(t,e,0)>-1}var Kne=1,Yne=2,qne=8,Zne=16,Jne=32,Qne=64,ere=128,tre=256,nre=512,rre=[["ary",ere],["bind",Kne],["bindKey",Yne],["curry",qne],["curryRight",Zne],["flip",nre],["partial",Jne],["partialRight",Qne],["rearg",tre]];function ire(t,e){return Sc(rre,function(n){var r="_."+n[0];e&n[1]&&!Mw(t,r)&&t.push(r)}),t.sort()}function h7(t,e,n){var r=e+"";return SK(t,Vne(r,ire(Gne(r),n)))}var ore=1,are=2,sre=4,lre=8,i3=32,o3=64;function p7(t,e,n,r,i,o,a,s,l,u){var c=e&lre,d=c?a:void 0,f=c?void 0:a,h=c?o:void 0,v=c?void 0:o;e|=c?i3:o3,e&=~(c?o3:i3),e&sre||(e&=~(ore|are));var m=[t,e,i,h,d,v,f,s,l,u],g=n.apply(void 0,m);return DT(t)&&d7(g,m),g.placeholder=r,h7(g,t,e)}function fg(t){var e=t;return e.placeholder}var ure=Math.min;function cre(t,e){for(var n=t.length,r=ure(e.length,n),i=Nl(t);r--;){var o=e[r];t[r]=eg(o,n)?i[o]:void 0}return t}var a3="__lodash_placeholder__";function Vf(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];(a===e||a===a3)&&(t[n]=a3,o[i++]=n)}return o}var dre=1,fre=2,hre=8,pre=16,vre=128,mre=512;function Iw(t,e,n,r,i,o,a,s,l,u){var c=e&vre,d=e&dre,f=e&fre,h=e&(hre|pre),v=e&mre,m=f?void 0:Ky(t);function g(){for(var x=arguments.length,_=Array(x),w=x;w--;)_[w]=arguments[w];if(h)var S=fg(g),C=kne(_,S);if(r&&(_=l7(_,r,i,h)),o&&(_=u7(_,o,a,h)),x-=C,h&&x<u){var O=Vf(_,S);return p7(t,e,Iw,g.placeholder,n,_,O,s,l,u-x)}var T=d?n:this,N=f?T[t]:t;return x=_.length,s?_=cre(_,s):v&&x>1&&_.reverse(),c&&l<x&&(_.length=l),this&&this!==Lp&&this instanceof g&&(N=m||Ky(N)),N.apply(T,_)}return g}function gre(t,e,n){var r=Ky(t);function i(){for(var o=arguments.length,a=Array(o),s=o,l=fg(i);s--;)a[s]=arguments[s];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:Vf(a,l);if(o-=u.length,o<n)return p7(t,e,Iw,i.placeholder,void 0,a,u,void 0,void 0,n-o);var c=this&&this!==Lp&&this instanceof i?r:t;return Ll(c,this,a)}return i}var yre=1;function bre(t,e,n,r){var i=e&yre,o=Ky(t);function a(){for(var s=-1,l=arguments.length,u=-1,c=r.length,d=Array(c+l),f=this&&this!==Lp&&this instanceof a?o:t;++u<c;)d[u]=r[u];for(;l--;)d[u++]=arguments[++s];return Ll(f,i?n:this,d)}return a}var s3="__lodash_placeholder__",WC=1,xre=2,_re=4,l3=8,_0=128,u3=256,Sre=Math.min;function wre(t,e){var n=t[1],r=e[1],i=n|r,o=i<(WC|xre|_0),a=r==_0&&n==l3||r==_0&&n==u3&&t[7].length<=e[8]||r==(_0|u3)&&e[7].length<=e[8]&&n==l3;if(!(o||a))return t;r&WC&&(t[2]=e[2],i|=n&WC?0:_re);var s=e[3];if(s){var l=t[3];t[3]=l?l7(l,s,e[4]):s,t[4]=l?Vf(t[3],s3):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?u7(l,s,e[6]):s,t[6]=l?Vf(t[5],s3):e[6]),s=e[7],s&&(t[7]=s),r&_0&&(t[8]=t[8]==null?e[8]:Sre(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}var Ere="Expected a function",c3=1,Cre=2,VC=8,XC=16,KC=32,d3=64,f3=Math.max;function jd(t,e,n,r,i,o,a,s){var l=e&Cre;if(!l&&typeof t!="function")throw new TypeError(Ere);var u=r?r.length:0;if(u||(e&=~(KC|d3),r=i=void 0),a=a===void 0?a:f3(Xr(a),0),s=s===void 0?s:Xr(s),u-=i?i.length:0,e&d3){var c=r,d=i;r=i=void 0}var f=l?void 0:ZP(t),h=[t,e,n,r,i,c,d,o,a,s];if(f&&wre(h,f),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],s=h[9]=h[9]===void 0?l?0:t.length:f3(h[9]-u,0),!s&&e&(VC|XC)&&(e&=~(VC|XC)),!e||e==c3)var v=Ine(t,e,n);else e==VC||e==XC?v=gre(t,e,s):(e==KC||e==(c3|KC))&&!i.length?v=bre(t,e,n,r):v=Iw.apply(void 0,h);var m=f?s7:d7;return h7(m(v,h),t,e)}var Tre=128;function v7(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,jd(t,Tre,void 0,void 0,void 0,void 0,e)}var Rre=Object.prototype,Pre=Rre.hasOwnProperty,$i=Tb(function(t,e){if(d$(e)||nh(e)){gw(e,Ms(e),t);return}for(var n in e)Pre.call(e,n)&&MP(t,n,e[n])}),h3=Tb(function(t,e){gw(e,kd(e),t)}),G_=Tb(function(t,e,n,r){gw(e,kd(e),t,r)}),Are=Tb(function(t,e,n,r){gw(e,Ms(e),t,r)});function JP(t,e){for(var n=-1,r=e.length,i=Array(r),o=t==null;++n<r;)i[n]=o?void 0:Rb(t,e[n]);return i}var Ore=rh(JP),Nre="[object DOMException]",Mre="[object Error]";function QP(t){if(!jl(t))return!1;var e=ih(t);return e==Mre||e==Nre||typeof t.message=="string"&&typeof t.name=="string"&&!IP(t)}var m7=di(function(t,e){try{return Ll(t,void 0,e)}catch(n){return QP(n)?n:new Error(n)}}),Ire="Expected a function";function g7(t,e){var n;if(typeof e!="function")throw new TypeError(Ire);return t=Xr(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var Dre=1,Lre=32,Dw=di(function(t,e,n){var r=Dre;if(n.length){var i=Vf(n,fg(Dw));r|=Lre}return jd(t,r,e,n,i)});Dw.placeholder={};var kre=rh(function(t,e){return Sc(e,function(n){n=Pb(n),tg(t,n,Dw(t[n],t))}),t}),$re=1,Fre=2,jre=32,eA=di(function(t,e,n){var r=$re|Fre;if(n.length){var i=Vf(n,fg(eA));r|=jre}return jd(e,r,t,n,i)});eA.placeholder={};function ah(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Eu(t,e,n)}var Bre="\\ud800-\\udfff",zre="\\u0300-\\u036f",Hre="\\ufe20-\\ufe2f",Ure="\\u20d0-\\u20ff",Gre=zre+Hre+Ure,Wre="\\ufe0e\\ufe0f",Vre="\\u200d",Xre=RegExp("["+Vre+Bre+Gre+Wre+"]");function hg(t){return Xre.test(t)}function Kre(t){return t.split("")}var y7="\\ud800-\\udfff",Yre="\\u0300-\\u036f",qre="\\ufe20-\\ufe2f",Zre="\\u20d0-\\u20ff",Jre=Yre+qre+Zre,Qre="\\ufe0e\\ufe0f",eie="["+y7+"]",LT="["+Jre+"]",kT="\\ud83c[\\udffb-\\udfff]",tie="(?:"+LT+"|"+kT+")",b7="[^"+y7+"]",x7="(?:\\ud83c[\\udde6-\\uddff]){2}",_7="[\\ud800-\\udbff][\\udc00-\\udfff]",nie="\\u200d",S7=tie+"?",w7="["+Qre+"]?",rie="(?:"+nie+"(?:"+[b7,x7,_7].join("|")+")"+w7+S7+")*",iie=w7+S7+rie,oie="(?:"+[b7+LT+"?",LT,x7,_7,eie].join("|")+")",aie=RegExp(kT+"(?="+kT+")|"+oie+iie,"g");function sie(t){return t.match(aie)||[]}function Ru(t){return hg(t)?sie(t):Kre(t)}function E7(t){return function(e){e=qi(e);var n=hg(e)?Ru(e):void 0,r=n?n[0]:e.charAt(0),i=n?ah(n,1).join(""):e.slice(1);return r[t]()+i}}var tA=E7("toUpperCase");function C7(t){return tA(qi(t).toLowerCase())}function nA(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function rA(t){return function(e){return t==null?void 0:t[e]}}var lie={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},uie=rA(lie),cie=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,die="\\u0300-\\u036f",fie="\\ufe20-\\ufe2f",hie="\\u20d0-\\u20ff",pie=die+fie+hie,vie="["+pie+"]",mie=RegExp(vie,"g");function T7(t){return t=qi(t),t&&t.replace(cie,uie).replace(mie,"")}var gie=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function yie(t){return t.match(gie)||[]}var bie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function xie(t){return bie.test(t)}var R7="\\ud800-\\udfff",_ie="\\u0300-\\u036f",Sie="\\ufe20-\\ufe2f",wie="\\u20d0-\\u20ff",Eie=_ie+Sie+wie,P7="\\u2700-\\u27bf",A7="a-z\\xdf-\\xf6\\xf8-\\xff",Cie="\\xac\\xb1\\xd7\\xf7",Tie="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rie="\\u2000-\\u206f",Pie=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",O7="A-Z\\xc0-\\xd6\\xd8-\\xde",Aie="\\ufe0e\\ufe0f",N7=Cie+Tie+Rie+Pie,M7="['’]",p3="["+N7+"]",Oie="["+Eie+"]",I7="\\d+",Nie="["+P7+"]",D7="["+A7+"]",L7="[^"+R7+N7+I7+P7+A7+O7+"]",Mie="\\ud83c[\\udffb-\\udfff]",Iie="(?:"+Oie+"|"+Mie+")",Die="[^"+R7+"]",k7="(?:\\ud83c[\\udde6-\\uddff]){2}",$7="[\\ud800-\\udbff][\\udc00-\\udfff]",tm="["+O7+"]",Lie="\\u200d",v3="(?:"+D7+"|"+L7+")",kie="(?:"+tm+"|"+L7+")",m3="(?:"+M7+"(?:d|ll|m|re|s|t|ve))?",g3="(?:"+M7+"(?:D|LL|M|RE|S|T|VE))?",F7=Iie+"?",j7="["+Aie+"]?",$ie="(?:"+Lie+"(?:"+[Die,k7,$7].join("|")+")"+j7+F7+")*",Fie="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jie="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bie=j7+F7+$ie,zie="(?:"+[Nie,k7,$7].join("|")+")"+Bie,Hie=RegExp([tm+"?"+D7+"+"+m3+"(?="+[p3,tm,"$"].join("|")+")",kie+"+"+g3+"(?="+[p3,tm+v3,"$"].join("|")+")",tm+"?"+v3+"+"+m3,tm+"+"+g3,jie,Fie,I7,zie].join("|"),"g");function Uie(t){return t.match(Hie)||[]}function B7(t,e,n){return t=qi(t),e=n?void 0:e,e===void 0?xie(t)?Uie(t):yie(t):t.match(e)||[]}var Gie="['’]",Wie=RegExp(Gie,"g");function pg(t){return function(e){return nA(B7(T7(e).replace(Wie,"")),t,"")}}var Vie=pg(function(t,e,n){return e=e.toLowerCase(),t+(n?C7(e):e)});function Xie(){if(!arguments.length)return[];var t=arguments[0];return Fi(t)?t:[t]}var Kie=Lp.isFinite,Yie=Math.min;function iA(t){var e=Math[t];return function(n,r){if(n=Ts(n),r=r==null?0:Yie(Xr(r),292),r&&Kie(n)){var i=(qi(n)+"e").split("e"),o=e(i[0]+"e"+(+i[1]+r));return i=(qi(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(n)}}var qie=iA("ceil");function z7(t){var e=Se(t);return e.__chain__=!0,e}var Zie=Math.ceil,Jie=Math.max;function Qie(t,e,n){(n?Os(t,e,n):e===void 0)?e=1:e=Jie(Xr(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=Array(Zie(r/e));i<r;)a[o++]=Eu(t,i,i+=e);return a}function Bp(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function eoe(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=Ts(n),n=n===n?n:0),e!==void 0&&(e=Ts(e),e=e===e?e:0),Bp(Ts(t),e,n)}var toe=4;function noe(t){return kp(t,toe)}var roe=1,ioe=4;function ooe(t,e){return e=typeof e=="function"?e:void 0,kp(t,roe|ioe,e)}var aoe=4;function soe(t,e){return e=typeof e=="function"?e:void 0,kp(t,aoe,e)}function loe(){return new kl(this.value(),this.__chain__)}function uoe(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function coe(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Ab(Fi(n)?Nl(n):[n],is(e,1))}var doe="Expected a function";function foe(t){var e=t==null?0:t.length,n=Hr;return t=e?zo(t,function(r){if(typeof r[1]!="function")throw new TypeError(doe);return[n(r[0]),r[1]]}):[],di(function(r){for(var i=-1;++i<e;){var o=t[i];if(Ll(o[0],this,r))return Ll(o[1],this,r)}})}function H7(t,e,n){var r=n.length;if(t==null)return!r;for(t=Object(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===void 0&&!(i in t)||!o(a))return!1}return!0}function hoe(t){var e=Ms(t);return function(n){return H7(n,t,e)}}var poe=1;function voe(t){return hoe(kp(t,poe))}function moe(t,e){return e==null||H7(t,e,Ms(e))}function goe(t,e,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function yoe(t,e,n,r){return ng(t,function(i,o,a){e(r,i,n(i),a)}),r}function Lw(t,e){return function(n,r){var i=Fi(n)?goe:yoe,o=e?e():{};return i(n,t,Hr(r),o)}}var boe=Object.prototype,xoe=boe.hasOwnProperty,_oe=Lw(function(t,e,n){xoe.call(t,n)?++t[n]:tg(t,n,1)});function Soe(t,e){var n=Cb(t);return e==null?n:wK(n,e)}var woe=8;function oA(t,e,n){e=n?void 0:e;var r=jd(t,woe,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=oA.placeholder,r}oA.placeholder={};var Eoe=16;function aA(t,e,n){e=n?void 0:e;var r=jd(t,Eoe,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=aA.placeholder,r}aA.placeholder={};function Coe(t,e){return t==null||t!==t?e:t}var U7=Object.prototype,Toe=U7.hasOwnProperty,Roe=di(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Os(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=kd(o),s=-1,l=a.length;++s<l;){var u=a[s],c=t[u];(c===void 0||rg(c,U7[u])&&!Toe.call(t,u))&&(t[u]=o[u])}return t});function G7(t,e,n,r,i,o){return Dl(t)&&Dl(e)&&(o.set(e,t),f$(t,e,void 0,G7,o),o.delete(e)),t}var W7=Tb(function(t,e,n,r){f$(t,e,n,r)}),Poe=di(function(t){return t.push(void 0,G7),Ll(W7,void 0,t)}),Aoe="Expected a function";function V7(t,e,n){if(typeof t!="function")throw new TypeError(Aoe);return setTimeout(function(){t.apply(void 0,n)},e)}var Ooe=di(function(t,e){return V7(t,1,e)}),Noe=di(function(t,e,n){return V7(t,Ts(e)||0,n)});function sA(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Moe=200;function kb(t,e,n,r){var i=-1,o=Mw,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=zo(e,mc(n))),r?(o=sA,a=!1):e.length>=Moe&&(o=F_,a=!1,e=new DP(e));e:for(;++i<s;){var c=t[i],d=n==null?c:n(c);if(c=r||c!==0?c:0,a&&d===d){for(var f=u;f--;)if(e[f]===d)continue e;l.push(c)}else o(e,d,r)||l.push(c)}return l}var Ioe=di(function(t,e){return qo(t)?kb(t,is(e,1,qo,!0)):[]}),Doe=di(function(t,e){var n=nl(e);return qo(n)&&(n=void 0),qo(t)?kb(t,is(e,1,qo,!0),Hr(n)):[]}),Loe=di(function(t,e){var n=nl(e);return qo(n)&&(n=void 0),qo(t)?kb(t,is(e,1,qo,!0),void 0,n):[]}),koe=Aw(function(t,e){return t/e},1);function $oe(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:Xr(e),Eu(t,e<0?0:e,r)):[]}function Foe(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:Xr(e),e=r-e,Eu(t,0,e<0?0:e)):[]}function kw(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Eu(t,r?0:o,r?o+1:i):Eu(t,r?o+1:0,r?i:o)}function joe(t,e){return t&&t.length?kw(t,Hr(e),!0,!0):[]}function Boe(t,e){return t&&t.length?kw(t,Hr(e),!0):[]}function zoe(t,e){for(var n=t==null?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}var X7=EK(!0);function lA(t,e){return t&&X7(t,e,Ms)}var K7=CK(lA,!0);function y3(t,e){var n=Fi(t)?zoe:K7;return n(t,$d(e))}function Hoe(t,e,n){t=qi(t),e=wu(e);var r=t.length;n=n===void 0?r:Bp(Xr(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function Uoe(t,e){return zo(e,function(n){return[n,t[n]]})}function Goe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=[r,r]}),n}var Woe="[object Map]",Voe="[object Set]";function Y7(t){return function(e){var n=Ob(e);return n==Woe?h$(e):n==Voe?Goe(e):Uoe(e,t(e))}}var gc=Y7(Ms),b3=Y7(kd),Xoe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Koe=rA(Xoe),q7=/[&<>"']/g,Yoe=RegExp(q7.source);function Z7(t){return t=qi(t),t&&Yoe.test(t)?t.replace(q7,Koe):t}var J7=/[\\^$.*+?()[\]{}|]/g,qoe=RegExp(J7.source);function Zoe(t){return t=qi(t),t&&qoe.test(t)?t.replace(J7,"\\$&"):t}function Q7(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Joe(t,e){var n=!0;return ng(t,function(r,i,o){return n=!!e(r,i,o),n}),n}function Qoe(t,e,n){var r=Fi(t)?Q7:Joe;return n&&Os(t,e,n)&&(e=void 0),r(t,Hr(e))}var eae=4294967295;function ej(t){return t?Bp(Xr(t),0,eae):0}function tae(t,e,n,r){var i=t.length;for(n=Xr(n),n<0&&(n=-n>i?0:i+n),r=r===void 0||r>i?i:Xr(r),r<0&&(r+=i),r=n>r?0:ej(r);n<r;)t[n++]=e;return t}function nae(t,e,n,r){var i=t==null?0:t.length;return i?(n&&typeof n!="number"&&Os(t,e,n)&&(n=0,r=i),tae(t,e,n,r)):[]}function tj(t,e){var n=[];return ng(t,function(r,i,o){e(r,i,o)&&n.push(r)}),n}function rae(t,e){var n=Fi(t)?$p:tj;return n(t,Hr(e))}function nj(t){return function(e,n,r){var i=Object(e);if(!nh(e)){var o=Hr(n);e=Ms(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var iae=Math.max;function uA(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Xr(n);return i<0&&(i=iae(r+i,0)),Nw(t,Hr(e),i)}var Xf=nj(uA);function rj(t,e,n){var r;return n(t,function(i,o,a){if(e(i,o,a))return r=o,!1}),r}function oae(t,e){return rj(t,Hr(e),Fd)}var aae=Math.max,sae=Math.min;function ij(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=Xr(n),i=n<0?aae(r+i,0):sae(i,r-1)),Nw(t,Hr(e),i,!0)}var lae=nj(ij);function uae(t,e){return rj(t,Hr(e),lA)}function x3(t){return t&&t.length?t[0]:void 0}function cae(t,e){return is(rl(t,e),1)}var dae=1/0;function fae(t,e){return is(rl(t,e),dae)}function hae(t,e,n){return n=n===void 0?1:Xr(n),is(rl(t,e),n)}var pae=1/0;function vae(t){var e=t==null?0:t.length;return e?is(t,pae):[]}function mae(t,e){var n=t==null?0:t.length;return n?(e=e===void 0?1:Xr(e),is(t,e)):[]}var gae=512;function yae(t){return jd(t,gae)}var bae=iA("floor"),xae="Expected a function",_ae=8,Sae=32,wae=128,Eae=256;function oj(t){return rh(function(e){var n=e.length,r=n,i=kl.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if(typeof o!="function")throw new TypeError(xae);if(i&&!a&&m_(o)=="wrapper")var a=new kl([],!0)}for(r=a?r:n;++r<n;){o=e[r];var s=m_(o),l=s=="wrapper"?ZP(o):void 0;l&&DT(l[0])&&l[1]==(wae|_ae|Sae|Eae)&&!l[4].length&&l[9]==1?a=a[m_(l[0])].apply(a,l[3]):a=o.length==1&&DT(o)?a[s]():a.thru(o)}return function(){var u=arguments,c=u[0];if(a&&u.length==1&&Fi(c))return a.plant(c).value();for(var d=0,f=n?e[d].apply(this,u):c;++d<n;)f=e[d].call(this,f);return f}})}var Cae=oj(),Tae=oj(!0);function Rae(t,e){return t==null?t:TK(t,$d(e),kd)}function Pae(t,e){return t==null?t:X7(t,$d(e),kd)}function Aae(t,e){return t&&Fd(t,$d(e))}function Oae(t,e){return t&&lA(t,$d(e))}function Nae(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function $w(t,e){return $p(e,function(n){return ig(t[n])})}function Mae(t){return t==null?[]:$w(t,Ms(t))}function Iae(t){return t==null?[]:$w(t,kd(t))}var Dae=Object.prototype,Lae=Dae.hasOwnProperty,kae=Lw(function(t,e,n){Lae.call(t,n)?t[n].push(e):tg(t,n,[e])});function cA(t,e){return t>e}function Fw(t){return function(e,n){return typeof e=="string"&&typeof n=="string"||(e=Ts(e),n=Ts(n)),t(e,n)}}var $ae=Fw(cA),Fae=Fw(function(t,e){return t>=e}),jae=Object.prototype,Bae=jae.hasOwnProperty;function zae(t,e){return t!=null&&Bae.call(t,e)}function W_(t,e){return t!=null&&RK(t,e,zae)}var Hae=Math.max,Uae=Math.min;function Gae(t,e,n){return t>=Uae(e,n)&&t<Hae(e,n)}function Wae(t,e,n){return e=Pd(e),n===void 0?(n=e,e=0):n=Pd(n),t=Ts(t),Gae(t,e,n)}var Vae="[object String]";function jw(t){return typeof t=="string"||!Fi(t)&&jl(t)&&ih(t)==Vae}function dA(t,e){return zo(e,function(n){return t[n]})}function vg(t){return t==null?[]:dA(t,Ms(t))}var Xae=Math.max;function Kae(t,e,n,r){t=nh(t)?t:vg(t),n=n&&!r?Xr(n):0;var i=t.length;return n<0&&(n=Xae(i+n,0)),jw(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&dg(t,e,n)>-1}var Yae=Math.max;function aj(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Xr(n);return i<0&&(i=Yae(r+i,0)),dg(t,e,i)}function qae(t){var e=t==null?0:t.length;return e?Eu(t,0,-1):[]}var Zae=Math.min;function fA(t,e,n){for(var r=n?sA:Mw,i=t[0].length,o=t.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=t[a];a&&e&&(c=zo(c,mc(e))),l=Zae(c.length,l),s[a]=!n&&(e||i>=120&&c.length>=120)?new DP(a&&c):void 0}c=t[0];var d=-1,f=s[0];e:for(;++d<i&&u.length<l;){var h=c[d],v=e?e(h):h;if(h=n||h!==0?h:0,!(f?F_(f,v):r(u,v,n))){for(a=o;--a;){var m=s[a];if(!(m?F_(m,v):r(t[a],v,n)))continue e}f&&f.push(v),u.push(h)}}return u}function hA(t){return qo(t)?t:[]}var Jae=di(function(t){var e=zo(t,hA);return e.length&&e[0]===t[0]?fA(e):[]}),Qae=di(function(t){var e=nl(t),n=zo(t,hA);return e===nl(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?fA(n,Hr(e)):[]}),ese=di(function(t){var e=nl(t),n=zo(t,hA);return e=typeof e=="function"?e:void 0,e&&n.pop(),n.length&&n[0]===t[0]?fA(n,void 0,e):[]});function tse(t,e,n,r){return Fd(t,function(i,o,a){e(r,n(i),o,a)}),r}function sj(t,e){return function(n,r){return tse(n,t,e(r),{})}}var nse=Object.prototype,rse=nse.toString,ise=sj(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=rse.call(e)),t[e]=n},p$(Au)),lj=Object.prototype,ose=lj.hasOwnProperty,ase=lj.toString,sse=sj(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=ase.call(e)),ose.call(t,e)?t[e].push(n):t[e]=[n]},Hr);function $b(t,e,n){e=yw(e,t),t=PK(t,e);var r=t==null?t:t[Pb(nl(e))];return r==null?void 0:Ll(r,t,n)}var lse=di($b),use=di(function(t,e,n){var r=-1,i=typeof e=="function",o=nh(t)?Array(t.length):[];return ng(t,function(a){o[++r]=i?Ll(e,a,n):$b(a,e,n)}),o}),cse="[object ArrayBuffer]";function dse(t){return jl(t)&&ih(t)==cse}var _3=Tm&&Tm.isArrayBuffer,fse=_3?mc(_3):dse,hse="[object Boolean]";function V_(t){return t===!0||t===!1||jl(t)&&ih(t)==hse}var pse="[object Date]";function vse(t){return jl(t)&&ih(t)==pse}var S3=Tm&&Tm.isDate,mse=S3?mc(S3):vse;function gse(t){return jl(t)&&t.nodeType===1&&!IP(t)}var yse="[object Map]",bse="[object Set]",xse=Object.prototype,_se=xse.hasOwnProperty;function Bw(t){if(t==null)return!0;if(nh(t)&&(Fi(t)||typeof t=="string"||typeof t.splice=="function"||LP(t)||kP(t)||v$(t)))return!t.length;var e=Ob(t);if(e==yse||e==bse)return!t.size;if(d$(t))return!m$(t).length;for(var n in t)if(_se.call(t,n))return!1;return!0}function Yy(t,e){return g$(t,e)}function Sse(t,e,n){n=typeof n=="function"?n:void 0;var r=n?n(t,e):void 0;return r===void 0?g$(t,e,void 0,n):!!r}var wse=Lp.isFinite;function Ese(t){return typeof t=="number"&&wse(t)}function uj(t){return typeof t=="number"&&t==Xr(t)}function Cse(t,e){return t===e||y$(t,e,b$(e))}function Tse(t,e,n){return n=typeof n=="function"?n:void 0,y$(t,e,b$(e),n)}var Rse="[object Number]";function cj(t){return typeof t=="number"||jl(t)&&ih(t)==Rse}function Pse(t){return cj(t)&&t!=+t}var Ase=AK?ig:x$,Ose="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function Nse(t){if(Ase(t))throw new Error(Ose);return OK(t)}function lp(t){return t==null}function Mse(t){return t===null}var Ise="[object RegExp]";function Dse(t){return jl(t)&&ih(t)==Ise}var w3=Tm&&Tm.isRegExp,pA=w3?mc(w3):Dse,E3=9007199254740991;function Lse(t){return uj(t)&&t>=-E3&&t<=E3}var kse="[object WeakMap]";function $se(t){return jl(t)&&Ob(t)==kse}var Fse="[object WeakSet]";function jse(t){return jl(t)&&ih(t)==Fse}var Bse=1;function zse(t){return Hr(typeof t=="function"?t:kp(t,Bse))}var Hse=Array.prototype,Use=Hse.join;function Gse(t,e){return t==null?"":Use.call(t,e)}var Wse=pg(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Vse=Lw(function(t,e,n){tg(t,n,e)});function Xse(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}var Kse=Math.max,Yse=Math.min;function qse(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r;return n!==void 0&&(i=Xr(n),i=i<0?Kse(r+i,0):Yse(i,r-1)),e===e?Xse(t,e,i):Nw(t,f7,i,!0)}var Zse=pg(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Jse=E7("toLowerCase");function vA(t,e){return t<e}var Qse=Fw(vA),ele=Fw(function(t,e){return t<=e});function dj(t,e){var n={};return e=Hr(e),Fd(t,function(r,i,o){tg(n,e(r,i,o),r)}),n}function tle(t,e){var n={};return e=Hr(e),Fd(t,function(r,i,o){tg(n,i,e(r,i,o))}),n}var nle=1;function rle(t){return NK(kp(t,nle))}var ile=1;function ole(t,e){return MK(t,kp(e,ile))}function zw(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Nd(a):n(a,s)))var s=a,l=o}return l}function ale(t){return t&&t.length?zw(t,Au,cA):void 0}function sle(t,e){return t&&t.length?zw(t,Hr(e),cA):void 0}function mA(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==void 0&&(n=n===void 0?o:n+o)}return n}var lle=NaN;function fj(t,e){var n=t==null?0:t.length;return n?mA(t,e)/n:lle}function ule(t){return fj(t,Au)}function cle(t,e){return fj(t,Hr(e))}var dle=di(function(t,e){return function(n){return $b(n,t,e)}}),fle=di(function(t,e){return function(n){return $b(t,n,e)}});function hle(t){return t&&t.length?zw(t,Au,vA):void 0}function ple(t,e){return t&&t.length?zw(t,Hr(e),vA):void 0}function hj(t,e,n){var r=Ms(e),i=$w(e,r),o=!(Dl(n)&&"chain"in n)||!!n.chain,a=ig(t);return Sc(i,function(s){var l=e[s];t[s]=l,a&&(t.prototype[s]=function(){var u=this.__chain__;if(o||u){var c=t(this.__wrapped__),d=c.__actions__=Nl(this.__actions__);return d.push({func:l,args:arguments,thisArg:t}),c.__chain__=u,c}return l.apply(t,Ab([this.value()],arguments))})}),t}var vle=Aw(function(t,e){return t*e},1),mle="Expected a function";function Fb(t){if(typeof t!="function")throw new TypeError(mle);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function gle(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var yle="[object Map]",ble="[object Set]",YC=j_?j_.iterator:void 0;function pj(t){if(!t)return[];if(nh(t))return jw(t)?Ru(t):Nl(t);if(YC&&t[YC])return gle(t[YC]());var e=Ob(t),n=e==yle?h$:e==ble?$P:vg;return n(t)}function xle(){this.__values__===void 0&&(this.__values__=pj(this.value()));var t=this.__index__>=this.__values__.length,e=t?void 0:this.__values__[this.__index__++];return{done:t,value:e}}function vj(t,e){var n=t.length;if(n)return e+=e<0?n:0,eg(e,n)?t[e]:void 0}function _le(t,e){return t&&t.length?vj(t,Xr(e)):void 0}function Sle(t){return t=Xr(t),di(function(e){return vj(e,t)})}function jb(t,e,n,r){if(!Dl(t))return t;e=yw(e,t);for(var i=-1,o=e.length,a=o-1,s=t;s!=null&&++i<o;){var l=Pb(e[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var c=s[l];u=r?r(c,l,s):void 0,u===void 0&&(u=Dl(c)?c:eg(e[i+1])?[]:{})}MP(s,l,u),s=s[l]}return t}function mj(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=bw(t,a);n(s,a)&&jb(o,yw(a,t),s)}return o}function gj(t,e){if(t==null)return{};var n=zo(IK(t),function(r){return[r]});return e=Hr(e),mj(t,n,function(r,i){return e(r,i[0])})}function wle(t,e){return gj(t,Fb(Hr(e)))}function Ele(t){return g7(2,t)}function Cle(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function yj(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=Nd(t),a=e!==void 0,s=e===null,l=e===e,u=Nd(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function Tle(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=yj(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}function bj(t,e,n){e.length?e=zo(e,function(o){return Fi(o)?function(a){return bw(a,o.length===1?o[0]:o)}:o}):e=[Au];var r=-1;e=zo(e,mc(Hr));var i=DK(t,function(o,a,s){var l=zo(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Cle(i,function(o,a){return Tle(o,a,n)})}function Rle(t,e,n,r){return t==null?[]:(Fi(e)||(e=e==null?[]:[e]),n=r?void 0:n,Fi(n)||(n=n==null?[]:[n]),bj(t,e,n))}function gA(t){return rh(function(e){return e=zo(e,mc(Hr)),di(function(n){var r=this;return t(e,function(i){return Ll(i,r,n)})})})}var Ple=gA(zo),Ale=di,Ole=Math.min,Nle=Ale(function(t,e){e=e.length==1&&Fi(e[0])?zo(e[0],mc(Hr)):zo(is(e,1),mc(Hr));var n=e.length;return di(function(r){for(var i=-1,o=Ole(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ll(t,this,r)})}),Mle=gA(Q7),Ile=gA(_$),Dle=9007199254740991,Lle=Math.floor;function $T(t,e){var n="";if(!t||e<1||e>Dle)return n;do e%2&&(n+=t),e=Lle(e/2),e&&(t+=t);while(e);return n}var kle=S$("length"),xj="\\ud800-\\udfff",$le="\\u0300-\\u036f",Fle="\\ufe20-\\ufe2f",jle="\\u20d0-\\u20ff",Ble=$le+Fle+jle,zle="\\ufe0e\\ufe0f",Hle="["+xj+"]",FT="["+Ble+"]",jT="\\ud83c[\\udffb-\\udfff]",Ule="(?:"+FT+"|"+jT+")",_j="[^"+xj+"]",Sj="(?:\\ud83c[\\udde6-\\uddff]){2}",wj="[\\ud800-\\udbff][\\udc00-\\udfff]",Gle="\\u200d",Ej=Ule+"?",Cj="["+zle+"]?",Wle="(?:"+Gle+"(?:"+[_j,Sj,wj].join("|")+")"+Cj+Ej+")*",Vle=Cj+Ej+Wle,Xle="(?:"+[_j+FT+"?",FT,Sj,wj,Hle].join("|")+")",C3=RegExp(jT+"(?="+jT+")|"+Xle+Vle,"g");function Kle(t){for(var e=C3.lastIndex=0;C3.test(t);)++e;return e}function mg(t){return hg(t)?Kle(t):kle(t)}var Yle=Math.ceil;function X_(t,e){e=e===void 0?" ":wu(e);var n=e.length;if(n<2)return n?$T(e,t):e;var r=$T(e,Yle(t/mg(e)));return hg(e)?ah(Ru(r),0,t).join(""):r.slice(0,t)}var qle=Math.ceil,Zle=Math.floor;function Jle(t,e,n){t=qi(t),e=Xr(e);var r=e?mg(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return X_(Zle(i),n)+t+X_(qle(i),n)}function Qle(t,e,n){t=qi(t),e=Xr(e);var r=e?mg(t):0;return e&&r<e?t+X_(e-r,n):t}function eue(t,e,n){t=qi(t),e=Xr(e);var r=e?mg(t):0;return e&&r<e?X_(e-r,n)+t:t}var tue=/^\s+/,nue=Lp.parseInt;function rue(t,e,n){return n||e==null?e=0:e&&(e=+e),nue(qi(t).replace(tue,""),e||0)}var iue=32,Hw=di(function(t,e){var n=Vf(e,fg(Hw));return jd(t,iue,void 0,e,n)});Hw.placeholder={};var oue=64,yA=di(function(t,e){var n=Vf(e,fg(yA));return jd(t,oue,void 0,e,n)});yA.placeholder={};var aue=Lw(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});function sue(t,e){return mj(t,e,function(n,r){return w$(t,r)})}var ap=rh(function(t,e){return t==null?{}:sue(t,e)});function lue(t){for(var e,n=this;n instanceof Ow;){var r=c7(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function uue(t){return function(e){return t==null?void 0:bw(t,e)}}function cue(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}var due=Array.prototype,T3=due.splice;function bA(t,e,n,r){var i=r?cue:dg,o=-1,a=e.length,s=t;for(t===e&&(e=Nl(e)),n&&(s=zo(t,mc(n)));++o<a;)for(var l=0,u=e[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==t&&T3.call(s,l,1),T3.call(t,l,1);return t}function Tj(t,e){return t&&t.length&&e&&e.length?bA(t,e):t}var fue=di(Tj);function hue(t,e,n){return t&&t.length&&e&&e.length?bA(t,e,Hr(n)):t}function pue(t,e,n){return t&&t.length&&e&&e.length?bA(t,e,void 0,n):t}var vue=Array.prototype,mue=vue.splice;function Rj(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;eg(i)?mue.call(t,i,1):E$(t,i)}}return t}var gue=rh(function(t,e){var n=t==null?0:t.length,r=JP(t,e);return Rj(t,zo(e,function(i){return eg(i,n)?+i:i}).sort(yj)),r}),yue=Math.floor,bue=Math.random;function xA(t,e){return t+yue(bue()*(e-t+1))}var xue=parseFloat,_ue=Math.min,Sue=Math.random;function wue(t,e,n){if(n&&typeof n!="boolean"&&Os(t,e,n)&&(e=n=void 0),n===void 0&&(typeof e=="boolean"?(n=e,e=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=Pd(t),e===void 0?(e=t,t=0):e=Pd(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Sue();return _ue(t+i*(e-t+xue("1e-"+((i+"").length-1))),e)}return xA(t,e)}var Eue=Math.ceil,Cue=Math.max;function Tue(t,e,n,r){for(var i=-1,o=Cue(Eue((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}function Pj(t){return function(e,n,r){return r&&typeof r!="number"&&Os(e,n,r)&&(n=r=void 0),e=Pd(e),n===void 0?(n=e,e=0):n=Pd(n),r=r===void 0?e<n?1:-1:Pd(r),Tue(e,n,r,t)}}var Rue=Pj(),Pue=Pj(!0),Aue=256,Oue=rh(function(t,e){return jd(t,Aue,void 0,void 0,void 0,e)});function Aj(t,e,n,r,i){return i(t,function(o,a,s){n=r?(r=!1,o):e(n,o,a,s)}),n}function Oj(t,e,n){var r=Fi(t)?nA:Aj,i=arguments.length<3;return r(t,Hr(e),n,i,ng)}function Nue(t,e,n,r){var i=t==null?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Mue(t,e,n){var r=Fi(t)?Nue:Aj,i=arguments.length<3;return r(t,Hr(e),n,i,K7)}function Iue(t,e){var n=Fi(t)?$p:tj;return n(t,Fb(Hr(e)))}function Due(t,e){var n=[];if(!(t&&t.length))return n;var r=-1,i=[],o=t.length;for(e=Hr(e);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Rj(t,i),n}function Lue(t,e,n){return(n?Os(t,e,n):e===void 0)?e=1:e=Xr(e),$T(qi(t),e)}function kue(){var t=arguments,e=qi(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var $ue="Expected a function";function Fue(t,e){if(typeof t!="function")throw new TypeError($ue);return e=e===void 0?e:Xr(e),di(t,e)}function jue(t,e,n){e=yw(e,t);var r=-1,i=e.length;for(i||(i=1,t=void 0);++r<i;){var o=t==null?void 0:t[Pb(e[r])];o===void 0&&(r=i,o=n),t=ig(o)?o.call(t):o}return t}var Bue=Array.prototype,zue=Bue.reverse;function BT(t){return t==null?t:zue.call(t)}var Hue=iA("round");function Nj(t){var e=t.length;return e?t[xA(0,e-1)]:void 0}function Uue(t){return Nj(vg(t))}function Gue(t){var e=Fi(t)?Nj:Uue;return e(t)}function Uw(t,e){var n=-1,r=t.length,i=r-1;for(e=e===void 0?r:e;++n<e;){var o=xA(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function Wue(t,e){return Uw(Nl(t),Bp(e,0,t.length))}function Vue(t,e){var n=vg(t);return Uw(n,Bp(e,0,n.length))}function Xue(t,e,n){(n?Os(t,e,n):e===void 0)?e=1:e=Xr(e);var r=Fi(t)?Wue:Vue;return r(t,e)}function Mj(t,e,n){return t==null?t:jb(t,e,n)}function Kue(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:jb(t,e,n,r)}function Yue(t){return Uw(Nl(t))}function que(t){return Uw(vg(t))}function Zue(t){var e=Fi(t)?Yue:que;return e(t)}var Jue="[object Map]",Que="[object Set]";function ece(t){if(t==null)return 0;if(nh(t))return jw(t)?mg(t):t.length;var e=Ob(t);return e==Jue||e==Que?t.size:m$(t).length}function tce(t,e,n){var r=t==null?0:t.length;return r?(n&&typeof n!="number"&&Os(t,e,n)?(e=0,n=r):(e=e==null?0:Xr(e),n=n===void 0?r:Xr(n)),Eu(t,e,n)):[]}var nce=pg(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});function rce(t,e){var n;return ng(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}function ice(t,e,n){var r=Fi(t)?_$:rce;return n&&Os(t,e,n)&&(e=void 0),r(t,Hr(e))}var oce=di(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Os(t,e[0],e[1])?e=[]:n>2&&Os(e[0],e[1],e[2])&&(e=[e[0]]),bj(t,is(e,1),[])}),ace=4294967295,sce=ace-1,lce=Math.floor,uce=Math.min;function _A(t,e,n,r){var i=0,o=t==null?0:t.length;if(o===0)return 0;e=n(e);for(var a=e!==e,s=e===null,l=Nd(e),u=e===void 0;i<o;){var c=lce((i+o)/2),d=n(t[c]),f=d!==void 0,h=d===null,v=d===d,m=Nd(d);if(a)var g=r||v;else u?g=v&&(r||f):s?g=v&&f&&(r||!h):l?g=v&&f&&!h&&(r||!m):h||m?g=!1:g=r?d<=e:d<e;g?i=c+1:o=c}return uce(o,sce)}var cce=4294967295,dce=cce>>>1;function Gw(t,e,n){var r=0,i=t==null?r:t.length;if(typeof e=="number"&&e===e&&i<=dce){for(;r<i;){var o=r+i>>>1,a=t[o];a!==null&&!Nd(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return _A(t,e,Au,n)}function fce(t,e){return Gw(t,e)}function hce(t,e,n){return _A(t,e,Hr(n))}function pce(t,e){var n=t==null?0:t.length;if(n){var r=Gw(t,e);if(r<n&&rg(t[r],e))return r}return-1}function vce(t,e){return Gw(t,e,!0)}function mce(t,e,n){return _A(t,e,Hr(n),!0)}function gce(t,e){var n=t==null?0:t.length;if(n){var r=Gw(t,e,!0)-1;if(rg(t[r],e))return r}return-1}function Ij(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!rg(s,l)){var l=s;o[i++]=a===0?0:a}}return o}function yce(t){return t&&t.length?Ij(t):[]}function bce(t,e){return t&&t.length?Ij(t,Hr(e)):[]}var xce=4294967295;function _ce(t,e,n){return n&&typeof n!="number"&&Os(t,e,n)&&(e=n=void 0),n=n===void 0?xce:n>>>0,n?(t=qi(t),t&&(typeof e=="string"||e!=null&&!pA(e))&&(e=wu(e),!e&&hg(t))?ah(Ru(t),0,n):t.split(e,n)):[]}var Sce="Expected a function",wce=Math.max;function Ece(t,e){if(typeof t!="function")throw new TypeError(Sce);return e=e==null?0:wce(Xr(e),0),di(function(n){var r=n[e],i=ah(n,0,e);return r&&Ab(i,r),Ll(t,this,i)})}var Cce=pg(function(t,e,n){return t+(n?" ":"")+tA(e)});function Tce(t,e,n){return t=qi(t),n=n==null?0:Bp(Xr(n),0,t.length),e=wu(e),t.slice(n,n+e.length)==e}function Rce(){return{}}function Pce(){return""}function Ace(){return!0}var Oce=Aw(function(t,e){return t-e},0);function Nce(t){return t&&t.length?mA(t,Au):0}function Mce(t,e){return t&&t.length?mA(t,Hr(e)):0}function Ice(t){var e=t==null?0:t.length;return e?Eu(t,1,e):[]}function Dce(t,e,n){return t&&t.length?(e=n||e===void 0?1:Xr(e),Eu(t,0,e<0?0:e)):[]}function Lce(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:Xr(e),e=r-e,Eu(t,e<0?0:e,r)):[]}function kce(t,e){return t&&t.length?kw(t,Hr(e),!1,!0):[]}function $ce(t,e){return t&&t.length?kw(t,Hr(e)):[]}function Fce(t,e){return e(t),t}var Dj=Object.prototype,jce=Dj.hasOwnProperty;function R3(t,e,n,r){return t===void 0||rg(t,Dj[n])&&!jce.call(r,n)?e:t}var Bce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function zce(t){return"\\"+Bce[t]}var Lj=/<%=([\s\S]+?)%>/g,Hce=/<%-([\s\S]+?)%>/g,Uce=/<%([\s\S]+?)%>/g,zT={escape:Hce,evaluate:Uce,interpolate:Lj,variable:"",imports:{_:{escape:Z7}}},Gce="Invalid `variable` option passed into `_.template`",Wce=/\b__p \+= '';/g,Vce=/\b(__p \+=) '' \+/g,Xce=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Kce=/[()=,{}\[\]\/\s]/,Yce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cx=/($^)/,qce=/['\n\r\u2028\u2029\\]/g,Zce=Object.prototype,P3=Zce.hasOwnProperty;function Jce(t,e,n){var r=zT.imports._.templateSettings||zT;n&&Os(t,e,n)&&(e=void 0),t=qi(t),e=G_({},e,r,R3);var i=G_({},e.imports,r.imports,R3),o=Ms(i),a=dA(i,o),s,l,u=0,c=e.interpolate||cx,d="__p += '",f=RegExp((e.escape||cx).source+"|"+c.source+"|"+(c===Lj?Yce:cx).source+"|"+(e.evaluate||cx).source+"|$","g"),h=P3.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(f,function(g,x,_,w,S,C){return _||(_=w),d+=t.slice(u,C).replace(qce,zce),x&&(s=!0,d+=`' +
__e(`+x+`) +
'`),S&&(l=!0,d+=`';
`+S+`;
__p += '`),_&&(d+=`' +
((__t = (`+_+`)) == null ? '' : __t) +
'`),u=C+g.length,g}),d+=`';
`;var v=P3.call(e,"variable")&&e.variable;if(!v)d=`with (obj) {
`+d+`
}
`;else if(Kce.test(v))throw new Error(Gce);d=(l?d.replace(Wce,""):d).replace(Vce,"$1").replace(Xce,"$1;"),d="function("+(v||"obj")+`) {
`+(v?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var m=m7(function(){return Function(o,h+"return "+d).apply(void 0,a)});if(m.source=d,QP(m))throw m;return m}function Bb(t,e){return e(t)}var Qce=9007199254740991,qC=4294967295,ede=Math.min;function tde(t,e){if(t=Xr(t),t<1||t>Qce)return[];var n=qC,r=ede(t,qC);e=$d(e),t-=qC;for(var i=C$(r,e);++n<t;)e(n);return i}function nde(){return this}function kj(t,e){var n=t;return n instanceof pi&&(n=n.value()),nA(e,function(r,i){return i.func.apply(i.thisArg,Ab([r],i.args))},n)}function ZC(){return kj(this.__wrapped__,this.__actions__)}function rde(t){return qi(t).toLowerCase()}function ide(t){return Fi(t)?zo(t,Pb):Nd(t)?[t]:Nl(LK(qi(t)))}var A3=9007199254740991;function ode(t){return t?Bp(Xr(t),-A3,A3):t===0?t:0}function ade(t){return qi(t).toUpperCase()}function sde(t,e,n){var r=Fi(t),i=r||LP(t)||kP(t);if(e=Hr(e),n==null){var o=t&&t.constructor;i?n=r?new o:[]:Dl(t)?n=ig(o)?Cb(kK(t)):{}:n={}}return(i?Sc:Fd)(t,function(a,s,l){return e(n,a,s,l)}),n}function $j(t,e){for(var n=t.length;n--&&dg(e,t[n],0)>-1;);return n}function Fj(t,e){for(var n=-1,r=t.length;++n<r&&dg(e,t[n],0)>-1;);return n}function lde(t,e,n){if(t=qi(t),t&&(n||e===void 0))return $K(t);if(!t||!(e=wu(e)))return t;var r=Ru(t),i=Ru(e),o=Fj(r,i),a=$j(r,i)+1;return ah(r,o,a).join("")}function ude(t,e,n){if(t=qi(t),t&&(n||e===void 0))return t.slice(0,FK(t)+1);if(!t||!(e=wu(e)))return t;var r=Ru(t),i=$j(r,Ru(e))+1;return ah(r,0,i).join("")}var cde=/^\s+/;function dde(t,e,n){if(t=qi(t),t&&(n||e===void 0))return t.replace(cde,"");if(!t||!(e=wu(e)))return t;var r=Ru(t),i=Fj(r,Ru(e));return ah(r,i).join("")}var fde=30,hde="...",pde=/\w*$/;function vde(t,e){var n=fde,r=hde;if(Dl(e)){var i="separator"in e?e.separator:i;n="length"in e?Xr(e.length):n,r="omission"in e?wu(e.omission):r}t=qi(t);var o=t.length;if(hg(t)){var a=Ru(t);o=a.length}if(n>=o)return t;var s=n-mg(r);if(s<1)return r;var l=a?ah(a,0,s).join(""):t.slice(0,s);if(i===void 0)return l+r;if(a&&(s+=l.length-s),pA(i)){if(t.slice(s).search(i)){var u,c=l;for(i.global||(i=RegExp(i.source,qi(pde.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,d===void 0?s:d)}}else if(t.indexOf(wu(i),s)!=s){var f=l.lastIndexOf(i);f>-1&&(l=l.slice(0,f))}return l+r}function mde(t){return v7(t,1)}var gde={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yde=rA(gde),jj=/&(?:amp|lt|gt|quot|#39);/g,bde=RegExp(jj.source);function xde(t){return t=qi(t),t&&bde.test(t)?t.replace(jj,yde):t}var _de=1/0,Sde=HC&&1/$P(new HC([,-0]))[1]==_de?function(t){return new HC(t)}:gm,wde=200;function Kf(t,e,n){var r=-1,i=Mw,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=sA;else if(o>=wde){var u=e?null:Sde(t);if(u)return $P(u);a=!1,i=F_,l=new DP}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var Ede=di(function(t){return Kf(is(t,1,qo,!0))}),Cde=di(function(t){var e=nl(t);return qo(e)&&(e=void 0),Kf(is(t,1,qo,!0),Hr(e))}),Tde=di(function(t){var e=nl(t);return e=typeof e=="function"?e:void 0,Kf(is(t,1,qo,!0),void 0,e)});function Rde(t){return t&&t.length?Kf(t):[]}function Pde(t,e){return t&&t.length?Kf(t,Hr(e)):[]}function Ade(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Kf(t,void 0,e):[]}var Ode=0;function Nde(t){var e=++Ode;return qi(t)+e}function Mde(t,e){return t==null?!0:E$(t,e)}var Ide=Math.max;function SA(t){if(!(t&&t.length))return[];var e=0;return t=$p(t,function(n){if(qo(n))return e=Ide(n.length,e),!0}),C$(e,function(n){return zo(t,S$(n))})}function Bj(t,e){if(!(t&&t.length))return[];var n=SA(t);return e==null?n:zo(n,function(r){return Ll(e,void 0,r)})}function zj(t,e,n,r){return jb(t,e,n(bw(t,e)),r)}function Dde(t,e,n){return t==null?t:zj(t,e,$d(n))}function Lde(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:zj(t,e,$d(n),r)}var kde=pg(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()});function $de(t){return t==null?[]:dA(t,kd(t))}var Fde=di(function(t,e){return qo(t)?kb(t,e):[]});function jde(t,e){return Hw($d(e),t)}var Bde=rh(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(o){return JP(o,t)};return e>1||this.__actions__.length||!(r instanceof pi)||!eg(n)?this.thru(i):(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Bb,args:[i],thisArg:void 0}),new kl(r,this.__chain__).thru(function(o){return e&&!o.length&&o.push(void 0),o}))});function zde(){return z7(this)}function Hde(){var t=this.__wrapped__;if(t instanceof pi){var e=t;return this.__actions__.length&&(e=new pi(this)),e=e.reverse(),e.__actions__.push({func:Bb,args:[BT],thisArg:void 0}),new kl(e,this.__chain__)}return this.thru(BT)}function wA(t,e,n){var r=t.length;if(r<2)return r?Kf(t[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=kb(o[i]||a,t[s],e,n));return Kf(is(o,1),e,n)}var Ude=di(function(t){return wA($p(t,qo))}),Gde=di(function(t){var e=nl(t);return qo(e)&&(e=void 0),wA($p(t,qo),Hr(e))}),Wde=di(function(t){var e=nl(t);return e=typeof e=="function"?e:void 0,wA($p(t,qo),void 0,e)}),Vde=di(SA);function Hj(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}function Xde(t,e){return Hj(t||[],e||[],MP)}function Kde(t,e){return Hj(t||[],e||[],jb)}var Yde=di(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n=typeof n=="function"?(t.pop(),n):void 0,Bj(t,n)});const er={chunk:Qie,compact:uoe,concat:coe,difference:Ioe,differenceBy:Doe,differenceWith:Loe,drop:$oe,dropRight:Foe,dropRightWhile:joe,dropWhile:Boe,fill:nae,findIndex:uA,findLastIndex:ij,first:x3,flatten:jK,flattenDeep:vae,flattenDepth:mae,fromPairs:Nae,head:x3,indexOf:aj,initial:qae,intersection:Jae,intersectionBy:Qae,intersectionWith:ese,join:Gse,last:nl,lastIndexOf:qse,nth:_le,pull:fue,pullAll:Tj,pullAllBy:hue,pullAllWith:pue,pullAt:gue,remove:Due,reverse:BT,slice:tce,sortedIndex:fce,sortedIndexBy:hce,sortedIndexOf:pce,sortedLastIndex:vce,sortedLastIndexBy:mce,sortedLastIndexOf:gce,sortedUniq:yce,sortedUniqBy:bce,tail:Ice,take:Dce,takeRight:Lce,takeRightWhile:kce,takeWhile:$ce,union:Ede,unionBy:Cde,unionWith:Tde,uniq:Rde,uniqBy:Pde,uniqWith:Ade,unzip:SA,unzipWith:Bj,without:Fde,xor:Ude,xorBy:Gde,xorWith:Wde,zip:Vde,zipObject:Xde,zipObjectDeep:Kde,zipWith:Yde},Ji={countBy:_oe,each:Ai,eachRight:y3,every:Qoe,filter:rae,find:Xf,findLast:lae,flatMap:cae,flatMapDeep:fae,flatMapDepth:hae,forEach:Ai,forEachRight:y3,groupBy:kae,includes:Kae,invokeMap:use,keyBy:Vse,map:rl,orderBy:Rle,partition:aue,reduce:Oj,reduceRight:Mue,reject:Iue,sample:Gue,sampleSize:Xue,shuffle:Zue,size:ece,some:ice,sortBy:oce},qde={now:BK},Mo={after:Nne,ary:v7,before:g7,bind:Dw,bindKey:eA,curry:oA,curryRight:aA,debounce:FP,defer:Ooe,delay:Noe,flip:yae,memoize:zK,negate:Fb,once:Ele,overArgs:Nle,partial:Hw,partialRight:yA,rearg:Oue,rest:Fue,spread:Ece,throttle:T$,unary:mde,wrap:jde},br={castArray:Xie,clone:noe,cloneDeep:Mr,cloneDeepWith:ooe,cloneWith:soe,conformsTo:moe,eq:rg,gt:$ae,gte:Fae,isArguments:v$,isArray:Fi,isArrayBuffer:fse,isArrayLike:nh,isArrayLikeObject:qo,isBoolean:V_,isBuffer:LP,isDate:mse,isElement:gse,isEmpty:Bw,isEqual:Yy,isEqualWith:Sse,isError:QP,isFinite:Ese,isFunction:ig,isInteger:uj,isLength:HK,isMap:UK,isMatch:Cse,isMatchWith:Tse,isNaN:Pse,isNative:Nse,isNil:lp,isNull:Mse,isNumber:cj,isObject:Dl,isObjectLike:jl,isPlainObject:IP,isRegExp:pA,isSafeInteger:Lse,isSet:GK,isString:jw,isSymbol:Nd,isTypedArray:kP,isUndefined:yp,isWeakMap:$se,isWeakSet:jse,lt:Qse,lte:ele,toArray:pj,toFinite:Pd,toInteger:Xr,toLength:ej,toNumber:Ts,toPlainObject:WK,toSafeInteger:ode,toString:qi},as={add:Pne,ceil:qie,divide:koe,floor:bae,max:ale,maxBy:sle,mean:ule,meanBy:cle,min:hle,minBy:ple,multiply:vle,round:Hue,subtract:Oce,sum:Nce,sumBy:Mce},EA={clamp:eoe,inRange:Wae,random:wue},Fr={assign:$i,assignIn:h3,assignInWith:G_,assignWith:Are,at:Ore,create:Soe,defaults:Roe,defaultsDeep:Poe,entries:gc,entriesIn:b3,extend:h3,extendWith:G_,findKey:oae,findLastKey:uae,forIn:Rae,forInRight:Pae,forOwn:Aae,forOwnRight:Oae,functions:Mae,functionsIn:Iae,get:Rb,has:W_,hasIn:w$,invert:ise,invertBy:sse,invoke:lse,keys:Ms,keysIn:kd,mapKeys:dj,mapValues:tle,merge:Cu,mergeWith:W7,omit:R$,omitBy:wle,pick:ap,pickBy:gj,result:jue,set:Mj,setWith:Kue,toPairs:gc,toPairsIn:b3,transform:sde,unset:Mde,update:Dde,updateWith:Lde,values:vg,valuesIn:$de},wc={at:Bde,chain:z7,commit:loe,lodash:Se,next:xle,plant:lue,reverse:Hde,tap:Fce,thru:Bb,toIterator:nde,toJSON:ZC,value:ZC,valueOf:ZC,wrapperChain:zde},ji={camelCase:Vie,capitalize:C7,deburr:T7,endsWith:Hoe,escape:Z7,escapeRegExp:Zoe,kebabCase:Wse,lowerCase:Zse,lowerFirst:Jse,pad:Jle,padEnd:Qle,padStart:eue,parseInt:rue,repeat:Lue,replace:kue,snakeCase:nce,split:_ce,startCase:Cce,startsWith:Tce,template:Jce,templateSettings:zT,toLower:rde,toUpper:ade,trim:lde,trimEnd:ude,trimStart:dde,truncate:vde,unescape:xde,upperCase:kde,upperFirst:tA,words:B7},Gi={attempt:m7,bindAll:kre,cond:foe,conforms:voe,constant:p$,defaultTo:Coe,flow:Cae,flowRight:Tae,identity:Au,iteratee:zse,matches:rle,matchesProperty:ole,method:dle,methodOf:fle,mixin:hj,noop:gm,nthArg:Sle,over:Ple,overEvery:Mle,overSome:Ile,property:VK,propertyOf:uue,range:Rue,rangeRight:Pue,stubArray:XK,stubFalse:x$,stubObject:Rce,stubString:Pce,stubTrue:Ace,times:tde,toPath:ide,uniqueId:Nde};function Zde(){var t=new pi(this.__wrapped__);return t.__actions__=Nl(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Nl(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Nl(this.__views__),t}function Jde(){if(this.__filtered__){var t=new pi(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}var Qde=Math.max,efe=Math.min;function tfe(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=efe(e,t+a);break;case"takeRight":t=Qde(t,e-a);break}}return{start:t,end:e}}var nfe=1,rfe=2,ife=Math.min;function ofe(){var t=this.__wrapped__.value(),e=this.__dir__,n=Fi(t),r=e<0,i=n?t.length:0,o=tfe(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,f=0,h=ife(l,this.__takeCount__);if(!n||!r&&i==l&&h==l)return kj(t,this.__actions__);var v=[];e:for(;l--&&f<h;){u+=e;for(var m=-1,g=t[u];++m<d;){var x=c[m],_=x.iteratee,w=x.type,S=_(g);if(w==rfe)g=S;else if(!S){if(w==nfe)continue e;break e}}v[f++]=g}return v}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var afe="4.17.21",sfe=2,lfe=1,ufe=3,Uj=4294967295,cfe=Array.prototype,dfe=Object.prototype,Gj=dfe.hasOwnProperty,O3=j_?j_.iterator:void 0,ffe=Math.max,N3=Math.min,CA=function(t){return function(e,n,r){if(r==null){var i=Dl(n),o=i&&Ms(n),a=o&&o.length&&$w(n,o);(a?a.length:i)||(r=n,n=e,e=this)}return t(e,n,r)}}(hj);Se.after=Mo.after;Se.ary=Mo.ary;Se.assign=Fr.assign;Se.assignIn=Fr.assignIn;Se.assignInWith=Fr.assignInWith;Se.assignWith=Fr.assignWith;Se.at=Fr.at;Se.before=Mo.before;Se.bind=Mo.bind;Se.bindAll=Gi.bindAll;Se.bindKey=Mo.bindKey;Se.castArray=br.castArray;Se.chain=wc.chain;Se.chunk=er.chunk;Se.compact=er.compact;Se.concat=er.concat;Se.cond=Gi.cond;Se.conforms=Gi.conforms;Se.constant=Gi.constant;Se.countBy=Ji.countBy;Se.create=Fr.create;Se.curry=Mo.curry;Se.curryRight=Mo.curryRight;Se.debounce=Mo.debounce;Se.defaults=Fr.defaults;Se.defaultsDeep=Fr.defaultsDeep;Se.defer=Mo.defer;Se.delay=Mo.delay;Se.difference=er.difference;Se.differenceBy=er.differenceBy;Se.differenceWith=er.differenceWith;Se.drop=er.drop;Se.dropRight=er.dropRight;Se.dropRightWhile=er.dropRightWhile;Se.dropWhile=er.dropWhile;Se.fill=er.fill;Se.filter=Ji.filter;Se.flatMap=Ji.flatMap;Se.flatMapDeep=Ji.flatMapDeep;Se.flatMapDepth=Ji.flatMapDepth;Se.flatten=er.flatten;Se.flattenDeep=er.flattenDeep;Se.flattenDepth=er.flattenDepth;Se.flip=Mo.flip;Se.flow=Gi.flow;Se.flowRight=Gi.flowRight;Se.fromPairs=er.fromPairs;Se.functions=Fr.functions;Se.functionsIn=Fr.functionsIn;Se.groupBy=Ji.groupBy;Se.initial=er.initial;Se.intersection=er.intersection;Se.intersectionBy=er.intersectionBy;Se.intersectionWith=er.intersectionWith;Se.invert=Fr.invert;Se.invertBy=Fr.invertBy;Se.invokeMap=Ji.invokeMap;Se.iteratee=Gi.iteratee;Se.keyBy=Ji.keyBy;Se.keys=Ms;Se.keysIn=Fr.keysIn;Se.map=Ji.map;Se.mapKeys=Fr.mapKeys;Se.mapValues=Fr.mapValues;Se.matches=Gi.matches;Se.matchesProperty=Gi.matchesProperty;Se.memoize=Mo.memoize;Se.merge=Fr.merge;Se.mergeWith=Fr.mergeWith;Se.method=Gi.method;Se.methodOf=Gi.methodOf;Se.mixin=CA;Se.negate=Fb;Se.nthArg=Gi.nthArg;Se.omit=Fr.omit;Se.omitBy=Fr.omitBy;Se.once=Mo.once;Se.orderBy=Ji.orderBy;Se.over=Gi.over;Se.overArgs=Mo.overArgs;Se.overEvery=Gi.overEvery;Se.overSome=Gi.overSome;Se.partial=Mo.partial;Se.partialRight=Mo.partialRight;Se.partition=Ji.partition;Se.pick=Fr.pick;Se.pickBy=Fr.pickBy;Se.property=Gi.property;Se.propertyOf=Gi.propertyOf;Se.pull=er.pull;Se.pullAll=er.pullAll;Se.pullAllBy=er.pullAllBy;Se.pullAllWith=er.pullAllWith;Se.pullAt=er.pullAt;Se.range=Gi.range;Se.rangeRight=Gi.rangeRight;Se.rearg=Mo.rearg;Se.reject=Ji.reject;Se.remove=er.remove;Se.rest=Mo.rest;Se.reverse=er.reverse;Se.sampleSize=Ji.sampleSize;Se.set=Fr.set;Se.setWith=Fr.setWith;Se.shuffle=Ji.shuffle;Se.slice=er.slice;Se.sortBy=Ji.sortBy;Se.sortedUniq=er.sortedUniq;Se.sortedUniqBy=er.sortedUniqBy;Se.split=ji.split;Se.spread=Mo.spread;Se.tail=er.tail;Se.take=er.take;Se.takeRight=er.takeRight;Se.takeRightWhile=er.takeRightWhile;Se.takeWhile=er.takeWhile;Se.tap=wc.tap;Se.throttle=Mo.throttle;Se.thru=Bb;Se.toArray=br.toArray;Se.toPairs=Fr.toPairs;Se.toPairsIn=Fr.toPairsIn;Se.toPath=Gi.toPath;Se.toPlainObject=br.toPlainObject;Se.transform=Fr.transform;Se.unary=Mo.unary;Se.union=er.union;Se.unionBy=er.unionBy;Se.unionWith=er.unionWith;Se.uniq=er.uniq;Se.uniqBy=er.uniqBy;Se.uniqWith=er.uniqWith;Se.unset=Fr.unset;Se.unzip=er.unzip;Se.unzipWith=er.unzipWith;Se.update=Fr.update;Se.updateWith=Fr.updateWith;Se.values=Fr.values;Se.valuesIn=Fr.valuesIn;Se.without=er.without;Se.words=ji.words;Se.wrap=Mo.wrap;Se.xor=er.xor;Se.xorBy=er.xorBy;Se.xorWith=er.xorWith;Se.zip=er.zip;Se.zipObject=er.zipObject;Se.zipObjectDeep=er.zipObjectDeep;Se.zipWith=er.zipWith;Se.entries=Fr.toPairs;Se.entriesIn=Fr.toPairsIn;Se.extend=Fr.assignIn;Se.extendWith=Fr.assignInWith;CA(Se,Se);Se.add=as.add;Se.attempt=Gi.attempt;Se.camelCase=ji.camelCase;Se.capitalize=ji.capitalize;Se.ceil=as.ceil;Se.clamp=EA.clamp;Se.clone=br.clone;Se.cloneDeep=br.cloneDeep;Se.cloneDeepWith=br.cloneDeepWith;Se.cloneWith=br.cloneWith;Se.conformsTo=br.conformsTo;Se.deburr=ji.deburr;Se.defaultTo=Gi.defaultTo;Se.divide=as.divide;Se.endsWith=ji.endsWith;Se.eq=br.eq;Se.escape=ji.escape;Se.escapeRegExp=ji.escapeRegExp;Se.every=Ji.every;Se.find=Ji.find;Se.findIndex=er.findIndex;Se.findKey=Fr.findKey;Se.findLast=Ji.findLast;Se.findLastIndex=er.findLastIndex;Se.findLastKey=Fr.findLastKey;Se.floor=as.floor;Se.forEach=Ji.forEach;Se.forEachRight=Ji.forEachRight;Se.forIn=Fr.forIn;Se.forInRight=Fr.forInRight;Se.forOwn=Fr.forOwn;Se.forOwnRight=Fr.forOwnRight;Se.get=Fr.get;Se.gt=br.gt;Se.gte=br.gte;Se.has=Fr.has;Se.hasIn=Fr.hasIn;Se.head=er.head;Se.identity=Au;Se.includes=Ji.includes;Se.indexOf=er.indexOf;Se.inRange=EA.inRange;Se.invoke=Fr.invoke;Se.isArguments=br.isArguments;Se.isArray=Fi;Se.isArrayBuffer=br.isArrayBuffer;Se.isArrayLike=br.isArrayLike;Se.isArrayLikeObject=br.isArrayLikeObject;Se.isBoolean=br.isBoolean;Se.isBuffer=br.isBuffer;Se.isDate=br.isDate;Se.isElement=br.isElement;Se.isEmpty=br.isEmpty;Se.isEqual=br.isEqual;Se.isEqualWith=br.isEqualWith;Se.isError=br.isError;Se.isFinite=br.isFinite;Se.isFunction=br.isFunction;Se.isInteger=br.isInteger;Se.isLength=br.isLength;Se.isMap=br.isMap;Se.isMatch=br.isMatch;Se.isMatchWith=br.isMatchWith;Se.isNaN=br.isNaN;Se.isNative=br.isNative;Se.isNil=br.isNil;Se.isNull=br.isNull;Se.isNumber=br.isNumber;Se.isObject=Dl;Se.isObjectLike=br.isObjectLike;Se.isPlainObject=br.isPlainObject;Se.isRegExp=br.isRegExp;Se.isSafeInteger=br.isSafeInteger;Se.isSet=br.isSet;Se.isString=br.isString;Se.isSymbol=br.isSymbol;Se.isTypedArray=br.isTypedArray;Se.isUndefined=br.isUndefined;Se.isWeakMap=br.isWeakMap;Se.isWeakSet=br.isWeakSet;Se.join=er.join;Se.kebabCase=ji.kebabCase;Se.last=nl;Se.lastIndexOf=er.lastIndexOf;Se.lowerCase=ji.lowerCase;Se.lowerFirst=ji.lowerFirst;Se.lt=br.lt;Se.lte=br.lte;Se.max=as.max;Se.maxBy=as.maxBy;Se.mean=as.mean;Se.meanBy=as.meanBy;Se.min=as.min;Se.minBy=as.minBy;Se.stubArray=Gi.stubArray;Se.stubFalse=Gi.stubFalse;Se.stubObject=Gi.stubObject;Se.stubString=Gi.stubString;Se.stubTrue=Gi.stubTrue;Se.multiply=as.multiply;Se.nth=er.nth;Se.noop=Gi.noop;Se.now=qde.now;Se.pad=ji.pad;Se.padEnd=ji.padEnd;Se.padStart=ji.padStart;Se.parseInt=ji.parseInt;Se.random=EA.random;Se.reduce=Ji.reduce;Se.reduceRight=Ji.reduceRight;Se.repeat=ji.repeat;Se.replace=ji.replace;Se.result=Fr.result;Se.round=as.round;Se.sample=Ji.sample;Se.size=Ji.size;Se.snakeCase=ji.snakeCase;Se.some=Ji.some;Se.sortedIndex=er.sortedIndex;Se.sortedIndexBy=er.sortedIndexBy;Se.sortedIndexOf=er.sortedIndexOf;Se.sortedLastIndex=er.sortedLastIndex;Se.sortedLastIndexBy=er.sortedLastIndexBy;Se.sortedLastIndexOf=er.sortedLastIndexOf;Se.startCase=ji.startCase;Se.startsWith=ji.startsWith;Se.subtract=as.subtract;Se.sum=as.sum;Se.sumBy=as.sumBy;Se.template=ji.template;Se.times=Gi.times;Se.toFinite=br.toFinite;Se.toInteger=Xr;Se.toLength=br.toLength;Se.toLower=ji.toLower;Se.toNumber=br.toNumber;Se.toSafeInteger=br.toSafeInteger;Se.toString=br.toString;Se.toUpper=ji.toUpper;Se.trim=ji.trim;Se.trimEnd=ji.trimEnd;Se.trimStart=ji.trimStart;Se.truncate=ji.truncate;Se.unescape=ji.unescape;Se.uniqueId=Gi.uniqueId;Se.upperCase=ji.upperCase;Se.upperFirst=ji.upperFirst;Se.each=Ji.forEach;Se.eachRight=Ji.forEachRight;Se.first=er.head;CA(Se,function(){var t={};return Fd(Se,function(e,n){Gj.call(Se.prototype,n)||(t[n]=e)}),t}(),{chain:!1});Se.VERSION=afe;(Se.templateSettings=ji.templateSettings).imports._=Se;Sc(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Se[t].placeholder=Se});Sc(["drop","take"],function(t,e){pi.prototype[t]=function(n){n=n===void 0?1:ffe(Xr(n),0);var r=this.__filtered__&&!e?new pi(this):this.clone();return r.__filtered__?r.__takeCount__=N3(n,r.__takeCount__):r.__views__.push({size:N3(n,Uj),type:t+(r.__dir__<0?"Right":"")}),r},pi.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}});Sc(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==lfe||n==ufe;pi.prototype[t]=function(i){var o=this.clone();return o.__iteratees__.push({iteratee:Hr(i),type:n}),o.__filtered__=o.__filtered__||r,o}});Sc(["head","last"],function(t,e){var n="take"+(e?"Right":"");pi.prototype[t]=function(){return this[n](1).value()[0]}});Sc(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");pi.prototype[t]=function(){return this.__filtered__?new pi(this):this[n](1)}});pi.prototype.compact=function(){return this.filter(Au)};pi.prototype.find=function(t){return this.filter(t).head()};pi.prototype.findLast=function(t){return this.reverse().find(t)};pi.prototype.invokeMap=di(function(t,e){return typeof t=="function"?new pi(this):this.map(function(n){return $b(n,t,e)})});pi.prototype.reject=function(t){return this.filter(Fb(Hr(t)))};pi.prototype.slice=function(t,e){t=Xr(t);var n=this;return n.__filtered__&&(t>0||e<0)?new pi(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==void 0&&(e=Xr(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)};pi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()};pi.prototype.toArray=function(){return this.take(Uj)};Fd(pi.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Se[r?"take"+(e=="last"?"Right":""):e],o=r||/^find/.test(e);i&&(Se.prototype[e]=function(){var a=this.__wrapped__,s=r?[1]:arguments,l=a instanceof pi,u=s[0],c=l||Fi(a),d=function(x){var _=i.apply(Se,Ab([x],s));return r&&f?_[0]:_};c&&n&&typeof u=="function"&&u.length!=1&&(l=c=!1);var f=this.__chain__,h=!!this.__actions__.length,v=o&&!f,m=l&&!h;if(!o&&c){a=m?a:new pi(this);var g=t.apply(a,s);return g.__actions__.push({func:Bb,args:[d],thisArg:void 0}),new kl(g,f)}return v&&m?t.apply(this,s):(g=this.thru(d),v?r?g.value()[0]:g.value():g)})});Sc(["pop","push","shift","sort","splice","unshift"],function(t){var e=cfe[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Se.prototype[t]=function(){var i=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Fi(o)?o:[],i)}return this[n](function(a){return e.apply(Fi(a)?a:[],i)})}});Fd(pi.prototype,function(t,e){var n=Se[e];if(n){var r=n.name+"";Gj.call(ym,r)||(ym[r]=[]),ym[r].push({name:e,func:n})}});ym[Iw(void 0,sfe).name]=[{name:"wrapper",func:void 0}];pi.prototype.clone=Zde;pi.prototype.reverse=Jde;pi.prototype.value=ofe;Se.prototype.at=wc.at;Se.prototype.chain=wc.wrapperChain;Se.prototype.commit=wc.commit;Se.prototype.next=wc.next;Se.prototype.plant=wc.plant;Se.prototype.reverse=wc.reverse;Se.prototype.toJSON=Se.prototype.valueOf=Se.prototype.value=wc.value;Se.prototype.first=Se.prototype.head;O3&&(Se.prototype[O3]=wc.toIterator);function hfe(t){const e=/--data-raw\s+([^ ]+)/,n=t.match(e);if(n&&n[1]){const r=n[1].trim();try{return JSON.parse(r)}catch(i){return console.error("无法解析 JSON:",i),null}}return null}function pfe(t){const e=t.split(`
`).map(l=>l.trim());let n="",r="GET";const i={},o={};let a;for(const l of e){if(l.startsWith("curl")){const u=l.split(" ").slice(1);for(const c of u)c.startsWith("-X")?r=u[u.indexOf(c)+1]||r:(c.startsWith("http")||c.startsWith("'http"))&&(n=c)}if(l.startsWith("-H")){const u=l.slice(3).split(":");u.length===2&&(i[u[0].trim().replace(/'/g,"")]=u[1].trim().replace(/'/g,""))}(l.startsWith("--data-raw")||l.startsWith("--data"))&&(a=l.trim().replace(/'/g,""),a=hfe(a))}n=n.replace(/^['"]|['"]$/g,"").trim();const s=new URL(n);return n=s.origin+s.pathname,s.searchParams.forEach((l,u)=>{o[u]=l}),{url:n,method:r,headers:i,query:o,body:a}}function vfe(t){return{}.toString.call(t)==="[object String]"}function mfe(){try{return window.parent!==window&&window.parent.location.host===window.location.host}catch{return!1}}function gfe(t,e,n=!1){let r,i,o,a;typeof t=="object"&&e===void 0?(r=t.str,i=t.self,o=t.thisRequired,a=t.errCallback,t.logScope):(r=t,i=e,o=n);try{const s=['"use strict";',"var __self = arguments[0];"];s.push("return ");let l;if(l=(r.value||"").trim(),l=l.replace(/this(\W|$)/g,(c,d)=>`__self${d}`),l=s.join(`
`)+l,mfe()&&window.parent.__newFunc)return window.parent.__newFunc(l)(i);const u=`with(${o?"{}":"$scope || {}"}) { ${l} }`;return new Function("$scope",u)(i)}catch(s){a==null||a(s);return}}function yfe(t,e,n){!t||Array.isArray(t)||vfe(t)||typeof t!="object"||Object.keys(t).forEach(r=>e.call(n,t[r],r))}function HT(t,e,n={}){if(xw(t))return gfe({str:t,self:e,thisRequired:n.thisRequiredInJSE,logScope:n.logScope,errCallback:n==null?void 0:n.errCallback});if(typeof t=="string")return t.trim();if(Array.isArray(t))return t.map(r=>HT(r,e,n));if(typeof t=="function")return t.bind(e);if(typeof t=="object"){if(!t)return t;const r={};return yfe(t,(i,o)=>{o.startsWith("__")||(r[o]=HT(i,e,n))}),r}return t}var K_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */K_.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,f=2,h=4,v=1,m=2,g=1,x=2,_=4,w=8,S=16,C=32,O=64,T=128,N=256,M=512,D=30,F="...",j=800,R=16,I=1,L=2,k=3,B=1/0,q=9007199254740991,X=17976931348623157e292,z=NaN,H=4294967295,Q=H-1,V=H>>>1,W=[["ary",T],["bind",g],["bindKey",x],["curry",w],["curryRight",S],["flip",M],["partial",C],["partialRight",O],["rearg",N]],te="[object Arguments]",K="[object Array]",U="[object AsyncFunction]",ee="[object Boolean]",fe="[object Date]",ve="[object DOMException]",Ce="[object Error]",ue="[object Function]",we="[object GeneratorFunction]",pe="[object Map]",$e="[object Number]",Ne="[object Null]",Le="[object Object]",Ie="[object Promise]",Z="[object Proxy]",ie="[object RegExp]",ne="[object Set]",Te="[object String]",$="[object Symbol]",se="[object Undefined]",re="[object WeakMap]",oe="[object WeakSet]",ye="[object ArrayBuffer]",xe="[object DataView]",He="[object Float32Array]",Fe="[object Float64Array]",Ve="[object Int8Array]",qe="[object Int16Array]",vt="[object Int32Array]",tt="[object Uint8Array]",pt="[object Uint8ClampedArray]",Ht="[object Uint16Array]",Lt="[object Uint32Array]",hn=/\b__p \+= '';/g,On=/\b(__p \+=) '' \+/g,Yn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kn=/&(?:amp|lt|gt|quot|#39);/g,bn=/[&<>"']/g,Sn=RegExp(kn.source),qn=RegExp(bn.source),it=/<%-([\s\S]+?)%>/g,It=/<%([\s\S]+?)%>/g,Jt=/<%=([\s\S]+?)%>/g,dn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hn=/^\w*$/,Bn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,Yt=RegExp(kt.source),An=/^\s+/,Sr=/\s/,ai=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,tr=/\{\n\/\* \[wrapped with (.+)\] \*/,si=/,? & /,xn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_e=/[()=,{}\[\]\/\s]/,Re=/\\(\\)?/g,ae=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ee=/\w*$/,be=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,lt=/^\[object .+?Constructor\]$/,dt=/^0o[0-7]+$/i,Je=/^(?:0|[1-9]\d*)$/,Tt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,un=/($^)/,En=/['\n\r\u2028\u2029\\]/g,ce="\\ud800-\\udfff",Xe="\\u0300-\\u036f",_t="\\ufe20-\\ufe2f",Qt="\\u20d0-\\u20ff",Tn=Xe+_t+Qt,Nt="\\u2700-\\u27bf",Cn="a-z\\xdf-\\xf6\\xf8-\\xff",he="\\xac\\xb1\\xd7\\xf7",Ze="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ut="\\u2000-\\u206f",gn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xn="A-Z\\xc0-\\xd6\\xd8-\\xde",wr="\\ufe0e\\ufe0f",en=he+Ze+Ut+gn,$n="['’]",Un="["+ce+"]",vr="["+en+"]",Wi="["+Tn+"]",Wa="\\d+",oa="["+Nt+"]",no="["+Cn+"]",Ma="[^"+ce+en+Wa+Nt+Cn+Xn+"]",pa="\\ud83c[\\udffb-\\udfff]",Zi="(?:"+Wi+"|"+pa+")",To="[^"+ce+"]",Mu="(?:\\ud83c[\\udde6-\\uddff]){2}",al="[\\ud800-\\udbff][\\udc00-\\udfff]",Lo="["+Xn+"]",aa="\\u200d",Ir="(?:"+no+"|"+Ma+")",Kr="(?:"+Lo+"|"+Ma+")",Ro="(?:"+$n+"(?:d|ll|m|re|s|t|ve))?",sa="(?:"+$n+"(?:D|LL|M|RE|S|T|VE))?",_o=Zi+"?",Ul="["+wr+"]?",Gl="(?:"+aa+"(?:"+[To,Mu,al].join("|")+")"+Ul+_o+")*",Ls="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ud=Ul+_o+Gl,PE="(?:"+[oa,Mu,al].join("|")+")"+Ud,AE="(?:"+[To+Wi+"?",Wi,Mu,al,Un].join("|")+")",OE=RegExp($n,"g"),NE=RegExp(Wi,"g"),Og=RegExp(pa+"(?="+pa+")|"+AE+Ud,"g"),ME=RegExp([Lo+"?"+no+"+"+Ro+"(?="+[vr,Lo,"$"].join("|")+")",Kr+"+"+sa+"(?="+[vr,Lo+Ir,"$"].join("|")+")",Lo+"?"+Ir+"+"+Ro,Lo+"+"+sa,Pc,Ls,Wa,PE].join("|"),"g"),Ac=RegExp("["+aa+ce+Tn+wr+"]"),IE=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,DE=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vp=-1,Vi={};Vi[He]=Vi[Fe]=Vi[Ve]=Vi[qe]=Vi[vt]=Vi[tt]=Vi[pt]=Vi[Ht]=Vi[Lt]=!0,Vi[te]=Vi[K]=Vi[ye]=Vi[ee]=Vi[xe]=Vi[fe]=Vi[Ce]=Vi[ue]=Vi[pe]=Vi[$e]=Vi[Le]=Vi[ie]=Vi[ne]=Vi[Te]=Vi[re]=!1;var Xi={};Xi[te]=Xi[K]=Xi[ye]=Xi[xe]=Xi[ee]=Xi[fe]=Xi[He]=Xi[Fe]=Xi[Ve]=Xi[qe]=Xi[vt]=Xi[pe]=Xi[$e]=Xi[Le]=Xi[ie]=Xi[ne]=Xi[Te]=Xi[$]=Xi[tt]=Xi[pt]=Xi[Ht]=Xi[Lt]=!0,Xi[Ce]=Xi[ue]=Xi[re]=!1;var n1={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},LE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ng={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Iu=parseFloat,Xp=parseInt,Ig=typeof Ra=="object"&&Ra&&Ra.Object===Object&&Ra,r1=typeof self=="object"&&self&&self.Object===Object&&self,Zo=Ig||r1||Function("return this")(),Dg=e&&!e.nodeType&&e,Oc=Dg&&!0&&t&&!t.nodeType&&t,i1=Oc&&Oc.exports===Dg,Lg=i1&&Ig.process,us=function(){try{var ct=Oc&&Oc.require&&Oc.require("util").types;return ct||Lg&&Lg.binding&&Lg.binding("util")}catch{}}(),o1=us&&us.isArrayBuffer,Nc=us&&us.isDate,a1=us&&us.isMap,s1=us&&us.isRegExp,Gd=us&&us.isSet,l1=us&&us.isTypedArray;function Wo(ct,Gt,At){switch(At.length){case 0:return ct.call(Gt);case 1:return ct.call(Gt,At[0]);case 2:return ct.call(Gt,At[0],At[1]);case 3:return ct.call(Gt,At[0],At[1],At[2])}return ct.apply(Gt,At)}function u1(ct,Gt,At,Gn){for(var Dr=-1,vi=ct==null?0:ct.length;++Dr<vi;){var ko=ct[Dr];Gt(Gn,ko,At(ko),ct)}return Gn}function Jo(ct,Gt){for(var At=-1,Gn=ct==null?0:ct.length;++At<Gn&&Gt(ct[At],At,ct)!==!1;);return ct}function c1(ct,Gt){for(var At=ct==null?0:ct.length;At--&&Gt(ct[At],At,ct)!==!1;);return ct}function Du(ct,Gt){for(var At=-1,Gn=ct==null?0:ct.length;++At<Gn;)if(!Gt(ct[At],At,ct))return!1;return!0}function sl(ct,Gt){for(var At=-1,Gn=ct==null?0:ct.length,Dr=0,vi=[];++At<Gn;){var ko=ct[At];Gt(ko,At,ct)&&(vi[Dr++]=ko)}return vi}function Kp(ct,Gt){var At=ct==null?0:ct.length;return!!At&&Vl(ct,Gt,0)>-1}function kg(ct,Gt,At){for(var Gn=-1,Dr=ct==null?0:ct.length;++Gn<Dr;)if(At(Gt,ct[Gn]))return!0;return!1}function ro(ct,Gt){for(var At=-1,Gn=ct==null?0:ct.length,Dr=Array(Gn);++At<Gn;)Dr[At]=Gt(ct[At],At,ct);return Dr}function Wl(ct,Gt){for(var At=-1,Gn=Gt.length,Dr=ct.length;++At<Gn;)ct[Dr+At]=Gt[At];return ct}function $g(ct,Gt,At,Gn){var Dr=-1,vi=ct==null?0:ct.length;for(Gn&&vi&&(At=ct[++Dr]);++Dr<vi;)At=Gt(At,ct[Dr],Dr,ct);return At}function kE(ct,Gt,At,Gn){var Dr=ct==null?0:ct.length;for(Gn&&Dr&&(At=ct[--Dr]);Dr--;)At=Gt(At,ct[Dr],Dr,ct);return At}function Yp(ct,Gt){for(var At=-1,Gn=ct==null?0:ct.length;++At<Gn;)if(Gt(ct[At],At,ct))return!0;return!1}var uo=Ic("length");function d1(ct){return ct.split("")}function $E(ct){return ct.match(xn)||[]}function ks(ct,Gt,At){var Gn;return At(ct,function(Dr,vi,ko){if(Gt(Dr,vi,ko))return Gn=vi,!1}),Gn}function Wd(ct,Gt,At,Gn){for(var Dr=ct.length,vi=At+(Gn?1:-1);Gn?vi--:++vi<Dr;)if(Gt(ct[vi],vi,ct))return vi;return-1}function Vl(ct,Gt,At){return Gt===Gt?Kd(ct,Gt,At):Wd(ct,qp,At)}function Mc(ct,Gt,At,Gn){for(var Dr=At-1,vi=ct.length;++Dr<vi;)if(Gn(ct[Dr],Gt))return Dr;return-1}function qp(ct){return ct!==ct}function fh(ct,Gt){var At=ct==null?0:ct.length;return At?Zp(ct,Gt)/At:z}function Ic(ct){return function(Gt){return Gt==null?n:Gt[ct]}}function Vd(ct){return function(Gt){return ct==null?n:ct[Gt]}}function Fg(ct,Gt,At,Gn,Dr){return Dr(ct,function(vi,ko,Ci){At=Gn?(Gn=!1,vi):Gt(At,vi,ko,Ci)}),At}function jg(ct,Gt){var At=ct.length;for(ct.sort(Gt);At--;)ct[At]=ct[At].value;return ct}function Zp(ct,Gt){for(var At,Gn=-1,Dr=ct.length;++Gn<Dr;){var vi=Gt(ct[Gn]);vi!==n&&(At=At===n?vi:At+vi)}return At}function Bg(ct,Gt){for(var At=-1,Gn=Array(ct);++At<ct;)Gn[At]=Gt(At);return Gn}function FE(ct,Gt){return ro(Gt,function(At){return[At,ct[At]]})}function f1(ct){return ct&&ct.slice(0,m1(ct)+1).replace(An,"")}function Va(ct){return function(Gt){return ct(Gt)}}function hh(ct,Gt){return ro(Gt,function(At){return ct[At]})}function Lu(ct,Gt){return ct.has(Gt)}function Jp(ct,Gt){for(var At=-1,Gn=ct.length;++At<Gn&&Vl(Gt,ct[At],0)>-1;);return At}function Qp(ct,Gt){for(var At=ct.length;At--&&Vl(Gt,ct[At],0)>-1;);return At}function Xd(ct,Gt){for(var At=ct.length,Gn=0;At--;)ct[At]===Gt&&++Gn;return Gn}var zg=Vd(n1),Hg=Vd(LE);function Ug(ct){return"\\"+Mg[ct]}function Gg(ct,Gt){return ct==null?n:ct[Gt]}function Dc(ct){return Ac.test(ct)}function h1(ct){return IE.test(ct)}function p1(ct){for(var Gt,At=[];!(Gt=ct.next()).done;)At.push(Gt.value);return At}function ev(ct){var Gt=-1,At=Array(ct.size);return ct.forEach(function(Gn,Dr){At[++Gt]=[Dr,Gn]}),At}function Wg(ct,Gt){return function(At){return ct(Gt(At))}}function Xl(ct,Gt){for(var At=-1,Gn=ct.length,Dr=0,vi=[];++At<Gn;){var ko=ct[At];(ko===Gt||ko===c)&&(ct[At]=c,vi[Dr++]=At)}return vi}function ph(ct){var Gt=-1,At=Array(ct.size);return ct.forEach(function(Gn){At[++Gt]=Gn}),At}function v1(ct){var Gt=-1,At=Array(ct.size);return ct.forEach(function(Gn){At[++Gt]=[Gn,Gn]}),At}function Kd(ct,Gt,At){for(var Gn=At-1,Dr=ct.length;++Gn<Dr;)if(ct[Gn]===Gt)return Gn;return-1}function Vg(ct,Gt,At){for(var Gn=At+1;Gn--;)if(ct[Gn]===Gt)return Gn;return Gn}function ku(ct){return Dc(ct)?BE(ct):uo(ct)}function va(ct){return Dc(ct)?Xg(ct):d1(ct)}function m1(ct){for(var Gt=ct.length;Gt--&&Sr.test(ct.charAt(Gt)););return Gt}var jE=Vd(Ng);function BE(ct){for(var Gt=Og.lastIndex=0;Og.test(ct);)++Gt;return Gt}function Xg(ct){return ct.match(Og)||[]}function zE(ct){return ct.match(ME)||[]}var HE=function ct(Gt){Gt=Gt==null?Zo:Yd.defaults(Zo.Object(),Gt,Yd.pick(Zo,DE));var At=Gt.Array,Gn=Gt.Date,Dr=Gt.Error,vi=Gt.Function,ko=Gt.Math,Ci=Gt.Object,Kg=Gt.RegExp,UE=Gt.String,cs=Gt.TypeError,tv=At.prototype,GE=vi.prototype,qd=Ci.prototype,nv=Gt["__core-js_shared__"],vh=GE.toString,mi=qd.hasOwnProperty,WE=0,mh=function(){var p=/[^.]+$/.exec(nv&&nv.keys&&nv.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),ma=qd.toString,Zd=vh.call(Ci),g1=Zo._,y1=Kg("^"+vh.call(mi).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gh=i1?Gt.Buffer:n,Kl=Gt.Symbol,yh=Gt.Uint8Array,Yg=gh?gh.allocUnsafe:n,rv=Wg(Ci.getPrototypeOf,Ci),Lc=Ci.create,$o=qd.propertyIsEnumerable,bh=tv.splice,qg=Kl?Kl.isConcatSpreadable:n,$s=Kl?Kl.iterator:n,$u=Kl?Kl.toStringTag:n,xh=function(){try{var p=Rt(Ci,"defineProperty");return p({},"",{}),p}catch{}}(),VE=Gt.clearTimeout!==Zo.clearTimeout&&Gt.clearTimeout,XE=Gn&&Gn.now!==Zo.Date.now&&Gn.now,KE=Gt.setTimeout!==Zo.setTimeout&&Gt.setTimeout,iv=ko.ceil,Jd=ko.floor,ov=Ci.getOwnPropertySymbols,YE=gh?gh.isBuffer:n,Zg=Gt.isFinite,b1=tv.join,qE=Wg(Ci.keys,Ci),go=ko.max,la=ko.min,Fu=Gn.now,av=Gt.parseInt,Jg=ko.random,x1=tv.reverse,sv=Rt(Gt,"DataView"),Qd=Rt(Gt,"Map"),lv=Rt(Gt,"Promise"),kc=Rt(Gt,"Set"),ef=Rt(Gt,"WeakMap"),tf=Rt(Ci,"create"),_h=ef&&new ef,ua={},_1=Ki(sv),ZE=Ki(Qd),Yl=Ki(lv),Qg=Ki(kc),$c=Ki(ef),Fc=Kl?Kl.prototype:n,nf=Fc?Fc.valueOf:n,e0=Fc?Fc.toString:n;function ge(p){if(Ao(p)&&!Ur(p)&&!(p instanceof li)){if(p instanceof ds)return p;if(mi.call(p,"__wrapped__"))return Po(p)}return new ds(p)}var jc=function(){function p(){}return function(b){if(!Eo(b))return{};if(Lc)return Lc(b);p.prototype=b;var A=new p;return p.prototype=n,A}}();function Sh(){}function ds(p,b){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=n}ge.templateSettings={escape:it,evaluate:It,interpolate:Jt,variable:"",imports:{_:ge}},ge.prototype=Sh.prototype,ge.prototype.constructor=ge,ds.prototype=jc(Sh.prototype),ds.prototype.constructor=ds;function li(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=H,this.__views__=[]}function JE(){var p=new li(this.__wrapped__);return p.__actions__=Ia(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=Ia(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=Ia(this.__views__),p}function QE(){if(this.__filtered__){var p=new li(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function eC(){var p=this.__wrapped__.value(),b=this.__dir__,A=Ur(p),G=b<0,le=A?p.length:0,Oe=nn(0,le,this.__views__),Ge=Oe.start,Qe=Oe.end,mt=Qe-Ge,tn=G?Qe:Ge-1,rn=this.__iteratees__,pn=rn.length,jn=0,cr=la(mt,this.__takeCount__);if(!A||!G&&le==mt&&cr==mt)return Sv(p,this.__actions__);var Tr=[];e:for(;mt--&&jn<cr;){tn+=b;for(var Qr=-1,Rr=p[tn];++Qr<pn;){var hi=rn[Qr],gi=hi.iteratee,Vs=hi.type,Ka=gi(Rr);if(Vs==L)Rr=Ka;else if(!Ka){if(Vs==I)continue e;break e}}Tr[jn++]=Rr}return Tr}li.prototype=jc(Sh.prototype),li.prototype.constructor=li;function Bc(p){var b=-1,A=p==null?0:p.length;for(this.clear();++b<A;){var G=p[b];this.set(G[0],G[1])}}function tC(){this.__data__=tf?tf(null):{},this.size=0}function S1(p){var b=this.has(p)&&delete this.__data__[p];return this.size-=b?1:0,b}function w1(p){var b=this.__data__;if(tf){var A=b[p];return A===l?n:A}return mi.call(b,p)?b[p]:n}function nC(p){var b=this.__data__;return tf?b[p]!==n:mi.call(b,p)}function rC(p,b){var A=this.__data__;return this.size+=this.has(p)?0:1,A[p]=tf&&b===n?l:b,this}Bc.prototype.clear=tC,Bc.prototype.delete=S1,Bc.prototype.get=w1,Bc.prototype.has=nC,Bc.prototype.set=rC;function Fs(p){var b=-1,A=p==null?0:p.length;for(this.clear();++b<A;){var G=p[b];this.set(G[0],G[1])}}function uv(){this.__data__=[],this.size=0}function iC(p){var b=this.__data__,A=Uc(b,p);if(A<0)return!1;var G=b.length-1;return A==G?b.pop():bh.call(b,A,1),--this.size,!0}function oC(p){var b=this.__data__,A=Uc(b,p);return A<0?n:b[A][1]}function aC(p){return Uc(this.__data__,p)>-1}function sC(p,b){var A=this.__data__,G=Uc(A,p);return G<0?(++this.size,A.push([p,b])):A[G][1]=b,this}Fs.prototype.clear=uv,Fs.prototype.delete=iC,Fs.prototype.get=oC,Fs.prototype.has=aC,Fs.prototype.set=sC;function ql(p){var b=-1,A=p==null?0:p.length;for(this.clear();++b<A;){var G=p[b];this.set(G[0],G[1])}}function E1(){this.size=0,this.__data__={hash:new Bc,map:new(Qd||Fs),string:new Bc}}function lC(p){var b=ke(this,p).delete(p);return this.size-=b?1:0,b}function uC(p){return ke(this,p).get(p)}function cC(p){return ke(this,p).has(p)}function dC(p,b){var A=ke(this,p),G=A.size;return A.set(p,b),this.size+=A.size==G?0:1,this}ql.prototype.clear=E1,ql.prototype.delete=lC,ql.prototype.get=uC,ql.prototype.has=cC,ql.prototype.set=dC;function zc(p){var b=-1,A=p==null?0:p.length;for(this.__data__=new ql;++b<A;)this.add(p[b])}function rf(p){return this.__data__.set(p,l),this}function fC(p){return this.__data__.has(p)}zc.prototype.add=zc.prototype.push=rf,zc.prototype.has=fC;function js(p){var b=this.__data__=new Fs(p);this.size=b.size}function C1(){this.__data__=new Fs,this.size=0}function t0(p){var b=this.__data__,A=b.delete(p);return this.size=b.size,A}function hC(p){return this.__data__.get(p)}function T1(p){return this.__data__.has(p)}function pC(p,b){var A=this.__data__;if(A instanceof Fs){var G=A.__data__;if(!Qd||G.length<i-1)return G.push([p,b]),this.size=++A.size,this;A=this.__data__=new ql(G)}return A.set(p,b),this.size=A.size,this}js.prototype.clear=C1,js.prototype.delete=t0,js.prototype.get=hC,js.prototype.has=T1,js.prototype.set=pC;function R1(p,b){var A=Ur(p),G=!A&&Bh(p),le=!A&&!G&&mf(p),Oe=!A&&!G&&!le&&Av(p),Ge=A||G||le||Oe,Qe=Ge?Bg(p.length,UE):[],mt=Qe.length;for(var tn in p)(b||mi.call(p,tn))&&!(Ge&&(tn=="length"||le&&(tn=="offset"||tn=="parent")||Oe&&(tn=="buffer"||tn=="byteLength"||tn=="byteOffset")||Vt(tn,mt)))&&Qe.push(tn);return Qe}function P1(p){var b=p.length;return b?p[xv(0,b-1)]:n}function vC(p,b){return oo(Ia(p),Bu(b,0,p.length))}function mC(p){return oo(Ia(p))}function Hc(p,b,A){(A!==n&&!tu(p[b],A)||A===n&&!(b in p))&&Zl(p,b,A)}function wh(p,b,A){var G=p[b];(!(mi.call(p,b)&&tu(G,A))||A===n&&!(b in p))&&Zl(p,b,A)}function Uc(p,b){for(var A=p.length;A--;)if(tu(p[A][0],b))return A;return-1}function gC(p,b,A,G){return ll(p,function(le,Oe,Ge){b(G,le,A(le),Ge)}),G}function Gc(p,b){return p&&cl(b,da(b),p)}function of(p,b){return p&&cl(b,vs(b),p)}function Zl(p,b,A){b=="__proto__"&&xh?xh(p,b,{configurable:!0,enumerable:!0,value:A,writable:!0}):p[b]=A}function ju(p,b){for(var A=-1,G=b.length,le=At(G),Oe=p==null;++A<G;)le[A]=Oe?n:IC(p,b[A]);return le}function Bu(p,b,A){return p===p&&(A!==n&&(p=p<=A?p:A),b!==n&&(p=p>=b?p:b)),p}function Qo(p,b,A,G,le,Oe){var Ge,Qe=b&d,mt=b&f,tn=b&h;if(A&&(Ge=le?A(p,G,le,Oe):A(p)),Ge!==n)return Ge;if(!Eo(p))return p;var rn=Ur(p);if(rn){if(Ge=vn(p),!Qe)return Ia(p,Ge)}else{var pn=$t(p),jn=pn==ue||pn==we;if(mf(p))return pf(p,Qe);if(pn==Le||pn==te||jn&&!le){if(Ge=mt||jn?{}:Kt(p),!Qe)return mt?H1(p,of(Ge,p)):Vu(p,Gc(Ge,p))}else{if(!Xi[pn])return le?p:{};Ge=cn(p,pn,Qe)}}Oe||(Oe=new js);var cr=Oe.get(p);if(cr)return cr;Oe.set(p,Ge),KO(p)?p.forEach(function(Rr){Ge.add(Qo(Rr,b,A,Rr,p,Oe))}):VO(p)&&p.forEach(function(Rr,hi){Ge.set(hi,Qo(Rr,b,A,hi,p,Oe))});var Tr=tn?mt?g0:m0:mt?vs:da,Qr=rn?n:Tr(p);return Jo(Qr||p,function(Rr,hi){Qr&&(hi=Rr,Rr=p[hi]),wh(Ge,hi,Qo(Rr,b,A,hi,p,Oe))}),Ge}function n0(p){var b=da(p);return function(A){return cv(A,p,b)}}function cv(p,b,A){var G=A.length;if(p==null)return!G;for(p=Ci(p);G--;){var le=A[G],Oe=b[le],Ge=p[le];if(Ge===n&&!(le in p)||!Oe(Ge))return!1}return!0}function dv(p,b,A){if(typeof p!="function")throw new cs(a);return zr(function(){p.apply(n,A)},b)}function Wc(p,b,A,G){var le=-1,Oe=Kp,Ge=!0,Qe=p.length,mt=[],tn=b.length;if(!Qe)return mt;A&&(b=ro(b,Va(A))),G?(Oe=kg,Ge=!1):b.length>=i&&(Oe=Lu,Ge=!1,b=new zc(b));e:for(;++le<Qe;){var rn=p[le],pn=A==null?rn:A(rn);if(rn=G||rn!==0?rn:0,Ge&&pn===pn){for(var jn=tn;jn--;)if(b[jn]===pn)continue e;mt.push(rn)}else Oe(b,pn,G)||mt.push(rn)}return mt}var ll=U1(Bs),Eh=U1(hv,!0);function A1(p,b){var A=!0;return ll(p,function(G,le,Oe){return A=!!b(G,le,Oe),A}),A}function Ch(p,b,A){for(var G=-1,le=p.length;++G<le;){var Oe=p[G],Ge=b(Oe);if(Ge!=null&&(Qe===n?Ge===Ge&&!Ws(Ge):A(Ge,Qe)))var Qe=Ge,mt=Oe}return mt}function O1(p,b,A,G){var le=p.length;for(A=qr(A),A<0&&(A=-A>le?0:le+A),G=G===n||G>le?le:qr(G),G<0&&(G+=le),G=A>G?0:qO(G);A<G;)p[A++]=b;return p}function r0(p,b){var A=[];return ll(p,function(G,le,Oe){b(G,le,Oe)&&A.push(G)}),A}function Vo(p,b,A,G,le){var Oe=-1,Ge=p.length;for(A||(A=wt),le||(le=[]);++Oe<Ge;){var Qe=p[Oe];b>0&&A(Qe)?b>1?Vo(Qe,b-1,A,G,le):Wl(le,Qe):G||(le[le.length]=Qe)}return le}var Th=c0(),fv=c0(!0);function Bs(p,b){return p&&Th(p,b,da)}function hv(p,b){return p&&fv(p,b,da)}function Rh(p,b){return sl(b,function(A){return rd(p[A])})}function zu(p,b){b=zs(b,p);for(var A=0,G=b.length;p!=null&&A<G;)p=p[Si(b[A++])];return A&&A==G?p:n}function pv(p,b,A){var G=b(p);return Ur(p)?G:Wl(G,A(p))}function ca(p){return p==null?p===n?se:Ne:$u&&$u in Ci(p)?yt(p):or(p)}function vv(p,b){return p>b}function i0(p,b){return p!=null&&mi.call(p,b)}function o0(p,b){return p!=null&&b in Ci(p)}function N1(p,b,A){return p>=la(b,A)&&p<go(b,A)}function Ph(p,b,A){for(var G=A?kg:Kp,le=p[0].length,Oe=p.length,Ge=Oe,Qe=At(Oe),mt=1/0,tn=[];Ge--;){var rn=p[Ge];Ge&&b&&(rn=ro(rn,Va(b))),mt=la(rn.length,mt),Qe[Ge]=!A&&(b||le>=120&&rn.length>=120)?new zc(Ge&&rn):n}rn=p[0];var pn=-1,jn=Qe[0];e:for(;++pn<le&&tn.length<mt;){var cr=rn[pn],Tr=b?b(cr):cr;if(cr=A||cr!==0?cr:0,!(jn?Lu(jn,Tr):G(tn,Tr,A))){for(Ge=Oe;--Ge;){var Qr=Qe[Ge];if(!(Qr?Lu(Qr,Tr):G(p[Ge],Tr,A)))continue e}jn&&jn.push(Tr),tn.push(cr)}}return tn}function M1(p,b,A,G){return Bs(p,function(le,Oe,Ge){b(G,A(le),Oe,Ge)}),G}function af(p,b,A){b=zs(b,p),p=Mn(p,b);var G=p==null?p:p[Si(Pe(b))];return G==null?n:Wo(G,p,A)}function mv(p){return Ao(p)&&ca(p)==te}function I1(p){return Ao(p)&&ca(p)==ye}function D1(p){return Ao(p)&&ca(p)==fe}function Vc(p,b,A,G,le){return p===b?!0:p==null||b==null||!Ao(p)&&!Ao(b)?p!==p&&b!==b:a0(p,b,A,G,Vc,le)}function a0(p,b,A,G,le,Oe){var Ge=Ur(p),Qe=Ur(b),mt=Ge?K:$t(p),tn=Qe?K:$t(b);mt=mt==te?Le:mt,tn=tn==te?Le:tn;var rn=mt==Le,pn=tn==Le,jn=mt==tn;if(jn&&mf(p)){if(!mf(b))return!1;Ge=!0,rn=!1}if(jn&&!rn)return Oe||(Oe=new js),Ge||Av(p)?X1(p,b,A,G,le,Oe):K1(p,b,mt,A,G,le,Oe);if(!(A&v)){var cr=rn&&mi.call(p,"__wrapped__"),Tr=pn&&mi.call(b,"__wrapped__");if(cr||Tr){var Qr=cr?p.value():p,Rr=Tr?b.value():b;return Oe||(Oe=new js),le(Qr,Rr,A,G,Oe)}}return jn?(Oe||(Oe=new js),Y1(p,b,A,G,le,Oe)):!1}function Ah(p){return Ao(p)&&$t(p)==pe}function gv(p,b,A,G){var le=A.length,Oe=le,Ge=!G;if(p==null)return!Oe;for(p=Ci(p);le--;){var Qe=A[le];if(Ge&&Qe[2]?Qe[1]!==p[Qe[0]]:!(Qe[0]in p))return!1}for(;++le<Oe;){Qe=A[le];var mt=Qe[0],tn=p[mt],rn=Qe[1];if(Ge&&Qe[2]){if(tn===n&&!(mt in p))return!1}else{var pn=new js;if(G)var jn=G(tn,rn,mt,p,b,pn);if(!(jn===n?Vc(rn,tn,v|m,G,pn):jn))return!1}}return!0}function Oh(p){if(!Eo(p)||fn(p))return!1;var b=rd(p)?y1:lt;return b.test(Ki(p))}function Jl(p){return Ao(p)&&ca(p)==ie}function Nh(p){return Ao(p)&&$t(p)==ne}function Xc(p){return Ao(p)&&rx(p.length)&&!!Vi[ca(p)]}function sf(p){return typeof p=="function"?p:p==null?ms:typeof p=="object"?Ur(p)?Ih(p[0],p[1]):Mh(p):sN(p)}function Kc(p){if(!ln(p))return qE(p);var b=[];for(var A in Ci(p))mi.call(p,A)&&A!="constructor"&&b.push(A);return b}function Yc(p){if(!Eo(p))return jt(p);var b=ln(p),A=[];for(var G in p)G=="constructor"&&(b||!mi.call(p,G))||A.push(G);return A}function Ql(p,b){return p<b}function Hu(p,b){var A=-1,G=ps(p)?At(p.length):[];return ll(p,function(le,Oe,Ge){G[++A]=b(le,Oe,Ge)}),G}function Mh(p){var b=gt(p);return b.length==1&&b[0][2]?hr(b[0][0],b[0][1]):function(A){return A===p||gv(A,p,b)}}function Ih(p,b){return Ft(p)&&Wn(b)?hr(Si(p),b):function(A){var G=IC(A,p);return G===n&&G===b?DC(A,p):Vc(b,G,v|m)}}function Uu(p,b,A,G,le){p!==b&&Th(b,function(Oe,Ge){if(le||(le=new js),Eo(Oe))s0(p,b,Ge,A,Uu,G,le);else{var Qe=G?G(pr(p,Ge),Oe,Ge+"",p,b,le):n;Qe===n&&(Qe=Oe),Hc(p,Ge,Qe)}},vs)}function s0(p,b,A,G,le,Oe,Ge){var Qe=pr(p,A),mt=pr(b,A),tn=Ge.get(mt);if(tn){Hc(p,A,tn);return}var rn=Oe?Oe(Qe,mt,A+"",p,b,Ge):n,pn=rn===n;if(pn){var jn=Ur(mt),cr=!jn&&mf(mt),Tr=!jn&&!cr&&Av(mt);rn=mt,jn||cr||Tr?Ur(Qe)?rn=Qe:Fo(Qe)?rn=Ia(Qe):cr?(pn=!1,rn=pf(mt,!0)):Tr?(pn=!1,rn=vf(mt,!0)):rn=[]:b0(mt)||Bh(mt)?(rn=Qe,Bh(Qe)?rn=ZO(Qe):(!Eo(Qe)||rd(Qe))&&(rn=Kt(mt))):pn=!1}pn&&(Ge.set(mt,rn),le(rn,mt,G,Oe,Ge),Ge.delete(mt)),Hc(p,A,rn)}function yv(p,b){var A=p.length;if(A)return b+=b<0?A:0,Vt(b,A)?p[b]:n}function qc(p,b,A){b.length?b=ro(b,function(Oe){return Ur(Oe)?function(Ge){return zu(Ge,Oe.length===1?Oe[0]:Oe)}:Oe}):b=[ms];var G=-1;b=ro(b,Va(de()));var le=Hu(p,function(Oe,Ge,Qe){var mt=ro(b,function(tn){return tn(Oe)});return{criteria:mt,index:++G,value:Oe}});return jg(le,function(Oe,Ge){return B1(Oe,Ge,A)})}function lf(p,b){return L1(p,b,function(A,G){return DC(p,G)})}function L1(p,b,A){for(var G=-1,le=b.length,Oe={};++G<le;){var Ge=b[G],Qe=zu(p,Ge);A(Qe,Ge)&&uf(Oe,zs(Ge,p),Qe)}return Oe}function yC(p){return function(b){return zu(b,p)}}function bv(p,b,A,G){var le=G?Mc:Vl,Oe=-1,Ge=b.length,Qe=p;for(p===b&&(b=Ia(b)),A&&(Qe=ro(p,Va(A)));++Oe<Ge;)for(var mt=0,tn=b[Oe],rn=A?A(tn):tn;(mt=le(Qe,rn,mt,G))>-1;)Qe!==p&&bh.call(Qe,mt,1),bh.call(p,mt,1);return p}function l0(p,b){for(var A=p?b.length:0,G=A-1;A--;){var le=b[A];if(A==G||le!==Oe){var Oe=le;Vt(le)?bh.call(p,le,1):cf(p,le)}}return p}function xv(p,b){return p+Jd(Jg()*(b-p+1))}function bC(p,b,A,G){for(var le=-1,Oe=go(iv((b-p)/(A||1)),0),Ge=At(Oe);Oe--;)Ge[G?Oe:++le]=p,p+=A;return Ge}function Gu(p,b){var A="";if(!p||b<1||b>q)return A;do b%2&&(A+=p),b=Jd(b/2),b&&(p+=p);while(b);return A}function Yr(p,b){return io(yr(p,b,ms),p+"")}function xC(p){return P1(Ov(p))}function _C(p,b){var A=Ov(p);return oo(A,Bu(b,0,A.length))}function uf(p,b,A,G){if(!Eo(p))return p;b=zs(b,p);for(var le=-1,Oe=b.length,Ge=Oe-1,Qe=p;Qe!=null&&++le<Oe;){var mt=Si(b[le]),tn=A;if(mt==="__proto__"||mt==="constructor"||mt==="prototype")return p;if(le!=Ge){var rn=Qe[mt];tn=G?G(rn,mt,Qe):n,tn===n&&(tn=Eo(rn)?rn:Vt(b[le+1])?[]:{})}wh(Qe,mt,tn),Qe=Qe[mt]}return p}var k1=_h?function(p,b){return _h.set(p,b),p}:ms,SC=xh?function(p,b){return xh(p,"toString",{configurable:!0,enumerable:!1,value:kC(b),writable:!0})}:ms;function wC(p){return oo(Ov(p))}function fs(p,b,A){var G=-1,le=p.length;b<0&&(b=-b>le?0:le+b),A=A>le?le:A,A<0&&(A+=le),le=b>A?0:A-b>>>0,b>>>=0;for(var Oe=At(le);++G<le;)Oe[G]=p[G+b];return Oe}function EC(p,b){var A;return ll(p,function(G,le,Oe){return A=b(G,le,Oe),!A}),!!A}function _v(p,b,A){var G=0,le=p==null?G:p.length;if(typeof b=="number"&&b===b&&le<=V){for(;G<le;){var Oe=G+le>>>1,Ge=p[Oe];Ge!==null&&!Ws(Ge)&&(A?Ge<=b:Ge<b)?G=Oe+1:le=Oe}return le}return u0(p,b,ms,A)}function u0(p,b,A,G){var le=0,Oe=p==null?0:p.length;if(Oe===0)return 0;b=A(b);for(var Ge=b!==b,Qe=b===null,mt=Ws(b),tn=b===n;le<Oe;){var rn=Jd((le+Oe)/2),pn=A(p[rn]),jn=pn!==n,cr=pn===null,Tr=pn===pn,Qr=Ws(pn);if(Ge)var Rr=G||Tr;else tn?Rr=Tr&&(G||jn):Qe?Rr=Tr&&jn&&(G||!cr):mt?Rr=Tr&&jn&&!cr&&(G||!Qr):cr||Qr?Rr=!1:Rr=G?pn<=b:pn<b;Rr?le=rn+1:Oe=rn}return la(Oe,Q)}function $1(p,b){for(var A=-1,G=p.length,le=0,Oe=[];++A<G;){var Ge=p[A],Qe=b?b(Ge):Ge;if(!A||!tu(Qe,mt)){var mt=Qe;Oe[le++]=Ge===0?0:Ge}}return Oe}function F1(p){return typeof p=="number"?p:Ws(p)?z:+p}function Xa(p){if(typeof p=="string")return p;if(Ur(p))return ro(p,Xa)+"";if(Ws(p))return e0?e0.call(p):"";var b=p+"";return b=="0"&&1/p==-B?"-0":b}function ul(p,b,A){var G=-1,le=Kp,Oe=p.length,Ge=!0,Qe=[],mt=Qe;if(A)Ge=!1,le=kg;else if(Oe>=i){var tn=b?null:TC(p);if(tn)return ph(tn);Ge=!1,le=Lu,mt=new zc}else mt=b?[]:Qe;e:for(;++G<Oe;){var rn=p[G],pn=b?b(rn):rn;if(rn=A||rn!==0?rn:0,Ge&&pn===pn){for(var jn=mt.length;jn--;)if(mt[jn]===pn)continue e;b&&mt.push(pn),Qe.push(rn)}else le(mt,pn,A)||(mt!==Qe&&mt.push(pn),Qe.push(rn))}return Qe}function cf(p,b){return b=zs(b,p),p=Mn(p,b),p==null||delete p[Si(Pe(b))]}function Dh(p,b,A,G){return uf(p,b,A(zu(p,b)),G)}function Zc(p,b,A,G){for(var le=p.length,Oe=G?le:-1;(G?Oe--:++Oe<le)&&b(p[Oe],Oe,p););return A?fs(p,G?0:Oe,G?Oe+1:le):fs(p,G?Oe+1:0,G?le:Oe)}function Sv(p,b){var A=p;return A instanceof li&&(A=A.value()),$g(b,function(G,le){return le.func.apply(le.thisArg,Wl([G],le.args))},A)}function df(p,b,A){var G=p.length;if(G<2)return G?ul(p[0]):[];for(var le=-1,Oe=At(G);++le<G;)for(var Ge=p[le],Qe=-1;++Qe<G;)Qe!=le&&(Oe[le]=Wc(Oe[le]||Ge,p[Qe],b,A));return ul(Vo(Oe,1),b,A)}function Lh(p,b,A){for(var G=-1,le=p.length,Oe=b.length,Ge={};++G<le;){var Qe=G<Oe?b[G]:n;A(Ge,p[G],Qe)}return Ge}function ff(p){return Fo(p)?p:[]}function kh(p){return typeof p=="function"?p:ms}function zs(p,b){return Ur(p)?p:Ft(p,b)?[p]:Li(Bi(p))}var wv=Yr;function Hs(p,b,A){var G=p.length;return A=A===n?G:A,!b&&A>=G?p:fs(p,b,A)}var hf=VE||function(p){return Zo.clearTimeout(p)};function pf(p,b){if(b)return p.slice();var A=p.length,G=Yg?Yg(A):new p.constructor(A);return p.copy(G),G}function Jc(p){var b=new p.constructor(p.byteLength);return new yh(b).set(new yh(p)),b}function $h(p,b){var A=b?Jc(p.buffer):p.buffer;return new p.constructor(A,p.byteOffset,p.byteLength)}function Fh(p){var b=new p.constructor(p.source,Ee.exec(p));return b.lastIndex=p.lastIndex,b}function j1(p){return nf?Ci(nf.call(p)):{}}function vf(p,b){var A=b?Jc(p.buffer):p.buffer;return new p.constructor(A,p.byteOffset,p.length)}function Wu(p,b){if(p!==b){var A=p!==n,G=p===null,le=p===p,Oe=Ws(p),Ge=b!==n,Qe=b===null,mt=b===b,tn=Ws(b);if(!Qe&&!tn&&!Oe&&p>b||Oe&&Ge&&mt&&!Qe&&!tn||G&&Ge&&mt||!A&&mt||!le)return 1;if(!G&&!Oe&&!tn&&p<b||tn&&A&&le&&!G&&!Oe||Qe&&A&&le||!Ge&&le||!mt)return-1}return 0}function B1(p,b,A){for(var G=-1,le=p.criteria,Oe=b.criteria,Ge=le.length,Qe=A.length;++G<Ge;){var mt=Wu(le[G],Oe[G]);if(mt){if(G>=Qe)return mt;var tn=A[G];return mt*(tn=="desc"?-1:1)}}return p.index-b.index}function Ev(p,b,A,G){for(var le=-1,Oe=p.length,Ge=A.length,Qe=-1,mt=b.length,tn=go(Oe-Ge,0),rn=At(mt+tn),pn=!G;++Qe<mt;)rn[Qe]=b[Qe];for(;++le<Ge;)(pn||le<Oe)&&(rn[A[le]]=p[le]);for(;tn--;)rn[Qe++]=p[le++];return rn}function z1(p,b,A,G){for(var le=-1,Oe=p.length,Ge=-1,Qe=A.length,mt=-1,tn=b.length,rn=go(Oe-Qe,0),pn=At(rn+tn),jn=!G;++le<rn;)pn[le]=p[le];for(var cr=le;++mt<tn;)pn[cr+mt]=b[mt];for(;++Ge<Qe;)(jn||le<Oe)&&(pn[cr+A[Ge]]=p[le++]);return pn}function Ia(p,b){var A=-1,G=p.length;for(b||(b=At(G));++A<G;)b[A]=p[A];return b}function cl(p,b,A,G){var le=!A;A||(A={});for(var Oe=-1,Ge=b.length;++Oe<Ge;){var Qe=b[Oe],mt=G?G(A[Qe],p[Qe],Qe,A,p):n;mt===n&&(mt=p[Qe]),le?Zl(A,Qe,mt):wh(A,Qe,mt)}return A}function Vu(p,b){return cl(p,St(p),b)}function H1(p,b){return cl(p,Xt(p),b)}function jh(p,b){return function(A,G){var le=Ur(A)?u1:gC,Oe=b?b():{};return le(A,p,de(G,2),Oe)}}function Qc(p){return Yr(function(b,A){var G=-1,le=A.length,Oe=le>1?A[le-1]:n,Ge=le>2?A[2]:n;for(Oe=p.length>3&&typeof Oe=="function"?(le--,Oe):n,Ge&&sn(A[0],A[1],Ge)&&(Oe=le<3?n:Oe,le=1),b=Ci(b);++G<le;){var Qe=A[G];Qe&&p(b,Qe,G,Oe)}return b})}function U1(p,b){return function(A,G){if(A==null)return A;if(!ps(A))return p(A,G);for(var le=A.length,Oe=b?le:-1,Ge=Ci(A);(b?Oe--:++Oe<le)&&G(Ge[Oe],Oe,Ge)!==!1;);return A}}function c0(p){return function(b,A,G){for(var le=-1,Oe=Ci(b),Ge=G(b),Qe=Ge.length;Qe--;){var mt=Ge[p?Qe:++le];if(A(Oe[mt],mt,Oe)===!1)break}return b}}function CC(p,b,A){var G=b&g,le=dl(p);function Oe(){var Ge=this&&this!==Zo&&this instanceof Oe?le:p;return Ge.apply(G?A:this,arguments)}return Oe}function Us(p){return function(b){b=Bi(b);var A=Dc(b)?va(b):n,G=A?A[0]:b.charAt(0),le=A?Hs(A,1).join(""):b.slice(1);return G[p]()+le}}function ed(p){return function(b){return $g(oN(iN(b).replace(OE,"")),p,"")}}function dl(p){return function(){var b=arguments;switch(b.length){case 0:return new p;case 1:return new p(b[0]);case 2:return new p(b[0],b[1]);case 3:return new p(b[0],b[1],b[2]);case 4:return new p(b[0],b[1],b[2],b[3]);case 5:return new p(b[0],b[1],b[2],b[3],b[4]);case 6:return new p(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new p(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var A=jc(p.prototype),G=p.apply(A,b);return Eo(G)?G:A}}function Xu(p,b,A){var G=dl(p);function le(){for(var Oe=arguments.length,Ge=At(Oe),Qe=Oe,mt=Y(le);Qe--;)Ge[Qe]=arguments[Qe];var tn=Oe<3&&Ge[0]!==mt&&Ge[Oe-1]!==mt?[]:Xl(Ge,mt);if(Oe-=tn.length,Oe<A)return G1(p,b,td,le.placeholder,n,Ge,tn,n,n,A-Oe);var rn=this&&this!==Zo&&this instanceof le?G:p;return Wo(rn,this,Ge)}return le}function d0(p){return function(b,A,G){var le=Ci(b);if(!ps(b)){var Oe=de(A,3);b=da(b),A=function(Qe){return Oe(le[Qe],Qe,le)}}var Ge=p(b,A,G);return Ge>-1?le[Oe?b[Ge]:Ge]:n}}function Cv(p){return hl(function(b){var A=b.length,G=A,le=ds.prototype.thru;for(p&&b.reverse();G--;){var Oe=b[G];if(typeof Oe!="function")throw new cs(a);if(le&&!Ge&&Pv(Oe)=="wrapper")var Ge=new ds([],!0)}for(G=Ge?G:A;++G<A;){Oe=b[G];var Qe=Pv(Oe),mt=Qe=="wrapper"?Rv(Oe):n;mt&&Bt(mt[0])&&mt[1]==(T|w|C|N)&&!mt[4].length&&mt[9]==1?Ge=Ge[Pv(mt[0])].apply(Ge,mt[3]):Ge=Oe.length==1&&Bt(Oe)?Ge[Qe]():Ge.thru(Oe)}return function(){var tn=arguments,rn=tn[0];if(Ge&&tn.length==1&&Ur(rn))return Ge.plant(rn).value();for(var pn=0,jn=A?b[pn].apply(this,tn):rn;++pn<A;)jn=b[pn].call(this,jn);return jn}})}function td(p,b,A,G,le,Oe,Ge,Qe,mt,tn){var rn=b&T,pn=b&g,jn=b&x,cr=b&(w|S),Tr=b&M,Qr=jn?n:dl(p);function Rr(){for(var hi=arguments.length,gi=At(hi),Vs=hi;Vs--;)gi[Vs]=arguments[Vs];if(cr)var Ka=Y(Rr),Xs=Xd(gi,Ka);if(G&&(gi=Ev(gi,G,le,cr)),Oe&&(gi=z1(gi,Oe,Ge,cr)),hi-=Xs,cr&&hi<tn){var jo=Xl(gi,Ka);return G1(p,b,td,Rr.placeholder,A,gi,jo,Qe,mt,tn-hi)}var nu=pn?A:this,od=jn?nu[p]:p;return hi=gi.length,Qe?gi=Or(gi,Qe):Tr&&hi>1&&gi.reverse(),rn&&mt<hi&&(gi.length=mt),this&&this!==Zo&&this instanceof Rr&&(od=Qr||dl(od)),od.apply(nu,gi)}return Rr}function f0(p,b){return function(A,G){return M1(A,p,b(G),{})}}function Xo(p,b){return function(A,G){var le;if(A===n&&G===n)return b;if(A!==n&&(le=A),G!==n){if(le===n)return G;typeof A=="string"||typeof G=="string"?(A=Xa(A),G=Xa(G)):(A=F1(A),G=F1(G)),le=p(A,G)}return le}}function fl(p){return hl(function(b){return b=ro(b,Va(de())),Yr(function(A){var G=this;return p(b,function(le){return Wo(le,G,A)})})})}function eo(p,b){b=b===n?" ":Xa(b);var A=b.length;if(A<2)return A?Gu(b,p):b;var G=Gu(b,iv(p/ku(b)));return Dc(b)?Hs(va(G),0,p).join(""):G.slice(0,p)}function Da(p,b,A,G){var le=b&g,Oe=dl(p);function Ge(){for(var Qe=-1,mt=arguments.length,tn=-1,rn=G.length,pn=At(rn+mt),jn=this&&this!==Zo&&this instanceof Ge?Oe:p;++tn<rn;)pn[tn]=G[tn];for(;mt--;)pn[tn++]=arguments[++Qe];return Wo(jn,le?A:this,pn)}return Ge}function h0(p){return function(b,A,G){return G&&typeof G!="number"&&sn(b,A,G)&&(A=G=n),b=id(b),A===n?(A=b,b=0):A=id(A),G=G===n?b<A?1:-1:id(G),bC(b,A,G,p)}}function Tv(p){return function(b,A){return typeof b=="string"&&typeof A=="string"||(b=vl(b),A=vl(A)),p(b,A)}}function G1(p,b,A,G,le,Oe,Ge,Qe,mt,tn){var rn=b&w,pn=rn?Ge:n,jn=rn?n:Ge,cr=rn?Oe:n,Tr=rn?n:Oe;b|=rn?C:O,b&=~(rn?O:C),b&_||(b&=~(g|x));var Qr=[p,b,le,cr,pn,Tr,jn,Qe,mt,tn],Rr=A.apply(n,Qr);return Bt(p)&&Er(Rr,Qr),Rr.placeholder=G,So(Rr,p,b)}function p0(p){var b=ko[p];return function(A,G){if(A=vl(A),G=G==null?0:la(qr(G),292),G&&Zg(A)){var le=(Bi(A)+"e").split("e"),Oe=b(le[0]+"e"+(+le[1]+G));return le=(Bi(Oe)+"e").split("e"),+(le[0]+"e"+(+le[1]-G))}return b(A)}}var TC=kc&&1/ph(new kc([,-0]))[1]==B?function(p){return new kc(p)}:jC;function v0(p){return function(b){var A=$t(b);return A==pe?ev(b):A==ne?v1(b):FE(b,p(b))}}function eu(p,b,A,G,le,Oe,Ge,Qe){var mt=b&x;if(!mt&&typeof p!="function")throw new cs(a);var tn=G?G.length:0;if(tn||(b&=~(C|O),G=le=n),Ge=Ge===n?Ge:go(qr(Ge),0),Qe=Qe===n?Qe:qr(Qe),tn-=le?le.length:0,b&O){var rn=G,pn=le;G=le=n}var jn=mt?n:Rv(p),cr=[p,b,A,G,le,rn,pn,Oe,Ge,Qe];if(jn&&on(cr,jn),p=cr[0],b=cr[1],A=cr[2],G=cr[3],le=cr[4],Qe=cr[9]=cr[9]===n?mt?0:p.length:go(cr[9]-tn,0),!Qe&&b&(w|S)&&(b&=~(w|S)),!b||b==g)var Tr=CC(p,b,A);else b==w||b==S?Tr=Xu(p,b,Qe):(b==C||b==(g|C))&&!le.length?Tr=Da(p,b,A,G):Tr=td.apply(n,cr);var Qr=jn?k1:Er;return So(Qr(Tr,cr),p,b)}function W1(p,b,A,G){return p===n||tu(p,qd[A])&&!mi.call(G,A)?b:p}function V1(p,b,A,G,le,Oe){return Eo(p)&&Eo(b)&&(Oe.set(b,p),Uu(p,b,n,V1,Oe),Oe.delete(b)),p}function RC(p){return b0(p)?n:p}function X1(p,b,A,G,le,Oe){var Ge=A&v,Qe=p.length,mt=b.length;if(Qe!=mt&&!(Ge&&mt>Qe))return!1;var tn=Oe.get(p),rn=Oe.get(b);if(tn&&rn)return tn==b&&rn==p;var pn=-1,jn=!0,cr=A&m?new zc:n;for(Oe.set(p,b),Oe.set(b,p);++pn<Qe;){var Tr=p[pn],Qr=b[pn];if(G)var Rr=Ge?G(Qr,Tr,pn,b,p,Oe):G(Tr,Qr,pn,p,b,Oe);if(Rr!==n){if(Rr)continue;jn=!1;break}if(cr){if(!Yp(b,function(hi,gi){if(!Lu(cr,gi)&&(Tr===hi||le(Tr,hi,A,G,Oe)))return cr.push(gi)})){jn=!1;break}}else if(!(Tr===Qr||le(Tr,Qr,A,G,Oe))){jn=!1;break}}return Oe.delete(p),Oe.delete(b),jn}function K1(p,b,A,G,le,Oe,Ge){switch(A){case xe:if(p.byteLength!=b.byteLength||p.byteOffset!=b.byteOffset)return!1;p=p.buffer,b=b.buffer;case ye:return!(p.byteLength!=b.byteLength||!Oe(new yh(p),new yh(b)));case ee:case fe:case $e:return tu(+p,+b);case Ce:return p.name==b.name&&p.message==b.message;case ie:case Te:return p==b+"";case pe:var Qe=ev;case ne:var mt=G&v;if(Qe||(Qe=ph),p.size!=b.size&&!mt)return!1;var tn=Ge.get(p);if(tn)return tn==b;G|=m,Ge.set(p,b);var rn=X1(Qe(p),Qe(b),G,le,Oe,Ge);return Ge.delete(p),rn;case $:if(nf)return nf.call(p)==nf.call(b)}return!1}function Y1(p,b,A,G,le,Oe){var Ge=A&v,Qe=m0(p),mt=Qe.length,tn=m0(b),rn=tn.length;if(mt!=rn&&!Ge)return!1;for(var pn=mt;pn--;){var jn=Qe[pn];if(!(Ge?jn in b:mi.call(b,jn)))return!1}var cr=Oe.get(p),Tr=Oe.get(b);if(cr&&Tr)return cr==b&&Tr==p;var Qr=!0;Oe.set(p,b),Oe.set(b,p);for(var Rr=Ge;++pn<mt;){jn=Qe[pn];var hi=p[jn],gi=b[jn];if(G)var Vs=Ge?G(gi,hi,jn,b,p,Oe):G(hi,gi,jn,p,b,Oe);if(!(Vs===n?hi===gi||le(hi,gi,A,G,Oe):Vs)){Qr=!1;break}Rr||(Rr=jn=="constructor")}if(Qr&&!Rr){var Ka=p.constructor,Xs=b.constructor;Ka!=Xs&&"constructor"in p&&"constructor"in b&&!(typeof Ka=="function"&&Ka instanceof Ka&&typeof Xs=="function"&&Xs instanceof Xs)&&(Qr=!1)}return Oe.delete(p),Oe.delete(b),Qr}function hl(p){return io(yr(p,n,ft),p+"")}function m0(p){return pv(p,da,St)}function g0(p){return pv(p,vs,Xt)}var Rv=_h?function(p){return _h.get(p)}:jC;function Pv(p){for(var b=p.name+"",A=ua[b],G=mi.call(ua,b)?A.length:0;G--;){var le=A[G],Oe=le.func;if(Oe==null||Oe==p)return le.name}return b}function Y(p){var b=mi.call(ge,"placeholder")?ge:p;return b.placeholder}function de(){var p=ge.iteratee||$C;return p=p===$C?sf:p,arguments.length?p(arguments[0],arguments[1]):p}function ke(p,b){var A=p.__data__;return wn(b)?A[typeof b=="string"?"string":"hash"]:A.map}function gt(p){for(var b=da(p),A=b.length;A--;){var G=b[A],le=p[G];b[A]=[G,le,Wn(le)]}return b}function Rt(p,b){var A=Gg(p,b);return Oh(A)?A:n}function yt(p){var b=mi.call(p,$u),A=p[$u];try{p[$u]=n;var G=!0}catch{}var le=ma.call(p);return G&&(b?p[$u]=A:delete p[$u]),le}var St=ov?function(p){return p==null?[]:(p=Ci(p),sl(ov(p),function(b){return $o.call(p,b)}))}:BC,Xt=ov?function(p){for(var b=[];p;)Wl(b,St(p)),p=rv(p);return b}:BC,$t=ca;(sv&&$t(new sv(new ArrayBuffer(1)))!=xe||Qd&&$t(new Qd)!=pe||lv&&$t(lv.resolve())!=Ie||kc&&$t(new kc)!=ne||ef&&$t(new ef)!=re)&&($t=function(p){var b=ca(p),A=b==Le?p.constructor:n,G=A?Ki(A):"";if(G)switch(G){case _1:return xe;case ZE:return pe;case Yl:return Ie;case Qg:return ne;case $c:return re}return b});function nn(p,b,A){for(var G=-1,le=A.length;++G<le;){var Oe=A[G],Ge=Oe.size;switch(Oe.type){case"drop":p+=Ge;break;case"dropRight":b-=Ge;break;case"take":b=la(b,p+Ge);break;case"takeRight":p=go(p,b-Ge);break}}return{start:p,end:b}}function qt(p){var b=p.match(tr);return b?b[1].split(si):[]}function an(p,b,A){b=zs(b,p);for(var G=-1,le=b.length,Oe=!1;++G<le;){var Ge=Si(b[G]);if(!(Oe=p!=null&&A(p,Ge)))break;p=p[Ge]}return Oe||++G!=le?Oe:(le=p==null?0:p.length,!!le&&rx(le)&&Vt(Ge,le)&&(Ur(p)||Bh(p)))}function vn(p){var b=p.length,A=new p.constructor(b);return b&&typeof p[0]=="string"&&mi.call(p,"index")&&(A.index=p.index,A.input=p.input),A}function Kt(p){return typeof p.constructor=="function"&&!ln(p)?jc(rv(p)):{}}function cn(p,b,A){var G=p.constructor;switch(b){case ye:return Jc(p);case ee:case fe:return new G(+p);case xe:return $h(p,A);case He:case Fe:case Ve:case qe:case vt:case tt:case pt:case Ht:case Lt:return vf(p,A);case pe:return new G;case $e:case Te:return new G(p);case ie:return Fh(p);case ne:return new G;case $:return j1(p)}}function ot(p,b){var A=b.length;if(!A)return p;var G=A-1;return b[G]=(A>1?"& ":"")+b[G],b=b.join(A>2?", ":" "),p.replace(ai,`{
/* [wrapped with `+b+`] */
`)}function wt(p){return Ur(p)||Bh(p)||!!(qg&&p&&p[qg])}function Vt(p,b){var A=typeof p;return b=b??q,!!b&&(A=="number"||A!="symbol"&&Je.test(p))&&p>-1&&p%1==0&&p<b}function sn(p,b,A){if(!Eo(A))return!1;var G=typeof b;return(G=="number"?ps(A)&&Vt(b,A.length):G=="string"&&b in A)?tu(A[b],p):!1}function Ft(p,b){if(Ur(p))return!1;var A=typeof p;return A=="number"||A=="symbol"||A=="boolean"||p==null||Ws(p)?!0:Hn.test(p)||!dn.test(p)||b!=null&&p in Ci(b)}function wn(p){var b=typeof p;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?p!=="__proto__":p===null}function Bt(p){var b=Pv(p),A=ge[b];if(typeof A!="function"||!(b in li.prototype))return!1;if(p===A)return!0;var G=Rv(A);return!!G&&p===G[0]}function fn(p){return!!mh&&mh in p}var zt=nv?rd:zC;function ln(p){var b=p&&p.constructor,A=typeof b=="function"&&b.prototype||qd;return p===A}function Wn(p){return p===p&&!Eo(p)}function hr(p,b){return function(A){return A==null?!1:A[p]===b&&(b!==n||p in Ci(A))}}function mn(p){var b=tx(p,function(G){return A.size===u&&A.clear(),G}),A=b.cache;return b}function on(p,b){var A=p[1],G=b[1],le=A|G,Oe=le<(g|x|T),Ge=G==T&&A==w||G==T&&A==N&&p[7].length<=b[8]||G==(T|N)&&b[7].length<=b[8]&&A==w;if(!(Oe||Ge))return p;G&g&&(p[2]=b[2],le|=A&g?0:_);var Qe=b[3];if(Qe){var mt=p[3];p[3]=mt?Ev(mt,Qe,b[4]):Qe,p[4]=mt?Xl(p[3],c):b[4]}return Qe=b[5],Qe&&(mt=p[5],p[5]=mt?z1(mt,Qe,b[6]):Qe,p[6]=mt?Xl(p[5],c):b[6]),Qe=b[7],Qe&&(p[7]=Qe),G&T&&(p[8]=p[8]==null?b[8]:la(p[8],b[8])),p[9]==null&&(p[9]=b[9]),p[0]=b[0],p[1]=le,p}function jt(p){var b=[];if(p!=null)for(var A in Ci(p))b.push(A);return b}function or(p){return ma.call(p)}function yr(p,b,A){return b=go(b===n?p.length-1:b,0),function(){for(var G=arguments,le=-1,Oe=go(G.length-b,0),Ge=At(Oe);++le<Oe;)Ge[le]=G[b+le];le=-1;for(var Qe=At(b+1);++le<b;)Qe[le]=G[le];return Qe[b]=A(Ge),Wo(p,this,Qe)}}function Mn(p,b){return b.length<2?p:zu(p,fs(b,0,-1))}function Or(p,b){for(var A=p.length,G=la(b.length,A),le=Ia(p);G--;){var Oe=b[G];p[G]=Vt(Oe,A)?le[Oe]:n}return p}function pr(p,b){if(!(b==="constructor"&&typeof p[b]=="function")&&b!="__proto__")return p[b]}var Er=Lr(k1),zr=KE||function(p,b){return Zo.setTimeout(p,b)},io=Lr(SC);function So(p,b,A){var G=b+"";return io(p,ot(G,wo(qt(G),A)))}function Lr(p){var b=0,A=0;return function(){var G=Fu(),le=R-(G-A);if(A=G,le>0){if(++b>=j)return arguments[0]}else b=0;return p.apply(n,arguments)}}function oo(p,b){var A=-1,G=p.length,le=G-1;for(b=b===n?G:b;++A<b;){var Oe=xv(A,le),Ge=p[Oe];p[Oe]=p[A],p[A]=Ge}return p.length=b,p}var Li=mn(function(p){var b=[];return p.charCodeAt(0)===46&&b.push(""),p.replace(Bn,function(A,G,le,Oe){b.push(le?Oe.replace(Re,"$1"):G||A)}),b});function Si(p){if(typeof p=="string"||Ws(p))return p;var b=p+"";return b=="0"&&1/p==-B?"-0":b}function Ki(p){if(p!=null){try{return vh.call(p)}catch{}try{return p+""}catch{}}return""}function wo(p,b){return Jo(W,function(A){var G="_."+A[0];b&A[1]&&!Kp(p,G)&&p.push(G)}),p.sort()}function Po(p){if(p instanceof li)return p.clone();var b=new ds(p.__wrapped__,p.__chain__);return b.__actions__=Ia(p.__actions__),b.__index__=p.__index__,b.__values__=p.__values__,b}function Ko(p,b,A){(A?sn(p,b,A):b===n)?b=1:b=go(qr(b),0);var G=p==null?0:p.length;if(!G||b<1)return[];for(var le=0,Oe=0,Ge=At(iv(G/b));le<G;)Ge[Oe++]=fs(p,le,le+=b);return Ge}function co(p){for(var b=-1,A=p==null?0:p.length,G=0,le=[];++b<A;){var Oe=p[b];Oe&&(le[G++]=Oe)}return le}function xr(){var p=arguments.length;if(!p)return[];for(var b=At(p-1),A=arguments[0],G=p;G--;)b[G-1]=arguments[G];return Wl(Ur(A)?Ia(A):[A],Vo(b,1))}var Yo=Yr(function(p,b){return Fo(p)?Wc(p,Vo(b,1,Fo,!0)):[]}),ui=Yr(function(p,b){var A=Pe(b);return Fo(A)&&(A=n),Fo(p)?Wc(p,Vo(b,1,Fo,!0),de(A,2)):[]}),Zn=Yr(function(p,b){var A=Pe(b);return Fo(A)&&(A=n),Fo(p)?Wc(p,Vo(b,1,Fo,!0),n,A):[]});function kr(p,b,A){var G=p==null?0:p.length;return G?(b=A||b===n?1:qr(b),fs(p,b<0?0:b,G)):[]}function Wr(p,b,A){var G=p==null?0:p.length;return G?(b=A||b===n?1:qr(b),b=G-b,fs(p,0,b<0?0:b)):[]}function fo(p,b){return p&&p.length?Zc(p,de(b,3),!0,!0):[]}function pl(p,b){return p&&p.length?Zc(p,de(b,3),!0):[]}function nd(p,b,A,G){var le=p==null?0:p.length;return le?(A&&typeof A!="number"&&sn(p,b,A)&&(A=0,G=le),O1(p,b,A,G)):[]}function De(p,b,A){var G=p==null?0:p.length;if(!G)return-1;var le=A==null?0:qr(A);return le<0&&(le=go(G+le,0)),Wd(p,de(b,3),le)}function xt(p,b,A){var G=p==null?0:p.length;if(!G)return-1;var le=G-1;return A!==n&&(le=qr(A),le=A<0?go(G+le,0):la(le,G-1)),Wd(p,de(b,3),le,!0)}function ft(p){var b=p==null?0:p.length;return b?Vo(p,1):[]}function Rn(p){var b=p==null?0:p.length;return b?Vo(p,B):[]}function Nr(p,b){var A=p==null?0:p.length;return A?(b=b===n?1:qr(b),Vo(p,b)):[]}function Me(p){for(var b=-1,A=p==null?0:p.length,G={};++b<A;){var le=p[b];G[le[0]]=le[1]}return G}function me(p){return p&&p.length?p[0]:n}function ze(p,b,A){var G=p==null?0:p.length;if(!G)return-1;var le=A==null?0:qr(A);return le<0&&(le=go(G+le,0)),Vl(p,b,le)}function nt(p){var b=p==null?0:p.length;return b?fs(p,0,-1):[]}var st=Yr(function(p){var b=ro(p,ff);return b.length&&b[0]===p[0]?Ph(b):[]}),We=Yr(function(p){var b=Pe(p),A=ro(p,ff);return b===Pe(A)?b=n:A.pop(),A.length&&A[0]===p[0]?Ph(A,de(b,2)):[]}),Ue=Yr(function(p){var b=Pe(p),A=ro(p,ff);return b=typeof b=="function"?b:n,b&&A.pop(),A.length&&A[0]===p[0]?Ph(A,n,b):[]});function Ye(p,b){return p==null?"":b1.call(p,b)}function Pe(p){var b=p==null?0:p.length;return b?p[b-1]:n}function Be(p,b,A){var G=p==null?0:p.length;if(!G)return-1;var le=G;return A!==n&&(le=qr(A),le=le<0?go(G+le,0):la(le,G-1)),b===b?Vg(p,b,le):Wd(p,qp,le,!0)}function Ae(p,b){return p&&p.length?yv(p,qr(b)):n}var et=Yr(ut);function ut(p,b){return p&&p.length&&b&&b.length?bv(p,b):p}function Ot(p,b,A){return p&&p.length&&b&&b.length?bv(p,b,de(A,2)):p}function Dt(p,b,A){return p&&p.length&&b&&b.length?bv(p,b,n,A):p}var Et=hl(function(p,b){var A=p==null?0:p.length,G=ju(p,b);return l0(p,ro(b,function(le){return Vt(le,A)?+le:le}).sort(Wu)),G});function Zt(p,b){var A=[];if(!(p&&p.length))return A;var G=-1,le=[],Oe=p.length;for(b=de(b,3);++G<Oe;){var Ge=p[G];b(Ge,G,p)&&(A.push(Ge),le.push(G))}return l0(p,le),A}function Fn(p){return p==null?p:x1.call(p)}function _r(p,b,A){var G=p==null?0:p.length;return G?(A&&typeof A!="number"&&sn(p,b,A)?(b=0,A=G):(b=b==null?0:qr(b),A=A===n?G:qr(A)),fs(p,b,A)):[]}function In(p,b){return _v(p,b)}function Jn(p,b,A){return u0(p,b,de(A,2))}function gr(p,b){var A=p==null?0:p.length;if(A){var G=_v(p,b);if(G<A&&tu(p[G],b))return G}return-1}function Jr(p,b){return _v(p,b,!0)}function ao(p,b,A){return u0(p,b,de(A,2),!0)}function ga(p,b){var A=p==null?0:p.length;if(A){var G=_v(p,b,!0)-1;if(tu(p[G],b))return G}return-1}function y0(p){return p&&p.length?$1(p):[]}function hs(p,b){return p&&p.length?$1(p,de(b,2)):[]}function q1(p){var b=p==null?0:p.length;return b?fs(p,1,b):[]}function Gs(p,b,A){return p&&p.length?(b=A||b===n?1:qr(b),fs(p,0,b<0?0:b)):[]}function Z1(p,b,A){var G=p==null?0:p.length;return G?(b=A||b===n?1:qr(b),b=G-b,fs(p,b<0?0:b,G)):[]}function zU(p,b){return p&&p.length?Zc(p,de(b,3),!1,!0):[]}function HU(p,b){return p&&p.length?Zc(p,de(b,3)):[]}var UU=Yr(function(p){return ul(Vo(p,1,Fo,!0))}),GU=Yr(function(p){var b=Pe(p);return Fo(b)&&(b=n),ul(Vo(p,1,Fo,!0),de(b,2))}),WU=Yr(function(p){var b=Pe(p);return b=typeof b=="function"?b:n,ul(Vo(p,1,Fo,!0),n,b)});function VU(p){return p&&p.length?ul(p):[]}function XU(p,b){return p&&p.length?ul(p,de(b,2)):[]}function KU(p,b){return b=typeof b=="function"?b:n,p&&p.length?ul(p,n,b):[]}function PC(p){if(!(p&&p.length))return[];var b=0;return p=sl(p,function(A){if(Fo(A))return b=go(A.length,b),!0}),Bg(b,function(A){return ro(p,Ic(A))})}function DO(p,b){if(!(p&&p.length))return[];var A=PC(p);return b==null?A:ro(A,function(G){return Wo(b,n,G)})}var YU=Yr(function(p,b){return Fo(p)?Wc(p,b):[]}),qU=Yr(function(p){return df(sl(p,Fo))}),ZU=Yr(function(p){var b=Pe(p);return Fo(b)&&(b=n),df(sl(p,Fo),de(b,2))}),JU=Yr(function(p){var b=Pe(p);return b=typeof b=="function"?b:n,df(sl(p,Fo),n,b)}),QU=Yr(PC);function eG(p,b){return Lh(p||[],b||[],wh)}function tG(p,b){return Lh(p||[],b||[],uf)}var nG=Yr(function(p){var b=p.length,A=b>1?p[b-1]:n;return A=typeof A=="function"?(p.pop(),A):n,DO(p,A)});function LO(p){var b=ge(p);return b.__chain__=!0,b}function rG(p,b){return b(p),p}function J1(p,b){return b(p)}var iG=hl(function(p){var b=p.length,A=b?p[0]:0,G=this.__wrapped__,le=function(Oe){return ju(Oe,p)};return b>1||this.__actions__.length||!(G instanceof li)||!Vt(A)?this.thru(le):(G=G.slice(A,+A+(b?1:0)),G.__actions__.push({func:J1,args:[le],thisArg:n}),new ds(G,this.__chain__).thru(function(Oe){return b&&!Oe.length&&Oe.push(n),Oe}))});function oG(){return LO(this)}function aG(){return new ds(this.value(),this.__chain__)}function sG(){this.__values__===n&&(this.__values__=YO(this.value()));var p=this.__index__>=this.__values__.length,b=p?n:this.__values__[this.__index__++];return{done:p,value:b}}function lG(){return this}function uG(p){for(var b,A=this;A instanceof Sh;){var G=Po(A);G.__index__=0,G.__values__=n,b?le.__wrapped__=G:b=G;var le=G;A=A.__wrapped__}return le.__wrapped__=p,b}function cG(){var p=this.__wrapped__;if(p instanceof li){var b=p;return this.__actions__.length&&(b=new li(this)),b=b.reverse(),b.__actions__.push({func:J1,args:[Fn],thisArg:n}),new ds(b,this.__chain__)}return this.thru(Fn)}function dG(){return Sv(this.__wrapped__,this.__actions__)}var fG=jh(function(p,b,A){mi.call(p,A)?++p[A]:Zl(p,A,1)});function hG(p,b,A){var G=Ur(p)?Du:A1;return A&&sn(p,b,A)&&(b=n),G(p,de(b,3))}function pG(p,b){var A=Ur(p)?sl:r0;return A(p,de(b,3))}var vG=d0(De),mG=d0(xt);function gG(p,b){return Vo(Q1(p,b),1)}function yG(p,b){return Vo(Q1(p,b),B)}function bG(p,b,A){return A=A===n?1:qr(A),Vo(Q1(p,b),A)}function kO(p,b){var A=Ur(p)?Jo:ll;return A(p,de(b,3))}function $O(p,b){var A=Ur(p)?c1:Eh;return A(p,de(b,3))}var xG=jh(function(p,b,A){mi.call(p,A)?p[A].push(b):Zl(p,A,[b])});function _G(p,b,A,G){p=ps(p)?p:Ov(p),A=A&&!G?qr(A):0;var le=p.length;return A<0&&(A=go(le+A,0)),ix(p)?A<=le&&p.indexOf(b,A)>-1:!!le&&Vl(p,b,A)>-1}var SG=Yr(function(p,b,A){var G=-1,le=typeof b=="function",Oe=ps(p)?At(p.length):[];return ll(p,function(Ge){Oe[++G]=le?Wo(b,Ge,A):af(Ge,b,A)}),Oe}),wG=jh(function(p,b,A){Zl(p,A,b)});function Q1(p,b){var A=Ur(p)?ro:Hu;return A(p,de(b,3))}function EG(p,b,A,G){return p==null?[]:(Ur(b)||(b=b==null?[]:[b]),A=G?n:A,Ur(A)||(A=A==null?[]:[A]),qc(p,b,A))}var CG=jh(function(p,b,A){p[A?0:1].push(b)},function(){return[[],[]]});function TG(p,b,A){var G=Ur(p)?$g:Fg,le=arguments.length<3;return G(p,de(b,4),A,le,ll)}function RG(p,b,A){var G=Ur(p)?kE:Fg,le=arguments.length<3;return G(p,de(b,4),A,le,Eh)}function PG(p,b){var A=Ur(p)?sl:r0;return A(p,nx(de(b,3)))}function AG(p){var b=Ur(p)?P1:xC;return b(p)}function OG(p,b,A){(A?sn(p,b,A):b===n)?b=1:b=qr(b);var G=Ur(p)?vC:_C;return G(p,b)}function NG(p){var b=Ur(p)?mC:wC;return b(p)}function MG(p){if(p==null)return 0;if(ps(p))return ix(p)?ku(p):p.length;var b=$t(p);return b==pe||b==ne?p.size:Kc(p).length}function IG(p,b,A){var G=Ur(p)?Yp:EC;return A&&sn(p,b,A)&&(b=n),G(p,de(b,3))}var DG=Yr(function(p,b){if(p==null)return[];var A=b.length;return A>1&&sn(p,b[0],b[1])?b=[]:A>2&&sn(b[0],b[1],b[2])&&(b=[b[0]]),qc(p,Vo(b,1),[])}),ex=XE||function(){return Zo.Date.now()};function LG(p,b){if(typeof b!="function")throw new cs(a);return p=qr(p),function(){if(--p<1)return b.apply(this,arguments)}}function FO(p,b,A){return b=A?n:b,b=p&&b==null?p.length:b,eu(p,T,n,n,n,n,b)}function jO(p,b){var A;if(typeof b!="function")throw new cs(a);return p=qr(p),function(){return--p>0&&(A=b.apply(this,arguments)),p<=1&&(b=n),A}}var AC=Yr(function(p,b,A){var G=g;if(A.length){var le=Xl(A,Y(AC));G|=C}return eu(p,G,b,A,le)}),BO=Yr(function(p,b,A){var G=g|x;if(A.length){var le=Xl(A,Y(BO));G|=C}return eu(b,G,p,A,le)});function zO(p,b,A){b=A?n:b;var G=eu(p,w,n,n,n,n,n,b);return G.placeholder=zO.placeholder,G}function HO(p,b,A){b=A?n:b;var G=eu(p,S,n,n,n,n,n,b);return G.placeholder=HO.placeholder,G}function UO(p,b,A){var G,le,Oe,Ge,Qe,mt,tn=0,rn=!1,pn=!1,jn=!0;if(typeof p!="function")throw new cs(a);b=vl(b)||0,Eo(A)&&(rn=!!A.leading,pn="maxWait"in A,Oe=pn?go(vl(A.maxWait)||0,b):Oe,jn="trailing"in A?!!A.trailing:jn);function cr(jo){var nu=G,od=le;return G=le=n,tn=jo,Ge=p.apply(od,nu),Ge}function Tr(jo){return tn=jo,Qe=zr(hi,b),rn?cr(jo):Ge}function Qr(jo){var nu=jo-mt,od=jo-tn,lN=b-nu;return pn?la(lN,Oe-od):lN}function Rr(jo){var nu=jo-mt,od=jo-tn;return mt===n||nu>=b||nu<0||pn&&od>=Oe}function hi(){var jo=ex();if(Rr(jo))return gi(jo);Qe=zr(hi,Qr(jo))}function gi(jo){return Qe=n,jn&&G?cr(jo):(G=le=n,Ge)}function Vs(){Qe!==n&&hf(Qe),tn=0,G=mt=le=Qe=n}function Ka(){return Qe===n?Ge:gi(ex())}function Xs(){var jo=ex(),nu=Rr(jo);if(G=arguments,le=this,mt=jo,nu){if(Qe===n)return Tr(mt);if(pn)return hf(Qe),Qe=zr(hi,b),cr(mt)}return Qe===n&&(Qe=zr(hi,b)),Ge}return Xs.cancel=Vs,Xs.flush=Ka,Xs}var kG=Yr(function(p,b){return dv(p,1,b)}),$G=Yr(function(p,b,A){return dv(p,vl(b)||0,A)});function FG(p){return eu(p,M)}function tx(p,b){if(typeof p!="function"||b!=null&&typeof b!="function")throw new cs(a);var A=function(){var G=arguments,le=b?b.apply(this,G):G[0],Oe=A.cache;if(Oe.has(le))return Oe.get(le);var Ge=p.apply(this,G);return A.cache=Oe.set(le,Ge)||Oe,Ge};return A.cache=new(tx.Cache||ql),A}tx.Cache=ql;function nx(p){if(typeof p!="function")throw new cs(a);return function(){var b=arguments;switch(b.length){case 0:return!p.call(this);case 1:return!p.call(this,b[0]);case 2:return!p.call(this,b[0],b[1]);case 3:return!p.call(this,b[0],b[1],b[2])}return!p.apply(this,b)}}function jG(p){return jO(2,p)}var BG=wv(function(p,b){b=b.length==1&&Ur(b[0])?ro(b[0],Va(de())):ro(Vo(b,1),Va(de()));var A=b.length;return Yr(function(G){for(var le=-1,Oe=la(G.length,A);++le<Oe;)G[le]=b[le].call(this,G[le]);return Wo(p,this,G)})}),OC=Yr(function(p,b){var A=Xl(b,Y(OC));return eu(p,C,n,b,A)}),GO=Yr(function(p,b){var A=Xl(b,Y(GO));return eu(p,O,n,b,A)}),zG=hl(function(p,b){return eu(p,N,n,n,n,b)});function HG(p,b){if(typeof p!="function")throw new cs(a);return b=b===n?b:qr(b),Yr(p,b)}function UG(p,b){if(typeof p!="function")throw new cs(a);return b=b==null?0:go(qr(b),0),Yr(function(A){var G=A[b],le=Hs(A,0,b);return G&&Wl(le,G),Wo(p,this,le)})}function GG(p,b,A){var G=!0,le=!0;if(typeof p!="function")throw new cs(a);return Eo(A)&&(G="leading"in A?!!A.leading:G,le="trailing"in A?!!A.trailing:le),UO(p,b,{leading:G,maxWait:b,trailing:le})}function WG(p){return FO(p,1)}function VG(p,b){return OC(kh(b),p)}function XG(){if(!arguments.length)return[];var p=arguments[0];return Ur(p)?p:[p]}function KG(p){return Qo(p,h)}function YG(p,b){return b=typeof b=="function"?b:n,Qo(p,h,b)}function qG(p){return Qo(p,d|h)}function ZG(p,b){return b=typeof b=="function"?b:n,Qo(p,d|h,b)}function JG(p,b){return b==null||cv(p,b,da(b))}function tu(p,b){return p===b||p!==p&&b!==b}var QG=Tv(vv),eW=Tv(function(p,b){return p>=b}),Bh=mv(function(){return arguments}())?mv:function(p){return Ao(p)&&mi.call(p,"callee")&&!$o.call(p,"callee")},Ur=At.isArray,tW=o1?Va(o1):I1;function ps(p){return p!=null&&rx(p.length)&&!rd(p)}function Fo(p){return Ao(p)&&ps(p)}function nW(p){return p===!0||p===!1||Ao(p)&&ca(p)==ee}var mf=YE||zC,rW=Nc?Va(Nc):D1;function iW(p){return Ao(p)&&p.nodeType===1&&!b0(p)}function oW(p){if(p==null)return!0;if(ps(p)&&(Ur(p)||typeof p=="string"||typeof p.splice=="function"||mf(p)||Av(p)||Bh(p)))return!p.length;var b=$t(p);if(b==pe||b==ne)return!p.size;if(ln(p))return!Kc(p).length;for(var A in p)if(mi.call(p,A))return!1;return!0}function aW(p,b){return Vc(p,b)}function sW(p,b,A){A=typeof A=="function"?A:n;var G=A?A(p,b):n;return G===n?Vc(p,b,n,A):!!G}function NC(p){if(!Ao(p))return!1;var b=ca(p);return b==Ce||b==ve||typeof p.message=="string"&&typeof p.name=="string"&&!b0(p)}function lW(p){return typeof p=="number"&&Zg(p)}function rd(p){if(!Eo(p))return!1;var b=ca(p);return b==ue||b==we||b==U||b==Z}function WO(p){return typeof p=="number"&&p==qr(p)}function rx(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=q}function Eo(p){var b=typeof p;return p!=null&&(b=="object"||b=="function")}function Ao(p){return p!=null&&typeof p=="object"}var VO=a1?Va(a1):Ah;function uW(p,b){return p===b||gv(p,b,gt(b))}function cW(p,b,A){return A=typeof A=="function"?A:n,gv(p,b,gt(b),A)}function dW(p){return XO(p)&&p!=+p}function fW(p){if(zt(p))throw new Dr(o);return Oh(p)}function hW(p){return p===null}function pW(p){return p==null}function XO(p){return typeof p=="number"||Ao(p)&&ca(p)==$e}function b0(p){if(!Ao(p)||ca(p)!=Le)return!1;var b=rv(p);if(b===null)return!0;var A=mi.call(b,"constructor")&&b.constructor;return typeof A=="function"&&A instanceof A&&vh.call(A)==Zd}var MC=s1?Va(s1):Jl;function vW(p){return WO(p)&&p>=-q&&p<=q}var KO=Gd?Va(Gd):Nh;function ix(p){return typeof p=="string"||!Ur(p)&&Ao(p)&&ca(p)==Te}function Ws(p){return typeof p=="symbol"||Ao(p)&&ca(p)==$}var Av=l1?Va(l1):Xc;function mW(p){return p===n}function gW(p){return Ao(p)&&$t(p)==re}function yW(p){return Ao(p)&&ca(p)==oe}var bW=Tv(Ql),xW=Tv(function(p,b){return p<=b});function YO(p){if(!p)return[];if(ps(p))return ix(p)?va(p):Ia(p);if($s&&p[$s])return p1(p[$s]());var b=$t(p),A=b==pe?ev:b==ne?ph:Ov;return A(p)}function id(p){if(!p)return p===0?p:0;if(p=vl(p),p===B||p===-B){var b=p<0?-1:1;return b*X}return p===p?p:0}function qr(p){var b=id(p),A=b%1;return b===b?A?b-A:b:0}function qO(p){return p?Bu(qr(p),0,H):0}function vl(p){if(typeof p=="number")return p;if(Ws(p))return z;if(Eo(p)){var b=typeof p.valueOf=="function"?p.valueOf():p;p=Eo(b)?b+"":b}if(typeof p!="string")return p===0?p:+p;p=f1(p);var A=Ke.test(p);return A||dt.test(p)?Xp(p.slice(2),A?2:8):be.test(p)?z:+p}function ZO(p){return cl(p,vs(p))}function _W(p){return p?Bu(qr(p),-q,q):p===0?p:0}function Bi(p){return p==null?"":Xa(p)}var SW=Qc(function(p,b){if(ln(b)||ps(b)){cl(b,da(b),p);return}for(var A in b)mi.call(b,A)&&wh(p,A,b[A])}),JO=Qc(function(p,b){cl(b,vs(b),p)}),ox=Qc(function(p,b,A,G){cl(b,vs(b),p,G)}),wW=Qc(function(p,b,A,G){cl(b,da(b),p,G)}),EW=hl(ju);function CW(p,b){var A=jc(p);return b==null?A:Gc(A,b)}var TW=Yr(function(p,b){p=Ci(p);var A=-1,G=b.length,le=G>2?b[2]:n;for(le&&sn(b[0],b[1],le)&&(G=1);++A<G;)for(var Oe=b[A],Ge=vs(Oe),Qe=-1,mt=Ge.length;++Qe<mt;){var tn=Ge[Qe],rn=p[tn];(rn===n||tu(rn,qd[tn])&&!mi.call(p,tn))&&(p[tn]=Oe[tn])}return p}),RW=Yr(function(p){return p.push(n,V1),Wo(QO,n,p)});function PW(p,b){return ks(p,de(b,3),Bs)}function AW(p,b){return ks(p,de(b,3),hv)}function OW(p,b){return p==null?p:Th(p,de(b,3),vs)}function NW(p,b){return p==null?p:fv(p,de(b,3),vs)}function MW(p,b){return p&&Bs(p,de(b,3))}function IW(p,b){return p&&hv(p,de(b,3))}function DW(p){return p==null?[]:Rh(p,da(p))}function LW(p){return p==null?[]:Rh(p,vs(p))}function IC(p,b,A){var G=p==null?n:zu(p,b);return G===n?A:G}function kW(p,b){return p!=null&&an(p,b,i0)}function DC(p,b){return p!=null&&an(p,b,o0)}var $W=f0(function(p,b,A){b!=null&&typeof b.toString!="function"&&(b=ma.call(b)),p[b]=A},kC(ms)),FW=f0(function(p,b,A){b!=null&&typeof b.toString!="function"&&(b=ma.call(b)),mi.call(p,b)?p[b].push(A):p[b]=[A]},de),jW=Yr(af);function da(p){return ps(p)?R1(p):Kc(p)}function vs(p){return ps(p)?R1(p,!0):Yc(p)}function BW(p,b){var A={};return b=de(b,3),Bs(p,function(G,le,Oe){Zl(A,b(G,le,Oe),G)}),A}function zW(p,b){var A={};return b=de(b,3),Bs(p,function(G,le,Oe){Zl(A,le,b(G,le,Oe))}),A}var HW=Qc(function(p,b,A){Uu(p,b,A)}),QO=Qc(function(p,b,A,G){Uu(p,b,A,G)}),UW=hl(function(p,b){var A={};if(p==null)return A;var G=!1;b=ro(b,function(Oe){return Oe=zs(Oe,p),G||(G=Oe.length>1),Oe}),cl(p,g0(p),A),G&&(A=Qo(A,d|f|h,RC));for(var le=b.length;le--;)cf(A,b[le]);return A});function GW(p,b){return eN(p,nx(de(b)))}var WW=hl(function(p,b){return p==null?{}:lf(p,b)});function eN(p,b){if(p==null)return{};var A=ro(g0(p),function(G){return[G]});return b=de(b),L1(p,A,function(G,le){return b(G,le[0])})}function VW(p,b,A){b=zs(b,p);var G=-1,le=b.length;for(le||(le=1,p=n);++G<le;){var Oe=p==null?n:p[Si(b[G])];Oe===n&&(G=le,Oe=A),p=rd(Oe)?Oe.call(p):Oe}return p}function XW(p,b,A){return p==null?p:uf(p,b,A)}function KW(p,b,A,G){return G=typeof G=="function"?G:n,p==null?p:uf(p,b,A,G)}var tN=v0(da),nN=v0(vs);function YW(p,b,A){var G=Ur(p),le=G||mf(p)||Av(p);if(b=de(b,4),A==null){var Oe=p&&p.constructor;le?A=G?new Oe:[]:Eo(p)?A=rd(Oe)?jc(rv(p)):{}:A={}}return(le?Jo:Bs)(p,function(Ge,Qe,mt){return b(A,Ge,Qe,mt)}),A}function qW(p,b){return p==null?!0:cf(p,b)}function ZW(p,b,A){return p==null?p:Dh(p,b,kh(A))}function JW(p,b,A,G){return G=typeof G=="function"?G:n,p==null?p:Dh(p,b,kh(A),G)}function Ov(p){return p==null?[]:hh(p,da(p))}function QW(p){return p==null?[]:hh(p,vs(p))}function eV(p,b,A){return A===n&&(A=b,b=n),A!==n&&(A=vl(A),A=A===A?A:0),b!==n&&(b=vl(b),b=b===b?b:0),Bu(vl(p),b,A)}function tV(p,b,A){return b=id(b),A===n?(A=b,b=0):A=id(A),p=vl(p),N1(p,b,A)}function nV(p,b,A){if(A&&typeof A!="boolean"&&sn(p,b,A)&&(b=A=n),A===n&&(typeof b=="boolean"?(A=b,b=n):typeof p=="boolean"&&(A=p,p=n)),p===n&&b===n?(p=0,b=1):(p=id(p),b===n?(b=p,p=0):b=id(b)),p>b){var G=p;p=b,b=G}if(A||p%1||b%1){var le=Jg();return la(p+le*(b-p+Iu("1e-"+((le+"").length-1))),b)}return xv(p,b)}var rV=ed(function(p,b,A){return b=b.toLowerCase(),p+(A?rN(b):b)});function rN(p){return LC(Bi(p).toLowerCase())}function iN(p){return p=Bi(p),p&&p.replace(Tt,zg).replace(NE,"")}function iV(p,b,A){p=Bi(p),b=Xa(b);var G=p.length;A=A===n?G:Bu(qr(A),0,G);var le=A;return A-=b.length,A>=0&&p.slice(A,le)==b}function oV(p){return p=Bi(p),p&&qn.test(p)?p.replace(bn,Hg):p}function aV(p){return p=Bi(p),p&&Yt.test(p)?p.replace(kt,"\\$&"):p}var sV=ed(function(p,b,A){return p+(A?"-":"")+b.toLowerCase()}),lV=ed(function(p,b,A){return p+(A?" ":"")+b.toLowerCase()}),uV=Us("toLowerCase");function cV(p,b,A){p=Bi(p),b=qr(b);var G=b?ku(p):0;if(!b||G>=b)return p;var le=(b-G)/2;return eo(Jd(le),A)+p+eo(iv(le),A)}function dV(p,b,A){p=Bi(p),b=qr(b);var G=b?ku(p):0;return b&&G<b?p+eo(b-G,A):p}function fV(p,b,A){p=Bi(p),b=qr(b);var G=b?ku(p):0;return b&&G<b?eo(b-G,A)+p:p}function hV(p,b,A){return A||b==null?b=0:b&&(b=+b),av(Bi(p).replace(An,""),b||0)}function pV(p,b,A){return(A?sn(p,b,A):b===n)?b=1:b=qr(b),Gu(Bi(p),b)}function vV(){var p=arguments,b=Bi(p[0]);return p.length<3?b:b.replace(p[1],p[2])}var mV=ed(function(p,b,A){return p+(A?"_":"")+b.toLowerCase()});function gV(p,b,A){return A&&typeof A!="number"&&sn(p,b,A)&&(b=A=n),A=A===n?H:A>>>0,A?(p=Bi(p),p&&(typeof b=="string"||b!=null&&!MC(b))&&(b=Xa(b),!b&&Dc(p))?Hs(va(p),0,A):p.split(b,A)):[]}var yV=ed(function(p,b,A){return p+(A?" ":"")+LC(b)});function bV(p,b,A){return p=Bi(p),A=A==null?0:Bu(qr(A),0,p.length),b=Xa(b),p.slice(A,A+b.length)==b}function xV(p,b,A){var G=ge.templateSettings;A&&sn(p,b,A)&&(b=n),p=Bi(p),b=ox({},b,G,W1);var le=ox({},b.imports,G.imports,W1),Oe=da(le),Ge=hh(le,Oe),Qe,mt,tn=0,rn=b.interpolate||un,pn="__p += '",jn=Kg((b.escape||un).source+"|"+rn.source+"|"+(rn===Jt?ae:un).source+"|"+(b.evaluate||un).source+"|$","g"),cr="//# sourceURL="+(mi.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vp+"]")+`
`;p.replace(jn,function(Rr,hi,gi,Vs,Ka,Xs){return gi||(gi=Vs),pn+=p.slice(tn,Xs).replace(En,Ug),hi&&(Qe=!0,pn+=`' +
__e(`+hi+`) +
'`),Ka&&(mt=!0,pn+=`';
`+Ka+`;
__p += '`),gi&&(pn+=`' +
((__t = (`+gi+`)) == null ? '' : __t) +
'`),tn=Xs+Rr.length,Rr}),pn+=`';
`;var Tr=mi.call(b,"variable")&&b.variable;if(!Tr)pn=`with (obj) {
`+pn+`
}
`;else if(_e.test(Tr))throw new Dr(s);pn=(mt?pn.replace(hn,""):pn).replace(On,"$1").replace(Yn,"$1;"),pn="function("+(Tr||"obj")+`) {
`+(Tr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Qe?", __e = _.escape":"")+(mt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+pn+`return __p
}`;var Qr=aN(function(){return vi(Oe,cr+"return "+pn).apply(n,Ge)});if(Qr.source=pn,NC(Qr))throw Qr;return Qr}function _V(p){return Bi(p).toLowerCase()}function SV(p){return Bi(p).toUpperCase()}function wV(p,b,A){if(p=Bi(p),p&&(A||b===n))return f1(p);if(!p||!(b=Xa(b)))return p;var G=va(p),le=va(b),Oe=Jp(G,le),Ge=Qp(G,le)+1;return Hs(G,Oe,Ge).join("")}function EV(p,b,A){if(p=Bi(p),p&&(A||b===n))return p.slice(0,m1(p)+1);if(!p||!(b=Xa(b)))return p;var G=va(p),le=Qp(G,va(b))+1;return Hs(G,0,le).join("")}function CV(p,b,A){if(p=Bi(p),p&&(A||b===n))return p.replace(An,"");if(!p||!(b=Xa(b)))return p;var G=va(p),le=Jp(G,va(b));return Hs(G,le).join("")}function TV(p,b){var A=D,G=F;if(Eo(b)){var le="separator"in b?b.separator:le;A="length"in b?qr(b.length):A,G="omission"in b?Xa(b.omission):G}p=Bi(p);var Oe=p.length;if(Dc(p)){var Ge=va(p);Oe=Ge.length}if(A>=Oe)return p;var Qe=A-ku(G);if(Qe<1)return G;var mt=Ge?Hs(Ge,0,Qe).join(""):p.slice(0,Qe);if(le===n)return mt+G;if(Ge&&(Qe+=mt.length-Qe),MC(le)){if(p.slice(Qe).search(le)){var tn,rn=mt;for(le.global||(le=Kg(le.source,Bi(Ee.exec(le))+"g")),le.lastIndex=0;tn=le.exec(rn);)var pn=tn.index;mt=mt.slice(0,pn===n?Qe:pn)}}else if(p.indexOf(Xa(le),Qe)!=Qe){var jn=mt.lastIndexOf(le);jn>-1&&(mt=mt.slice(0,jn))}return mt+G}function RV(p){return p=Bi(p),p&&Sn.test(p)?p.replace(kn,jE):p}var PV=ed(function(p,b,A){return p+(A?" ":"")+b.toUpperCase()}),LC=Us("toUpperCase");function oN(p,b,A){return p=Bi(p),b=A?n:b,b===n?h1(p)?zE(p):$E(p):p.match(b)||[]}var aN=Yr(function(p,b){try{return Wo(p,n,b)}catch(A){return NC(A)?A:new Dr(A)}}),AV=hl(function(p,b){return Jo(b,function(A){A=Si(A),Zl(p,A,AC(p[A],p))}),p});function OV(p){var b=p==null?0:p.length,A=de();return p=b?ro(p,function(G){if(typeof G[1]!="function")throw new cs(a);return[A(G[0]),G[1]]}):[],Yr(function(G){for(var le=-1;++le<b;){var Oe=p[le];if(Wo(Oe[0],this,G))return Wo(Oe[1],this,G)}})}function NV(p){return n0(Qo(p,d))}function kC(p){return function(){return p}}function MV(p,b){return p==null||p!==p?b:p}var IV=Cv(),DV=Cv(!0);function ms(p){return p}function $C(p){return sf(typeof p=="function"?p:Qo(p,d))}function LV(p){return Mh(Qo(p,d))}function kV(p,b){return Ih(p,Qo(b,d))}var $V=Yr(function(p,b){return function(A){return af(A,p,b)}}),FV=Yr(function(p,b){return function(A){return af(p,A,b)}});function FC(p,b,A){var G=da(b),le=Rh(b,G);A==null&&!(Eo(b)&&(le.length||!G.length))&&(A=b,b=p,p=this,le=Rh(b,da(b)));var Oe=!(Eo(A)&&"chain"in A)||!!A.chain,Ge=rd(p);return Jo(le,function(Qe){var mt=b[Qe];p[Qe]=mt,Ge&&(p.prototype[Qe]=function(){var tn=this.__chain__;if(Oe||tn){var rn=p(this.__wrapped__),pn=rn.__actions__=Ia(this.__actions__);return pn.push({func:mt,args:arguments,thisArg:p}),rn.__chain__=tn,rn}return mt.apply(p,Wl([this.value()],arguments))})}),p}function jV(){return Zo._===this&&(Zo._=g1),this}function jC(){}function BV(p){return p=qr(p),Yr(function(b){return yv(b,p)})}var zV=fl(ro),HV=fl(Du),UV=fl(Yp);function sN(p){return Ft(p)?Ic(Si(p)):yC(p)}function GV(p){return function(b){return p==null?n:zu(p,b)}}var WV=h0(),VV=h0(!0);function BC(){return[]}function zC(){return!1}function XV(){return{}}function KV(){return""}function YV(){return!0}function qV(p,b){if(p=qr(p),p<1||p>q)return[];var A=H,G=la(p,H);b=de(b),p-=H;for(var le=Bg(G,b);++A<p;)b(A);return le}function ZV(p){return Ur(p)?ro(p,Si):Ws(p)?[p]:Ia(Li(Bi(p)))}function JV(p){var b=++WE;return Bi(p)+b}var QV=Xo(function(p,b){return p+b},0),eX=p0("ceil"),tX=Xo(function(p,b){return p/b},1),nX=p0("floor");function rX(p){return p&&p.length?Ch(p,ms,vv):n}function iX(p,b){return p&&p.length?Ch(p,de(b,2),vv):n}function oX(p){return fh(p,ms)}function aX(p,b){return fh(p,de(b,2))}function sX(p){return p&&p.length?Ch(p,ms,Ql):n}function lX(p,b){return p&&p.length?Ch(p,de(b,2),Ql):n}var uX=Xo(function(p,b){return p*b},1),cX=p0("round"),dX=Xo(function(p,b){return p-b},0);function fX(p){return p&&p.length?Zp(p,ms):0}function hX(p,b){return p&&p.length?Zp(p,de(b,2)):0}return ge.after=LG,ge.ary=FO,ge.assign=SW,ge.assignIn=JO,ge.assignInWith=ox,ge.assignWith=wW,ge.at=EW,ge.before=jO,ge.bind=AC,ge.bindAll=AV,ge.bindKey=BO,ge.castArray=XG,ge.chain=LO,ge.chunk=Ko,ge.compact=co,ge.concat=xr,ge.cond=OV,ge.conforms=NV,ge.constant=kC,ge.countBy=fG,ge.create=CW,ge.curry=zO,ge.curryRight=HO,ge.debounce=UO,ge.defaults=TW,ge.defaultsDeep=RW,ge.defer=kG,ge.delay=$G,ge.difference=Yo,ge.differenceBy=ui,ge.differenceWith=Zn,ge.drop=kr,ge.dropRight=Wr,ge.dropRightWhile=fo,ge.dropWhile=pl,ge.fill=nd,ge.filter=pG,ge.flatMap=gG,ge.flatMapDeep=yG,ge.flatMapDepth=bG,ge.flatten=ft,ge.flattenDeep=Rn,ge.flattenDepth=Nr,ge.flip=FG,ge.flow=IV,ge.flowRight=DV,ge.fromPairs=Me,ge.functions=DW,ge.functionsIn=LW,ge.groupBy=xG,ge.initial=nt,ge.intersection=st,ge.intersectionBy=We,ge.intersectionWith=Ue,ge.invert=$W,ge.invertBy=FW,ge.invokeMap=SG,ge.iteratee=$C,ge.keyBy=wG,ge.keys=da,ge.keysIn=vs,ge.map=Q1,ge.mapKeys=BW,ge.mapValues=zW,ge.matches=LV,ge.matchesProperty=kV,ge.memoize=tx,ge.merge=HW,ge.mergeWith=QO,ge.method=$V,ge.methodOf=FV,ge.mixin=FC,ge.negate=nx,ge.nthArg=BV,ge.omit=UW,ge.omitBy=GW,ge.once=jG,ge.orderBy=EG,ge.over=zV,ge.overArgs=BG,ge.overEvery=HV,ge.overSome=UV,ge.partial=OC,ge.partialRight=GO,ge.partition=CG,ge.pick=WW,ge.pickBy=eN,ge.property=sN,ge.propertyOf=GV,ge.pull=et,ge.pullAll=ut,ge.pullAllBy=Ot,ge.pullAllWith=Dt,ge.pullAt=Et,ge.range=WV,ge.rangeRight=VV,ge.rearg=zG,ge.reject=PG,ge.remove=Zt,ge.rest=HG,ge.reverse=Fn,ge.sampleSize=OG,ge.set=XW,ge.setWith=KW,ge.shuffle=NG,ge.slice=_r,ge.sortBy=DG,ge.sortedUniq=y0,ge.sortedUniqBy=hs,ge.split=gV,ge.spread=UG,ge.tail=q1,ge.take=Gs,ge.takeRight=Z1,ge.takeRightWhile=zU,ge.takeWhile=HU,ge.tap=rG,ge.throttle=GG,ge.thru=J1,ge.toArray=YO,ge.toPairs=tN,ge.toPairsIn=nN,ge.toPath=ZV,ge.toPlainObject=ZO,ge.transform=YW,ge.unary=WG,ge.union=UU,ge.unionBy=GU,ge.unionWith=WU,ge.uniq=VU,ge.uniqBy=XU,ge.uniqWith=KU,ge.unset=qW,ge.unzip=PC,ge.unzipWith=DO,ge.update=ZW,ge.updateWith=JW,ge.values=Ov,ge.valuesIn=QW,ge.without=YU,ge.words=oN,ge.wrap=VG,ge.xor=qU,ge.xorBy=ZU,ge.xorWith=JU,ge.zip=QU,ge.zipObject=eG,ge.zipObjectDeep=tG,ge.zipWith=nG,ge.entries=tN,ge.entriesIn=nN,ge.extend=JO,ge.extendWith=ox,FC(ge,ge),ge.add=QV,ge.attempt=aN,ge.camelCase=rV,ge.capitalize=rN,ge.ceil=eX,ge.clamp=eV,ge.clone=KG,ge.cloneDeep=qG,ge.cloneDeepWith=ZG,ge.cloneWith=YG,ge.conformsTo=JG,ge.deburr=iN,ge.defaultTo=MV,ge.divide=tX,ge.endsWith=iV,ge.eq=tu,ge.escape=oV,ge.escapeRegExp=aV,ge.every=hG,ge.find=vG,ge.findIndex=De,ge.findKey=PW,ge.findLast=mG,ge.findLastIndex=xt,ge.findLastKey=AW,ge.floor=nX,ge.forEach=kO,ge.forEachRight=$O,ge.forIn=OW,ge.forInRight=NW,ge.forOwn=MW,ge.forOwnRight=IW,ge.get=IC,ge.gt=QG,ge.gte=eW,ge.has=kW,ge.hasIn=DC,ge.head=me,ge.identity=ms,ge.includes=_G,ge.indexOf=ze,ge.inRange=tV,ge.invoke=jW,ge.isArguments=Bh,ge.isArray=Ur,ge.isArrayBuffer=tW,ge.isArrayLike=ps,ge.isArrayLikeObject=Fo,ge.isBoolean=nW,ge.isBuffer=mf,ge.isDate=rW,ge.isElement=iW,ge.isEmpty=oW,ge.isEqual=aW,ge.isEqualWith=sW,ge.isError=NC,ge.isFinite=lW,ge.isFunction=rd,ge.isInteger=WO,ge.isLength=rx,ge.isMap=VO,ge.isMatch=uW,ge.isMatchWith=cW,ge.isNaN=dW,ge.isNative=fW,ge.isNil=pW,ge.isNull=hW,ge.isNumber=XO,ge.isObject=Eo,ge.isObjectLike=Ao,ge.isPlainObject=b0,ge.isRegExp=MC,ge.isSafeInteger=vW,ge.isSet=KO,ge.isString=ix,ge.isSymbol=Ws,ge.isTypedArray=Av,ge.isUndefined=mW,ge.isWeakMap=gW,ge.isWeakSet=yW,ge.join=Ye,ge.kebabCase=sV,ge.last=Pe,ge.lastIndexOf=Be,ge.lowerCase=lV,ge.lowerFirst=uV,ge.lt=bW,ge.lte=xW,ge.max=rX,ge.maxBy=iX,ge.mean=oX,ge.meanBy=aX,ge.min=sX,ge.minBy=lX,ge.stubArray=BC,ge.stubFalse=zC,ge.stubObject=XV,ge.stubString=KV,ge.stubTrue=YV,ge.multiply=uX,ge.nth=Ae,ge.noConflict=jV,ge.noop=jC,ge.now=ex,ge.pad=cV,ge.padEnd=dV,ge.padStart=fV,ge.parseInt=hV,ge.random=nV,ge.reduce=TG,ge.reduceRight=RG,ge.repeat=pV,ge.replace=vV,ge.result=VW,ge.round=cX,ge.runInContext=ct,ge.sample=AG,ge.size=MG,ge.snakeCase=mV,ge.some=IG,ge.sortedIndex=In,ge.sortedIndexBy=Jn,ge.sortedIndexOf=gr,ge.sortedLastIndex=Jr,ge.sortedLastIndexBy=ao,ge.sortedLastIndexOf=ga,ge.startCase=yV,ge.startsWith=bV,ge.subtract=dX,ge.sum=fX,ge.sumBy=hX,ge.template=xV,ge.times=qV,ge.toFinite=id,ge.toInteger=qr,ge.toLength=qO,ge.toLower=_V,ge.toNumber=vl,ge.toSafeInteger=_W,ge.toString=Bi,ge.toUpper=SV,ge.trim=wV,ge.trimEnd=EV,ge.trimStart=CV,ge.truncate=TV,ge.unescape=RV,ge.uniqueId=JV,ge.upperCase=PV,ge.upperFirst=LC,ge.each=kO,ge.eachRight=$O,ge.first=me,FC(ge,function(){var p={};return Bs(ge,function(b,A){mi.call(ge.prototype,A)||(p[A]=b)}),p}(),{chain:!1}),ge.VERSION=r,Jo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){ge[p].placeholder=ge}),Jo(["drop","take"],function(p,b){li.prototype[p]=function(A){A=A===n?1:go(qr(A),0);var G=this.__filtered__&&!b?new li(this):this.clone();return G.__filtered__?G.__takeCount__=la(A,G.__takeCount__):G.__views__.push({size:la(A,H),type:p+(G.__dir__<0?"Right":"")}),G},li.prototype[p+"Right"]=function(A){return this.reverse()[p](A).reverse()}}),Jo(["filter","map","takeWhile"],function(p,b){var A=b+1,G=A==I||A==k;li.prototype[p]=function(le){var Oe=this.clone();return Oe.__iteratees__.push({iteratee:de(le,3),type:A}),Oe.__filtered__=Oe.__filtered__||G,Oe}}),Jo(["head","last"],function(p,b){var A="take"+(b?"Right":"");li.prototype[p]=function(){return this[A](1).value()[0]}}),Jo(["initial","tail"],function(p,b){var A="drop"+(b?"":"Right");li.prototype[p]=function(){return this.__filtered__?new li(this):this[A](1)}}),li.prototype.compact=function(){return this.filter(ms)},li.prototype.find=function(p){return this.filter(p).head()},li.prototype.findLast=function(p){return this.reverse().find(p)},li.prototype.invokeMap=Yr(function(p,b){return typeof p=="function"?new li(this):this.map(function(A){return af(A,p,b)})}),li.prototype.reject=function(p){return this.filter(nx(de(p)))},li.prototype.slice=function(p,b){p=qr(p);var A=this;return A.__filtered__&&(p>0||b<0)?new li(A):(p<0?A=A.takeRight(-p):p&&(A=A.drop(p)),b!==n&&(b=qr(b),A=b<0?A.dropRight(-b):A.take(b-p)),A)},li.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},li.prototype.toArray=function(){return this.take(H)},Bs(li.prototype,function(p,b){var A=/^(?:filter|find|map|reject)|While$/.test(b),G=/^(?:head|last)$/.test(b),le=ge[G?"take"+(b=="last"?"Right":""):b],Oe=G||/^find/.test(b);le&&(ge.prototype[b]=function(){var Ge=this.__wrapped__,Qe=G?[1]:arguments,mt=Ge instanceof li,tn=Qe[0],rn=mt||Ur(Ge),pn=function(hi){var gi=le.apply(ge,Wl([hi],Qe));return G&&jn?gi[0]:gi};rn&&A&&typeof tn=="function"&&tn.length!=1&&(mt=rn=!1);var jn=this.__chain__,cr=!!this.__actions__.length,Tr=Oe&&!jn,Qr=mt&&!cr;if(!Oe&&rn){Ge=Qr?Ge:new li(this);var Rr=p.apply(Ge,Qe);return Rr.__actions__.push({func:J1,args:[pn],thisArg:n}),new ds(Rr,jn)}return Tr&&Qr?p.apply(this,Qe):(Rr=this.thru(pn),Tr?G?Rr.value()[0]:Rr.value():Rr)})}),Jo(["pop","push","shift","sort","splice","unshift"],function(p){var b=tv[p],A=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",G=/^(?:pop|shift)$/.test(p);ge.prototype[p]=function(){var le=arguments;if(G&&!this.__chain__){var Oe=this.value();return b.apply(Ur(Oe)?Oe:[],le)}return this[A](function(Ge){return b.apply(Ur(Ge)?Ge:[],le)})}}),Bs(li.prototype,function(p,b){var A=ge[b];if(A){var G=A.name+"";mi.call(ua,G)||(ua[G]=[]),ua[G].push({name:b,func:A})}}),ua[td(n,x).name]=[{name:"wrapper",func:n}],li.prototype.clone=JE,li.prototype.reverse=QE,li.prototype.value=eC,ge.prototype.at=iG,ge.prototype.chain=oG,ge.prototype.commit=aG,ge.prototype.next=sG,ge.prototype.plant=uG,ge.prototype.reverse=cG,ge.prototype.toJSON=ge.prototype.valueOf=ge.prototype.value=dG,ge.prototype.first=ge.prototype.head,$s&&(ge.prototype[$s]=lG),ge},Yd=HE();Oc?((Oc.exports=Yd)._=Yd,Dg._=Yd):Zo._=Yd}).call(Ra)})(K_,K_.exports);var bfe=K_.exports,Ww,Zr,Wj,Jh,M3,Vj,UT,Xj,TA,GT,WT,qy={},Kj=[],xfe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Vw=Array.isArray;function If(t,e){for(var n in e)t[n]=e[n];return t}function RA(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function fr(t,e,n){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?Ww.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return g_(t,a,r,i,null)}function g_(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Wj,__i:-1,__u:0};return i==null&&Zr.vnode!=null&&Zr.vnode(o),o}function Xw(){return{current:null}}function xp(t){return t.children}function ii(t,e){this.props=t,this.context=e}function Om(t,e){if(e==null)return t.__?Om(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Om(t):null}function Yj(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Yj(t)}}function I3(t){(!t.__d&&(t.__d=!0)&&Jh.push(t)&&!Y_.__r++||M3!==Zr.debounceRendering)&&((M3=Zr.debounceRendering)||Vj)(Y_)}function Y_(){var t,e,n,r,i,o,a,s;for(Jh.sort(UT);t=Jh.shift();)t.__d&&(e=Jh.length,r=void 0,o=(i=(n=t).__v).__e,a=[],s=[],n.__P&&((r=If({},i)).__v=i.__v+1,Zr.vnode&&Zr.vnode(r),PA(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[o]:null,a,o??Om(i),!!(32&i.__u),s),r.__v=i.__v,r.__.__k[r.__i]=r,Jj(a,r,s),r.__e!=o&&Yj(r)),Jh.length>e&&Jh.sort(UT));Y_.__r=0}function qj(t,e,n,r,i,o,a,s,l,u,c){var d,f,h,v,m,g,x=r&&r.__k||Kj,_=e.length;for(l=_fe(n,e,x,l),d=0;d<_;d++)(h=n.__k[d])!=null&&(f=h.__i===-1?qy:x[h.__i]||qy,h.__i=d,g=PA(t,h,f,i,o,a,s,l,u,c),v=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&AA(f.ref,null,h),c.push(h.ref,h.__c||v,h)),m==null&&v!=null&&(m=v),4&h.__u||f.__k===h.__k?l=Zj(h,l,t):typeof h.type=="function"&&g!==void 0?l=g:v&&(l=v.nextSibling),h.__u&=-7);return n.__e=m,l}function _fe(t,e,n,r){var i,o,a,s,l,u=e.length,c=n.length,d=c,f=0;for(t.__k=[],i=0;i<u;i++)(o=e[i])!=null&&typeof o!="boolean"&&typeof o!="function"?(s=i+f,(o=t.__k[i]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?g_(null,o,null,null,null):Vw(o)?g_(xp,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?g_(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,a=null,(l=o.__i=Sfe(o,n,s,d))!==-1&&(d--,(a=n[l])&&(a.__u|=2)),a==null||a.__v===null?(l==-1&&f--,typeof o.type!="function"&&(o.__u|=4)):l!==s&&(l==s-1?f--:l==s+1?f++:(l>s?f--:f++,o.__u|=4))):o=t.__k[i]=null;if(d)for(i=0;i<c;i++)(a=n[i])!=null&&!(2&a.__u)&&(a.__e==r&&(r=Om(a)),Qj(a,a));return r}function Zj(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=Zj(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Om(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function q_(t,e){return e=e||[],t==null||typeof t=="boolean"||(Vw(t)?t.some(function(n){q_(n,e)}):e.push(t)),e}function Sfe(t,e,n,r){var i=t.key,o=t.type,a=n-1,s=n+1,l=e[n];if(l===null||l&&i==l.key&&o===l.type&&!(2&l.__u))return n;if((typeof o!="function"||o===xp||i)&&r>(l!=null&&!(2&l.__u)?1:0))for(;a>=0||s<e.length;){if(a>=0){if((l=e[a])&&!(2&l.__u)&&i==l.key&&o===l.type)return a;a--}if(s<e.length){if((l=e[s])&&!(2&l.__u)&&i==l.key&&o===l.type)return s;s++}}return-1}function D3(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||xfe.test(e)?n:n+"px"}function dx(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||D3(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||D3(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(Xj,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=TA,t.addEventListener(e,o?WT:GT,o)):t.removeEventListener(e,o?WT:GT,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function L3(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=TA++;else if(e.t<n.u)return;return n(Zr.event?Zr.event(e):e)}}}function PA(t,e,n,r,i,o,a,s,l,u){var c,d,f,h,v,m,g,x,_,w,S,C,O,T,N,M,D,F=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[s=e.__e=n.__e]),(c=Zr.__b)&&c(e);e:if(typeof F=="function")try{if(x=e.props,_="prototype"in F&&F.prototype.render,w=(c=F.contextType)&&r[c.__c],S=c?w?w.props.value:c.__:r,n.__c?g=(d=e.__c=n.__c).__=d.__E:(_?e.__c=d=new F(x,S):(e.__c=d=new ii(x,S),d.constructor=F,d.render=Efe),w&&w.sub(d),d.props=x,d.state||(d.state={}),d.context=S,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),_&&d.__s==null&&(d.__s=d.state),_&&F.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=If({},d.__s)),If(d.__s,F.getDerivedStateFromProps(x,d.__s))),h=d.props,v=d.state,d.__v=e,f)_&&F.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),_&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(_&&F.getDerivedStateFromProps==null&&x!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(x,S),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(x,d.__s,S)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=x,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(j){j&&(j.__=e)}),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(x,d.__s,S),_&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,v,m)})}if(d.context=S,d.props=x,d.__P=t,d.__e=!1,O=Zr.__r,T=0,_){for(d.state=d.__s,d.__d=!1,O&&O(e),c=d.render(d.props,d.state,d.context),N=0;N<d._sb.length;N++)d.__h.push(d._sb[N]);d._sb=[]}else do d.__d=!1,O&&O(e),c=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++T<25);d.state=d.__s,d.getChildContext!=null&&(r=If(If({},r),d.getChildContext())),_&&!f&&d.getSnapshotBeforeUpdate!=null&&(m=d.getSnapshotBeforeUpdate(h,v)),s=qj(t,Vw(M=c!=null&&c.type===xp&&c.key==null?c.props.children:c)?M:[M],e,n,r,i,o,a,s,l,u),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),g&&(d.__E=d.__=null)}catch(j){if(e.__v=null,l||o!=null)if(j.then){for(e.__u|=l?160:128;s&&s.nodeType===8&&s.nextSibling;)s=s.nextSibling;o[o.indexOf(s)]=null,e.__e=s}else for(D=o.length;D--;)RA(o[D]);else e.__e=n.__e,e.__k=n.__k;Zr.__e(j,e,n)}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):s=e.__e=wfe(n.__e,e,n,r,i,o,a,l,u);return(c=Zr.diffed)&&c(e),128&e.__u?void 0:s}function Jj(t,e,n){for(var r=0;r<n.length;r++)AA(n[r],n[++r],n[++r]);Zr.__c&&Zr.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){Zr.__e(o,i.__v)}})}function wfe(t,e,n,r,i,o,a,s,l){var u,c,d,f,h,v,m,g=n.props,x=e.props,_=e.type;if(_==="svg"?i="http://www.w3.org/2000/svg":_==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((h=o[u])&&"setAttribute"in h==!!_&&(_?h.localName===_:h.nodeType===3)){t=h,o[u]=null;break}}if(t==null){if(_===null)return document.createTextNode(x);t=document.createElementNS(i,_,x.is&&x),s&&(Zr.__m&&Zr.__m(e,o),s=!1),o=null}if(_===null)g===x||s&&t.data===x||(t.data=x);else{if(o=o&&Ww.call(t.childNodes),g=n.props||qy,!s&&o!=null)for(g={},u=0;u<t.attributes.length;u++)g[(h=t.attributes[u]).name]=h.value;for(u in g)if(h=g[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=h;else if(!(u in x)){if(u=="value"&&"defaultValue"in x||u=="checked"&&"defaultChecked"in x)continue;dx(t,u,null,h,i)}}for(u in x)h=x[u],u=="children"?f=h:u=="dangerouslySetInnerHTML"?c=h:u=="value"?v=h:u=="checked"?m=h:s&&typeof h!="function"||g[u]===h||dx(t,u,h,g[u],i);if(c)s||d&&(c.__html===d.__html||c.__html===t.innerHTML)||(t.innerHTML=c.__html),e.__k=[];else if(d&&(t.innerHTML=""),qj(t,Vw(f)?f:[f],e,n,r,_==="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:n.__k&&Om(n,0),s,l),o!=null)for(u=o.length;u--;)RA(o[u]);s||(u="value",_==="progress"&&v==null?t.removeAttribute("value"):v!==void 0&&(v!==t[u]||_==="progress"&&!v||_==="option"&&v!==g[u])&&dx(t,u,v,g[u],i),u="checked",m!==void 0&&m!==t[u]&&dx(t,u,m,g[u],i))}return t}function AA(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Zr.__e(i,n)}}function Qj(t,e,n){var r,i;if(Zr.unmount&&Zr.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||AA(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Zr.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Qj(r[i],e,n||typeof t.type!="function");n||RA(t.__e),t.__c=t.__=t.__e=void 0}function Efe(t,e,n){return this.constructor(t,n)}function Cfe(t,e,n){var r,i,o,a;e===document&&(e=document.documentElement),Zr.__&&Zr.__(t,e),i=(r=typeof n=="function")?null:e.__k,o=[],a=[],PA(e,t=(!r&&n||e).__k=fr(xp,null,[t]),i||qy,qy,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?Ww.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r,a),Jj(o,t,a)}Ww=Kj.slice,Zr={__e:function(t,e,n,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(s){t=s}throw t}},Wj=0,ii.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=If({},this.state),typeof t=="function"&&(t=t(If({},n),this.props)),t&&If(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),I3(this))},ii.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),I3(this))},ii.prototype.render=xp,Jh=[],Vj=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,UT=function(t,e){return t.__v.__b-e.__v.__b},Y_.__r=0,Xj=/(PointerCapture)$|Capture$/i,TA=0,GT=L3(!1),WT=L3(!0);var Tfe={},Rfe="An invariant failed, however the error is obfuscated because this is a production build.",Z_=[];Object.freeze(Z_);var OA={};Object.freeze(OA);function Ns(){return++nr.mobxGuid}function Ei(t){throw up(!1,t),"X"}function up(t,e){if(!t)throw new Error("[mobx] "+(e||Rfe))}function eB(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var fx=function(){};function Pfe(t){var e=[];return t.forEach(function(n){e.indexOf(n)===-1&&e.push(n)}),e}function NA(t){return t!==null&&typeof t=="object"}function gg(t){if(t===null||typeof t!="object")return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function Afe(t){if(bg(t)||Is(t))return t;if(Array.isArray(t))return new Map(t);if(gg(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return Ei("Cannot convert to map from '"+t+"'")}function yg(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Ofe(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Nfe(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!n||n.configurable!==!1&&n.writable!==!1}function sh(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return NA(r)&&r[n]===!0}}function bg(t){return t instanceof Map}function zb(t){return t instanceof Set}function tB(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach(function(r){Object.getOwnPropertyDescriptor(t,r).enumerable&&e.add(r)}),Array.from(e)}function Df(t){return t&&t.toString?t.toString():new String(t).toString()}function nB(t){return t===null?null:typeof t=="object"?""+t:t}var Mfe=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Ar=Symbol("mobx administration"),xg=function(){function t(e){e===void 0&&(e="Atom@"+Ns()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Ni.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},t.prototype.reportObserved=function(){return hB(this)},t.prototype.reportChanged=function(){yu(),nhe(this),bu()},t.prototype.toString=function(){return this.name},t}(),MA=sh("Atom",xg);function IA(t,e,n){e===void 0&&(e=fx),n===void 0&&(n=fx);var r=new xg(t);return e!==fx&&vhe(r,e),n!==fx&&bB(r,n),r}function Ife(t,e){return t===e}function Dfe(t,e){return BA(t,e)}function Lfe(t,e){return BA(t,e,1)}function kfe(t,e){return Object.is(t,e)}var Nm={identity:Ife,structural:Dfe,default:kfe,shallow:Lfe};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var VT=function(t,e){return VT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},VT(t,e)};function $fe(t,e){VT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var J_=function(){return J_=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},J_.apply(this,arguments)};function ac(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function om(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function DA(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(om(arguments[e]));return t}var Q_=Symbol("mobx did run lazy initializers"),ty=Symbol("mobx pending decorators"),Ffe={},jfe={};function Bfe(t,e){var n=e?Ffe:jfe;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return _p(this),this[t]},set:function(r){_p(this),this[t]=r}})}function _p(t){var e,n;if(t[Q_]!==!0){var r=t[ty];if(r){yg(t,Q_,!0);var i=DA(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var o=ac(i),a=o.next();!a.done;a=o.next()){var s=a.value,l=r[s];l.propertyCreator(t,l.prop,l.descriptor,l.decoratorTarget,l.decoratorArguments)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}}}function rB(t,e){return function(){var r,i=function(a,s,l,u){if(u===!0)return e(a,s,l,a,r),null;if(!Object.prototype.hasOwnProperty.call(a,ty)){var c=a[ty];yg(a,ty,J_({},c))}return a[ty][s]={prop:s,propertyCreator:e,descriptor:l,decoratorTarget:a,decoratorArguments:r},Bfe(s,t)};return zfe(arguments)?(r=Z_,i.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),i)}}function zfe(t){return(t.length===2||t.length===3)&&(typeof t[1]=="string"||typeof t[1]=="symbol")||t.length===4&&t[3]===!0}function Hb(t,e,n){return Lm(t)?t:Array.isArray(t)?Mt.array(t,{name:n}):gg(t)?Mt.object(t,void 0,{name:n}):bg(t)?Mt.map(t,{name:n}):zb(t)?Mt.set(t,{name:n}):t}function Hfe(t,e,n){return t==null||Ou(t)||Ec(t)||Is(t)||$l(t)?t:Array.isArray(t)?Mt.array(t,{name:n,deep:!1}):gg(t)?Mt.object(t,void 0,{name:n,deep:!1}):bg(t)?Mt.map(t,{name:n,deep:!1}):zb(t)?Mt.set(t,{name:n,deep:!1}):Ei(!1)}function Kw(t){return t}function Ufe(t,e,n){return BA(t,e)?e:t}function Yw(t){up(t);var e=rB(!0,function(r,i,o,a,s){var l=o?o.initializer?o.initializer.call(r):o.value:void 0;jA(r).addObservableProp(i,l,t)}),n=(typeof process<"u",e);return n.enhancer=t,n}var iB={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(iB);function nm(t){return t==null?iB:typeof t=="string"?{name:t,deep:!0,proxy:!0}:t}var LA=Yw(Hb),Gfe=Yw(Hfe),oB=Yw(Kw),Wfe=Yw(Ufe);function hx(t){return t.defaultDecorator?t.defaultDecorator.enhancer:t.deep===!1?Kw:Hb}function Vfe(t,e,n){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return LA.apply(null,arguments);if(Lm(t))return t;var r=gg(t)?Mt.object(t,e,n):Array.isArray(t)?Mt.array(t,e):bg(t)?Mt.map(t,e):zb(t)?Mt.set(t,e):t;if(r!==t)return r;Ei(!1)}var k3={box:function(t,e){arguments.length>2&&S0("box");var n=nm(e);return new dp(t,hx(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&S0("array");var n=nm(e);return Ohe(t,hx(n),n.name)},map:function(t,e){arguments.length>2&&S0("map");var n=nm(e);return new FA(t,hx(n),n.name)},set:function(t,e){arguments.length>2&&S0("set");var n=nm(e);return new RB(t,hx(n),n.name)},object:function(t,e,n){typeof arguments[1]=="string"&&S0("object");var r=nm(n);if(r.proxy===!1)return JT({},t,e,r);var i=_B(r),o=JT({},void 0,void 0,r),a=Rhe(o);return SB(a,t,e,i),a},ref:oB,shallow:Gfe,deep:LA,struct:Wfe},Mt=Vfe;Object.keys(k3).forEach(function(t){return Mt[t]=k3[t]});function S0(t){Ei("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}var eS=rB(!1,function(t,e,n,r,i){var o=n.get,a=n.set,s=i[0]||{};jA(t).addComputedProp(t,e,J_({get:o,set:a,context:t},s))}),Xfe=eS({equals:Nm.structural}),Yi=function(e,n,r){if(typeof n=="string"||e!==null&&typeof e=="object"&&arguments.length===1)return eS.apply(null,arguments);var i=typeof n=="object"?n:{};return i.get=e,i.set=typeof n=="function"?n:i.set,i.name=i.name||e.name||"",new Im(i)};Yi.struct=Xfe;var Ni;(function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"})(Ni||(Ni={}));var lc;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(lc||(lc={}));var tS=function(){function t(e){this.cause=e}return t}();function ny(t){return t instanceof tS}function XT(t){switch(t.dependenciesState){case Ni.UP_TO_DATE:return!1;case Ni.NOT_TRACKING:case Ni.STALE:return!0;case Ni.POSSIBLY_STALE:{for(var e=kA(!0),n=_g(),r=t.observing,i=r.length,o=0;o<i;o++){var a=r[o];if(Dm(a)){if(nr.disableErrorBoundaries)a.get();else try{a.get()}catch{return jf(n),hy(e),!0}if(t.dependenciesState===Ni.STALE)return jf(n),hy(e),!0}}return lB(t),jf(n),hy(e),!1}}}function Mm(t){var e=t.observers.size>0;nr.computationDepth>0&&e&&Ei(!1),!nr.allowStateChanges&&(e||nr.enforceActions==="strict")&&Ei(!1)}function aB(t,e,n){var r=kA(!0);lB(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++nr.runId;var i=nr.trackingDerivation;nr.trackingDerivation=t;var o;if(nr.disableErrorBoundaries===!0)o=e.call(n);else try{o=e.call(n)}catch(a){o=new tS(a)}return nr.trackingDerivation=i,Kfe(t),hy(r),o}function Kfe(t){for(var e=t.observing,n=t.observing=t.newObserving,r=Ni.UP_TO_DATE,i=0,o=t.unboundDepsCount,a=0;a<o;a++){var s=n[a];s.diffValue===0&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}for(n.length=i,t.newObserving=null,o=e.length;o--;){var s=e[o];s.diffValue===0&&dB(s,t),s.diffValue=0}for(;i--;){var s=n[i];s.diffValue===1&&(s.diffValue=0,the(s,t))}r!==Ni.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}function KT(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)dB(e[n],t);t.dependenciesState=Ni.NOT_TRACKING}function sB(t){var e=_g();try{return t()}finally{jf(e)}}function _g(){var t=nr.trackingDerivation;return nr.trackingDerivation=null,t}function jf(t){nr.trackingDerivation=t}function kA(t){var e=nr.allowStateReads;return nr.allowStateReads=t,e}function hy(t){nr.allowStateReads=t}function lB(t){if(t.dependenciesState!==Ni.UP_TO_DATE){t.dependenciesState=Ni.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=Ni.UP_TO_DATE}}var nS=0,Yfe=1,$3=Object.getOwnPropertyDescriptor(function(){},"name");$3&&$3.configurable;function cp(t,e,n){var r=function(){return uB(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function uB(t,e,n,r){var i=qfe();try{return e.apply(n,r)}catch(o){throw i.error=o,o}finally{Zfe(i)}}function qfe(t,e,n){var r=Rs(),i=0,o=_g();yu();var a=qw(!0),s=kA(!0),l={prevDerivation:o,prevAllowStateChanges:a,prevAllowStateReads:s,notifySpy:r,startTime:i,actionId:Yfe++,parentActionId:nS};return nS=l.actionId,l}function Zfe(t){nS!==t.actionId&&Ei("invalid action stack. did you forget to finish an action?"),nS=t.parentActionId,t.error!==void 0&&(nr.suppressReactionErrors=!0),Zw(t.prevAllowStateChanges),hy(t.prevAllowStateReads),bu(),jf(t.prevDerivation),t.notifySpy,nr.suppressReactionErrors=!1}function qw(t){var e=nr.allowStateChanges;return nr.allowStateChanges=t,e}function Zw(t){nr.allowStateChanges=t}var dp=function(t){$fe(e,t);function e(n,r,i,o,a){i===void 0&&(i="ObservableValue@"+Ns()),o===void 0&&(o=!0),a===void 0&&(a=Nm.default);var s=t.call(this,i)||this;return s.enhancer=r,s.name=i,s.equals=a,s.hasUnreportedChange=!1,s.value=r(n,void 0,i),o&&Rs(),s}return e.prototype.dehanceValue=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.prototype.set=function(n){var r=this.value;if(n=this.prepareNewValue(n),n!==nr.UNCHANGED){var i=Rs();this.setNewValue(n)}},e.prototype.prepareNewValue=function(n){if(Mm(this),uc(this)){var r=cc(this,{object:this,type:"update",newValue:n});if(!r)return nr.UNCHANGED;n=r.newValue}return n=this.enhancer(n,this.value,this.name),this.equals(this.value,n)?nr.UNCHANGED:n},e.prototype.setNewValue=function(n){var r=this.value;this.value=n,this.reportChanged(),xu(this)&&_u(this,{type:"update",object:this,newValue:n,oldValue:r})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(n){return Ub(this,n)},e.prototype.observe=function(n,r){return r&&n({object:this,type:"update",newValue:this.value,oldValue:void 0}),Gb(this,n)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return nB(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(xg),Jfe=sh("ObservableValue",dp),Im=function(){function t(e){this.dependenciesState=Ni.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Ni.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+Ns(),this.value=new tS(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=lc.NONE,up(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+Ns(),e.set&&(this.setter=cp(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Nm.structural:Nm.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return t.prototype.onBecomeStale=function(){ihe(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},t.prototype.get=function(){this.isComputing&&Ei("Cycle detected in computation "+this.name+": "+this.derivation),nr.inBatch===0&&this.observers.size===0&&!this.keepAlive?XT(this)&&(this.warnAboutUntrackedRead(),yu(),this.value=this.computeValue(!1),bu()):(hB(this),XT(this)&&this.trackAndCompute()&&rhe(this));var e=this.value;if(ny(e))throw e.cause;return e},t.prototype.peek=function(){var e=this.computeValue(!1);if(ny(e))throw e.cause;return e},t.prototype.set=function(e){if(this.setter){up(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else up(!1,!1)},t.prototype.trackAndCompute=function(){var e=this.value,n=this.dependenciesState===Ni.NOT_TRACKING,r=this.computeValue(!0),i=n||ny(e)||ny(r)||!this.equals(e,r);return i&&(this.value=r),i},t.prototype.computeValue=function(e){this.isComputing=!0,nr.computationDepth++;var n;if(e)n=aB(this,this.derivation,this.scope);else if(nr.disableErrorBoundaries===!0)n=this.derivation.call(this.scope);else try{n=this.derivation.call(this.scope)}catch(r){n=new tS(r)}return nr.computationDepth--,this.isComputing=!1,n},t.prototype.suspend=function(){this.keepAlive||(KT(this),this.value=void 0)},t.prototype.observe=function(e,n){var r=this,i=!0,o=void 0;return fhe(function(){var a=r.get();if(!i||n){var s=_g();e({type:"update",object:r,newValue:a,oldValue:o}),jf(s)}i=!1,o=a})},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return nB(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),Dm=sh("ComputedValue",Im),y_=function(){function t(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return t}(),Qfe={};function YT(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Qfe}var b_=!0,cB=!1,nr=function(){var t=YT();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(b_=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new y_().version&&(b_=!1),b_?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new y_):(setTimeout(function(){cB||Ei("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new y_)}();function ehe(){(nr.pendingReactions.length||nr.inBatch||nr.isRunningReactions)&&Ei("isolateGlobalState should be called before MobX is running any reactions"),cB=!0,b_&&(--YT().__mobxInstanceCount===0&&(YT().__mobxGlobals=void 0),nr=new y_)}function qT(){return nr}function the(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function dB(t,e){t.observers.delete(e),t.observers.size===0&&fB(t)}function fB(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,nr.pendingUnobservations.push(t))}function yu(){nr.inBatch++}function bu(){if(--nr.inBatch===0){mB();for(var t=nr.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Im&&n.suspend())}nr.pendingUnobservations=[]}}function hB(t){var e=nr.trackingDerivation;return e!==null?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(t.observers.size===0&&nr.inBatch>0&&fB(t),!1)}function nhe(t){t.lowestObserverState!==Ni.STALE&&(t.lowestObserverState=Ni.STALE,t.observers.forEach(function(e){e.dependenciesState===Ni.UP_TO_DATE&&(e.isTracing!==lc.NONE&&pB(e,t),e.onBecomeStale()),e.dependenciesState=Ni.STALE}))}function rhe(t){t.lowestObserverState!==Ni.STALE&&(t.lowestObserverState=Ni.STALE,t.observers.forEach(function(e){e.dependenciesState===Ni.POSSIBLY_STALE?e.dependenciesState=Ni.STALE:e.dependenciesState===Ni.UP_TO_DATE&&(t.lowestObserverState=Ni.UP_TO_DATE)}))}function ihe(t){t.lowestObserverState===Ni.UP_TO_DATE&&(t.lowestObserverState=Ni.POSSIBLY_STALE,t.observers.forEach(function(e){e.dependenciesState===Ni.UP_TO_DATE&&(e.dependenciesState=Ni.POSSIBLY_STALE,e.isTracing!==lc.NONE&&pB(e,t),e.onBecomeStale())}))}function pB(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===lc.BREAK){var n=[];vB(ghe(t),n,1),new Function(`debugger;
/*
Tracing '`+t.name+`'

You are entering this break point because derivation '`+t.name+"' is being traced and '"+e.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(t instanceof Im?t.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+n.join(`
`)+`
*/
    `)()}}function vB(t,e,n){if(e.length>=1e3){e.push("(and many more)");return}e.push(""+new Array(n).join("	")+t.name),t.dependencies&&t.dependencies.forEach(function(r){return vB(r,e,n+1)})}var Zy=function(){function t(e,n,r,i){e===void 0&&(e="Reaction@"+Ns()),i===void 0&&(i=!1),this.name=e,this.onInvalidate=n,this.errorHandler=r,this.requiresObservable=i,this.observing=[],this.newObserving=[],this.dependenciesState=Ni.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+Ns(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=lc.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,nr.pendingReactions.push(this),mB())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(yu(),this._isScheduled=!1,XT(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Rs()}catch(e){this.reportExceptionInDerivation(e)}}bu()}},t.prototype.track=function(e){if(!this.isDisposed){yu(),this._isRunning=!0;var n=aB(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&KT(this),ny(n)&&this.reportExceptionInDerivation(n.cause),bu()}},t.prototype.reportExceptionInDerivation=function(e){var n=this;if(this.errorHandler){this.errorHandler(e,this);return}if(nr.disableErrorBoundaries)throw e;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";nr.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,e),nr.globalReactionErrorHandlers.forEach(function(i){return i(e,n)})},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(yu(),KT(this),bu()))},t.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[Ar]=this,e},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(e){e===void 0&&(e=!1),Ehe(this,e)},t}(),F3=100,ZT=function(t){return t()};function mB(){nr.inBatch>0||nr.isRunningReactions||ZT(ohe)}function ohe(){nr.isRunningReactions=!0;for(var t=nr.pendingReactions,e=0;t.length>0;){++e===F3&&(console.error("Reaction doesn't converge to a stable state after "+F3+" iterations."+(" Probably there is a cycle in the reactive function: "+t[0])),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}nr.isRunningReactions=!1}var rS=sh("Reaction",Zy);function ahe(t){var e=ZT;ZT=function(n){return t(function(){return e(n)})}}function Rs(){return!1}function she(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function lhe(){Ei(!1)}function j3(t){return function(e,n,r){if(r){if(r.value)return{value:cp(t,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return cp(t,i.call(this))}}}return uhe(t).apply(this,arguments)}}function uhe(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(i){yg(this,n,Pt(t,i))}})}}function che(t,e,n,r){return r===!0?(JC(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return JC(this,e,n.value||n.initializer.call(this)),this[e]},set:lhe}:{enumerable:!1,configurable:!0,set:function(i){JC(this,e,i)},get:function(){}}}var Pt=function(e,n,r,i){if(arguments.length===1&&typeof e=="function")return cp(e.name||"<unnamed action>",e);if(arguments.length===2&&typeof n=="function")return cp(e,n);if(arguments.length===1&&typeof e=="string")return j3(e);if(i===!0)yg(e,n,cp(e.name||n,r.value,this));else return j3(n).apply(null,arguments)};Pt.bound=che;function dhe(t,e){var n=typeof t=="string"?t:t.name||"<unnamed action>",r=typeof t=="function"?t:e;return uB(n,r,this,void 0)}function JC(t,e,n){yg(t,e,cp(e,n.bind(t)))}function fhe(t,e){e===void 0&&(e=OA);var n=e&&e.name||t.name||"Autorun@"+Ns(),r=!e.scheduler&&!e.delay,i;if(r)i=new Zy(n,function(){this.track(s)},e.onError,e.requiresObservable);else{var o=gB(e),a=!1;i=new Zy(n,function(){a||(a=!0,o(function(){a=!1,i.isDisposed||i.track(s)}))},e.onError,e.requiresObservable)}function s(){t(i)}return i.schedule(),i.getDisposer()}var hhe=function(t){return t()};function gB(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:hhe}function yB(t,e,n){n===void 0&&(n=OA);var r=n.name||"Reaction@"+Ns(),i=Pt(r,n.onError?phe(n.onError,e):e),o=!n.scheduler&&!n.delay,a=gB(n),s=!0,l=!1,u,c=n.compareStructural?Nm.structural:n.equals||Nm.default,d=new Zy(r,function(){s||o?f():l||(l=!0,a(f))},n.onError,n.requiresObservable);function f(){if(l=!1,!d.isDisposed){var h=!1;d.track(function(){var v=t(d);h=s||!c(u,v),u=v}),s&&n.fireImmediately&&i(u,d),!s&&h===!0&&i(u,d),s&&(s=!1)}}return d.schedule(),d.getDisposer()}function phe(t,e){return function(){try{return e.apply(this,arguments)}catch(n){t.call(this,n)}}}function vhe(t,e,n){return xB("onBecomeObserved",t,e)}function bB(t,e,n){return xB("onBecomeUnobserved",t,e)}function xB(t,e,n,r){var i=Yf(e),o=n,a=t+"Listeners";i[a]?i[a].add(o):i[a]=new Set([o]);var s=i[t];return typeof s!="function"?Ei(!1):function(){var l=i[a];l&&(l.delete(o),l.size===0&&delete i[a])}}function mhe(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.computedConfigurable,i=t.disableErrorBoundaries,o=t.reactionScheduler,a=t.reactionRequiresObservable,s=t.observableRequiresReaction;if(t.isolateGlobalState===!0&&ehe(),e!==void 0){var l=void 0;switch(e){case!0:case"observed":l=!0;break;case!1:case"never":l=!1;break;case"strict":case"always":l="strict";break;default:Ei("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}nr.enforceActions=l,nr.allowStateChanges=!(l===!0||l==="strict")}n!==void 0&&(nr.computedRequiresReaction=!!n),a!==void 0&&(nr.reactionRequiresObservable=!!a),s!==void 0&&(nr.observableRequiresReaction=!!s,nr.allowStateReads=!nr.observableRequiresReaction),r!==void 0&&(nr.computedConfigurable=!!r),i!==void 0&&(i===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),nr.disableErrorBoundaries=!!i),o&&ahe(o)}function JT(t,e,n,r){r=nm(r);var i=_B(r);return _p(t),jA(t,r.name,i.enhancer),e&&SB(t,e,n,i),t}function _B(t){return t.defaultDecorator||(t.deep===!1?oB:LA)}function SB(t,e,n,r){var i,o,a,s;yu();try{var a=Mfe(e);try{for(var l=ac(a),u=l.next();!u.done;u=l.next()){var s=u.value,c=Object.getOwnPropertyDescriptor(e,s),d=n&&s in n?n[s]:c.get?eS:r,f=d(t,s,c,!0);f&&Object.defineProperty(t,s,f)}}catch(v){i={error:v}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}finally{bu()}}function ghe(t,e){return wB(Yf(t,e))}function wB(t){var e={name:t.name};return t.observing&&t.observing.length>0&&(e.dependencies=Pfe(t.observing).map(wB)),e}function EB(t,e){if(t==null)return!1;if(e!==void 0){if(Ou(t)===!1||!t[Ar].values.has(e))return!1;var n=Yf(t,e);return Dm(n)}return Dm(t)}function yhe(t){return arguments.length>1?Ei(!1):EB(t)}function B3(t,e){return typeof e!="string"?Ei(!1):EB(t,e)}function bhe(t,e){return t==null?!1:Ou(t)||!!t[Ar]||MA(t)||rS(t)||Dm(t)}function Lm(t){return arguments.length!==1&&Ei(!1),bhe(t)}function km(t){return Ou(t)?t[Ar].getKeys():Is(t)||$l(t)?Array.from(t.keys()):Ec(t)?t.map(function(e,n){return n}):Ei(!1)}function xhe(t){return Ou(t)?km(t).map(function(e){return t[e]}):Is(t)?km(t).map(function(e){return t.get(e)}):$l(t)?Array.from(t.values()):Ec(t)?t.slice():Ei(!1)}function _he(t){return Ou(t)?km(t).map(function(e){return[e,t[e]]}):Is(t)?km(t).map(function(e){return[e,t.get(e)]}):$l(t)?Array.from(t.entries()):Ec(t)?t.map(function(e,n){return[n,e]}):Ei(!1)}function $A(t,e,n){if(arguments.length===2&&!$l(t)){yu();var r=e;try{for(var i in r)$A(t,i,r[i])}finally{bu()}return}if(Ou(t)){var o=t[Ar],a=o.values.get(e);a?o.write(e,n):o.addObservableProp(e,n,o.defaultEnhancer)}else if(Is(t))t.set(e,n);else if($l(t))t.add(e);else if(Ec(t))typeof e!="number"&&(e=parseInt(e,10)),up(e>=0,"Not a valid index: '"+e+"'"),yu(),e>=t.length&&(t.length=e+1),t[e]=n,bu();else return Ei(!1)}function CB(t,e,n,r){return She(t,e,n)}function She(t,e,n){return Jw(t).observe(e,n)}var whe={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Iv(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function Sf(t,e,n){if(!e.recurseEverything&&!Lm(t)||typeof t!="object")return t;if(t===null)return null;if(t instanceof Date)return t;if(Jfe(t))return Sf(t.get(),e,n);Lm(t)&&km(t);var r=e.detectCycles===!0;if(r&&t!==null&&n.has(t))return n.get(t);if(Ec(t)||Array.isArray(t)){var i=Iv(n,t,[],e),o=t.map(function(h){return Sf(h,e,n)});i.length=o.length;for(var a=0,s=o.length;a<s;a++)i[a]=o[a];return i}if($l(t)||Object.getPrototypeOf(t)===Set.prototype)if(e.exportMapsAsObjects===!1){var l=Iv(n,t,new Set,e);return t.forEach(function(h){l.add(Sf(h,e,n))}),l}else{var u=Iv(n,t,[],e);return t.forEach(function(h){u.push(Sf(h,e,n))}),u}if(Is(t)||Object.getPrototypeOf(t)===Map.prototype)if(e.exportMapsAsObjects===!1){var c=Iv(n,t,new Map,e);return t.forEach(function(h,v){c.set(v,Sf(h,e,n))}),c}else{var d=Iv(n,t,{},e);return t.forEach(function(h,v){d[v]=Sf(h,e,n)}),d}var f=Iv(n,t,{},e);return tB(t).forEach(function(h){f[h]=Sf(t[h],e,n)}),f}function uu(t,e){typeof e=="boolean"&&(e={detectCycles:e}),e||(e=whe),e.detectCycles=e.detectCycles===void 0?e.recurseEverything===!0:e.detectCycles===!0;var n;return e.detectCycles&&(n=new Map),Sf(t,e,n)}function Ehe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;typeof t[t.length-1]=="boolean"&&(n=t.pop());var r=Che(t);if(!r)return Ei(!1);r.isTracing===lc.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?lc.BREAK:lc.LOG}function Che(t){switch(t.length){case 0:return nr.trackingDerivation;case 1:return Yf(t[0]);case 2:return Yf(t[0],t[1])}}function fu(t,e){e===void 0&&(e=void 0),yu();try{return t.apply(e)}finally{bu()}}function px(t){return t[Ar]}function vx(t){return typeof t=="string"||typeof t=="number"||typeof t=="symbol"}var The={has:function(t,e){if(e===Ar||e==="constructor"||e===Q_)return!0;var n=px(t);return vx(e)?n.has(e):e in t},get:function(t,e){if(e===Ar||e==="constructor"||e===Q_)return t[e];var n=px(t),r=n.values.get(e);if(r instanceof xg){var i=r.get();return i===void 0&&n.has(e),i}return vx(e)&&n.has(e),t[e]},set:function(t,e,n){return vx(e)?($A(t,e,n),!0):!1},deleteProperty:function(t,e){if(!vx(e))return!1;var n=px(t);return n.remove(e),!0},ownKeys:function(t){var e=px(t);return e.keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return Ei("Dynamic observable objects cannot be frozen"),!1}};function Rhe(t){var e=new Proxy(t,The);return t[Ar].proxy=e,e}function uc(t){return t.interceptors!==void 0&&t.interceptors.length>0}function Ub(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),eB(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function cc(t,e){var n=_g();try{for(var r=DA(t.interceptors||[]),i=0,o=r.length;i<o&&(e=r[i](e),up(!e||e.type,"Intercept handlers should return nothing or a change object"),!!e);i++);return e}finally{jf(n)}}function xu(t){return t.changeListeners!==void 0&&t.changeListeners.length>0}function Gb(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),eB(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function _u(t,e){var n=_g(),r=t.changeListeners;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](e);jf(n)}}var Phe=1e4,Ahe={get:function(t,e){return e===Ar?t[Ar]:e==="length"?t[Ar].getArrayLength():typeof e=="number"?md.get.call(t,e):typeof e=="string"&&!isNaN(e)?md.get.call(t,parseInt(e)):md.hasOwnProperty(e)?md[e]:t[e]},set:function(t,e,n){return e==="length"&&t[Ar].setArrayLength(n),typeof e=="number"&&md.set.call(t,e,n),typeof e=="symbol"||isNaN(e)?t[e]=n:md.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return Ei("Observable arrays cannot be frozen"),!1}};function Ohe(t,e,n,r){n===void 0&&(n="ObservableArray@"+Ns()),r===void 0&&(r=!1);var i=new TB(n,e,r);Ofe(i.values,Ar,i);var o=new Proxy(i.values,Ahe);if(i.proxy=o,t&&t.length){var a=qw(!0);i.spliceWithArray(0,0,t),Zw(a)}return o}var TB=function(){function t(e,n,r){this.owned=r,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new xg(e||"ObservableArray@"+Ns()),this.enhancer=function(i,o){return n(i,o,e+"[..]")}}return t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.dehanceValues=function(e){return this.dehancer!==void 0&&e.length>0?e.map(this.dehancer):e},t.prototype.intercept=function(e){return Ub(this,e)},t.prototype.observe=function(e,n){return n===void 0&&(n=!1),n&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Gb(this,e)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(e){if(typeof e!="number"||e<0)throw new Error("[mobx.array] Out of range: "+e);var n=this.values.length;if(e!==n)if(e>n){for(var r=new Array(e-n),i=0;i<e-n;i++)r[i]=void 0;this.spliceWithArray(n,0,r)}else this.spliceWithArray(e,n-e)},t.prototype.updateArrayLength=function(e,n){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=n},t.prototype.spliceWithArray=function(e,n,r){var i=this;Mm(this.atom);var o=this.values.length;if(e===void 0?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),arguments.length===1?n=o-e:n==null?n=0:n=Math.max(0,Math.min(n,o-e)),r===void 0&&(r=Z_),uc(this)){var a=cc(this,{object:this.proxy,type:"splice",index:e,removedCount:n,added:r});if(!a)return Z_;n=a.removedCount,r=a.added}r=r.length===0?r:r.map(function(l){return i.enhancer(l,void 0)});var s=this.spliceItemsIntoValues(e,n,r);return(n!==0||r.length!==0)&&this.notifyArraySplice(e,r,s),this.dehanceValues(s)},t.prototype.spliceItemsIntoValues=function(e,n,r){var i;if(r.length<Phe)return(i=this.values).splice.apply(i,DA([e,n],r));var o=this.values.slice(e,e+n);return this.values=this.values.slice(0,e).concat(r,this.values.slice(e+n)),o},t.prototype.notifyArrayChildUpdate=function(e,n,r){var i=!this.owned&&Rs(),o=xu(this),a=o||i?{object:this.proxy,type:"update",index:e,newValue:n,oldValue:r}:null;this.atom.reportChanged(),o&&_u(this,a)},t.prototype.notifyArraySplice=function(e,n,r){var i=!this.owned&&Rs(),o=xu(this),a=o||i?{object:this.proxy,type:"splice",index:e,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;this.atom.reportChanged(),o&&_u(this,a)},t}(),md={intercept:function(t){return this[Ar].intercept(t)},observe:function(t,e){e===void 0&&(e=!1);var n=this[Ar];return n.observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[Ar];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[Ar];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(t);case 2:return i.spliceWithArray(t,e)}return i.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){var r=this[Ar];return r.spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[Ar];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[Ar].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[Ar];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[Ar],n=e.dehanceValues(e.values).indexOf(t);return n>-1?(this.splice(n,1),!0):!1},get:function(t){var e=this[Ar];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[Ar],r=n.values;if(t<r.length){Mm(n.atom);var i=r[t];if(uc(n)){var o=cc(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!o)return;e=o.newValue}e=n.enhancer(e,i);var a=e!==i;a&&(r[t]=e,n.notifyArrayChildUpdate(t,e,i))}else if(t===r.length)n.spliceWithArray(t,0,[e]);else throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(t){typeof Array.prototype[t]=="function"&&(md[t]=function(){var e=this[Ar];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)})});["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(t){typeof Array.prototype[t]=="function"&&(md[t]=function(e,n){var r=this,i=this[Ar];i.atom.reportObserved();var o=i.dehanceValues(i.values);return o[t](function(a,s){return e.call(n,a,s,r)},n)})});["reduce","reduceRight"].forEach(function(t){md[t]=function(){var e=this,n=this[Ar];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(i,o,a){return o=n.dehanceValue(o),r(i,o,a,e)},n.values[t].apply(n.values,arguments)}});var Nhe=sh("ObservableArrayAdministration",TB);function Ec(t){return NA(t)&&Nhe(t[Ar])}var z3,Mhe={},FA=function(){function t(e,n,r){if(n===void 0&&(n=Hb),r===void 0&&(r="ObservableMap@"+Ns()),this.enhancer=n,this.name=r,this[z3]=Mhe,this._keysAtom=IA(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return t.prototype._has=function(e){return this._data.has(e)},t.prototype.has=function(e){var n=this;if(!nr.trackingDerivation)return this._has(e);var r=this._hasMap.get(e);if(!r){var i=r=new dp(this._has(e),Kw,this.name+"."+Df(e)+"?",!1);this._hasMap.set(e,i),bB(i,function(){return n._hasMap.delete(e)})}return r.get()},t.prototype.set=function(e,n){var r=this._has(e);if(uc(this)){var i=cc(this,{type:r?"update":"add",object:this,newValue:n,name:e});if(!i)return this;n=i.newValue}return r?this._updateValue(e,n):this._addValue(e,n),this},t.prototype.delete=function(e){var n=this;if(Mm(this._keysAtom),uc(this)){var r=cc(this,{type:"delete",object:this,name:e});if(!r)return!1}if(this._has(e)){var i=Rs(),o=xu(this),r=o||i?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return fu(function(){n._keysAtom.reportChanged(),n._updateHasMapEntry(e,!1);var s=n._data.get(e);s.setNewValue(void 0),n._data.delete(e)}),o&&_u(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(e,n){var r=this._hasMap.get(e);r&&r.setNewValue(n)},t.prototype._updateValue=function(e,n){var r=this._data.get(e);if(n=r.prepareNewValue(n),n!==nr.UNCHANGED){var i=Rs(),o=xu(this),a=o||i?{type:"update",object:this,oldValue:r.value,name:e,newValue:n}:null;r.setNewValue(n),o&&_u(this,a)}},t.prototype._addValue=function(e,n){var r=this;Mm(this._keysAtom),fu(function(){var s=new dp(n,r.enhancer,r.name+"."+Df(e),!1);r._data.set(e,s),n=s.value,r._updateHasMapEntry(e,!0),r._keysAtom.reportChanged()});var i=Rs(),o=xu(this),a=o||i?{type:"add",object:this,name:e,newValue:n}:null;o&&_u(this,a)},t.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var e=this,n=this.keys();return iS({next:function(){var r=n.next(),i=r.done,o=r.value;return{done:i,value:i?void 0:e.get(o)}}})},t.prototype.entries=function(){var e=this,n=this.keys();return iS({next:function(){var r=n.next(),i=r.done,o=r.value;return{done:i,value:i?void 0:[o,e.get(o)]}}})},t.prototype[z3=Ar,Symbol.iterator]=function(){return this.entries()},t.prototype.forEach=function(e,n){var r,i;try{for(var o=ac(this),a=o.next();!a.done;a=o.next()){var s=om(a.value,2),l=s[0],u=s[1];e.call(n,u,l,this)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.merge=function(e){var n=this;return Is(e)&&(e=e.toJS()),fu(function(){var r=qw(!0);try{gg(e)?tB(e).forEach(function(i){return n.set(i,e[i])}):Array.isArray(e)?e.forEach(function(i){var o=om(i,2),a=o[0],s=o[1];return n.set(a,s)}):bg(e)?(e.constructor!==Map&&Ei("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach(function(i,o){return n.set(o,i)})):e!=null&&Ei("Cannot initialize map from "+e)}finally{Zw(r)}}),this},t.prototype.clear=function(){var e=this;fu(function(){sB(function(){var n,r;try{for(var i=ac(e.keys()),o=i.next();!o.done;o=i.next()){var a=o.value;e.delete(a)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}})})},t.prototype.replace=function(e){var n=this;return fu(function(){var r,i,o,a,s=Afe(e),l=new Map,u=!1;try{for(var c=ac(n._data.keys()),d=c.next();!d.done;d=c.next()){var f=d.value;if(!s.has(f)){var h=n.delete(f);if(h)u=!0;else{var v=n._data.get(f);l.set(f,v)}}}}catch(N){r={error:N}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}try{for(var m=ac(s.entries()),g=m.next();!g.done;g=m.next()){var x=om(g.value,2),f=x[0],v=x[1],_=n._data.has(f);if(n.set(f,v),n._data.has(f)){var w=n._data.get(f);l.set(f,w),_||(u=!0)}}}catch(N){o={error:N}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}if(!u)if(n._data.size!==l.size)n._keysAtom.reportChanged();else for(var S=n._data.keys(),C=l.keys(),O=S.next(),T=C.next();!O.done;){if(O.value!==T.value){n._keysAtom.reportChanged();break}O=S.next(),T=C.next()}n._data=l}),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var e,n,r={};try{for(var i=ac(this),o=i.next();!o.done;o=i.next()){var a=om(o.value,2),s=a[0],l=a[1];r[typeof s=="symbol"?s:Df(s)]=l}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map(function(n){return Df(n)+": "+(""+e.get(n))}).join(", ")+" }]"},t.prototype.observe=function(e,n){return Gb(this,e)},t.prototype.intercept=function(e){return Ub(this,e)},t}(),Is=sh("ObservableMap",FA),H3,Ihe={},RB=function(){function t(e,n,r){if(n===void 0&&(n=Hb),r===void 0&&(r="ObservableSet@"+Ns()),this.name=r,this[H3]=Ihe,this._data=new Set,this._atom=IA(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(i,o){return n(i,o,r)},e&&this.replace(e)}return t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.clear=function(){var e=this;fu(function(){sB(function(){var n,r;try{for(var i=ac(e._data.values()),o=i.next();!o.done;o=i.next()){var a=o.value;e.delete(a)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}})})},t.prototype.forEach=function(e,n){var r,i;try{for(var o=ac(this),a=o.next();!a.done;a=o.next()){var s=a.value;e.call(n,s,s,this)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(e){var n=this;if(Mm(this._atom),uc(this)){var r=cc(this,{type:"add",object:this,newValue:e});if(!r)return this}if(!this.has(e)){fu(function(){n._data.add(n.enhancer(e,void 0)),n._atom.reportChanged()});var i=Rs(),o=xu(this),r=o||i?{type:"add",object:this,newValue:e}:null;o&&_u(this,r)}return this},t.prototype.delete=function(e){var n=this;if(uc(this)){var r=cc(this,{type:"delete",object:this,oldValue:e});if(!r)return!1}if(this.has(e)){var i=Rs(),o=xu(this),r=o||i?{type:"delete",object:this,oldValue:e}:null;return fu(function(){n._atom.reportChanged(),n._data.delete(e)}),o&&_u(this,r),!0}return!1},t.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},t.prototype.entries=function(){var e=0,n=Array.from(this.keys()),r=Array.from(this.values());return iS({next:function(){var i=e;return e+=1,i<r.length?{value:[n[i],r[i]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var e=this,n=0,r=Array.from(this._data.values());return iS({next:function(){return n<r.length?{value:e.dehanceValue(r[n++]),done:!1}:{done:!0}}})},t.prototype.replace=function(e){var n=this;return $l(e)&&(e=e.toJS()),fu(function(){var r=qw(!0);try{Array.isArray(e)?(n.clear(),e.forEach(function(i){return n.add(i)})):zb(e)?(n.clear(),e.forEach(function(i){return n.add(i)})):e!=null&&Ei("Cannot initialize set from "+e)}finally{Zw(r)}}),this},t.prototype.observe=function(e,n){return Gb(this,e)},t.prototype.intercept=function(e){return Ub(this,e)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[H3=Ar,Symbol.iterator]=function(){return this.values()},t}(),$l=sh("ObservableSet",RB),PB=function(){function t(e,n,r,i){n===void 0&&(n=new Map),this.target=e,this.values=n,this.name=r,this.defaultEnhancer=i,this.keysAtom=new xg(r+".keys")}return t.prototype.read=function(e){return this.values.get(e).get()},t.prototype.write=function(e,n){var r=this.target,i=this.values.get(e);if(i instanceof Im){i.set(n);return}if(uc(this)){var o=cc(this,{type:"update",object:this.proxy||r,name:e,newValue:n});if(!o)return;n=o.newValue}if(n=i.prepareNewValue(n),n!==nr.UNCHANGED){var a=xu(this),s=Rs(),o=a||s?{type:"update",object:this.proxy||r,oldValue:i.value,name:e,newValue:n}:null;i.setNewValue(n),a&&_u(this,o)}},t.prototype.has=function(e){var n=this.pendingKeys||(this.pendingKeys=new Map),r=n.get(e);if(r)return r.get();var i=!!this.values.get(e);return r=new dp(i,Kw,this.name+"."+Df(e)+"?",!1),n.set(e,r),r.get()},t.prototype.addObservableProp=function(e,n,r){r===void 0&&(r=this.defaultEnhancer);var i=this.target;if(uc(this)){var o=cc(this,{object:this.proxy||i,name:e,type:"add",newValue:n});if(!o)return;n=o.newValue}var a=new dp(n,r,this.name+"."+Df(e),!1);this.values.set(e,a),n=a.value,Object.defineProperty(i,e,Dhe(e)),this.notifyPropertyAddition(e,n)},t.prototype.addComputedProp=function(e,n,r){var i=this.target;r.name=r.name||this.name+"."+Df(n),this.values.set(n,new Im(r)),(e===i||Nfe(e,n))&&Object.defineProperty(e,n,Lhe(n))},t.prototype.remove=function(e){if(this.values.has(e)){var n=this.target;if(uc(this)){var r=cc(this,{object:this.proxy||n,name:e,type:"remove"});if(!r)return}try{yu();var i=xu(this),o=Rs(),a=this.values.get(e),s=a&&a.get();if(a&&a.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var l=this.pendingKeys.get(e);l&&l.set(!1)}delete this.target[e];var r=i||o?{type:"remove",object:this.proxy||n,oldValue:s,name:e}:null;i&&_u(this,r)}finally{bu()}}},t.prototype.illegalAccess=function(e,n){console.warn("Property '"+n+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(e,n){return Gb(this,e)},t.prototype.intercept=function(e){return Ub(this,e)},t.prototype.notifyPropertyAddition=function(e,n){var r=xu(this),i=Rs(),o=r||i?{type:"add",object:this.proxy||this.target,name:e,newValue:n}:null;if(r&&_u(this,o),this.pendingKeys){var a=this.pendingKeys.get(e);a&&a.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var e,n;this.keysAtom.reportObserved();var r=[];try{for(var i=ac(this.values),o=i.next();!o.done;o=i.next()){var a=om(o.value,2),s=a[0],l=a[1];l instanceof dp&&r.push(s)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t}();function jA(t,e,n){if(e===void 0&&(e=""),n===void 0&&(n=Hb),Object.prototype.hasOwnProperty.call(t,Ar))return t[Ar];gg(t)||(e=(t.constructor.name||"ObservableObject")+"@"+Ns()),e||(e="ObservableObject@"+Ns());var r=new PB(t,new Map,Df(e),n);return yg(t,Ar,r),r}var U3=Object.create(null),G3=Object.create(null);function Dhe(t){return U3[t]||(U3[t]={configurable:!0,enumerable:!0,get:function(){return this[Ar].read(t)},set:function(e){this[Ar].write(t,e)}})}function W3(t){var e=t[Ar];return e||(_p(t),t[Ar])}function Lhe(t){return G3[t]||(G3[t]={configurable:nr.computedConfigurable,enumerable:!1,get:function(){return W3(this).read(t)},set:function(e){W3(this).write(t,e)}})}var khe=sh("ObservableObjectAdministration",PB);function Ou(t){return NA(t)?(_p(t),khe(t[Ar])):!1}function Yf(t,e){if(typeof t=="object"&&t!==null){if(Ec(t))return e!==void 0&&Ei(!1),t[Ar].atom;if($l(t))return t[Ar];if(Is(t)){var n=t;if(e===void 0)return n._keysAtom;var r=n._data.get(e)||n._hasMap.get(e);return r||Ei(!1),r}if(_p(t),e&&!t[Ar]&&t[e],Ou(t)){if(!e)return Ei(!1);var r=t[Ar].values.get(e);return r||Ei(!1),r}if(MA(t)||Dm(t)||rS(t))return t}else if(typeof t=="function"&&rS(t[Ar]))return t[Ar];return Ei(!1)}function Jw(t,e){if(t||Ei("Expecting some object"),e!==void 0)return Jw(Yf(t,e));if(MA(t)||Dm(t)||rS(t)||Is(t)||$l(t))return t;if(_p(t),t[Ar])return t[Ar];Ei(!1)}function $he(t,e){var n;return e!==void 0?n=Yf(t,e):Ou(t)||Is(t)||$l(t)?n=Jw(t):n=Yf(t),n.name}var V3=Object.prototype.toString;function BA(t,e,n){return n===void 0&&(n=-1),QT(t,e,n)}function QT(t,e,n,r,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var o=typeof t;if(o!=="function"&&o!=="object"&&typeof e!="object")return!1;var a=V3.call(t);if(a!==V3.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=X3(t),e=X3(e);var s=a==="[object Array]";if(!s){if(typeof t!="object"||typeof e!="object")return!1;var l=t.constructor,u=e.constructor;if(l!==u&&!(typeof l=="function"&&l instanceof l&&typeof u=="function"&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var c=r.length;c--;)if(r[c]===t)return i[c]===e;if(r.push(t),i.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!QT(t[c],e[c],n-1,r,i))return!1}else{var d=Object.keys(t),f=void 0;if(c=d.length,Object.keys(e).length!==c)return!1;for(;c--;)if(f=d[c],!(Fhe(e,f)&&QT(t[f],e[f],n-1,r,i)))return!1}return r.pop(),i.pop(),!0}function X3(t){return Ec(t)?t.slice():bg(t)||Is(t)||zb(t)||$l(t)?Array.from(t.entries()):t}function Fhe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function iS(t){return t[Symbol.iterator]=jhe,t}function jhe(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");(function(){function t(){}if(t.name!=="testCodeMinification"&&!1)var e})();typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:she,extras:{getDebugName:$he},$mobx:Ar});function Bhe(t){return!(t.prototype&&t.prototype.render)&&!ii.isPrototypeOf(t)}function AB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.prefix,r=n===void 0?"":n,i=e.suffix,o=i===void 0?"":i,a=t.displayName||t.name||t.constructor&&t.constructor.name||"<component>";return r+a+o}var K3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OB=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},NB=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),MB=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},IB=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Y3=console;function zhe(t){var e=qT().allowStateChanges;return qT().allowStateChanges=t,e}function Hhe(t){qT().allowStateChanges=t}function Uhe(t,e,n,r,i){var o=zhe(t),a=void 0;try{a=e(n,r,i)}finally{Hhe(o)}return a}function q3(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t[e],i=DB[e],o=r?n===!0?function(){i.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),i.apply(this,arguments)}:i;t[e]=o}function Z3(t,e){if(t==null||e==null||(typeof t>"u"?"undefined":K3(t))!=="object"||(typeof e>"u"?"undefined":K3(e))!=="object")return t!==e;var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(var r=void 0,i=n.length-1;r=n[i];i--)if(e[r]!==t[r])return!0;return!1}var DB={componentWillMount:function(){var e=this,n=AB(this),r=!1,i=!1;function o(d){var f=this[d],h=IA("reactive "+d);Object.defineProperty(this,d,{configurable:!0,enumerable:!0,get:function(){return h.reportObserved(),f},set:function(m){!i&&Z3(f,m)?(f=m,r=!0,h.reportChanged(),r=!1):f=m}})}o.call(this,"props"),o.call(this,"state");var a=this.render.bind(this),s=null,l=!1,u=function(){return s=new Zy(n+".render()",function(){if(!l&&(l=!0,typeof e.componentWillReact=="function"&&e.componentWillReact(),e.__$mobxIsUnmounted!==!0)){var f=!0;try{i=!0,r||ii.prototype.forceUpdate.call(e),f=!1}finally{i=!1,f&&s.dispose()}}}),s.reactComponent=e,c.$mobx=s,e.render=c,c(e.props,e.state,e.context)},c=function(f,h,v){l=!1;var m=void 0,g=void 0;if(s.track(function(){try{g=Uhe(!1,a,f,h,v)}catch(x){m=x}}),m)throw m;return g};this.render=u},componentWillUnmount:function(){this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0},componentDidMount:function(){},componentDidUpdate:function(){},shouldComponentUpdate:function(e,n){return this.state!==n?!0:Z3(this.props,e)}};function zA(t){if(arguments.length>1&&Y3.warn('Mobx observer: Using observer to inject stores is not supported. Use `@connect(["store1", "store2"]) ComponentClass instead or preferably, use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))``'),t.isMobxInjector===!0&&Y3.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Bhe(t)){var e,n;return zA((n=e=function(i){MB(o,i);function o(){return OB(this,o),IB(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return NB(o,[{key:"render",value:function(){return t.call(this,this.props,this.context)}}]),o}(ii),e.displayName=AB(t),n))}if(!t)throw new Error("Please pass a valid component to 'observer'");var r=t.prototype||t;return Ghe(r),t.isMobXReactObserver=!0,t}function Ghe(t){q3(t,"componentWillMount",!0),q3(t,"componentDidMount"),t.shouldComponentUpdate||(t.shouldComponentUpdate=DB.shouldComponentUpdate)}var Whe=zA(function(t){var e=t.children;return e[0]()});Whe.displayName="Observer";var Vhe=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xhe(t,e){return e={exports:{}},t(e,e.exports),e.exports}Xhe(function(t,e){(function(n,r){t.exports=r()})(Vhe,function(){var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,o=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,u=l&&l(Object);return function c(d,f,h){if(typeof f!="string"){if(u){var v=l(f);v&&v!==u&&c(d,v,h)}var m=o(f);a&&(m=m.concat(a(f)));for(var g=0;g<m.length;++g){var x=m[g];if(!n[x]&&!r[x]&&(!h||!h[x])){var _=s(f,x);try{i(d,x,_)}catch{}}}return d}return d}})});var J3={children:!0,key:!0,ref:!0},Q3=console;(function(t){MB(e,t);function e(){return OB(this,e),IB(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return NB(e,[{key:"render",value:function(r){var i=r.children;return i.length>1?fr("div",null," ",i," "):i[0]}},{key:"getChildContext",value:function(){var r={},i=this.context.mobxStores;if(i)for(var o in i)r[o]=i[o];for(var a in this.props)!J3[a]&&a!=="suppressChangedStoreWarning"&&(r[a]=this.props[a]);return{mobxStores:r}}},{key:"componentWillReceiveProps",value:function(r){if(Object.keys(r).length!==Object.keys(this.props).length&&Q3.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!r.suppressChangedStoreWarning)for(var i in r)!J3[i]&&this.props[i]!==r[i]&&Q3.warn("MobX Provider: Provided store '"+i+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),e})(ii);if(!ii)throw new Error("mobx-preact requires Preact to be available");var ic,QC,eM,LB=[],Sa=Zr,tM=Sa.__b,nM=Sa.__r,rM=Sa.diffed,iM=Sa.__c,oM=Sa.unmount,aM=Sa.__;function Khe(){for(var t;t=LB.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(x_),t.__H.__h.forEach(eR),t.__H.__h=[]}catch(e){t.__H.__h=[],Sa.__e(e,t.__v)}}Sa.__b=function(t){ic=null,tM&&tM(t)},Sa.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),aM&&aM(t,e)},Sa.__r=function(t){nM&&nM(t);var e=(ic=t.__c).__H;e&&(QC===ic?(e.__h=[],ic.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(x_),e.__h.forEach(eR),e.__h=[])),QC=ic},Sa.diffed=function(t){rM&&rM(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(LB.push(e)!==1&&eM===Sa.requestAnimationFrame||((eM=Sa.requestAnimationFrame)||Yhe)(Khe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),QC=ic=null},Sa.__c=function(t,e){e.some(function(n){try{n.__h.forEach(x_),n.__h=n.__h.filter(function(r){return!r.__||eR(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Sa.__e(r,n.__v)}}),iM&&iM(t,e)},Sa.unmount=function(t){oM&&oM(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{x_(r)}catch(i){e=i}}),n.__H=void 0,e&&Sa.__e(e,n.__v))};var sM=typeof requestAnimationFrame=="function";function Yhe(t){var e,n=function(){clearTimeout(r),sM&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);sM&&(e=requestAnimationFrame(n))}function x_(t){var e=ic,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),ic=e}function eR(t){var e=ic;t.__c=t.__(),ic=e}function lM(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function uM(t,e){this.props=t,this.context=e}(uM.prototype=new ii).isPureReactComponent=!0,uM.prototype.shouldComponentUpdate=function(t,e){return lM(this.props,t)||lM(this.state,e)};var cM=Zr.__b;Zr.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),cM&&cM(t)};var qhe=Zr.__e;Zr.__e=function(t,e,n,r){if(t.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}qhe(t,e,n,r)};var dM=Zr.unmount;function kB(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=function(r,i){for(var o in i)r[o]=i[o];return r}({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return kB(r,e,n)})),t}function $B(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return $B(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function e2(){this.__u=0,this.o=null,this.__b=null}function FB(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function mx(){this.i=null,this.l=null}Zr.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),dM&&dM(t)},(e2.prototype=new ii).__c=function(t,e){var n=e.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var i=FB(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__a){var l=r.state.__a;r.__v.__k[0]=$B(l,l.__c.__P,l.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.o.pop();)u.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(a,a)},e2.prototype.componentWillUnmount=function(){this.o=[]},e2.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=kB(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&fr(xp,null,t.fallback);return i&&(i.__u&=-33),[fr(xp,null,e.__a?null:t.children),i]};var fM=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};(mx.prototype=new ii).__a=function(t){var e=this,n=FB(e.__v),r=e.l.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),fM(e,t,r)):i()};n?n(o):o()}},mx.prototype.render=function(t){this.i=null,this.l=new Map;var e=q_(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},mx.prototype.componentDidUpdate=mx.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,n){fM(t,n,e)})};var Zhe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Jhe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Qhe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,epe=/[A-Z0-9]/g,tpe=typeof document<"u",npe=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function rpe(t,e,n){return e.__k==null&&(e.textContent=""),Cfe(t,e),typeof n=="function"&&n(),t?t.__c:null}ii.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ii.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var hM=Zr.event;function ipe(){}function ope(){return this.cancelBubble}function ape(){return this.defaultPrevented}Zr.event=function(t){return hM&&(t=hM(t)),t.persist=ipe,t.isPropagationStopped=ope,t.isDefaultPrevented=ape,t.nativeEvent=t};var spe={enumerable:!1,configurable:!0,get:function(){return this.class}},pM=Zr.vnode;Zr.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,r=e.type,i={},o=r.indexOf("-")===-1;for(var a in n){var s=n[a];if(!(a==="value"&&"defaultValue"in n&&s==null||tpe&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&s===!0?s="":l==="translate"&&s==="no"?s=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||r!=="input"&&r!=="textarea"||npe(n.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":Qhe.test(a)&&(a=l):l=a="oninput":o&&Jhe.test(a)?a=a.replace(epe,"-$&").toLowerCase():s===null&&(s=void 0),l==="oninput"&&i[a=l]&&(a="oninputCapture"),i[a]=s}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=q_(n.children).forEach(function(u){u.props.selected=i.value.indexOf(u.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=q_(n.children).forEach(function(u){u.props.selected=i.multiple?i.defaultValue.indexOf(u.props.value)!=-1:i.defaultValue==u.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",spe)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),e.props=i}(t),t.$$typeof=Zhe,pM&&pM(t)};var vM=Zr.__r;Zr.__r=function(t){vM&&vM(t),t.__c};var mM=Zr.diffed;Zr.diffed=function(t){mM&&mM(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value)};var lpe=0;function Ct(t,e,n,r,i,o){e||(e={});var a,s,l=e;"ref"in e&&(a=e.ref,delete e.ref);var u={type:t,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--lpe,__i:-1,__u:0,__source:i,__self:o};if(typeof t=="function"&&(a=t.defaultProps))for(s in a)l[s]===void 0&&(l[s]=a[s]);return Zr.vnode&&Zr.vnode(u),u}var upe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Jy;(function(t){function e(n){var r=upe(n,[]),i=n.container;if(!i)throw new Error("Ensure the container of LogicFlow is specified and valid.");return $i({},t.defaults,r)}t.get=e})(Jy||(Jy={}));(function(t){t.defaults={background:!1,grid:!1,textEdit:!0,snapline:!0,outline:!1,disabledTools:[]}})(Jy||(Jy={}));var gM={node:!1,edge:!1},cpe={node:!0,edge:!0},dpe=function(t){return!t||typeof t=="boolean"?t===!0?Mr(cpe):Mr(gM):Cu(Mr(gM),t)},fpe=function(){return Rb(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null};function ja(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}}var gx=200,hpe=9999,ppe=10,yi;(function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(yi||(yi={}));var bo;(function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"})(bo||(bo={}));var Vr;(function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.CUSTOM_HTML_NODE="custom-html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"})(Vr||(Vr={}));var ir;(function(t){t.ELEMENT_CLICK="element:click",t.NODE_ADD="node:add",t.NODE_DELETE="node:delete",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.NODE_RESIZE="node:resize",t.NODE_FOCUS="node:focus",t.NODE_BLUR="node:blur",t.NODE_PROPERTIES_CHANGE="node:properties-change",t.NODE_PROPERTIES_DELETE="node:properties-delete",t.EDGE_ADD="edge:add",t.EDGE_DELETE="edge:delete",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_FOCUS="edge:focus",t.EDGE_BLUR="edge:blur",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.TEXT_MOUSEDOWN="text:mousedown",t.TEXT_DRAGSTART="text:dragstart",t.TEXT_DRAG="text:drag",t.TEXT_DROP="text:drop",t.TEXT_CLICK="text:click",t.TEXT_DBCLICK="text:dbclick",t.TEXT_BLUR="text:blur",t.TEXT_MOUSEMOVE="text:mousemove",t.TEXT_MOUSEUP="text:mouseup",t.TEXT_FOCUS="text:focus",t.TEXT_ADD="text:add",t.TEXT_UPDATE="text:update",t.TEXT_CLEAR="text:clear",t.LABEL_MOUSEDOWN="label:mousedown",t.LABEL_DRAGSTART="label:dragstart",t.LABEL_DRAG="label:drag",t.LABEL_DROP="label:drop",t.LABEL_CLICK="label:click",t.LABEL_DBCLICK="label:dbclick",t.LABEL_BLUR="label:blur",t.LABEL_MOUSEMOVE="label:mousemove",t.LABEL_MOUSEUP="label:mouseup",t.LABEL_FOCUS="label:focus",t.LABEL_ADD="label:add",t.LABEL_UPDATE="label:update",t.LABEL_CLEAR="label:clear",t.LABEL_DELETE="label:delete",t.LABEL_SHOULD_ADD="label:should-add",t.LABEL_BATCH_ADD="label:batch-add",t.LABEL_SHOULD_UPDATE="label:should-update",t.LABEL_SHOULD_DELETE="label:should-delete",t.LABEL_BATCH_DELETE="label:batch-delete",t.LABEL_NOT_ALLOWED_ADD="label:not-allowed-add",t.HISTORY_CHANGE="history:change",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered",t.GRAPH_UPDATED="graph:updated"})(ir||(ir={}));var hu;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(hu||(hu={}));var so;(function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"})(so||(so={}));var Ml;(function(t){t.TEXT="text",t.LABEL="label"})(Ml||(Ml={}));var vpe=0,Bl=function(){function t(e){var n=e.onDragStart,r=n===void 0?gm:n,i=e.onDragging,o=i===void 0?gm:i,a=e.onDragEnd,s=a===void 0?gm:a,l=e.eventType,u=l===void 0?"":l,c=e.eventCenter,d=e.step,f=d===void 0?1:d,h=e.isStopPropagation,v=h===void 0?!0:h,m=e.model,g=e.data,x=this;this.isDragging=!1,this.isStartDragging=!1,this.startX=0,this.startY=0,this.sumDeltaX=0,this.sumDeltaY=0,this.handleMouseDown=function(_){var w,S,C=window==null?void 0:window.document;if(_.button===vpe){x.isStopPropagation&&_.stopPropagation(),x.isStartDragging=!0,x.startX=_.clientX,x.startY=_.clientY,C.addEventListener("mousemove",x.handleMouseMove,!1),C.addEventListener("mouseup",x.handleMouseUp,!1);var O=(w=x.model)===null||w===void 0?void 0:w.getData();(S=x.eventCenter)===null||S===void 0||S.emit(ir["".concat(x.eventType,"_MOUSEDOWN")],{e:_,data:x.data||O}),x.startTime=new Date().getTime()}},this.handleMouseMove=function(_){var w,S;if(x.isStopPropagation&&_.stopPropagation(),!!x.isStartDragging&&(x.sumDeltaX+=_.clientX-x.startX,x.sumDeltaY+=_.clientY-x.startY,x.startX=_.clientX,x.startY=_.clientY,x.step<=1||Math.abs(x.sumDeltaX)>x.step||Math.abs(x.sumDeltaY)>x.step)){var C=x.sumDeltaX%x.step,O=x.sumDeltaY%x.step,T=x.sumDeltaX-C,N=x.sumDeltaY-O;x.sumDeltaX=C,x.sumDeltaY=O;var M=(w=x.model)===null||w===void 0?void 0:w.getData();x.isDragging||((S=x.eventCenter)===null||S===void 0||S.emit(ir["".concat(x.eventType,"_DRAGSTART")],{e:_,data:x.data||M}),x.onDragStart({event:_})),x.isDragging=!0,Promise.resolve().then(function(){var D,F;x.onDragging({deltaX:T,deltaY:N,event:_}),(D=x.eventCenter)===null||D===void 0||D.emit(ir["".concat(x.eventType,"_MOUSEMOVE")],{deltaX:T,deltaY:N,e:_,data:x.data||M}),(F=x.eventCenter)===null||F===void 0||F.emit(ir["".concat(x.eventType,"_DRAG")],{e:_,data:x.data||M})})}},this.handleMouseUp=function(_){var w=window.document;x.isStartDragging=!1,x.isStopPropagation&&_.stopPropagation(),Promise.resolve().then(function(){var S,C,O;w.removeEventListener("mousemove",x.handleMouseMove,!1),w.removeEventListener("mouseup",x.handleMouseUp,!1);var T=(S=x.model)===null||S===void 0?void 0:S.getData();(C=x.eventCenter)===null||C===void 0||C.emit(ir["".concat(x.eventType,"_MOUSEUP")],{e:_,data:x.data||T}),x.isDragging&&(x.isDragging=!1,x.onDragEnd({event:_}),(O=x.eventCenter)===null||O===void 0||O.emit(ir["".concat(x.eventType,"_DROP")],{e:_,data:x.data||T}))})},this.cancelDrag=function(){var _=window==null?void 0:window.document;_.removeEventListener("mousemove",x.handleMouseMove,!1),_.removeEventListener("mouseup",x.handleMouseUp,!1),x.onDragEnd({event:void 0}),x.isDragging=!1},this.destroy=function(){x.isStartDragging&&x.cancelDrag()},this.onDragStart=r,this.onDragging=o,this.onDragEnd=s,this.step=f,this.isStopPropagation=v,this.eventType=u,this.eventCenter=c,this.model=m,this.data=g}return t.prototype.setStep=function(e){this.step=e},t.prototype.setModel=function(e){this.model=e},t}(),mpe=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return{x:e-r/2,y:n-i/2,x1:e+r/2,y1:n+i/2}},gpe=function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,i=(e.y+n.y)/2,o=Math.abs(e.x-n.x)+10,a=Math.abs(e.y-n.y)+10;return{x:r-o/2,y:i-a/2,x1:r+o/2,y1:i+a/2}},ype=function(t){var e=t.points,n=Sp(e),r=tb(n,8),i=r.x,o=r.y,a=r.width,s=r.height;return{x:i-a/2,y:o-s/2,x1:i+a/2,y1:o+s/2}},bpe=function(t){var e=t.path,n=HA(e),r=tb(n,8),i=r.x,o=r.y,a=r.width,s=r.height;return{x:i-a/2,y:o-s/2,x1:i+a/2,y1:o+s/2}},xpe=function(t){if(t.modelType===Vr.LINE_EDGE)return gpe(t);if(t.modelType===Vr.POLYLINE_EDGE)return ype(t);if(t.modelType===Vr.BEZIER_EDGE)return bpe(t)},_pe=function(t,e,n,r){var i=(e.y-t.y)*(r.x-n.x)-(t.x-e.x)*(n.y-r.y);if(i===0)return!1;var o=((e.x-t.x)*(r.x-n.x)*(n.y-t.y)+(e.y-t.y)*(r.x-n.x)*t.x-(r.y-n.y)*(e.x-t.x)*n.x)/i,a=-((e.y-t.y)*(r.y-n.y)*(n.x-t.x)+(e.x-t.x)*(r.y-n.y)*t.y-(r.x-n.x)*(e.y-t.y)*n.y)/i;return(o-t.x)*(o-e.x)<=0&&(a-t.y)*(a-e.y)<=0&&(o-n.x)*(o-r.x)<=0&&(a-n.y)*(a-r.y)<=0?{x:o,y:a}:!1},Qy=function(t,e,n){var r=t.x,i=t.y,o=e.x,a=e.y,s=n.x,l=n.y,u=(l-a)/(s-o),c=a-u*o;return(r>=o&&r<=s||r<=o&&r>=s)&&(i>=a&&i<=l||i<=a&&i>=l)&&Math.abs(i-u*r-c)<Number.EPSILON},eb=function(t){var e=t.start,n=t.end,r=t.offset,i=t.verticalLength,o=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},s=Math.atan((n.y-e.y)/(n.x-e.x)),l=Math.atan(r/i),u=Math.sqrt(i*i+r*r);return o==="start"?n.x>=e.x?(a.leftX=e.x+u*Math.sin(s+l),a.leftY=e.y-u*Math.cos(s+l),a.rightX=e.x-u*Math.sin(s-l),a.rightY=e.y+u*Math.cos(s-l)):(a.leftX=e.x-u*Math.sin(s+l),a.leftY=e.y+u*Math.cos(s+l),a.rightX=e.x+u*Math.sin(s-l),a.rightY=e.y-u*Math.cos(s-l)):o==="end"&&(n.x>=e.x?(a.leftX=n.x+u*Math.sin(s-l),a.leftY=n.y-u*Math.cos(s-l),a.rightX=n.x-u*Math.sin(s+l),a.rightY=n.y+u*Math.cos(s+l)):(a.leftX=n.x-u*Math.sin(s-l),a.leftY=n.y+u*Math.cos(s-l),a.rightX=n.x+u*Math.sin(s+l),a.rightY=n.y-u*Math.cos(s+l))),a},am=function(){return am=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},am.apply(this,arguments)},Al=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Lf=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Spe=function(t,e){return Math.abs(t.centerX-e.centerX)*2<t.width+e.width&&Math.abs(t.centerY-e.centerY)*2<t.height+e.height},tR=function(t){var e=[],n={};return t.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},oS=function(t,e){return t.width===0&&t.height===0?t:{x:t.x,y:t.y,centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},wpe=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?so.HORIZONTAL:so.VERTICAL},aS=function(t,e,n){var r=wpe(n,e);return r===so.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},yM=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{x:(n+i)/2,y:(r+o)/2,centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},tb=function(t,e){t===void 0&&(t=[]);var n=[],r=[];t.forEach(function(c){n.push(c.x),r.push(c.y)});var i=Math.min.apply(Math,Lf([],Al(n),!1)),o=Math.max.apply(Math,Lf([],Al(n),!1)),a=Math.min.apply(Math,Lf([],Al(r),!1)),s=Math.max.apply(Math,Lf([],Al(r),!1)),l=o-i,u=s-a;return e&&(l+=e,u+=e),{centerX:(i+o)/2,centerY:(a+s)/2,maxX:o,maxY:s,minX:i,minY:a,x:(i+o)/2,y:(a+s)/2,height:u,width:l}},sS=function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]},yx=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Epe=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Cpe=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Tpe=function(t,e){return Lf(Lf([],Al(Epe(t,e.x)),!1),Al(Cpe(t,e.y)),!1)},nR=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Rpe=function(t,e){var n=-2,r=0;return e.forEach(function(i){i&&(t.x===i.x&&(r+=n),t.y===i.y&&(r+=n))}),r},bM=function(t,e,n,r,i){return nR(t,e)+nR(t,n)+Rpe(t,[e,n,r,i])},jB=function(t,e,n,r,i){i||(i=0),t.unshift(e[r]),n[r]&&n[r]!==r&&i<=100&&jB(t,e,n,n[r],i+1)},Ppe=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},ry=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=r.x-n.x,s=r.y-n.y,l=(-o*(t.x-n.x)+i*(t.y-n.y))/(-a*o+i*s),u=(a*(t.y-n.y)-s*(t.x-n.x))/(-a*o+i*s);return l>=0&&l<=1&&u>=0&&u<=1},xM=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Al(sS(n),4),i=r[0],o=r[1],a=r[2],s=r[3];return ry(t,e,i,o)||ry(t,e,i,s)||ry(t,e,o,a)||ry(t,e,a,s)},Ape=function(t,e,n,r){var i=[];return t.forEach(function(o){o!==e&&(o.x===e.x||o.y===e.y)&&!xM(o,e,n)&&!xM(o,e,r)&&i.push(o)}),tR(i)},Ope=function(t,e,n,r,i,o,a){var s=[],l=[e],u={},c={},d={};e.id&&(c[e.id]=0,d[e.id]=bM(e,n,e));var f={};t.forEach(function(m){m.id&&(f[m.id]=m)});for(var h=function(){var m,g=1/0;if(l.forEach(function(_){_.id&&d[_.id]<g&&(g=d[_.id],m=_)}),m===n&&n.id){var x=[];return jB(x,f,u,n.id),{value:x}}if(!m)return{value:[e,n]};Ppe(l,m),s.push(m),Ape(t,m,r,i).forEach(function(_){if(s.indexOf(_)===-1&&(l.indexOf(_)===-1&&l.push(_),m!=null&&m.id&&(_!=null&&_.id))){var w=d[m.id]+nR(m,_);if(c[_.id]&&w>=c[_.id])return;u[_.id]=m.id,c[_.id]=w,d[_.id]=c[_.id]+bM(_,n,e,o,a)}})};l.length;){var v=h();if(typeof v=="object")return v.value}return[e,n]},_M=function(t){return Cs(t)},lS=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],i=t[e+1];n.x===r.x&&r.x===i.x||n.y===r.y&&r.y===i.y?t.splice(e,1):e++}return t},SM=function(t,e,n,r,i){var o=_M(n),a=_M(r),s=oS(o,i),l=oS(a,i),u=aS(s,o,t),c=aS(l,a,e);if(Spe(s,l)){var d=Mpe(t,e,u,c);return Lf(Lf([t,u],Al(d),!1),[c,e],!1)}var f=tb([u,c]),h=yM(s,f),v=yM(l,f),m=[];m=m.concat(sS(h)),m=m.concat(sS(v));var g={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[f,h,v].forEach(function(_){m=m.concat(Tpe(_,g).filter(function(w){return yx(w,s)&&yx(w,l)}))}),[{x:u.x,y:c.y},{x:c.x,y:u.y}].forEach(function(_){yx(_,s)&&yx(_,l)&&m.push(_)}),m.unshift(u),m.push(c),m=tR(m);var x=Ope(m,u,c,o,a,t,e);return x.unshift(t),x.push(e),x.length>2&&(x=lS(x)),tR(x)},Npe=function(t){if(t.length===1){var e=Al(t,1),n=e[0];return[n,n]}else{for(var r=t[0],i=t[1],o=vu(r.x,r.y,i.x,i.y),a=1;a<t.length-1;a++){var s=t[a],l=t[a+1],u=vu(s.x,s.y,l.x,l.y);u>o&&(o=u,r=s,i=l)}return[r,i]}},wM=function(t,e,n){var r=kf(t,n),i=kf(e,n);return r&&i},EM=function(t,e,n){var r=kf(t,n),i=kf(e,n),o=r&&i,a=r||i;return!o&&a},CM=function(t,e,n){for(var r=void 0,i=Cs(n),o=sS(i),a=0;a<o.length;a++){var s=ry(t,e,o[a],o[(a+1)%o.length]);s&&(r=[o[a],o[(a+1)%o.length]])}if(r)return _pe(t,e,r[0],r[1])},uS=function(t,e){var n=void 0;return t.x===e.x?n=so.VERTICAL:t.y===e.y&&(n=so.HORIZONTAL),n},Sp=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var i=Al(r.split(","),2),o=i[0],a=i[1];n.push({x:Number(o),y:Number(a)})}),n},Mpe=function(t,e,n,r){var i=[],o=uS(t,n),a=uS(e,r);if(o===a)t.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var s={x:n.x,y:r.y},l=Qy(s,t,n),u=Qy(s,e,r);if(l||u)s={x:r.x,y:n.y};else{var c=TM(s,t,n),d=TM(s,e,r);c&&d&&(s={x:r.x,y:n.y})}i.push(s)}return i},TM=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},BB=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:r>=1&&r<=126||r>=65376&&r<=65439?e+=1:e+=2}return e},Ipe=function(t){var e=t.start,n=t.end,r;if(e.x===n.x&&e.y===n.y)r="";else{var i={start:e,end:n,offset:10,verticalLength:5},o=eb(am(am({},i),{type:"start"})),a=eb(am(am({},i),{type:"end"}));r="M".concat(o.leftX," ").concat(o.leftY,`
    L`).concat(o.rightX," ").concat(o.rightY,`
    L`).concat(a.rightX," ").concat(a.rightY,`
    L`).concat(a.leftX," ").concat(a.leftY," z")}return{d:r,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},RM=function(t){var e=t.start,n=t.end,r=t.sourceNode,i=t.targetNode,o=t.offset,a=Cs(r),s=Cs(i),l=oS(a,o),u=oS(s,o),c=aS(l,a,e),d=aS(u,s,n);return{sNext:c,ePre:d}},HA=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(","),n=bx(e[0]),r=bx(e[1]),i=bx(e[2]),o=bx(e[3]);return[n,r,i,o]},bx=function(t){var e=Al(t.replace(/(^\s*)/g,"").split(" "),2),n=e[0],r=e[1];return{x:+n,y:+r}},PM=function(t,e){var n=Al(t,4),r=n[0],i=n[1],o=n[2],a=n[3],s=_ve(r,i,o,a,e);return[s,t[3]]},zB=function(t,e){for(var n=t.x,r=t.y,i=Sp(e),o=Number.MAX_SAFE_INTEGER,a,s=[],l=0;l<i.length;l++)s.push({start:i[l],end:i[(l+1)%i.length]});if(s.forEach(function(f){var h=f.start,v=f.end;if(h.x===v.x){var m={x:h.x,y:r},g=Qy(m,h,v);if(g){var x=Math.abs(h.x-n);x<o&&(o=x,a=m)}}else if(h.y===v.y){var m={x:n,y:h.y},g=Qy(m,h,v);if(g){var x=Math.abs(h.y-r);x<o&&(o=x,a=m)}}}),!a){var u=s[0],c=u.start,d=u.end;a={x:c.x+(d.x-c.x)/2,y:c.y+(d.y-c.y)/2}}return a},Dpe=function(t){return ap(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},AM=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Lpe(t,e){return typeof e!="function"?function(n,r,i){return Object.assign({type:t.edgeType},i)}:function(n,r,i){var o=e(n,r,i);return o?typeof o=="string"?Object.assign({},i,{type:o}):Object.assign({type:o},i):{type:t.edgeType}}}var kpe=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,i=0;return Ai(e,function(o){var a=BB(o);i=a>i?a:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},Dv=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},xx=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function $m(t,e){return e*Math.round(t/e)||t}function $pe(t,e,n){if(!t)return[];var r=Math.min.apply(Math,xx([],Dv(t.map(function(m){return m[0]})),!1)),i=Math.max.apply(Math,xx([],Dv(t.map(function(m){return m[0]})),!1)),o=Math.min.apply(Math,xx([],Dv(t.map(function(m){return m[1]})),!1)),a=Math.max.apply(Math,xx([],Dv(t.map(function(m){return m[1]})),!1)),s=-r,l=-o,u=t.map(function(m){var g=Dv(m,2),x=g[0],_=g[1];return[x+s,_+l]}),c=i-r,d=a-o,f=e?e/c:1,h=n?n/d:1,v=Math.min(f,h);return u.map(function(m){var g=Dv(m,2),x=g[0],_=g[1];return[x*v,_*v]})}var t2=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},n2=function(t,e,n){var r=t2(t,2),i=r[0],o=r[1],a=t2(e,2),s=a[0],l=a[1],u=t2(n,2),c=u[0],d=u[1];return i>s&&i<c&&o>l&&o<d},HB=function(t,e){var n=e.multipleSelectKey,r=!1;switch(n){case"meta":r=t.metaKey;break;case"alt":r=t.altKey;break;case"shift":r=t.shiftKey;break;case"ctrl":r=t.ctrlKey;break;default:r=!1;break}return r},UA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function OM(t,e){return t instanceof Pa&&e instanceof Pa}var UB=function(t){UA(e,t);function e(n,r,i){var o=t.call(this,3)||this;return o[0]=n,o[1]=r,o[2]=i,o.x=n,o.y=r,o.z=i,Object.setPrototypeOf(o,e.prototype),o}return e.prototype.add=function(n){if(OM(this,n))return new Pa(this.x+n.x,this.y+n.y);var r=this.z+n.z;return new rR((this.x+n.x)/r,(this.y+n.y)/r)},e.prototype.subtract=function(n){if(OM(this,n))return new Pa(this.x-n.x,this.y-n.y);var r=this.z-n.z;return r===0?new Pa(this.x-n.x,this.y-n.y):new rR((this.x-n.x)/r,(this.y-n.y)/r)},e}(Array),Pa=function(t){UA(e,t);function e(n,r,i){var o=t.call(this,n,r,i??0)||this;return Object.setPrototypeOf(o,e.prototype),o}return e.prototype.toString=function(){return"Vector"},e.prototype.dot=function(n){var r=this;return n.reduce(function(i,o,a){return i+o*r[a]})},e.prototype.cross=function(n){return new e(this.y*n.z-this.z*n.y,this.z*n.x-this.x*n.z,this.x*n.y-this.y*n.x)},e.prototype.getLength=function(){return Math.hypot(this.x,this.y)},e.prototype.normalize=function(){var n=this.getLength();return new e(this.x/n,this.y/n)},e.prototype.crossZ=function(n){return this.x*n.y-this.y*n.x},e.prototype.angle=function(n){var r=this.crossZ(n),i=Math.acos(this.normalize().dot(n.normalize()));return r>=0?i:-i},e}(UB),rR=function(t){UA(e,t);function e(n,r){var i=t.call(this,n,r,1)||this;return Object.setPrototypeOf(i,e.prototype),i}return e.prototype.toString=function(){return"Point"},e}(UB),Qw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lv=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},r2=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},eE=function(t){Qw(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.call(this,n.length)||this;return i.fill(new Array(3)),n.forEach(function(o,a){i[a]=o}),i.columns=n[0].length,i.rows=n.length,Object.setPrototypeOf(i,e.prototype),i}return e.prototype.getRow=function(n){return this[n]},e.prototype.getColumn=function(n){return r2([],Lv(this.map(function(r){return r[n]})),!1)},e.prototype.transpose=function(){for(var n=[],r=0;r<this.columns;r++)n.push(this.getColumn(r));return new(e.bind.apply(e,r2([void 0],Lv(n),!1)))},e.prototype.cross=function(n){var r=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===n.rows)for(var i=0;i<this.rows;i++)for(var o=this.getRow(i),a=function(l){var u=n.getColumn(l);r[i][l]=o.reduce(function(c,d,f){return c+d*u[f]},0)},s=0;s<n.columns;s++)a(s);return new(e.bind.apply(e,r2([void 0],Lv(r),!1)))},e.prototype.to2D=function(){return this.map(function(n){return[n[0],n[1]]})},e.prototype.toPoints=function(){return this.map(function(n){return new rR(n[0],n[1])})},e.prototype.toString=function(){var n=Lv(this[0],2),r=n[0],i=n[1],o=Lv(this[1],2),a=o[0],s=o[1],l=Lv(this[2],2),u=l[0],c=l[1];return"matrix(".concat(r," ").concat(i," ").concat(a," ").concat(s," ").concat(u," ").concat(c,")")},e.prototype.translate=function(n,r){return this.cross(new tE(n,r))},e.prototype.rotate=function(n){return this.cross(new Fpe(n))},e.prototype.scale=function(n,r){return this.cross(new jpe(n,r))},e}(Array),Fpe=function(t){Qw(e,t);function e(n){var r=t.call(this,new Pa(+Math.cos(n).toFixed(2),+Math.sin(n).toFixed(2),0),new Pa(-Math.sin(n).toFixed(2),+Math.cos(n).toFixed(2),0),new Pa(0,0,1))||this;return Object.setPrototypeOf(r,e.prototype),r}return e.prototype.inverse=function(){return this.transpose()},e}(eE),jpe=function(t){Qw(e,t);function e(n,r){var i=t.call(this,new Pa(n,0,0),new Pa(0,r,0),new Pa(0,0,1))||this;return i.sx=n,i.sy=r,Object.setPrototypeOf(i,e.prototype),i}return e.prototype.inverse=function(){return new e(1/this.sx,1/this.sy)},e}(eE),tE=function(t){Qw(e,t);function e(n,r){var i=t.call(this,new Pa(1,0,0),new Pa(0,1,0),new Pa(n,r,1))||this;return i.tx=n,i.ty=r,Object.setPrototypeOf(i,e.prototype),i}return e.prototype.inverse=function(){return new e(-this.tx,-this.ty)},e}(eE);mhe({isolateGlobalState:!0});var cS=function(){return cS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},cS.apply(this,arguments)},iR=function(t){var e=t.anchors;return e},dS=function(t,e){for(var n=e.nodes,r,i=n.length-1;i>=0;i--){var o=n[i],a=Hpe(t,o);if(a){var s=o.getTargetAnchor(t);if(s){var l={node:o,anchorIndex:s.index,anchor:s.anchor};(!r||Bpe(o,r.node,e))&&(r=l)}}}return r},Bpe=function(t,e,n){return t.zIndex>e.zIndex?!0:n.nodesMap[t.id].index>n.nodesMap[e.id].index},zpe=function(t,e){for(var n=iR(e),r,i=Number.MAX_SAFE_INTEGER,o=0;o<n.length;o++){var a=vu(t.x,t.y,n[o].x,n[o].y);a<i&&(i=a,r={index:o,anchor:cS(cS({},n[o]),{x:n[o].x,y:n[o].y,id:n[o].id})})}return r},vu=function(t,e,n,r){return Math.hypot(t-n,e-r)},kf=function(t,e){var n=!1,r=0,i=Cs(e);return t.x>=i.minX-r&&t.x<=i.maxX+r&&t.y>=i.minY-r&&t.y<=i.maxY+r&&(n=!0),n},Hpe=function(t,e){var n=!1,r=5,i=Cs(e);return t.x>=i.minX-r&&t.x<=i.maxX+r&&t.y>=i.minY-r&&t.y<=i.maxY+r&&(n=!0),n},Cs=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e-r/2,minY:n-i/2,maxX:e+r/2,maxY:n+i/2,x:e,y:n,width:r,height:i,centerX:e,centerY:n}},Upe=function(t){var e=t,n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;return[{x:n-i/2+a,y:r-o/2+a,r:a},{x:n+i/2-a,y:r-o/2+a,r:a},{x:n-i/2+a,y:r+o/2-a,r:a},{x:n+i/2-a,y:r+o/2-a,r:a}]},NM=function(t,e,n){var r=Upe(n),i,o=Number.MAX_SAFE_INTEGER;return r.forEach(function(a){var s=vu(t.x,t.y,a.x,a.y);s<o&&(o=s,i=a)}),oR(t,e,i)},oR=function(t,e,n){var r,i=n.x,o=n.y,a=n.r;if(e===so.HORIZONTAL){var s=i-Math.sqrt(a*a-(t.y-o)*(t.y-o)),l=i+Math.sqrt(a*a-(t.y-o)*(t.y-o)),u=Math.abs(s-t.x)<Math.abs(l-t.x)?s:l;r={x:u,y:t.y}}else if(e===so.VERTICAL){var c=o-Math.sqrt(a*a-(t.x-i)*(t.x-i)),d=o+Math.sqrt(a*a-(t.x-i)*(t.x-i)),f=Math.abs(c-t.y)<Math.abs(d-t.y)?c:d;r={x:t.x,y:f}}return r},MM=function(t,e){var n=e,r=!1,i=n.x,o=n.y,a=n.width,s=n.height,l=n.radius,u={minX:i-a/2+l,maxX:i+a/2-l,minY:o-s/2+l,maxY:o+s/2-l};return t.y===o+s/2||t.y===o-s/2?r=t.x>u.minX&&t.x<u.maxX:(t.x===i+a/2||t.x===i-a/2)&&(r=t.y>u.minY&&t.y<u.maxY),r},IM=function(t,e,n){var r,i=n,o=i.x,a=i.y,s=i.rx,l=i.ry;if(e===so.HORIZONTAL){var u=o-Math.sqrt(s*s-(t.y-a)*(t.y-a)*s*s/(l*l)),c=o+Math.sqrt(s*s-(t.y-a)*(t.y-a)*s*s/(l*l)),d=Math.abs(u-t.x)<Math.abs(c-t.x)?u:c;r={x:d,y:t.y}}else if(e===so.VERTICAL){var f=a-Math.sqrt(l*l-(t.x-o)*(t.x-o)*l*l/(s*s)),h=a+Math.sqrt(l*l-(t.x-o)*(t.x-o)*l*l/(s*s)),v=Math.abs(f-t.y)<Math.abs(h-t.y)?f:h;r={x:t.x,y:v}}return r},_x=function(t,e,n){for(var r=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,o,a=[],s=0;s<r.length;s++)a.push({start:r[s],end:r[(s+1)%r.length]});return a.forEach(function(l){var u=l.start,c=l.end,d=u,f=c;u.x>c.x&&(d=c,f=u);var h={x:t.x,y:t.y};if(d.x===f.x&&e===so.HORIZONTAL&&(h={x:d.x,y:t.y}),d.y===f.y&&e===so.VERTICAL&&(h={x:t.x,y:d.y}),d.x!==f.x&&d.y!==f.y){var v=(f.y-d.y)/(f.x-d.x),m=(d.x*f.y-f.x*d.y)/(d.x-f.x);e===so.HORIZONTAL?h={x:(t.y-m)/v,y:t.y}:e===so.VERTICAL&&(h={x:t.x,y:v*t.x+m})}var g=Qy(h,u,c);if(g){var x=vu(h.x,h.y,t.x,t.y);x<i&&(i=x,o=h)}}),o},Gpe=function(t){var e=ap(t,["id","type","x","y","text","label","properties","virtual","rotate","resizable","rotatable"]);return e},DM=function(t,e,n,r){var i=t.x,o=t.y;return e.x>t.x?i=t.x+n/2:e.x<t.x&&(i=t.x-n/2),e.y>t.y?o=t.y+r/2:e.y<t.y&&(o=t.y-r/2),{x:i,y:o}},GB=function(t){var e=t.rows,n=t.style,r=t.rowsLength,i=t.className,o=document.createElement("div");o.className=i,o.style.fontSize="".concat(n.fontSize),o.style.width="".concat(n.width),o.style.lineHeight="".concat(n.lineHeight),o.style.padding="".concat(n.padding),n.fontFamily&&(o.style.fontFamily="".concat(n.fontFamily)),r>1?e.forEach(function(s){var l=document.createElement("div");l.textContent=s,o.appendChild(l)}):o.textContent=e[0],document.body.appendChild(o);var a=o.clientHeight;return document.body.removeChild(o),a},LM=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,i=0;return e&&e.forEach(function(o){var a=BB(o);i=a>i?a:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},fS=function(t){return typeof t!="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t};let Sx;const Wpe=new Uint8Array(16);function Vpe(){if(!Sx&&(Sx=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sx(Wpe)}const xa=[];for(let t=0;t<256;++t)xa.push((t+256).toString(16).slice(1));function Xpe(t,e=0){return xa[t[e+0]]+xa[t[e+1]]+xa[t[e+2]]+xa[t[e+3]]+"-"+xa[t[e+4]]+xa[t[e+5]]+"-"+xa[t[e+6]]+xa[t[e+7]]+"-"+xa[t[e+8]]+xa[t[e+9]]+"-"+xa[t[e+10]]+xa[t[e+11]]+xa[t[e+12]]+xa[t[e+13]]+xa[t[e+14]]+xa[t[e+15]]}const Kpe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kM={randomUUID:Kpe};function Ype(t,e,n){if(kM.randomUUID&&!e&&!t)return kM.randomUUID();t=t||{};const r=t.random||(t.rng||Vpe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Xpe(r)}var Bf=function(){return Ype()},py=new Map,WB=function(t){var e=Bf();function n(){t();var i=py.get(e);if(i){var o=window.requestAnimationFrame(n);py.set(e,o)}}var r=window.requestAnimationFrame(n);return py.set(e,r),e},hS=function(t){var e=py.get(t);e&&(window.cancelAnimationFrame(e),py.delete(t))},nb=function(){return nb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nb.apply(this,arguments)},qpe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function VB(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.value,a=t.fontSize,s=a===void 0?12:a,l=t.fill,u=l===void 0?"currentColor":l,c=t.overflowMode,d=c===void 0?"default":c,f=t.textWidth,h=f===void 0?void 0:f,v=t.model,m={x:n,y:i,fill:u,fontSize:s,textAnchor:"middle",dominantBaseline:"central"};if(Ai(gc(t),function(C){var O=qpe(C,2),T=O[0],N=O[1];typeof N!="object"&&(m[T]=N)}),o){var g=String(o).split(/[\r\n]/g),x=g.length;if(d!=="default"){var _=v.BaseType,w=v.modelType;if(_===bo.NODE&&w!==Vr.TEXT_NODE||_===bo.EDGE&&h)return Zpe(t)}if(x>1){var S=g.map(function(C,O){var T=s+2,N=(O-(x-1)/2)*T;return Ct("tspan",{className:"lf-text-tspan",x:n,y:i+N,children:C})});return Ct("text",nb({},m,{children:S}))}return Ct("text",nb({},m,{children:o}))}return null}function Zpe(t){var e=t.x,n=t.y,r=t.value,i=t.model,o=t.textWidth,a=t.fontSize,s=a===void 0?12:a,l=t.lineHeight,u=t.fontFamily,c=u===void 0?"":u,d=t.wrapPadding,f=d===void 0?"0, 0":d,h=t.overflowMode,v=i.width,m=i.height,g=i.textHeight,x=o||v,_=String(r).split(/[\r\n]/g),w=_.length,S=GB({rows:_,style:{fontSize:"".concat(s,"px"),width:"".concat(x,"px"),fontFamily:c,lineHeight:l,padding:f},rowsLength:w,className:"lf-get-text-height"}),C=m>S?m:S;g&&(C=g);var O=h==="ellipsis";return O&&(C=s+2),Ct("g",{children:Ct("foreignObject",{width:x,height:C,x:e-x/2,y:n-C/2,style:{overflow:"visible",textAlign:"left"},children:Ct("div",{className:"lf-node-text-auto-wrap",style:{minHeight:C,width:x,padding:f},children:Ct("div",{className:O?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:O?_.join(""):"",style:nb({},t),children:_.map(function(T){return Ct("div",{className:"lf-node-text--auto-wrap-inner",children:T})})})})})})}var aR=function(){return aR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},aR.apply(this,arguments)},Jpe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function Fm(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Ai(gc(t),function(n){var r=Jpe(n,2),i=r[0],o=r[1];(i==="style"||typeof o!="object")&&(e[i]=o)}),Ct("line",aR({},e))}var sR=function(){return sR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sR.apply(this,arguments)},Qpe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function Ol(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.className,a=t.strokeWidth,s=t.radius,l=s===void 0?0:s,u=e-r/2,c=n-i/2,d={};return d["stroke-width"]=a,Ai(gc(t),function(f){var h=Qpe(f,2),v=h[0],m=h[1];typeof m!="object"&&(d[v]=m)}),o?d.className="lf-basic-shape ".concat(o):d.className="lf-basic-shape",l&&(d.rx=l,d.ry=l),d.x=u,d.y=c,Ct("rect",sR({},d))}var lR=function(){return lR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lR.apply(this,arguments)},eve=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function rb(t){var e={d:""};return Ai(gc(t),function(n){var r=eve(n,2),i=r[0],o=r[1];(i==="style"||typeof o!="object")&&(e[i]=o)}),Ct("path",lR({},e))}var uR=function(){return uR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},uR.apply(this,arguments)},tve=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function jm(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.r,a=o===void 0?4:o,s=t.className,l={cx:n,cy:i,r:a,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1};return Ai(gc(t),function(u){var c=tve(u,2),d=c[0],f=c[1];typeof f!="object"&&(l[d]=f)}),s?l.className="lf-basic-shape ".concat(s):l.className="lf-basic-shape",Ct("circle",uR({},l))}var cR=function(){return cR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},cR.apply(this,arguments)},nve=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function rve(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.rx,a=o===void 0?4:o,s=t.ry,l=s===void 0?4:s,u=t.className,c={cx:n,cy:i,rx:a,ry:l,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1};return Ai(gc(t),function(d){var f=nve(d,2),h=f[0],v=f[1];typeof v!="object"&&(c[h]=v)}),u?c.className="lf-basic-shape ".concat(u):c.className="lf-basic-shape",Ct("ellipse",cR({},c))}var dR=function(){return dR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},dR.apply(this,arguments)},ive=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function GA(t){var e=t.points,n=e===void 0?[]:e,r=t.className,i={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Ai(gc(t),function(o){var a=ive(o,2),s=a[0],l=a[1];typeof l!="object"&&(i[s]=l)}),r?i.classNmae="lf-basic-shape ".concat(r):i.className="lf-basic-shape",i.points=n.map(function(o){return o.join(",")}).join(" "),Ct("polygon",dR({},i))}var fR=function(){return fR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fR.apply(this,arguments)},ove=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function ave(t){var e=t.className,n={points:"",fill:"none"};return Ai(gc(t),function(r){var i=ove(r,2),o=i[0],a=i[1];(o==="style"||typeof a!="object")&&(n[o]=a)}),e&&(n.className="".concat(e)),Ct("polyline",fR({},n))}var XB=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ib=function(){return ib=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ib.apply(this,arguments)},sve=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},lve=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Ui;(function(t){t[t.LEFT_TOP=0]="LEFT_TOP",t[t.RIGHT_TOP=1]="RIGHT_TOP",t[t.RIGHT_BOTTOM=2]="RIGHT_BOTTOM",t[t.LEFT_BOTTOM=3]="LEFT_BOTTOM"})(Ui||(Ui={}));var uve=function(t){XB(e,t);function e(n){var r=t.call(this)||this;r.updateEdgePointByAnchors=function(){var s=r.nodeModel,l=s.id,u=s.anchors,c=r.graphModel.getNodeEdges(l);Ai(c,function(d){if(d.sourceNodeId===l){var f=Xf(u,function(h){return h.id===d.sourceAnchorId});f&&d.updateStartPoint({x:f.x,y:f.y})}else if(d.targetNodeId===l){var f=Xf(u,function(v){return v.id===d.targetAnchorId});f&&d.updateEndPoint({x:f.x,y:f.y})}})},r.triggerResizeEvent=function(s,l,u,c,d,f){r.graphModel.eventCenter.emit(ir.NODE_RESIZE,{preData:s,data:l,deltaX:u,deltaY:c,index:d,model:f})},r.recalcResizeInfo=function(s,l,u,c,d){u===void 0&&(u=1),c===void 0&&(c=!1),d===void 0&&(d=!1);var f=Mr(l),h=f.deltaX,v=f.deltaY,m=f.width,g=f.height,x=f.PCTResizeInfo;if(x){var _=4,w=0,S=0;switch(s){case Ui.LEFT_TOP:S=(h*-1-v)/_;break;case Ui.RIGHT_TOP:S=(h-v)/_;break;case Ui.RIGHT_BOTTOM:S=(h+v)/_;break;case Ui.LEFT_BOTTOM:S=(h*-1+v)/_;break}S!==0&&(w=Math.round(S/x.ResizeBasis.basisHeight*1e5)/1e3),x.ResizePCT.widthPCT=Math.max(Math.min(x.ResizePCT.widthPCT+w,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit),x.ResizePCT.heightPCT=Math.max(Math.min(x.ResizePCT.heightPCT+w,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit);var C=Math.round(x.ResizePCT.widthPCT*x.ResizeBasis.basisWidth/100),O=Math.round(x.ResizePCT.heightPCT*x.ResizeBasis.basisHeight/100);switch(s){case Ui.LEFT_TOP:h=m-C,v=g-O;break;case Ui.RIGHT_TOP:h=C-m,v=g-O;break;case Ui.RIGHT_BOTTOM:h=C-m,v=O-g;break;case Ui.LEFT_BOTTOM:h=m-C,v=O-g;break}return f}switch(s){case Ui.LEFT_TOP:f.width=c?m:m-h*u,f.height=d?g:g-v*u;break;case Ui.RIGHT_TOP:f.width=c?m:m+h*u,f.height=d?g:g-v*u;break;case Ui.RIGHT_BOTTOM:f.width=c?m:m+h*u,f.height=d?g:g+v*u;break;case Ui.LEFT_BOTTOM:f.width=c?m:m-h*u,f.height=d?g:g+v*u;break}return f},r.resizeNode=function(s){var l=s.deltaX,u=s.deltaY,c=r.index,d=r.props,f=d.model,h=d.graphModel,v=d.x,m=d.y;KB({x:v,y:m,deltaX:l,deltaY:u,index:c,nodeModel:f,graphModel:h,cancelCallback:function(){r.dragHandler.cancelDrag()}})},r.onDragging=function(s){var l=s.deltaX,u=s.deltaY,c=r.graphModel.transformModel,d=lve(c.fixDeltaXY(l,u),2),f=d[0],h=d[1];r.resizeNode({deltaX:f,deltaY:h})},r.onDragEnd=function(){var s=r.nodeModel.x,l=r.nodeModel.y;r.nodeModel.moveTo(s,l),r.updateEdgePointByAnchors()};var i=n.index,o=n.model,a=n.graphModel;return r.index=i,r.nodeModel=o,r.graphModel=a,r.dragHandler=new Bl({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:a.gridSize}),r}return e.prototype.componentWillUnmount=function(){this.dragHandler.destroy()},e.prototype.render=function(){var n=this.props,r=n.x,i=n.y,o=n.direction,a=n.model,s=a.getResizeControlStyle(),l=s.width,u=s.height,c=sve(s,["width","height"]);return Ct("g",{className:"lf-resize-control lf-resize-control-".concat(o),children:[Ct(Ol,ib({className:"lf-resize-control-content",x:r,y:i,width:l??7,height:u??7},c)),Ct(Ol,{className:"lf-resize-control-content",x:r,y:i,width:25,height:25,fill:"transparent",stroke:"transparent",onMouseDown:this.dragHandler.handleMouseDown})]})},e}(ii),cve=function(t){XB(e,t);function e(){return t.call(this)||this}return e.prototype.getResizeControl=function(){var n=this.props,r=n.model,i=n.graphModel,o=Cs(r),a=o.minX,s=o.minY,l=o.maxX,u=o.maxY,c=[{index:Ui.LEFT_TOP,direction:"nw",x:a,y:s},{index:Ui.RIGHT_TOP,direction:"ne",x:l,y:s},{index:Ui.RIGHT_BOTTOM,direction:"se",x:l,y:u},{index:Ui.LEFT_BOTTOM,direction:"sw",x:a,y:u}];return rl(c,function(d){return Ct(uve,ib({},d,{model:r,graphModel:i}))})},e.prototype.getResizeOutline=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.getResizeOutlineStyle();return Ct(Ol,ib({},s,{x:r,y:i,width:o,height:a}))},e.prototype.render=function(){return Ct("g",{className:"lf-resize-control-group",children:[this.getResizeOutline(),this.getResizeControl()]})},e}(ii);function dve(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a={x:n+(i-n)/2,y:r+(o-r)/2};return a}function iy(t,e,n){var r=fve(n),i=t.x-e.x,o=t.y-e.y,a=i*Math.cos(r)-o*Math.sin(r)+e.x,s=i*Math.sin(r)+o*Math.cos(r)+e.y;return{x:a,y:s}}function fve(t){return t*Math.PI/180}function hve(t){return t/Math.PI*180}function pve(t,e,n,r,i,o,a,s,l){s===void 0&&(s=!1),l===void 0&&(l=!1);var u=e.deltaX,c=e.deltaY,d=e.width,f=e.height,h=hve(n),v={x:r,y:i},m={x:o,y:a},g=iy(v,m,h),x={x:g.x+u,y:g.y+c},_=yve(g,x,m,h,s,l,d,f),w=_.width,S=_.height,C=_.center;return e.width=w*t,e.height=S*t,e.deltaX=(C.x-m.x)*2,e.deltaY=(C.y-m.y)*2,e}var vve=function(t,e,n,r,i,o,a,s,l,u){n===void 0&&(n=1),r===void 0&&(r=!1),i===void 0&&(i=!1),o===void 0&&(o=0);var c=Mr(e),d=c.deltaX,f=c.deltaY,h=c.width,v=c.height,m=c.PCTResizeInfo;if(m){var g=4,x=0,_=0;switch(t){case Ui.LEFT_TOP:_=(d*-1-f)/g;break;case Ui.RIGHT_TOP:_=(d-f)/g;break;case Ui.RIGHT_BOTTOM:_=(d+f)/g;break;case Ui.LEFT_BOTTOM:_=(d*-1+f)/g;break}_!==0&&(x=Math.round(_/m.ResizeBasis.basisHeight*1e5)/1e3),m.ResizePCT.widthPCT=Math.max(Math.min(m.ResizePCT.widthPCT+x,m.ScaleLimit.maxScaleLimit),m.ScaleLimit.minScaleLimit),m.ResizePCT.heightPCT=Math.max(Math.min(m.ResizePCT.heightPCT+x,m.ScaleLimit.maxScaleLimit),m.ScaleLimit.minScaleLimit);var w=Math.round(m.ResizePCT.widthPCT*m.ResizeBasis.basisWidth/100),S=Math.round(m.ResizePCT.heightPCT*m.ResizeBasis.basisHeight/100);switch(t){case Ui.LEFT_TOP:d=h-w,f=v-S;break;case Ui.RIGHT_TOP:d=w-h,f=v-S;break;case Ui.RIGHT_BOTTOM:d=w-h,f=S-v;break;case Ui.LEFT_BOTTOM:d=h-w,f=S-v;break}return c}if(o%(2*Math.PI)!==0&&a!==void 0&&s!==void 0)return pve(n,c,o,a,s,l,u,r,i);switch(t){case Ui.LEFT_TOP:c.width=r?h:h-d*n,c.height=i?v:v-f*n;break;case Ui.RIGHT_TOP:c.width=r?h:h+d*n,c.height=i?v:v-f*n;break;case Ui.RIGHT_BOTTOM:c.width=r?h:h+d*n,c.height=i?v:v+f*n;break;case Ui.LEFT_BOTTOM:c.width=r?h:h-d*n,c.height=i?v:v+f*n;break}return c},mve=function(t,e){var n=t.id,r=t.anchors,i=e.getNodeEdges(n);Ai(i,function(o){if(o.sourceNodeId===n){var a=Xf(r,function(s){return s.id===o.sourceAnchorId});a&&o.updateStartPoint({x:a.x,y:a.y})}else if(o.targetNodeId===n){var a=Xf(r,function(l){return l.id===o.targetAnchorId});a&&o.updateEndPoint({x:a.x,y:a.y})}})},gve=function(t,e,n,r,i,o,a){a.eventCenter.emit(ir.NODE_RESIZE,{preData:t,data:e,deltaX:n,deltaY:r,index:i,model:o})},KB=function(t){var e=t.x,n=t.y,r=t.deltaX,i=t.deltaY,o=t.index,a=t.nodeModel,s=t.graphModel,l=t.cancelCallback,u=a.r,c=a.rx,d=a.ry,f=a.width,h=a.height,v=a.PCTResizeInfo,m=a.minWidth,g=a.minHeight,x=a.maxWidth,_=a.maxHeight,w=a.rotate,S=a.x,C=a.y,O=m===x,T=g===_,N={width:u||c||f,height:u||d||h,deltaX:r,deltaY:i,PCTResizeInfo:v},M=u||c&&d?1/2:1,D=e,F=n,j=vve(o,N,M,O,T,w,D,F,S,C);if(j.width<m||j.width>x||j.height<g||j.height>_){l==null||l();return}(w%(2*Math.PI)==0||v||D===void 0||F===void 0)&&(j.deltaX=O?0:j.deltaX,j.deltaY=T?0:j.deltaY);var R=a.getData(),I=a.resize(j);R.x===I.x&&R.y===I.y||(mve(a,s),gve(R,I,r,i,o,a,s))};function yve(t,e,n,r,i,o,a,s){i===void 0&&(i=!1),o===void 0&&(o=!1);var l={x:n.x-(t.x-n.x),y:n.y-(t.y-n.y)},u=dve(l,e),c=iy(e,u,-r),d=iy(l,u,-r);if(i){var f=Math.abs(c.x-d.x),h=f-a;u.x>c.x?u.x=u.x+h/2:u.x=u.x-h/2}if(o){var v=Math.abs(c.y-d.y),m=v-s;u.y>c.y?u.y=u.y+m/2:u.y=u.y-m/2}if(i||o){var g=iy(d,u,r),x=g.x-l.x,_=g.y-l.y;u.x=u.x-x,u.y=u.y-_,d=iy(l,u,-r),c={x:u.x-(d.x-u.x),y:u.y-(d.y-u.y)}}var w=Math.abs(c.x-d.x),S=Math.abs(c.y-d.y);return i&&(w=a),o&&(S=s),{width:w,height:S,center:u}}var bve=100,xve={x:1,y:0,z:0};function _ve(t,e,n,r,i){for(var o=function(h){if(h<0||h>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-h,3)+3*e.x*h*Math.pow(1-h,2)+3*n.x*Math.pow(h,2)*(1-h)+r.x*Math.pow(h,3),y:t.y*Math.pow(1-h,3)+3*e.y*h*Math.pow(1-h,2)+3*n.y*Math.pow(h,2)*(1-h)+r.y*Math.pow(h,3)}},a=0,s=2,l=r.x,u=r.y,c=r;a<i&&s<50;){c=o(1-s/bve);var d=c.x,f=c.y;a=vu(l,u,d,f),s++}return c}function Sve(t,e){return t.x*e.y-t.y*e.x}function wve(t,e){var n=[t.x,t.y,t.z],r=[e.x,e.y,e.z];return r.reduce(function(i,o,a){return i+o*n[a]})}function Eve(t,e){var n=Sve(t,e),r=Math.acos(wve($M(t),$M(e)));return n>=0?r:-r}function $M(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Cve(t){return Eve(xve,t)}function Tve(t){return t*(180/Math.PI)}var Rve={baseNode:{fill:"#fff",stroke:"#000",strokeWidth:2},baseEdge:{stroke:"#000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000",fill:"#fff",r:4,hover:{r:10,fill:"#949494",fillOpacity:.5,stroke:"#949494"}},anchorLine:{stroke:"#000",strokeWidth:2,strokeDasharray:"3,2"},nodeText:{color:"#000",overflowMode:"default",fontSize:12,lineHeight:1.2},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#fff"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",fillOpacity:1,stroke:"#949494"}},arrow:{offset:10,verticalLength:5},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#fff",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10,10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5},resizeControl:{width:7,height:7,fill:"#fff",stroke:"#000"},resizeOutline:{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},YB=function(t){var e=Mr(Rve);return t&&(e=Cu(e,t)),e},Pve=YB,Ave=1e3,Ove=999,WA=function(){return++Ave},Nve=function(){return--Ove},Bo=function(){return Bo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bo.apply(this,arguments)},mr=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},nE=function(){function t(e,n){var r;this.BaseType=bo.EDGE,this.id="",this.type="",this.sourceNodeId="",this.targetNodeId="",this.textMode=Ml.TEXT,this.text={value:"",x:0,y:0,draggable:!1,editable:!0},this.points="",this.pointsList=[],this.virtual=!1,this.isSelected=!1,this.isHovered=!1,this.isHitable=!0,this.isHittable=!0,this.draggable=!0,this.visible=!0,this.isAnimation=!1,this.isShowAdjustPoint=!1,this.zIndex=0,this.state=yi.DEFAULT,this.modelType=Vr.EDGE,this.customTextPosition=!1,this.style={},this.arrowConfig={markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")},this.graphModel=n,this.properties=(r=e.properties)!==null&&r!==void 0?r:{},this.initEdgeData(e),this.setAttributes()}return t.prototype.initEdgeData=function(e){if(e.properties||(e.properties={}),!e.id){var n=this.graphModel.idGenerator,r=n&&n(e.type),i=this.createId();e.id=i||r||Bf()}this.arrowConfig.markerEnd="url(#marker-end-".concat(e.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(e.id,")");var o=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=o,$i(this,Dpe(e));var a=this.graphModel.overlapMode;a===hu.INCREASE&&(this.zIndex=e.zIndex||WA()),this.setAnchors(),this.initPoints(),this.formatText(e)},t.prototype.setAttributes=function(){},t.prototype.createId=function(){return null},t.prototype.getEdgeStyle=function(){return Bo(Bo({},this.graphModel.theme.baseEdge),this.style)},t.prototype.getAdjustPointStyle=function(){return Bo({},this.graphModel.theme.edgeAdjust)},t.prototype.getTextStyle=function(){var e=this.graphModel.theme.edgeText;return Mr(e)},t.prototype.getEdgeAnimationStyle=function(){var e=this.graphModel.theme.edgeAnimation;return Mr(e)},t.prototype.getArrowStyle=function(){var e=this.getEdgeStyle(),n=this.getEdgeAnimationStyle(),r=this.graphModel.theme.arrow,i=this.isAnimation?n.stroke:e.stroke;return Bo(Bo(Bo({},e),{fill:i,stroke:i}),r)},t.prototype.getOutlineStyle=function(){var e=this.graphModel,n=e.theme.outline;return Mr(n)},t.prototype.getTextPosition=function(){return{x:0,y:0}},Object.defineProperty(t.prototype,"sourceNode",{get:function(){var e,n;return(n=(e=this.graphModel)===null||e===void 0?void 0:e.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetNode",{get:function(){var e,n;return(n=(e=this.graphModel)===null||e===void 0?void 0:e.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textPosition",{get:function(){return this.getTextPosition()},enumerable:!1,configurable:!0}),t.prototype.getBeginAnchor=function(e,n,r){var i,o,a=iR(e);if(r){if(i=Xf(a,function(s){return s.id===r}),i)return i;console.warn("未在节点上找到指定的起点锚点".concat(r,"，已使用默认锚点作为起点"))}return a.forEach(function(s){var l=AM(s,n);(o===void 0||l<o)&&(o=l,i=s)}),i},t.prototype.getEndAnchor=function(e,n){var r=this,i,o,a=iR(e);if(n){if(i=Xf(a,function(s){return s.id===n}),i)return i;console.warn("未在节点上找到指定的终点锚点".concat(n,"，已使用默认锚点作为终点"))}return a.forEach(function(s){if(r.startPoint){var l=AM(s,r.startPoint);(o===void 0||l<o)&&(o=l,i=s)}}),i},t.prototype.getProperties=function(){return uu(this.properties)},t.prototype.getData=function(){var e=this.properties;Lm(e)&&(e=uu(e));var n={id:this.id,type:this.type,properties:e,sourceNodeId:this.sourceNodeId,targetNodeId:this.targetNodeId,startPoint:$i({},this.startPoint),endPoint:$i({},this.endPoint)};this.graphModel.overlapMode===hu.INCREASE&&(n.zIndex=this.zIndex);var r=this.text,i=r.x,o=r.y,a=r.value;return a&&(n.text={x:i,y:o,value:a}),n},t.prototype.getHistoryData=function(){return this.getData()},t.prototype.setProperty=function(e,n){$A(this.properties,e,ja(n)),this.setAttributes()},t.prototype.deleteProperty=function(e){delete this.properties[e],this.setAttributes()},t.prototype.setProperties=function(e){this.properties=Bo(Bo({},uu(this.properties)),ja(e)),this.setAttributes()},t.prototype.changeEdgeId=function(e){var n=this.arrowConfig,r=n.markerEnd,i=n.markerStart;i&&i==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(e,")")),r&&r==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(e,")")),this.id=e},t.prototype.setStyle=function(e,n){var r;this.style=Bo(Bo({},this.style),(r={},r[e]=ja(n),r))},t.prototype.setStyles=function(e){this.style=Bo(Bo({},this.style),ja(e))},t.prototype.updateStyles=function(e){this.style=Bo({},ja(e))},t.prototype.setTextMode=function(e){this.textMode=e},t.prototype.formatText=function(e){var n,r,i,o=this.textPosition,a=o.x,s=o.y,l=e.text,u={value:"",x:a,y:s,draggable:!1,editable:!0};l&&(typeof l=="string"?u=Bo(Bo({},u),{value:l}):(u=Bo(Bo({},u),{x:(n=l.x)!==null&&n!==void 0?n:a,y:(r=l.y)!==null&&r!==void 0?r:s,value:(i=l.value)!==null&&i!==void 0?i:""}),yp(l.draggable)||(u.draggable=l.draggable),yp(l.editable)||(u.editable=l.editable))),this.text=u},t.prototype.resetTextPosition=function(){var e=this.textPosition,n=e.x,r=e.y;this.text.x=n,this.text.y=r},t.prototype.moveText=function(e,n){var r=this.text,i=r.x,o=r.y,a=r.value,s=r.draggable,l=r.editable;this.text={value:a,editable:l,draggable:s,x:i+e,y:o+n}},t.prototype.setText=function(e){e&&$i(this.text,e)},t.prototype.updateText=function(e){this.text=Bo(Bo({},uu(this.text)),{value:e})},t.prototype.setAnchors=function(){if(!this.sourceAnchorId||!this.startPoint){var e=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!e)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:e.x,y:e.y}),this.sourceAnchorId||(this.sourceAnchorId=e.id)}if(!this.targetAnchorId||!this.endPoint){var e=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!e)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:e.x,y:e.y}),this.targetAnchorId||(this.targetAnchorId=e.id)}},t.prototype.setSelected=function(e){e===void 0&&(e=!0),this.isSelected=e},t.prototype.setHovered=function(e){e===void 0&&(e=!0),this.isHovered=e},t.prototype.setHitable=function(e){e===void 0&&(e=!0),this.isHitable=e},t.prototype.setHittable=function(e){e===void 0&&(e=!0),this.isHittable=e},t.prototype.openEdgeAnimation=function(){this.isAnimation=!0},t.prototype.closeEdgeAnimation=function(){this.isAnimation=!1},t.prototype.setElementState=function(e,n){this.state=e,this.additionStateData=n},t.prototype.updateStartPoint=function(e){this.startPoint=e},t.prototype.moveStartPoint=function(e,n){this.startPoint&&(this.startPoint.x+=e,this.startPoint.y+=n)},t.prototype.updateEndPoint=function(e){this.endPoint=e},t.prototype.moveEndPoint=function(e,n){this.endPoint&&(this.endPoint.x+=e,this.endPoint.y+=n)},t.prototype.setZIndex=function(e){e===void 0&&(e=0),this.zIndex=e},t.prototype.initPoints=function(){},t.prototype.updateAttributes=function(e){$i(this,e)},t.prototype.getAdjustStart=function(){return this.startPoint},t.prototype.getAdjustEnd=function(){return this.endPoint},t.prototype.updateAfterAdjustStartAndEnd=function(e){var n=e.startPoint,r=e.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:r.x,y:r.y})},t.BaseType=bo.EDGE,mr([Mt],t.prototype,"type",void 0),mr([Mt],t.prototype,"sourceNodeId",void 0),mr([Mt],t.prototype,"targetNodeId",void 0),mr([Mt],t.prototype,"startPoint",void 0),mr([Mt],t.prototype,"endPoint",void 0),mr([Mt],t.prototype,"textMode",void 0),mr([Mt],t.prototype,"text",void 0),mr([Mt],t.prototype,"properties",void 0),mr([Mt],t.prototype,"points",void 0),mr([Mt],t.prototype,"pointsList",void 0),mr([Mt],t.prototype,"isSelected",void 0),mr([Mt],t.prototype,"isHovered",void 0),mr([Mt],t.prototype,"isHitable",void 0),mr([Mt],t.prototype,"isHittable",void 0),mr([Mt],t.prototype,"draggable",void 0),mr([Mt],t.prototype,"visible",void 0),mr([Mt],t.prototype,"isAnimation",void 0),mr([Mt],t.prototype,"isShowAdjustPoint",void 0),mr([Mt],t.prototype,"zIndex",void 0),mr([Mt],t.prototype,"state",void 0),mr([Mt],t.prototype,"style",void 0),mr([Mt],t.prototype,"arrowConfig",void 0),mr([Yi],t.prototype,"sourceNode",null),mr([Yi],t.prototype,"targetNode",null),mr([Yi],t.prototype,"textPosition",null),mr([Pt],t.prototype,"setProperty",null),mr([Pt],t.prototype,"deleteProperty",null),mr([Pt],t.prototype,"setProperties",null),mr([Pt],t.prototype,"changeEdgeId",null),mr([Pt],t.prototype,"setStyle",null),mr([Pt],t.prototype,"setStyles",null),mr([Pt],t.prototype,"updateStyles",null),mr([Pt],t.prototype,"setTextMode",null),mr([Pt],t.prototype,"formatText",null),mr([Pt],t.prototype,"resetTextPosition",null),mr([Pt],t.prototype,"moveText",null),mr([Pt],t.prototype,"setText",null),mr([Pt],t.prototype,"updateText",null),mr([Pt],t.prototype,"setAnchors",null),mr([Pt],t.prototype,"setSelected",null),mr([Pt],t.prototype,"setHovered",null),mr([Pt],t.prototype,"setHitable",null),mr([Pt],t.prototype,"setHittable",null),mr([Pt],t.prototype,"openEdgeAnimation",null),mr([Pt],t.prototype,"closeEdgeAnimation",null),mr([Pt],t.prototype,"setElementState",null),mr([Pt],t.prototype,"updateStartPoint",null),mr([Pt],t.prototype,"moveStartPoint",null),mr([Pt],t.prototype,"updateEndPoint",null),mr([Pt],t.prototype,"moveEndPoint",null),mr([Pt],t.prototype,"setZIndex",null),mr([Pt],t.prototype,"initPoints",null),mr([Pt],t.prototype,"updateAttributes",null),mr([Pt],t.prototype,"getAdjustStart",null),mr([Pt],t.prototype,"getAdjustEnd",null),mr([Pt],t.prototype,"updateAfterAdjustStartAndEnd",null),t}(),Mve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qh=function(){return Qh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qh.apply(this,arguments)},ru=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},i2=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},FM=function(t){Mve(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.modelType=Vr.BEZIER_EDGE,i.path="",i.initEdgeData(n),i.setAttributes(),i}return e.prototype.initEdgeData=function(n){this.offset=100,t.prototype.initEdgeData.call(this,n)},e.prototype.getEdgeStyle=function(){var n=this.graphModel.theme.bezier,r=t.prototype.getEdgeStyle.call(this),i=this.properties.style,o=i===void 0?{}:i;return Qh(Qh(Qh({},r),Mr(n)),Mr(o))},e.prototype.getTextPosition=function(){if(this.pointsList&&this.pointsList.length>0){var n=0,r=0;return this.pointsList.forEach(function(i){var o=i.x,a=i.y;n+=o,r+=a}),{x:n/this.pointsList.length,y:r/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}},e.prototype.getData=function(){var n=t.prototype.getData.call(this),r=this.pointsList.map(function(i){var o=i.x,a=i.y;return{x:o,y:a}});return Qh(Qh({},n),{pointsList:r})},e.prototype.getControls=function(){var n=this.startPoint,r=this.endPoint,i=RM({start:n,end:r,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return i},e.prototype.getPath=function(n){var r=i2(n,4),i=r[0],o=r[1],a=r[2],s=r[3];return"M ".concat(i.x," ").concat(i.y,`
    C `).concat(o.x," ").concat(o.y,`,
    `).concat(a.x," ").concat(a.y,`,
    `).concat(s.x," ").concat(s.y)},e.prototype.initPoints=function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()},e.prototype.updatePoints=function(){var n=this.getControls(),r=n.sNext,i=n.ePre;this.updatePath(r,i)},e.prototype.updatePath=function(n,r){n=Mr(n),r=Mr(r);var i={x:this.startPoint.x,y:this.startPoint.y},o={x:this.endPoint.x,y:this.endPoint.y};if(!n||!r){var a=this.getControls();n=a.sNext,r=a.ePre}this.pointsList=[i,n,r,o],this.path=this.getPath(this.pointsList)},e.prototype.updateStartPoint=function(n){this.startPoint=Object.assign({},n),this.updatePoints()},e.prototype.updateEndPoint=function(n){this.endPoint=Object.assign({},n),this.updatePoints()},e.prototype.moveStartPoint=function(n,r){this.startPoint.x+=n,this.startPoint.y+=r;var i=i2(this.pointsList,3),o=i[1],a=i[2];o.x+=n,o.y+=r,this.updatePath(o,a)},e.prototype.moveEndPoint=function(n,r){this.endPoint.x+=n,this.endPoint.y+=r;var i=i2(this.pointsList,3),o=i[1],a=i[2];a.x+=n,a.y+=r,this.updatePath(o,a)},e.prototype.updateAdjustAnchor=function(n,r){var i;r==="sNext"?this.pointsList[1]=n:r==="ePre"&&(this.pointsList[2]=n),this.path=this.getPath(this.pointsList),!((i=this.text)===null||i===void 0)&&i.value&&this.setText($i({},this.text,this.textPosition))},e.prototype.getAdjustStart=function(){return this.pointsList[0]||this.startPoint},e.prototype.getAdjustEnd=function(){var n=this.pointsList;return n[n.length-1]||this.endPoint},e.prototype.updateAfterAdjustStartAndEnd=function(n){var r=n.startPoint,i=n.endPoint,o=n.sourceNode,a=n.targetNode,s=RM({start:r,end:i,sourceNode:o,targetNode:a,offset:this.offset}),l=s.sNext,u=s.ePre;this.pointsList=[r,l,u,i],this.initPoints()},ru([Mt],e.prototype,"path",void 0),ru([Pt],e.prototype,"initPoints",null),ru([Pt],e.prototype,"updatePoints",null),ru([Pt],e.prototype,"updateStartPoint",null),ru([Pt],e.prototype,"updateEndPoint",null),ru([Pt],e.prototype,"moveStartPoint",null),ru([Pt],e.prototype,"moveEndPoint",null),ru([Pt],e.prototype,"updateAdjustAnchor",null),ru([Pt],e.prototype,"getAdjustStart",null),ru([Pt],e.prototype,"getAdjustEnd",null),ru([Pt],e.prototype,"updateAfterAdjustStartAndEnd",null),e}(nE),Ive=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vy=function(){return vy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vy.apply(this,arguments)},jM=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Dve=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},BM=function(t){Ive(e,t);function e(){var n=t.apply(this,Dve([],jM(arguments),!1))||this;return n.modelType=Vr.LINE_EDGE,n}return e.prototype.getEdgeStyle=function(){var n=this.graphModel.theme.line,r=t.prototype.getEdgeStyle.call(this),i=this.properties.style,o=i===void 0?{}:i;return vy(vy(vy({},r),Mr(n)),Mr(o))},e.prototype.initEdgeData=function(n){t.prototype.initEdgeData.call(this,n),this.points=this.getPath([this.startPoint,this.endPoint])},e.prototype.getPath=function(n){var r=jM(n,2),i=r[0],o=r[1];return"".concat(i.x,",").concat(i.y," ").concat(o.x,",").concat(o.y)},e.prototype.getTextPosition=function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}},e}(nE),Lve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),my=function(){return my=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},my.apply(this,arguments)},La=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},zM=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},kve=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Bm=function(t){Lve(e,t);function e(){var n=t.apply(this,kve([],zM(arguments),!1))||this;return n.modelType=Vr.POLYLINE_EDGE,n.draggingPointList=[],n}return e.prototype.initEdgeData=function(n){this.offset=30,t.prototype.initEdgeData.call(this,n)},e.prototype.getEdgeStyle=function(){var n=this.graphModel.theme.polyline,r=t.prototype.getEdgeStyle.call(this),i=this.properties.style,o=i===void 0?{}:i;return my(my(my({},r),Mr(n)),Mr(o))},e.prototype.getTextPosition=function(){var n,r=(n=this.text)===null||n===void 0?void 0:n.value;if(this.dbClickPosition&&!r){var i=this.dbClickPosition,o=i.x,a=i.y;return{x:o,y:a}}var s=Sp(this.points),l=zM(Npe(s),2),u=l[0],c=l[1];return{x:(u.x+c.x)/2,y:(u.y+c.y)/2}},e.prototype.getAfterAnchor=function(n,r,i){var o,a;return i.forEach(function(s){var l;n===so.HORIZONTAL?l=Math.abs(r.y-s.y):n===so.VERTICAL&&(l=Math.abs(r.x-s.x)),(!a||a>l)&&(a=l,o=s)}),o},e.prototype.getCrossPoint=function(n,r,i){var o;return n===so.HORIZONTAL?o={x:i.x,y:r.y}:n===so.VERTICAL&&(o={x:r.x,y:i.y}),o},e.prototype.removeCrossPoints=function(n,r,i){var o=i.map(function(x){return x});if(n===1){var a=o[n],s=o[r],l=o[n-1],u=wM(l,a,this.sourceNode);if(u){var c=EM(a,s,this.sourceNode);if(c){var d=CM(a,s,this.sourceNode);d&&(o[n]=d,o.splice(n-1,1),n--,r--)}}else{var f=this.sourceNode.anchors;f.forEach(function(x){if(x.x===l.x&&x.x===a.x||x.y===l.y&&x.y===a.y){var _=vu(x.x,x.y,a.x,a.y),w=vu(l.x,l.y,a.x,a.y);_<w&&(o[n-1]=x)}})}}if(r===i.length-2){var h=o[n],v=o[r],m=o[r+1],g=wM(v,m,this.targetNode);if(g){var c=EM(h,v,this.targetNode);if(c){var d=CM(h,v,this.targetNode);d&&(o[r]=d,o.splice(r+1,1))}}else{var f=this.targetNode.anchors;f.forEach(function(_){if(_.x===m.x&&_.x===v.x||_.y===m.y&&_.y===v.y){var w=vu(_.x,_.y,v.x,v.y),S=vu(m.x,m.y,v.x,v.y);w<S&&(o[r+1]=_)}})}}return o},e.prototype.getDraggingPoints=function(n,r,i,o,a){var s=a.map(function(c){return c}),l=this.getAfterAnchor(n,i,o),u=this.getCrossPoint(n,i,l);return r==="start"?(s.unshift(u),s.unshift(l)):(s.push(u),s.push(l)),s},e.prototype.updateCrossPoints=function(n){var r=n.map(function(_){return _}),i=n[0],o=n[1],a=n[r.length-2],s=n[r.length-1],l=this,u=l.sourceNode,c=l.targetNode,d=u.modelType,f=c.modelType,h=uS(i,o),v=r[0];switch(d){case Vr.RECT_NODE:if(u.radius!==0){var m=MM(i,u);m||(v=NM(i,h,u))}break;case Vr.CIRCLE_NODE:v=oR(i,h,u);break;case Vr.ELLIPSE_NODE:v=IM(i,h,u);break;case Vr.DIAMOND_NODE:v=_x(i,h,u);break;case Vr.POLYGON_NODE:v=_x(i,h,u);break}v&&(r[0]=v);var g=uS(a,s),x=r[r.length-1];switch(f){case Vr.RECT_NODE:if(c.radius!==0){var m=MM(s,c);m||(x=NM(s,g,c))}break;case Vr.CIRCLE_NODE:x=oR(s,g,c);break;case Vr.ELLIPSE_NODE:x=IM(s,g,c);break;case Vr.DIAMOND_NODE:x=_x(s,g,c);break;case Vr.POLYGON_NODE:x=_x(s,g,c);break}return x&&(r[r.length-1]=x),r},e.prototype.getData=function(){var n=t.prototype.getData.call(this),r=this.pointsList.map(function(i){var o=i.x,a=i.y;return{x:o,y:a}});return Object.assign({},n,{pointsList:r})},e.prototype.getPath=function(n){return n.map(function(r){return"".concat(r.x,",").concat(r.y)}).join(" ")},e.prototype.initPoints=function(){this.pointsList.length>0?this.points=this.getPath(this.pointsList):this.updatePoints()},e.prototype.updatePoints=function(){var n=SM({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=n,this.points=n.map(function(r){return"".concat(r.x,",").concat(r.y)}).join(" ")},e.prototype.updateStartPoint=function(n){this.startPoint=Object.assign({},n),this.updatePoints()},e.prototype.moveStartPoint=function(n,r){this.startPoint.x+=n,this.startPoint.y+=r,this.updatePoints()},e.prototype.updateEndPoint=function(n){this.endPoint=Object.assign({},n),this.updatePoints()},e.prototype.moveEndPoint=function(n,r){this.endPoint.x+=n,this.endPoint.y+=r,this.updatePoints()},e.prototype.updatePointsList=function(n,r){this.pointsList.forEach(function(a){a.x+=n,a.y+=r});var i=this.pointsList[0];this.startPoint=Object.assign({},i);var o=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},o),this.initPoints()},e.prototype.dragAppendStart=function(){this.draggingPointList=this.pointsList.map(function(n){return n})},e.prototype.dragAppendSimple=function(n,r){var i;this.isDragging=!0;var o=n.start,a=n.end,s=n.startIndex,l=n.endIndex,u=n.direction,c=this.pointsList,d=c;return u===so.HORIZONTAL?(c[s]={x:o.x,y:o.y+r.y},c[l]={x:a.x,y:a.y+r.y},d=this.pointsList.map(function(f){return f})):u===so.VERTICAL&&(c[s]={x:o.x+r.x,y:o.y},c[l]={x:a.x+r.x,y:a.y},d=this.pointsList.map(function(f){return f})),this.updatePointsAfterDrag(d),this.draggingPointList=d,!((i=this.text)===null||i===void 0)&&i.value&&this.setText($i({},this.text,this.textPosition)),{start:$i({},c[s]),end:$i({},c[l]),startIndex:s,endIndex:l,direction:u}},e.prototype.dragAppend=function(n,r){var i;this.isDragging=!0;var o=n.start,a=n.end,s=n.startIndex,l=n.endIndex,u=n.direction,c=this.pointsList;if(u===so.HORIZONTAL){c[s]={x:o.x,y:o.y+r.y},c[l]={x:a.x,y:a.y+r.y};var d=this.pointsList.map(function(g){return g});if(s!==0&&l!==this.pointsList.length-1&&(d=this.removeCrossPoints(s,l,d)),s===0){var f={x:o.x,y:o.y+r.y},h=kf(f,this.sourceNode);if(!h){var v=this.sourceNode.anchors;d=this.getDraggingPoints(u,"start",f,v,d)}}if(l===this.pointsList.length-1){var m={x:a.x,y:a.y+r.y},h=kf(m,this.targetNode);if(!h){var v=this.targetNode.anchors;d=this.getDraggingPoints(u,"end",m,v,d)}}this.updatePointsAfterDrag(d),this.draggingPointList=d}else if(u===so.VERTICAL){c[s]={x:o.x+r.x,y:o.y},c[l]={x:a.x+r.x,y:a.y};var d=this.pointsList.map(function(x){return x});if(s!==0&&l!==this.pointsList.length-1&&(d=this.removeCrossPoints(s,l,d)),s===0){var f={x:o.x+r.x,y:o.y},h=kf(f,this.sourceNode);if(!h){var v=this.sourceNode.anchors;d=this.getDraggingPoints(u,"start",f,v,d)}}if(l===this.pointsList.length-1){var m={x:a.x+r.x,y:a.y},h=kf(m,this.targetNode);if(!h){var v=this.targetNode.anchors;d=this.getDraggingPoints(u,"end",m,v,d)}}this.updatePointsAfterDrag(d),this.draggingPointList=d}return!((i=this.text)===null||i===void 0)&&i.value&&this.setText($i({},this.text,this.textPosition)),{start:$i({},c[s]),end:$i({},c[l]),startIndex:s,endIndex:l,direction:u}},e.prototype.dragAppendEnd=function(){if(this.draggingPointList){var n=lS(Sp(this.points));this.pointsList=n.map(function(o){return o}),this.draggingPointList=[];var r=n[0];this.startPoint=$i({},r);var i=n[n.length-1];this.endPoint=$i({},i)}this.isDragging=!1},e.prototype.updatePointsAfterDrag=function(n){var r=this.updateCrossPoints(n);this.points=r.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" ")},e.prototype.getAdjustStart=function(){return this.pointsList[0]||this.startPoint},e.prototype.getAdjustEnd=function(){var n=this.pointsList;return n[n.length-1]||this.endPoint},e.prototype.updateAfterAdjustStartAndEnd=function(n){var r=n.startPoint,i=n.endPoint,o=n.sourceNode,a=n.targetNode;this.pointsList=SM({x:r.x,y:r.y},{x:i.x,y:i.y},o,a,this.offset||0),this.initPoints()},La([Mt],e.prototype,"dbClickPosition",void 0),La([Pt],e.prototype,"initPoints",null),La([Pt],e.prototype,"updatePoints",null),La([Pt],e.prototype,"updateStartPoint",null),La([Pt],e.prototype,"moveStartPoint",null),La([Pt],e.prototype,"updateEndPoint",null),La([Pt],e.prototype,"moveEndPoint",null),La([Pt],e.prototype,"updatePointsList",null),La([Pt],e.prototype,"dragAppendStart",null),La([Pt],e.prototype,"dragAppendSimple",null),La([Pt],e.prototype,"dragAppend",null),La([Pt],e.prototype,"dragAppendEnd",null),La([Pt],e.prototype,"updatePointsAfterDrag",null),La([Pt],e.prototype,"getAdjustStart",null),La([Pt],e.prototype,"getAdjustEnd",null),La([Pt],e.prototype,"updateAfterAdjustStartAndEnd",null),e}(nE),na=function(){return na=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},na.apply(this,arguments)},Cr=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},HM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$ve=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},lh=function(){function t(e,n){var r;this.BaseType=bo.NODE,this.id="",this.type="",this.x=0,this.y=0,this.textMode=Ml.TEXT,this.text={value:"",x:0,y:0,draggable:!1,editable:!0},this._width=100,this._height=80,this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.anchorsOffset=[],this.virtual=!1,this.isSelected=!1,this.isHovered=!1,this.isShowAnchor=!1,this.isDragging=!1,this.isHitable=!0,this.isHittable=!0,this.draggable=!0,this.visible=!0,this.rotatable=!0,this.resizable=!0,this.zIndex=1,this.state=yi.DEFAULT,this.autoToFront=!0,this.style={},this._rotate=0,this.modelType=Vr.NODE,this.additionStateData={},this.targetRules=[],this.sourceRules=[],this.moveRules=[],this.resizeRules=[],this.hasSetTargetRules=!1,this.hasSetSourceRules=!1,this.graphModel=n,this.properties=(r=e.properties)!==null&&r!==void 0?r:{},this.initNodeData(e),this.setAttributes()}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e;var n=this,r=n.x,i=r===void 0?0:r,o=n.y,a=o===void 0?0:o;this.transform=new tE(-i,-a).rotate(e).translate(i,a).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"incoming",{get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outgoing",{get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}},enumerable:!1,configurable:!0}),t.prototype.initNodeData=function(e){if(e.properties||(e.properties={}),!e.id){var n=this.graphModel.idGenerator,r=n&&n(e.type),i=this.createId();e.id=i||r||Bf()}this.formatText(e),$i(this,Gpe(e));var o=this.graphModel.overlapMode;o===hu.INCREASE&&(this.zIndex=e.zIndex||WA())},t.prototype.setAttributes=function(){},t.prototype.createId=function(){return null},t.prototype.setTextMode=function(e){this.textMode=e},t.prototype.formatText=function(e){var n,r,i,o=e.x,a=e.y,s=e.text,l={value:"",x:o,y:a,draggable:!1,editable:!0};s&&(typeof s=="string"?l.value=s:(l=na(na({},l),{x:(n=s.x)!==null&&n!==void 0?n:o,y:(r=s.y)!==null&&r!==void 0?r:a,value:(i=s.value)!==null&&i!==void 0?i:""}),yp(s.draggable)||(l.draggable=s.draggable),yp(s.editable)||(l.editable=s.editable))),e.text=l},t.prototype.resize=function(e){var n=e.width,r=e.height,i=e.deltaX,o=e.deltaY,a=this.isAllowResizeNode(i,o,n,r);return a?(this.move(i/2,o/2),this.width=n,this.height=r,this.setProperties({width:n,height:r}),this.getData()):this.getData()},t.prototype.proportionalResize=function(){},t.prototype.getData=function(){var e=this.text,n=e.x,r=e.y,i=e.value,o=this.properties;Lm(o)&&(o=uu(o)),lp(o.width)&&(o.width=this.width),lp(o.height)&&(o.height=this.height);var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:o};return this.rotate&&(a.rotate=this.rotate),this.graphModel.overlapMode===hu.INCREASE&&(a.zIndex=this.zIndex),i&&(a.text={x:n,y:r,value:i}),a},t.prototype.getHistoryData=function(){return this.getData()},t.prototype.getProperties=function(){return uu(this.properties)},t.prototype.getOuterGAttributes=function(){return{className:""}},t.prototype.getNodeStyle=function(){return na(na({},this.graphModel.theme.baseNode),this.style)},t.prototype.getTextStyle=function(){var e=this.graphModel.theme.nodeText,n=this.properties.textStyle,r=n===void 0?{}:n;return na(na({},Mr(e)),Mr(r))},t.prototype.getRotateControlStyle=function(){var e=this.graphModel.theme.rotateControl;return Mr(e)},t.prototype.getResizeControlStyle=function(){var e=this.graphModel.theme.resizeControl;return Mr(e)},t.prototype.getResizeOutlineStyle=function(){var e=this.graphModel.theme.resizeOutline;return Mr(e)},t.prototype.getAnchorStyle=function(e){var n=this.graphModel.theme.anchor;return Mr(n)},t.prototype.getAnchorLineStyle=function(e){var n=this.graphModel.theme.anchorLine;return Mr(n)},t.prototype.getOutlineStyle=function(){var e=this.graphModel.theme.outline;return Mr(e)},t.prototype.isAllowConnectedAsSource=function(e,n,r,i){var o=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var a=!0,s="",l=0;l<o.length;l++){var u=o[l];if(!u.validate.call(this,this,e,n,r,i)){a=!1,s=u.message;break}}return{isAllPass:a,msg:s}},t.prototype.getConnectedSourceRules=function(){return this.sourceRules},t.prototype.isAllowConnectedAsTarget=function(e,n,r,i){var o=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var a=!0,s="",l=0;l<o.length;l++){var u=o[l];if(!u.validate.call(this,e,this,n,r,i)){a=!1,s=u.message;break}}return{isAllPass:a,msg:s}},t.prototype.isAllowMoveNode=function(e,n){var r,i,o=!0,a=!0,s=this.moveRules.concat(this.graphModel.nodeMoveRules);try{for(var l=HM(s),u=l.next();!u.done;u=l.next()){var c=u.value,d=c(this,e,n);if(!d)return!1;if(typeof d=="object"){var f=d;if(!f.x&&!f.y)return!1;o=o&&f.x,a=a&&f.y}}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return{x:o,y:a}},t.prototype.getConnectedTargetRules=function(){return this.targetRules},t.prototype.getAnchorsByOffset=function(){var e=this,n=e.anchorsOffset,r=e.id,i=e.x,o=e.y;return n&&n.length>0?n.map(function(a,s){return a.length?(a=a,{id:"".concat(r,"_").concat(s),x:i+a[0],y:o+a[1]}):(a=a,na(na({},a),{x:i+a.x,y:o+a.y,id:a.id||"".concat(r,"_").concat(s)}))}):this.getDefaultAnchor()},t.prototype.getDefaultAnchor=function(){return[]},t.prototype.getTargetAnchor=function(e){return zpe(e,this)},t.prototype.getBounds=function(){return{minX:this.x-this.width/2,minY:this.y-this.height/2,maxX:this.x+this.width/2,maxY:this.y+this.height/2}},Object.defineProperty(t.prototype,"anchors",{get:function(){var e=this.getAnchorsByOffset(),n=this,r=n.x,i=n.y,o=n.rotate;return e.forEach(function(a){var s=a.x,l=a.y,u=$ve(new eE([s,l,1]).translate(-r,-i).rotate(o).translate(r,i)[0],2),c=u[0],d=u[1];a.x=c,a.y=d}),e},enumerable:!1,configurable:!0}),t.prototype.getAnchorInfo=function(e){if(!lp(e))for(var n=0;n<this.anchors.length;n++){var r=this.anchors[n];if(r.id===e)return r}},t.prototype.addNodeMoveRules=function(e){this.moveRules.includes(e)||this.moveRules.push(e)},t.prototype.isAllowMoveByXORY=function(e,n,r){var i,o;if(r)i=!0,o=!0;else{var a=this.isAllowMoveNode(e,n);typeof a=="boolean"?(i=a,o=a):(i=a.x,o=a.y)}return{isAllowMoveX:i,isAllowMoveY:o}},t.prototype.move=function(e,n,r){r===void 0&&(r=!1);var i=this.isAllowMoveByXORY(e,n,r),o=i.isAllowMoveX,a=i.isAllowMoveY;return o&&(this.x=this.x+e,this.text&&this.moveText(e,0)),a&&(this.y=this.y+n,this.text&&this.moveText(0,n)),(o||a)&&(this.rotate=this._rotate),o||a},t.prototype.getMoveDistance=function(e,n,r){r===void 0&&(r=!1);var i=this.isAllowMoveByXORY(e,n,r),o=i.isAllowMoveX,a=i.isAllowMoveY,s=0,l=0;return o&&e&&(this.x=this.x+e,this.text&&this.moveText(e,0),s=e),a&&n&&(this.y=this.y+n,this.text&&this.moveText(0,n),l=n),[s,l]},t.prototype.moveTo=function(e,n,r){r===void 0&&(r=!1);var i=e-this.x,o=n-this.y;return!r&&!this.isAllowMoveNode(i,o)?!1:(this.text&&this.moveText(i,o),this.x=e,this.y=n,!0)},t.prototype.moveText=function(e,n){var r=this.text,i=r.x,o=r.y,a=r.value,s=r.draggable,l=r.editable;this.text={value:a,editable:l,draggable:s,x:i+e,y:o+n}},t.prototype.updateText=function(e){this.text=na(na({},uu(this.text)),{value:e})},t.prototype.addNodeResizeRules=function(e){this.resizeRules.includes(e)||this.resizeRules.push(e)},t.prototype.isAllowResizeNode=function(e,n,r,i){var o,a,s=this.resizeRules.concat(this.graphModel.nodeResizeRules);try{for(var l=HM(s),u=l.next();!u.done;u=l.next()){var c=u.value,d=c(this,e,n,r,i);if(!d)return!1}}catch(f){o={error:f}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return!0},t.prototype.setSelected=function(e){e===void 0&&(e=!0),this.isSelected=e},t.prototype.setHovered=function(e){e===void 0&&(e=!0),this.isHovered=e,this.setIsShowAnchor(e)},t.prototype.setIsShowAnchor=function(e){e===void 0&&(e=!0),this.isShowAnchor=e},t.prototype.setRotatable=function(e){e===void 0&&(e=!0),this.rotatable=e},t.prototype.setResizable=function(e){e===void 0&&(e=!0),this.resizable=e},t.prototype.setHitable=function(e){e===void 0&&(e=!0),this.isHitable=e},t.prototype.setHittable=function(e){e===void 0&&(e=!0),this.isHittable=e},t.prototype.setElementState=function(e,n){this.state=e,this.additionStateData=n},t.prototype.updateProperties=function(e,n){var r=uu(this.properties);this.properties=e,this.setAttributes(),this.graphModel.eventCenter.emit(ir.NODE_PROPERTIES_CHANGE,{id:this.id,keys:n,preProperties:r,properties:e})},t.prototype.setProperty=function(e,n){var r=uu(this.properties),i=Mr(r);Mj(i,e,ja(n)),this.updateProperties(i,[e])},t.prototype.setProperties=function(e){var n=uu(this.properties),r=na(na({},n),ja(e)),i=[];dj(e,function(o,a){(W_(n,a)&&n[a]!==o||!W_(n,a))&&i.push(a)}),this.updateProperties(r,i)},t.prototype.deleteProperty=function(e){delete this.properties[e],this.setAttributes()},t.prototype.setStyle=function(e,n){var r;this.style=na(na({},this.style),(r={},r[e]=ja(n),r))},t.prototype.setStyles=function(e){this.style=na(na({},this.style),ja(e))},t.prototype.updateStyles=function(e){this.style=na({},ja(e))},t.prototype.setZIndex=function(e){e===void 0&&(e=1),this.zIndex=e},t.prototype.updateAttributes=function(e){$i(this,e)},t.BaseType=bo.NODE,Cr([Mt],t.prototype,"type",void 0),Cr([Mt],t.prototype,"x",void 0),Cr([Mt],t.prototype,"y",void 0),Cr([Mt],t.prototype,"textMode",void 0),Cr([Mt],t.prototype,"text",void 0),Cr([Mt],t.prototype,"properties",void 0),Cr([Mt],t.prototype,"_width",void 0),Cr([Mt],t.prototype,"_height",void 0),Cr([Mt],t.prototype,"anchorsOffset",void 0),Cr([Mt],t.prototype,"isSelected",void 0),Cr([Mt],t.prototype,"isHovered",void 0),Cr([Mt],t.prototype,"isShowAnchor",void 0),Cr([Mt],t.prototype,"isDragging",void 0),Cr([Mt],t.prototype,"isHitable",void 0),Cr([Mt],t.prototype,"isHittable",void 0),Cr([Mt],t.prototype,"draggable",void 0),Cr([Mt],t.prototype,"visible",void 0),Cr([Mt],t.prototype,"rotatable",void 0),Cr([Mt],t.prototype,"resizable",void 0),Cr([Mt],t.prototype,"zIndex",void 0),Cr([Mt],t.prototype,"state",void 0),Cr([Mt],t.prototype,"autoToFront",void 0),Cr([Mt],t.prototype,"style",void 0),Cr([Mt],t.prototype,"transform",void 0),Cr([Mt],t.prototype,"_rotate",void 0),Cr([Yi],t.prototype,"incoming",null),Cr([Yi],t.prototype,"outgoing",null),Cr([Pt],t.prototype,"setTextMode",null),Cr([Pt],t.prototype,"addNodeMoveRules",null),Cr([Pt],t.prototype,"move",null),Cr([Pt],t.prototype,"getMoveDistance",null),Cr([Pt],t.prototype,"moveTo",null),Cr([Pt],t.prototype,"moveText",null),Cr([Pt],t.prototype,"updateText",null),Cr([Pt],t.prototype,"addNodeResizeRules",null),Cr([Pt],t.prototype,"setSelected",null),Cr([Pt],t.prototype,"setHovered",null),Cr([Pt],t.prototype,"setIsShowAnchor",null),Cr([Pt],t.prototype,"setRotatable",null),Cr([Pt],t.prototype,"setResizable",null),Cr([Pt],t.prototype,"setHitable",null),Cr([Pt],t.prototype,"setHittable",null),Cr([Pt],t.prototype,"setElementState",null),Cr([Pt],t.prototype,"setProperty",null),Cr([Pt],t.prototype,"setProperties",null),Cr([Pt],t.prototype,"deleteProperty",null),Cr([Pt],t.prototype,"setStyle",null),Cr([Pt],t.prototype,"setStyles",null),Cr([Pt],t.prototype,"updateStyles",null),Cr([Pt],t.prototype,"setZIndex",null),Cr([Pt],t.prototype,"updateAttributes",null),t}(),Fve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gy=function(){return gy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gy.apply(this,arguments)},o2=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},pS=function(t){Fve(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.modelType=Vr.CIRCLE_NODE,i.r=50,i.initNodeData(n),i.setAttributes(),i}return Object.defineProperty(e.prototype,"width",{get:function(){return this.r*2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.r*2},enumerable:!1,configurable:!0}),e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties.r;n&&(this.r=n)},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.graphModel.theme.circle,i=this.properties.style,o=i===void 0?{}:i;return gy(gy(gy({},n),Mr(r)),Mr(o))},e.prototype.getDefaultAnchor=function(){var n=this,r=n.x,i=n.y,o=n.r;return[{x:r,y:i-o,id:"".concat(this.id,"_0")},{x:r+o,y:i,id:"".concat(this.id,"_1")},{x:r,y:i+o,id:"".concat(this.id,"_2")},{x:r-o,y:i,id:"".concat(this.id,"_3")}]},e.prototype.resize=function(n){var r=n.width,i=n.deltaX,o=n.deltaY;return this.move(i/2,o/2),this.r=r,this.setProperties({r}),this.getData()},o2([Mt],e.prototype,"r",void 0),o2([Yi],e.prototype,"width",null),o2([Yi],e.prototype,"height",null),e}(lh),jve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yy=function(){return yy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yy.apply(this,arguments)},kv=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},wx=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},hR=function(t){jve(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.modelType=Vr.DIAMOND_NODE,i.rx=30,i.ry=50,i.initNodeData(n),i.setAttributes(),i}return e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties,r=n.rx,i=n.ry;r&&(this.rx=r),i&&(this.ry=i)},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.graphModel.theme.diamond,i=this.properties.style,o=i===void 0?{}:i;return yy(yy(yy({},n),Mr(r)),Mr(o))},Object.defineProperty(e.prototype,"points",{get:function(){var n=this,r=n.x,i=n.y,o=n.rx,a=n.ry;return[[r,i-a],[r+o,i],[r,i+a],[r-o,i]]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointsPosition",{get:function(){return rl(this.points,function(n){var r=wx(n,2),i=r[0],o=r[1];return{x:i,y:o}})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return Ai(this.points,function(i){var o=wx(i,1),a=o[0];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return Ai(this.points,function(i){var o=wx(i,2),a=o[1];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),e.prototype.getDefaultAnchor=function(){var n=this;return rl(this.points,function(r,i){var o=wx(r,2),a=o[0],s=o[1];return{x:a,y:s,id:"".concat(n.id,"_").concat(i)}})},e.prototype.resize=function(n){var r=n.width,i=n.height,o=n.deltaX,a=n.deltaY;return this.move(o/2,a/2),this.rx=r,this.ry=i,this.setProperties({rx:r,ry:i}),this.getData()},kv([Mt],e.prototype,"rx",void 0),kv([Mt],e.prototype,"ry",void 0),kv([Yi],e.prototype,"points",null),kv([Yi],e.prototype,"pointsPosition",null),kv([Yi],e.prototype,"width",null),kv([Yi],e.prototype,"height",null),e}(lh),Bve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),by=function(){return by=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},by.apply(this,arguments)},Ex=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},pR=function(t){Bve(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.modelType=Vr.ELLIPSE_NODE,i.rx=30,i.ry=45,i.initNodeData(n),i.setAttributes(),i}return e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties,r=n.rx,i=n.ry;r&&(this.rx=r),i&&(this.ry=i)},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.graphModel.theme.ellipse,i=this.properties.style,o=i===void 0?{}:i;return by(by(by({},n),Mr(r)),Mr(o))},Object.defineProperty(e.prototype,"width",{get:function(){return this.rx*2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.ry*2},enumerable:!1,configurable:!0}),e.prototype.getDefaultAnchor=function(){var n=this,r=n.x,i=n.y,o=n.rx,a=n.ry;return[{x:r,y:i-a,id:"".concat(this.id,"_0")},{x:r+o,y:i,id:"".concat(this.id,"_1")},{x:r,y:i+a,id:"".concat(this.id,"_2")},{x:r-o,y:i,id:"".concat(this.id,"_3")}]},e.prototype.resize=function(n){var r=n.width,i=n.height,o=n.deltaX,a=n.deltaY;return this.move(o/2,a/2),this.rx=r,this.ry=i,this.setProperties({rx:r,ry:i}),this.getData()},Ex([Mt],e.prototype,"rx",void 0),Ex([Mt],e.prototype,"ry",void 0),Ex([Yi],e.prototype,"width",null),Ex([Yi],e.prototype,"height",null),e}(lh),zve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xy=function(){return xy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xy.apply(this,arguments)},Cx=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Tx=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},vS=function(t){zve(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.modelType=Vr.POLYGON_NODE,i.points=[[50,0],[100,50],[50,100],[0,50]],i.initNodeData(n),i.setAttributes(),i}return e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties,r=n.points,i=n.width,o=n.height,a=r||this.points;this.points=$pe(a,i,o)},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.graphModel.theme.polygon,i=this.properties.style,o=i===void 0?{}:i;return xy(xy(xy({},n),Mr(r)),Mr(o))},Object.defineProperty(e.prototype,"pointsPosition",{get:function(){var n=this,r=n.x,i=n.y,o=n.width,a=n.height;return this.points.map(function(s){return{x:s[0]+r-o/2,y:s[1]+i-a/2}})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(i){var o=Tx(i,1),a=o[0];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(i){var o=Tx(i,2),a=o[1];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),e.prototype.getDefaultAnchor=function(){var n=this,r=this,i=r.x,o=r.y,a=r.width,s=r.height,l=r.points;return l.map(function(u,c){var d=Tx(u,2),f=d[0],h=d[1];return{x:i+f-a/2,y:o+h-s/2,id:"".concat(n.id,"_").concat(c)}})},e.prototype.resize=function(n){var r=this,i=n.width,o=n.height,a=n.deltaX,s=n.deltaY;this.move(a/2,s/2);var l=rl(this.points,function(u){var c=Tx(u,2),d=c[0],f=c[1];return[d*i/r.width,f*o/r.height]});return this.points=l,this.properties.points=l,this.getData()},Cx([Mt],e.prototype,"points",void 0),Cx([Yi],e.prototype,"pointsPosition",null),Cx([Yi],e.prototype,"width",null),Cx([Yi],e.prototype,"height",null),e}(lh),Hve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_y=function(){return _y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_y.apply(this,arguments)},Uve=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},zm=function(t){Hve(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.modelType=Vr.RECT_NODE,i.radius=0,i.initNodeData(n),i.setAttributes(),i}return e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties,r=n.width,i=n.height,o=n.radius;lp(r)||(this.width=r),lp(i)||(this.height=i),lp(o)||(this.radius=o)},e.prototype.getDefaultAnchor=function(){var n=this,r=n.x,i=n.y,o=n.width,a=n.height;return[{x:r,y:i-a/2,id:"".concat(this.id,"_0")},{x:r+o/2,y:i,id:"".concat(this.id,"_1")},{x:r,y:i+a/2,id:"".concat(this.id,"_2")},{x:r-o/2,y:i,id:"".concat(this.id,"_3")}]},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.graphModel.theme.rect,i=this.properties.style,o=i===void 0?{}:i;return _y(_y(_y({},n),Mr(r)),Mr(o))},Uve([Mt],e.prototype,"radius",void 0),e}(lh),Gve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sy=function(){return Sy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sy.apply(this,arguments)},UM=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Wve=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Vve=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},GM=function(t){Gve(e,t);function e(){var n=t.apply(this,Vve([],Wve(arguments),!1))||this;return n.modelType=Vr.TEXT_NODE,n}return e.prototype.getTextStyle=function(){var n=t.prototype.getTextStyle.call(this),r=this.graphModel.theme.text,i=this.properties.textStyle;return Sy(Sy(Sy({},n),Mr(r)),Mr(i))},Object.defineProperty(e.prototype,"width",{get:function(){var n=String(this.text.value).split(/[\r\n]/g),r=this.getTextStyle().fontSize,i=LM({rows:n,fontSize:r,rowsLength:n.length}).width;return i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var n=String(this.text.value).split(/[\r\n]/g),r=this.getTextStyle().fontSize,i=LM({rows:n,fontSize:r,rowsLength:n.length}).height;return i},enumerable:!1,configurable:!0}),UM([Yi],e.prototype,"width",null),UM([Yi],e.prototype,"height",null),e}(lh),Xve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ob=function(t){Xve(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.modelType=Vr.HTML_NODE,i.setAttributes(),i}return e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties,r=n.width,i=n.height;r&&(this.width=r),i&&(this.height=i)},e.prototype.getDefaultAnchor=function(){var n=this,r=n.x,i=n.y,o=n.width,a=n.height;return[{x:r,y:i-a/2,id:"".concat(this.id,"_0")},{x:r+o/2,y:i,id:"".concat(this.id,"_1")},{x:r,y:i+a/2,id:"".concat(this.id,"_2")},{x:r-o/2,y:i,id:"".concat(this.id,"_3")}]},e}(lh),Ti=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Kve={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotate:!1,allowResize:!1,nodeSelectedOutline:!0,textEdit:!1,nodeTextEdit:!1,edgeTextEdit:!1,textDraggable:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Rx=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustEdgeStart","adjustEdgeEnd","adjustNodePosition","hideAnchors","allowRotate","allowResize","autoExpand","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","textEdit","nodeTextEdit","edgeTextEdit","textDraggable","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","textMode","nodeTextMode","edgeTextMode","nodeTextMultiple","edgeTextMultiple","nodeTextVertical","edgeTextVertical"],Yve=function(){function t(e){this.isSilentMode=!1,this.stopZoomGraph=!1,this.stopMoveGraph=!1,this.stopScrollGraph=!1,this.textMode=Ml.TEXT,this.textEdit=!0,this.textDraggable=!1,this.nodeTextEdit=!0,this.nodeTextDraggable=!1,this.nodeTextMultiple=!1,this.nodeTextVertical=!1,this.nodeTextMode=Ml.TEXT,this.edgeTextMode=Ml.TEXT,this.edgeTextEdit=!0,this.edgeTextDraggable=!1,this.edgeTextMultiple=!1,this.edgeTextVertical=!1,this.hideAnchors=!1,this.allowRotate=!1,this.allowResize=!1,this.hoverOutline=!0,this.nodeSelectedOutline=!0,this.adjustNodePosition=!0,this.autoExpand=!1,this.adjustEdge=!0,this.adjustEdgeMiddle=!1,this.adjustEdgeStartAndEnd=!1,this.adjustEdgeStart=!1,this.adjustEdgeEnd=!1,this.edgeSelectedOutline=!0,this.multipleSelectKey="",$i(this,this.computeConfig(e))}return t.prototype.updateEditConfig=function(e){var n=this.computeConfig(e);$i(this,n)},t.prototype.computeConfig=function(e){var n=e.isSilentMode,r=e.textDraggable,i=e.textMode,o=e.textEdit,a=e.adjustEdgeStartAndEnd,s={};if(n===!1&&$i(s,this.stagedConfig),n===!0&&n!==this.isSilentMode){var l=ap(Kve,Rx);this.stagedConfig=ap(this,Rx),$i(s,l)}yp(o)||$i(s,{nodeTextEdit:o,edgeTextEdit:o}),yp(r)||$i(s,{nodeTextDraggable:r,edgeTextDraggable:r}),i&&$i(s,{nodeTextMode:i,edgeTextMode:i}),V_(a)&&$i(s,{adjustEdgeStart:a,adjustEdgeEnd:a});var u=ap(e,Rx);return $i(s,u)},t.prototype.updateTextMode=function(e){this.textMode=e,this.edgeTextMode=e,this.nodeTextMode=e},t.prototype.getConfig=function(){return ap(this,Rx)},Ti([Mt],t.prototype,"isSilentMode",void 0),Ti([Mt],t.prototype,"stopZoomGraph",void 0),Ti([Mt],t.prototype,"stopMoveGraph",void 0),Ti([Mt],t.prototype,"stopScrollGraph",void 0),Ti([Mt],t.prototype,"textMode",void 0),Ti([Mt],t.prototype,"textEdit",void 0),Ti([Mt],t.prototype,"textDraggable",void 0),Ti([Mt],t.prototype,"nodeTextEdit",void 0),Ti([Mt],t.prototype,"nodeTextDraggable",void 0),Ti([Mt],t.prototype,"nodeTextMultiple",void 0),Ti([Mt],t.prototype,"nodeTextVertical",void 0),Ti([Mt],t.prototype,"nodeTextMode",void 0),Ti([Mt],t.prototype,"edgeTextMode",void 0),Ti([Mt],t.prototype,"edgeTextEdit",void 0),Ti([Mt],t.prototype,"edgeTextDraggable",void 0),Ti([Mt],t.prototype,"edgeTextMultiple",void 0),Ti([Mt],t.prototype,"edgeTextVertical",void 0),Ti([Mt],t.prototype,"hideAnchors",void 0),Ti([Mt],t.prototype,"allowRotate",void 0),Ti([Mt],t.prototype,"allowResize",void 0),Ti([Mt],t.prototype,"hoverOutline",void 0),Ti([Mt],t.prototype,"nodeSelectedOutline",void 0),Ti([Mt],t.prototype,"adjustNodePosition",void 0),Ti([Mt],t.prototype,"autoExpand",void 0),Ti([Mt],t.prototype,"adjustEdge",void 0),Ti([Mt],t.prototype,"adjustEdgeMiddle",void 0),Ti([Mt],t.prototype,"adjustEdgeStartAndEnd",void 0),Ti([Mt],t.prototype,"adjustEdgeStart",void 0),Ti([Mt],t.prototype,"adjustEdgeEnd",void 0),Ti([Mt],t.prototype,"edgeSelectedOutline",void 0),Ti([Pt],t.prototype,"updateEditConfig",null),Ti([Pt],t.prototype,"updateTextMode",null),t}(),qve="*",Zve=function(){function t(){this._events={}}return t.prototype.on=function(e,n,r){var i=this;e==null||e.split(",").forEach(function(o){o=o.trim(),i._events[o]||(i._events[o]=[]),i._events[o].push({callback:n,once:!!r})})},t.prototype.once=function(e,n){var r=this;e==null||e.split(",").forEach(function(i){i=i.trim(),r.on(i,n,!0)})},t.prototype.emit=function(e,n){var r=this;e==null||e.split(",").forEach(function(i){var o=r._events[i]||[],a=r._events[qve]||[],s=function(l){for(var u=l.length,c=0;c<u;c++)if(l[c]){var d=l[c],f=d.callback,h=d.once;h&&(l.splice(c,1),l.length===0&&delete r._events[i],u--,c--),f.apply(r,[n])}};s(o),s(a)})},t.prototype.off=function(e,n){var r=this;e||(this._events={}),e.split(",").forEach(function(i){if(!n)delete r._events[i];else{for(var o=r._events[i]||[],a=o.length,s=0;s<a;s++)o[s].callback===n&&(o.splice(s,1),a--,s--);o.length===0&&delete r._events[i]}})},t.prototype.getEvents=function(){return this._events},t}(),Jve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vR=function(){return vR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vR.apply(this,arguments)},Qve=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},eme=function(t){Jve(e,t);function e(n){var r=t.call(this)||this;r.stepScrollX=0,r.stepScrollY=0,r.onDragging=function(s){var l=s.deltaX,u=s.deltaY;r.setState({isDragging:!0});var c=r.props.graphModel,d=c.transformModel,f=c.editConfigModel;f.stopMoveGraph!==!0&&d.translate(l,u)},r.onDragEnd=function(){r.setState({isDragging:!1})},r.zoomHandler=function(s){var l=r.props,u=l.graphModel,c=u.editConfigModel,d=u.transformModel,f=u.gridSize,h=l.graphModel,v=s.deltaX,m=s.deltaY;if(!c.stopScrollGraph&&!s.ctrlKey&&!s.metaKey){if(s.preventDefault(),r.stepScrollX+=v,r.stepScrollY+=m,Math.abs(r.stepScrollX)>=f){var g=r.stepScrollX%f,x=r.stepScrollX-g;d.translate(-x*d.SCALE_X,0),r.stepScrollX=g}if(Math.abs(r.stepScrollY)>=f){var _=r.stepScrollY%f,w=r.stepScrollY-_;d.translate(0,-w*d.SCALE_Y),r.stepScrollY=_}return}if(!c.stopZoomGraph){s.preventDefault();var S=h.getPointByClient({x:s.clientX,y:s.clientY}),C=S.canvasOverlayPosition,O=C.x,T=C.y;d.zoom(s.deltaY<0,[O,T])}},r.clickHandler=function(s){var l=s.target;if(l.getAttribute("name")==="canvas-overlay"){var u=r.props.graphModel,c=u.selectElements;c.size>0&&u.clearSelectElements(),u.eventCenter.emit(ir.BLANK_CLICK,{e:s})}},r.handleContextMenu=function(s){var l=s.target;if(l.getAttribute("name")==="canvas-overlay"){s.preventDefault();var u=r.props.graphModel,c=u.getPointByClient({x:s.clientX,y:s.clientY});u.eventCenter.emit(ir.BLANK_CONTEXTMENU,{e:s,position:c})}},r.mouseDownHandler=function(s){var l=r.props.graphModel,u=l.eventCenter,c=l.editConfigModel,d=l.transformModel.SCALE_X,f=l.gridSize,h=s.target,v=!c.adjustEdge&&!c.adjustNodePosition;(h.getAttribute("name")==="canvas-overlay"||v)&&(c.stopMoveGraph!==!0?(r.stepDrag.setStep(f*d),r.stepDrag.handleMouseDown(s)):u.emit(ir.BLANK_MOUSEDOWN,{e:s}),r.clickHandler(s))};var i=n.graphModel,o=i.gridSize,a=i.eventCenter;return r.stepDrag=new Bl({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:o,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:void 0}),r.state={isDragging:!1},r}return e.prototype.render=function(){var n=this.props.graphModel.transformModel,r=n.getTransformStyle().transform,i=this.props,o=i.children,a=i.dnd,s=this.state.isDragging;return Ct("svg",vR({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:s?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},a.eventMap(),{children:Ct("g",{transform:r,children:o})}))},e=Qve([ts],e),e}(ii),qB=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ab=function(){return ab=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ab.apply(this,arguments)},tme=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},nme=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},WM=function(t){qB(e,t);function e(){var n=t.call(this)||this;return n.onDragging=function(r){var i=r.event,o=n.props,a=o.graphModel,s=o.bezierModel,l=o.type,u=a.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,c=u.x,d=u.y;s.updateAdjustAnchor({x:c,y:d},l),a.eventCenter.emit(ir.EDGE_ADJUST,{data:s.getData()})},n.onDragEnd=function(){var r=n.props.bezierModel;r.isDragging=!1},n.dragHandler=new Bl({onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return e.prototype.render=function(){var n=this,r=this.props.position,i=r.x,o=r.y,a=this.props.bezierModel,s=a.getEdgeStyle().adjustAnchor;return Ct(jm,ab({className:"lf-bezier-adjust-anchor",x:i,y:o},s,{onMouseDown:function(l){n.dragHandler.handleMouseDown(l)}}))},e}(ii),rme=function(t){qB(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBezierAdjust=function(n,r){var i=n.path,o=n.id,a=HA(i),s=nme(a,4),l=s[0],u=s[1],c=s[2],d=s[3],f=n.getEdgeStyle().adjustLine,h=[];return h.push(Ct(Fm,ab({x1:l.x,y1:l.y,x2:u.x,y2:u.y},f))),h.push(Ct(WM,{position:u,bezierModel:n,graphModel:r,type:"sNext"},"".concat(o,"_ePre"))),h.push(Ct(Fm,ab({x1:d.x,y1:d.y,x2:c.x,y2:c.y},f))),h.push(Ct(WM,{position:c,bezierModel:n,graphModel:r,type:"ePre"},"".concat(o,"_sNext"))),h},e.prototype.selectedBezierEdge=function(){for(var n=this.props.graphModel,r=n.edges,i=[],o=0;o<r.length;o++){var a=r[o];a.isSelected&&a.modelType===Vr.BEZIER_EDGE&&a.draggable&&i.push(this.getBezierAdjust(a,n))}return i},e.prototype.render=function(){return Ct("g",{className:"lf-bezier-adjust",children:this.selectedBezierEdge()})},e=tme([ts],e),e}(ii),ime=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ome=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},ame=function(t){ime(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props.background;return Ct("div",{className:"lf-background",children:Ct("div",{style:Dl(n)?n:{},className:"lf-background-area"})})},e=ome([ts],e),e}(ii),sme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lme=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},mS=function(t){sme(e,t);function e(n){var r=t.call(this,n)||this;return r.id=Bf(),r.gridOptions=r.props.graphModel.grid,r}return e.prototype.renderDot=function(){var n=this.gridOptions,r=n.config,i=n.size,o=i===void 0?1:i,a=n.visible,s=r??{},l=s.color,u=s.thickness,c=u===void 0?2:u,d=Math.min(Math.max(2,c),o/4),f=a?1:0;return Ct("g",{fill:l,opacity:f,children:[Ct("circle",{cx:0,cy:0,r:d/2}),Ct("circle",{cx:0,cy:o,r:d/2}),Ct("circle",{cx:o,cy:0,r:d/2}),Ct("circle",{cx:o,cy:o,r:d/2})]})},e.prototype.renderMesh=function(){var n=this.gridOptions,r=n.config,i=n.size,o=i===void 0?1:i,a=n.visible,s=r??{},l=s.color,u=s.thickness,c=u===void 0?1:u,d=Math.min(Math.max(1,c),o/2),f="M 0 0 H ".concat(o," V ").concat(o," H 0 Z"),h=a?1:0;return Ct("path",{d:f,stroke:l,strokeWidth:d/2,opacity:h,fill:"transparent"})},e.prototype.render=function(){var n=this.props.graphModel.transformModel,r=this.gridOptions,i=r.type,o=r.size,a=o===void 0?1:o,s=n.SCALE_X,l=n.SKEW_Y,u=n.SKEW_X,c=n.SCALE_Y,d=n.TRANSLATE_X,f=n.TRANSLATE_Y,h=[s,l,u,c,d,f].join(","),v="matrix(".concat(h,")");return Ct("div",{className:"lf-grid",children:Ct("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",children:[Ct("defs",{children:Ct("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:v,x:"0",y:"0",width:a,height:a,children:[i==="dot"&&this.renderDot(),i==="mesh"&&this.renderMesh()]})}),Ct("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})]})})},e=lme([ts],e),e}(ii);(function(t){t.defaultProps={size:ppe,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};function e(n){var r=Mr(t.defaultProps);return typeof n=="number"?$i(r,{size:n}):typeof n=="boolean"?$i(r,{visible:n}):$i(r,n)}t.getGridOptions=e})(mS||(mS={}));var ume=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cme=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},dme=function(t){ume(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props.graphModel.transformModel,r=n.getTransformStyle().transform,i=this.props.children;return Ct("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay",children:Ct("g",{transform:r,children:i})})},e=cme([ts],e),e}(ii),fme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ef=function(){return Ef=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ef.apply(this,arguments)},hme=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},pme=function(t){fme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getNodesOutline=function(){var n=this.props.graphModel,r=n.nodes,i=n.editConfigModel,o=i.hoverOutline,a=i.nodeSelectedOutline,s=[];return r.forEach(function(l){if(l.isHovered||l.isSelected){var u=l.isHovered,c=l.isSelected,d=l.x,f=l.y,h=l.width,v=l.height;if(a&&c||o&&u){var m=l.getOutlineStyle(),g={};if(Object.keys(m).forEach(function(_){_!=="hover"&&(g[_]=m[_])}),u){var x=m.hover;g=Ef(Ef({},g),x)}s.push(Ct(Ol,Ef({transform:l.transform,className:"lf-outline-node",x:d,y:f,width:h+10,height:v+10},g)))}}}),s},e.prototype.getEdgeOutline=function(){for(var n=this.props.graphModel,r=n.edges,i=n.editConfigModel,o=i.edgeSelectedOutline,a=i.hoverOutline,s=[],l=0;l<r.length;l++){var u=r[l];(o&&u.isSelected||a&&u.isHovered)&&(u.modelType===Vr.LINE_EDGE?s.push(this.getLineOutline(u)):u.modelType===Vr.POLYLINE_EDGE?s.push(this.getPolylineOutline(u)):u.modelType===Vr.BEZIER_EDGE&&s.push(this.getBezierOutline(u)))}return s},e.prototype.getLineOutline=function(n){var r=n.startPoint,i=n.endPoint,o=(r.x+i.x)/2,a=(r.y+i.y)/2,s=Math.abs(r.x-i.x)+10,l=Math.abs(r.y-i.y)+10,u=n.getOutlineStyle();return Ct(Ol,Ef({className:"lf-outline-edge",x:o,y:a,width:s,height:l},u))},e.prototype.getPolylineOutline=function(n){var r=n.points,i=Sp(r),o=tb(i,8),a=o.x,s=o.y,l=o.width,u=o.height,c=n.getOutlineStyle();return Ct(Ol,Ef({className:"lf-outline",x:a,y:s,width:l,height:u},c))},e.prototype.getBezierOutline=function(n){var r=n.path,i=HA(r),o=tb(i,8),a=o.x,s=o.y,l=o.width,u=o.height,c=n.getOutlineStyle();return Ct(Ol,Ef({className:"lf-outline",x:a,y:s,width:l,height:u},c))},e.prototype.render=function(){return Ct("g",{className:"lf-outline",children:[this.getNodesOutline(),this.getEdgeOutline()]})},e=hme([ts],e),e}(ii),vme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cf=function(){return Cf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cf.apply(this,arguments)},mme=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},gme=function(t){vme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props.snaplineModel,r=n??{},i=r.position,o=r.isShowHorizontal,a=r.isShowVertical,s=n==null?void 0:n.getStyle(),l=i??{},u=l.x,c=u===void 0?0:u,d=l.y,f=d===void 0?0:d,h=Cf(Cf({x1:-1e5,y1:f,x2:1e5,y2:f},s),{stroke:o?s==null?void 0:s.stroke:"none"}),v=Cf(Cf({x1:c,y1:-1e5,x2:c,y2:1e5},s),{stroke:a?s==null?void 0:s.stroke:"none"});return Ct("g",{className:"lf-snapline",children:[Ct(Fm,Cf({},h)),Ct(Fm,Cf({},v))]})},e=mme([ts],e),e}(ii),yme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bme=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},xme=function(t){yme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){this.triggerToolRender()},e.prototype.componentDidUpdate=function(){this.triggerToolRender()},e.prototype.getTools=function(){var n=this.props,r=n.tool,i=n.graphModel,o=i.textEditElement,a=r.getTools(),s=a.map(function(l){return fr(l,{textEditElement:o,graphModel:i,lf:r.instance})});return r.components=s,s},e.prototype.triggerToolRender=function(){var n=this.props,r=n.tool,i=n.graphModel,o=document.querySelector("#ToolOverlay_".concat(i.flowId)),a=r.getInstance();a.components.forEach(function(s){return s(a,o)}),a.components=[]},e.prototype.render=function(){var n=this.props.graphModel;return Ct("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(n.flowId),children:this.getTools()})},e=bme([ts],e),e}(ii),Tf=function(){return Tf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tf.apply(this,arguments)},rr=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},_me=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fa=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},gl=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Sme=function(){function t(e){var n=this;this.modelMap=new Map,this.nodeModelMap=new Map,this.edgeModelMap=new Map,this.elementsModelMap=new Map,this.nodeMoveRules=[],this.nodeResizeRules=[],this.nodes=[],this.edges=[],this.overlapMode=hu.DEFAULT,this.gridSize=1,this.partial=!1,this.waitCleanEffects=[];var r=e.container,i=e.partial,o=e.background,a=o===void 0?{}:o,s=e.grid,l=e.idGenerator,u=e.edgeGenerator,c=e.animation,d=e.customTrajectory;this.rootEl=r,this.partial=!!i,this.background=a,typeof s=="object"&&(this.gridSize=s.size||1),this.theme=YB(e.style),this.grid=mS.getGridOptions(s??!1),this.edgeType=e.edgeType||"polyline",this.animation=dpe(c),this.overlapMode=e.overlapMode||hu.DEFAULT,this.width=e.width||this.rootEl.getBoundingClientRect().width,this.height=e.height||this.rootEl.getBoundingClientRect().height;var f=new ResizeObserver(FP(function(h){var v,m;try{for(var g=_me(h),x=g.next();!x.done;x=g.next()){var _=x.value;_.target===n.rootEl&&(n.resize(),n.eventCenter.emit("graph:resize",{target:n.rootEl,contentRect:_.contentRect}))}}catch(w){v={error:w}}finally{try{x&&!x.done&&(m=g.return)&&m.call(g)}finally{if(v)throw v.error}}},16));f.observe(this.rootEl),this.waitCleanEffects.push(function(){f.disconnect()}),this.eventCenter=new Zve,this.editConfigModel=new Yve(e),this.transformModel=new Cme(this.eventCenter,e),this.flowId=Bf(),this.idGenerator=l,this.edgeGenerator=Lpe(this,u),this.customTrajectory=d}return Object.defineProperty(t.prototype,"nodesMap",{get:function(){return this.nodes.reduce(function(e,n,r){return e[n.id]={index:r,model:n},e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"edgesMap",{get:function(){return this.edges.reduce(function(e,n,r){return e[n.id]={index:r,model:n},e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelsMap",{get:function(){return gl(gl([],fa(this.nodes),!1),fa(this.edges),!1).reduce(function(e,n){return e[n.id]=n,e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortElements",{get:function(){for(var e=gl(gl([],fa(this.nodes),!1),fa(this.edges),!1).sort(function(s,l){return s.zIndex-l.zIndex}),n=[],r=[-gx,-gx],i=[this.width+gx,this.height+gx],o=0;o<e.length;o++){var a=e[o];a.visible&&(!this.partial||a.isSelected||this.isElementInArea(a,r,i,!1,!1))&&n.push(a)}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textEditElement",{get:function(){var e=this.nodes.find(function(r){return r.state===yi.TEXT_EDIT}),n=this.edges.find(function(r){return r.state===yi.TEXT_EDIT});return e||n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectElements",{get:function(){var e=new Map;return this.nodes.forEach(function(n){n.isSelected&&e.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&e.set(n.id,n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectNodes",{get:function(){var e=[];return this.nodes.forEach(function(n){n.isSelected&&e.push(n)}),e},enumerable:!1,configurable:!0}),t.prototype.getAreaElement=function(e,n,r,i,o){var a=this;r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=!1);var s=[];return Ai(gl(gl([],fa(this.nodes),!1),fa(this.edges),!1),function(l){var u=a.isElementInArea(l,e,n,r,i);(!o||l.visible)&&u&&s.push(l)}),s},t.prototype.getModel=function(e){return this.modelMap.get(e)},t.prototype.getNodeModelById=function(e){var n;return this.fakeNode&&e===this.fakeNode.id?this.fakeNode:(n=this.nodesMap[e])===null||n===void 0?void 0:n.model},t.prototype.getPointByClient=function(e){var n=e.x,r=e.y,i=this.rootEl.getBoundingClientRect(),o={x:n-i.left,y:r-i.top},a=fa(this.transformModel.HtmlPointToCanvasPoint([o.x,o.y]),2),s=a[0],l=a[1],u={x:s,y:l};return{domOverlayPosition:o,canvasOverlayPosition:u}},t.prototype.isElementInArea=function(e,n,r,i,o){var a;if(i===void 0&&(i=!0),o===void 0&&(o=!0),e.BaseType===bo.NODE){e=e;for(var s=Cs(e),l=s.minX,u=s.minY,c=s.maxX,d=s.maxY,f=[{x:l,y:u},{x:c,y:u},{x:c,y:d},{x:l,y:d}],h=o,v=0;v<f.length;v++){var m=f[v],g=m.x,x=m.y;if(a=fa(this.transformModel.CanvasPointToHtmlPoint([g,x]),2),g=a[0],x=a[1],n2([g,x],n,r)!==o){h=!o;break}}return h}if(e.BaseType===bo.EDGE){e=e;var _=e.startPoint,w=e.endPoint,S=this.transformModel.CanvasPointToHtmlPoint([_.x,_.y]),C=this.transformModel.CanvasPointToHtmlPoint([w.x,w.y]),O=n2(S,n,r),T=n2(C,n,r);return i?O&&T:O||T}return!1},t.prototype.graphDataToModel=function(e){var n=this;if((!this.width||!this.height)&&this.resize(),!e){this.nodes=[],this.edges=[];return}if(e.nodes?this.nodes=rl(e.nodes,function(i){return n.getModelAfterSnapToGrid(i)}):this.nodes=[],e.edges){var r=this.edgeType;this.edges=rl(e.edges,function(i){var o,a=n.getModel((o=i.type)!==null&&o!==void 0?o:r);if(!a)throw new Error("找不到".concat(i.type,"对应的边。"));var s=new a(i,n),l=s.sourceNodeId,u=s.targetNodeId,c=s.sourceAnchorId,d=c===void 0?"":c,f=s.targetAnchorId,h=f===void 0?"":f,v=s.startPoint,m=s.endPoint,g=s.text,x=s.textPosition,_=function(F,j,R,I){var L=F==null?void 0:F.anchors.find(function(k){return k.id===j});L&&!Yy(L,R)&&I(L)},w=n.getNodeModelById(l),S=n.getNodeModelById(u);if(_(w,d,v,s.updateStartPoint.bind(s)),_(S,h,m,s.updateEndPoint.bind(s)),g){var C=g.x,O=g.y,T=x.x,N=x.y;if(C&&O&&T&&N){var M=C-T,D=O-N;s.resetTextPosition(),s.moveText(M,D)}}return n.edgeModelMap.set(s.id,s),n.elementsModelMap.set(s.id,s),s})}else this.edges=[]},t.prototype.modelToGraphData=function(){var e=[];this.edges.forEach(function(r){var i=r.getData();i&&!r.virtual&&e.push(i)});var n=[];return this.nodes.forEach(function(r){var i=r.getData();i&&!r.virtual&&n.push(i)}),{nodes:n,edges:e}},t.prototype.modelToHistoryData=function(){for(var e=!1,n=[],r=0;r<this.nodes.length;r++){var i=this.nodes[r];if(i.isDragging){e=!0;break}else n.push(i.getHistoryData())}if(e)return!1;for(var o=!1,a=[],s=0;s<this.edges.length;s++){var l=this.edges[s];if(l.isDragging){o=!0;break}else a.push(l.getHistoryData())}return o?!1:{nodes:n,edges:a}},t.prototype.getEdgeModelById=function(e){var n;return(n=this.edgesMap[e])===null||n===void 0?void 0:n.model},t.prototype.getElement=function(e){return this.modelsMap[e]},t.prototype.getNodeEdges=function(e){for(var n=[],r=0;r<this.edges.length;r++){var i=this.edges[r],o=i.sourceNodeId===e,a=i.targetNodeId===e;(o||a)&&n.push(i)}return n},t.prototype.getSelectElements=function(e){e===void 0&&(e=!0);var n=this.selectElements,r={nodes:[],edges:[]};return n.forEach(function(i){if(i.BaseType===bo.NODE&&r.nodes.push(i.getData()),i.BaseType===bo.EDGE){var o=i.getData(),a=n.get(o.sourceNodeId)&&n.get(o.targetNodeId);(e||a)&&r.edges.push(o)}}),r},t.prototype.updateAttributes=function(e,n){var r=this.getElement(e);r==null||r.updateAttributes(n)},t.prototype.changeNodeId=function(e,n){return n||(n=Bf()),this.nodesMap[n]?(console.warn("当前流程图已存在节点".concat(n,", 修改失败")),""):this.nodesMap[e]?(this.edges.forEach(function(r){r.sourceNodeId===e&&(r.sourceNodeId=n),r.targetNodeId===e&&(r.targetNodeId=n)}),this.nodesMap[e].model.id=n,this.nodesMap[n]=this.nodesMap[e],n):(console.warn("当前流程图找不到节点".concat(e,", 修改失败")),"")},t.prototype.changeEdgeId=function(e,n){return n||(n=Bf()),this.edgesMap[n]?(console.warn("当前流程图已存在边: ".concat(n,", 修改失败")),""):this.edgesMap[e]?(this.edges.forEach(function(r){r.id===e&&r.changeEdgeId(n)}),n):(console.warn("当前流程图找不到边: ".concat(n,", 修改失败")),"")},t.prototype.getTextModel=function(e){var n=this.editConfigModel,r=n.textMode,i=n.nodeTextMode,o=n.edgeTextMode;if(e.BaseType===bo.NODE)return e.textMode||i||r||Ml.TEXT;if(e.BaseType===bo.EDGE)return e.textMode||o||r||Ml.TEXT},t.prototype.setTextMode=function(e,n){this.editConfigModel.updateEditConfig({textMode:e})},t.prototype.setFakeNode=function(e){this.fakeNode=e},t.prototype.removeFakeNode=function(){this.fakeNode=null},t.prototype.setModel=function(e,n){return this.modelMap.set(e,n)},t.prototype.toFront=function(e){var n,r,i,o=((n=this.nodesMap[e])===null||n===void 0?void 0:n.model)||((r=this.edgesMap[e])===null||r===void 0?void 0:r.model);o&&(this.overlapMode===hu.DEFAULT&&((i=this.topElement)===null||i===void 0||i.setZIndex(),o.setZIndex(hpe),this.topElement=o),this.overlapMode===hu.INCREASE&&this.setElementZIndex(e,"top"))},t.prototype.setElementZIndex=function(e,n){var r,i,o=((r=this.nodesMap[e])===null||r===void 0?void 0:r.model)||((i=this.edgesMap[e])===null||i===void 0?void 0:i.model);if(o){var a=void 0;typeof n=="number"?a=n:(n==="top"&&(a=WA()),n==="bottom"&&(a=Nve())),o.setZIndex(a)}},t.prototype.deleteNode=function(e){var n=this.nodesMap[e].model,r=n.getData();this.deleteEdgeBySource(e),this.deleteEdgeByTarget(e),this.nodes.splice(this.nodesMap[e].index,1),this.eventCenter.emit(ir.NODE_DELETE,{data:r,model:n})},t.prototype.addNode=function(e,n,r){n===void 0&&(n=ir.NODE_ADD);var i=ja(e),o=i.id;o&&this.nodesMap[o]&&delete i.id;var a=this.getModelAfterSnapToGrid(i);this.nodes.push(a);var s=a.getData(),l={data:s};return r&&(l.e=r),this.eventCenter.emit(n,l),a},t.prototype.getModelAfterSnapToGrid=function(e){var n=this.getModel(e.type);if(!n)throw new Error("找不到".concat(e.type,"对应的节点，请确认是否已注册此类型节点。"));var r=e.x,i=e.y;r&&i&&(e.x=$m(r,this.gridSize),e.y=$m(i,this.gridSize),typeof e.text=="object"&&e.text!==null&&(e.text.x+=e.x-r,e.text.y+=e.y-i));var o=new n(e,this);return this.nodeModelMap.set(o.id,o),this.elementsModelMap.set(o.id,o),o},t.prototype.cloneNode=function(e){var n=this.getNodeModelById(e),r=n==null?void 0:n.getData();if(r){r.x+=30,r.y+=30,r.id="",typeof r.text=="object"&&r.text!==null&&(r.text.x+=30,r.text.y+=30);var i=this.addNode(r);return i.setSelected(!0),n==null||n.setSelected(!1),i.getData()}},t.prototype.moveNode=function(e,n,r,i){var o;i===void 0&&(i=!1);var a=this.nodesMap[e];if(!a){console.warn("不存在id为".concat(e,"的节点"));return}var s=a.model;o=fa(s.getMoveDistance(n,r,i),2),n=o[0],r=o[1],this.moveEdge(e,n,r)},t.prototype.moveNode2Coordinate=function(e,n,r,i){i===void 0&&(i=!1);var o=this.nodesMap[e];if(!o){console.warn("不存在id为".concat(e,"的节点"));return}var a=o.model,s=a.x,l=a.y,u=n-s,c=r-l;this.moveNode(e,u,c,i)},t.prototype.editText=function(e){this.setElementStateById(e,yi.TEXT_EDIT)},t.prototype.addEdge=function(e){var n=ja(e),r=n.type;r||(r=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var i=this.getModel(r);if(!i)throw new Error("找不到".concat(r,"对应的边，请确认是否已注册此类型边。"));var o=new i(Tf(Tf({},n),{type:r}),this);this.edgeModelMap.set(o.id,o),this.elementsModelMap.set(o.id,o);var a=o.getData();return this.edges.push(o),this.eventCenter.emit(ir.EDGE_ADD,{data:a}),o},t.prototype.moveEdge=function(e,n,r){for(var i=0;i<this.edges.length;i++){var o=this.edges[i],a=o.textPosition,s=a.x,l=a.y,u=this.edges[i].sourceNodeId===e,c=this.edges[i].targetNodeId===e;u&&o.moveStartPoint(n,r),c&&o.moveEndPoint(n,r),(u||c)&&this.handleEdgeTextMove(o,s,l)}},t.prototype.handleEdgeTextMove=function(e,n,r){var i;if(e.customTextPosition){e.resetTextPosition();return}if(e.modelType===Vr.POLYLINE_EDGE&&(!((i=e.text)===null||i===void 0)&&i.value)){var o=e.text,a=zB(o,e.points);e.moveText(a.x-o.x,a.y-o.y)}var s=e.textPosition,l=s.x,u=s.y;e.moveText(l-n,u-r)},t.prototype.deleteEdgeBySourceAndTarget=function(e,n){for(var r=0;r<this.edges.length;r++)if(this.edges[r].sourceNodeId===e&&this.edges[r].targetNodeId===n){var i=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(ir.EDGE_DELETE,{data:i})}},t.prototype.deleteEdgeById=function(e){var n=this.edgesMap[e];if(n){var r=this.edgesMap[e].index,i=this.edgesMap[e].model.getData();this.edges.splice(r,1),this.eventCenter.emit(ir.EDGE_DELETE,{data:i})}},t.prototype.deleteEdgeBySource=function(e){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===e){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(ir.EDGE_DELETE,{data:r})}},t.prototype.deleteEdgeByTarget=function(e){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===e){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(ir.EDGE_DELETE,{data:r})}},t.prototype.setElementStateById=function(e,n,r){this.nodes.forEach(function(i){i.id===e?i.setElementState(n,r):i.setElementState(yi.DEFAULT)}),this.edges.forEach(function(i){i.id===e?i.setElementState(n,r):i.setElementState(yi.DEFAULT)})},t.prototype.updateText=function(e,n){var r=Xf(gl(gl([],fa(this.nodes),!1),fa(this.edges),!1),function(i){return i.id===e});r==null||r.updateText(n)},t.prototype.selectNodeById=function(e,n){var r;n===void 0&&(n=!1),n||this.clearSelectElements();var i=(r=this.nodesMap[e])===null||r===void 0?void 0:r.model;i==null||i.setSelected(!0)},t.prototype.selectEdgeById=function(e,n){var r;n===void 0&&(n=!1),n||this.clearSelectElements();var i=(r=this.edgesMap[e])===null||r===void 0?void 0:r.model;i==null||i.setSelected(!0)},t.prototype.selectElementById=function(e,n){n===void 0&&(n=!1),n||this.clearSelectElements();var r=this.getElement(e);r==null||r.setSelected(!0)},t.prototype.clearSelectElements=function(){var e;this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===hu.DEFAULT&&((e=this.topElement)===null||e===void 0||e.setZIndex())},t.prototype.moveNodes=function(e,n,r,i){var o,a,s,l=this;i===void 0&&(i=!1);for(var u=e.reduce(function(w,S){var C,O=(C=l.nodesMap[S])===null||C===void 0?void 0:C.model;return O&&(w[S]=O.getMoveDistance(n,r,i)),w},{}),c=0;c<this.edges.length;c++){var d=this.edges[c],f=d.textPosition,h=f.x,v=f.y,m=u[d.sourceNodeId],g=u[d.targetNodeId],x=void 0,_=void 0;m&&g&&d.modelType===Vr.POLYLINE_EDGE?(o=fa(m,2),x=o[0],_=o[1],d.updatePointsList(x,_)):(m&&(a=fa(m,2),x=a[0],_=a[1],d.moveStartPoint(x,_)),g&&(s=fa(g,2),x=s[0],_=s[1],d.moveEndPoint(x,_))),(m||g)&&this.handleEdgeTextMove(d,h,v)}},t.prototype.addNodeMoveRules=function(e){this.nodeMoveRules.includes(e)||this.nodeMoveRules.push(e)},t.prototype.addNodeResizeRules=function(e){this.nodeResizeRules.includes(e)||this.nodeResizeRules.push(e)},t.prototype.setDefaultEdgeType=function(e){this.edgeType=e},t.prototype.changeNodeType=function(e,n){var r=this.getNodeModelById(e);if(!r){console.warn("找不到id为".concat(e,"的节点"));return}var i=r.getData();i.type=n;var o=this.getModel(n);if(!o)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));var a=new o(i,this);this.nodes.splice(this.nodesMap[e].index,1,a);var s=this.getNodeEdges(e);s.forEach(function(l){if(l.sourceNodeId===e){var u=DM(a,l.startPoint,a.width,a.height);l.updateStartPoint(u)}if(l.targetNodeId===e){var u=DM(a,l.endPoint,a.width,a.height);l.updateEndPoint(u)}})},t.prototype.changeEdgeType=function(e,n){var r=this.getEdgeModelById(e);if(!r){console.warn("找不到id为".concat(e,"的边"));return}if(r.type!==n){var i=r.getData();i.type=n;var o=this.getModel(n);if(!o)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));delete i.pointsList;var a=new o(i,this);this.edges.splice(this.edgesMap[e].index,1,a)}},t.prototype.getNodeIncomingEdge=function(e){var n=[];return this.edges.forEach(function(r){r.targetNodeId===e&&n.push(r)}),n},t.prototype.getNodeOutgoingEdge=function(e){var n=[];return this.edges.forEach(function(r){r.sourceNodeId===e&&n.push(r)}),n},t.prototype.getAnchorIncomingEdge=function(e){var n=[];return this.edges.forEach(function(r){r.targetAnchorId===e&&n.push(r)}),n},t.prototype.getAnchorOutgoingEdge=function(e){var n=[];return this.edges.forEach(function(r){r.sourceAnchorId===e&&n.push(r)}),n},t.prototype.getNodeIncomingNode=function(e){var n=this,r=[];return this.edges.forEach(function(i){var o;i.targetNodeId===e&&r.push((o=n.nodesMap[i.sourceNodeId])===null||o===void 0?void 0:o.model)}),r},t.prototype.getNodeOutgoingNode=function(e){var n=this,r=[];return this.edges.forEach(function(i){i.sourceNodeId===e&&r.push(n.nodesMap[i.targetNodeId].model)}),r},t.prototype.setTheme=function(e){this.theme=Pve(Tf(Tf({},this.theme),e))},t.prototype.updateGridOptions=function(e){Cu(this.grid,e)},t.prototype.updateBackgroundOptions=function(e){V_(e)||V_(this.background)?this.background=e:this.background=Tf(Tf({},this.background),e)},t.prototype.resize=function(e,n){this.width=e||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("渲染画布的时候无法获取画布宽高，请确认在container已挂载到DOM。@see https://github.com/didi/LogicFlow/issues/675")},t.prototype.clearData=function(){this.nodes=[],this.edges=[]},t.prototype.getVirtualRectSize=function(){var e=this.nodes,n=[],r=[];e.forEach(function(f){var h=f.x,v=f.y,m=f.width,g=f.height,x=f.getNodeStyle().strokeWidth,_=x===void 0?0:x,w=h+m/2+_,S=h-m/2-_,C=v+g/2+_,O=v-g/2-_;n=n.concat([w,S].filter(function(T){return!Number.isNaN(T)})),r=r.concat([C,O].filter(function(T){return!Number.isNaN(T)}))});var i=Math.min.apply(Math,gl([],fa(n),!1)),o=Math.max.apply(Math,gl([],fa(n),!1)),a=Math.min.apply(Math,gl([],fa(r),!1)),s=Math.max.apply(Math,gl([],fa(r),!1)),l=o-i||0,u=s-a||0,c=i+l/2,d=a+u/2;return{width:l,height:u,x:c,y:d}},t.prototype.translateCenter=function(){var e=this,n=e.nodes,r=e.width,i=e.height,o=e.rootEl,a=e.transformModel;if(n.length){var s=r||o.clientWidth,l=i||o.clientHeight,u=this.getVirtualRectSize(),c=u.x,d=u.y;a.focusOn(c,d,s,l)}},t.prototype.fitView=function(e,n){e===void 0&&(e=20),n===void 0&&(n=20);var r=this,i=r.nodes,o=r.width,a=r.height,s=r.rootEl,l=r.transformModel;if(i.length){var u=o||s.clientWidth,c=a||s.clientHeight,d=this.getVirtualRectSize(),f=d.width,h=d.height,v=d.x,m=d.y,g=(f+n)/u,x=(h+e)/c,_=1/Math.max(g,x),w=[u/2,c/2];l.zoom(_,w),l.focusOn(v,m,u,c)}},t.prototype.openEdgeAnimation=function(e){var n=this.getEdgeModelById(e);n==null||n.openEdgeAnimation()},t.prototype.closeEdgeAnimation=function(e){var n=this.getEdgeModelById(e);n==null||n.closeEdgeAnimation()},t.prototype.getPartial=function(){return this.partial},t.prototype.setPartial=function(e){this.partial=e},t.prototype.destroy=function(){try{this.waitCleanEffects.forEach(function(e){e()})}catch(e){console.warn("error on destroy GraphModel",e)}this.waitCleanEffects.length=0},rr([Mt],t.prototype,"width",void 0),rr([Mt],t.prototype,"height",void 0),rr([Mt],t.prototype,"grid",void 0),rr([Mt],t.prototype,"edgeType",void 0),rr([Mt],t.prototype,"nodes",void 0),rr([Mt],t.prototype,"edges",void 0),rr([Mt],t.prototype,"fakeNode",void 0),rr([Mt],t.prototype,"overlapMode",void 0),rr([Mt],t.prototype,"background",void 0),rr([Mt],t.prototype,"gridSize",void 0),rr([Mt],t.prototype,"transformModel",void 0),rr([Mt],t.prototype,"editConfigModel",void 0),rr([Mt],t.prototype,"partial",void 0),rr([Yi],t.prototype,"nodesMap",null),rr([Yi],t.prototype,"edgesMap",null),rr([Yi],t.prototype,"modelsMap",null),rr([Yi],t.prototype,"sortElements",null),rr([Yi],t.prototype,"textEditElement",null),rr([Yi],t.prototype,"selectElements",null),rr([Yi],t.prototype,"selectNodes",null),rr([Pt],t.prototype,"setTextMode",null),rr([Pt],t.prototype,"setFakeNode",null),rr([Pt],t.prototype,"removeFakeNode",null),rr([Pt],t.prototype,"setModel",null),rr([Pt],t.prototype,"toFront",null),rr([Pt],t.prototype,"setElementZIndex",null),rr([Pt],t.prototype,"deleteNode",null),rr([Pt],t.prototype,"addNode",null),rr([Pt],t.prototype,"cloneNode",null),rr([Pt],t.prototype,"moveNode",null),rr([Pt],t.prototype,"moveNode2Coordinate",null),rr([Pt],t.prototype,"editText",null),rr([Pt],t.prototype,"addEdge",null),rr([Pt],t.prototype,"moveEdge",null),rr([Pt],t.prototype,"deleteEdgeBySourceAndTarget",null),rr([Pt],t.prototype,"deleteEdgeById",null),rr([Pt],t.prototype,"deleteEdgeBySource",null),rr([Pt],t.prototype,"deleteEdgeByTarget",null),rr([Pt],t.prototype,"setElementStateById",null),rr([Pt],t.prototype,"updateText",null),rr([Pt],t.prototype,"selectNodeById",null),rr([Pt],t.prototype,"selectEdgeById",null),rr([Pt],t.prototype,"selectElementById",null),rr([Pt],t.prototype,"clearSelectElements",null),rr([Pt],t.prototype,"moveNodes",null),rr([Pt],t.prototype,"setDefaultEdgeType",null),rr([Pt],t.prototype,"changeNodeType",null),rr([Pt],t.prototype,"changeEdgeType",null),rr([Pt],t.prototype,"getNodeIncomingEdge",null),rr([Pt],t.prototype,"getNodeOutgoingEdge",null),rr([Pt],t.prototype,"getAnchorIncomingEdge",null),rr([Pt],t.prototype,"getAnchorOutgoingEdge",null),rr([Pt],t.prototype,"getNodeIncomingNode",null),rr([Pt],t.prototype,"getNodeOutgoingNode",null),rr([Pt],t.prototype,"setTheme",null),rr([Pt],t.prototype,"resize",null),rr([Pt],t.prototype,"clearData",null),rr([Pt],t.prototype,"translateCenter",null),rr([Pt],t.prototype,"fitView",null),rr([Pt],t.prototype,"openEdgeAnimation",null),rr([Pt],t.prototype,"closeEdgeAnimation",null),rr([Pt],t.prototype,"setPartial",null),t}(),ep=function(){return ep=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ep.apply(this,arguments)},w0=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},wme=function(){function t(e){this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=e}return t.prototype.getStyle=function(){return ep({},this.graphModel.theme.snapline)},t.prototype.getCenterSnapLine=function(e,n){for(var r=e.x,i=e.y,o=!1,a=!1,s=0;s<n.length;s++){var l=n[s];if(l.id!==e.id&&(r===l.x&&(o=!0),i===l.y&&(a=!0),o&&a))break}return{isShowVertical:o,isShowHorizontal:a,position:{x:r,y:i}}},t.prototype.getHorizontalSnapline=function(e,n){var r=!1,i=0,o=e.id,a;if(o){var s=this.graphModel.fakeNode;if(s&&s.id===o)a=Cs(s);else{var l=this.graphModel.getNodeModelById(o);l&&(a=Cs(l))}}for(var u=0;u<n.length;u++){var c=n[u];if(c.id!==e.id){var d=Cs(c);if(d.minY===(a==null?void 0:a.minY)||d.maxY===(a==null?void 0:a.minY)){r=!0,i=a.minY;break}if(d.minY===(a==null?void 0:a.maxY)||d.maxY===(a==null?void 0:a.maxY)){r=!0,i=a.maxY;break}}}return{isShowHorizontal:r,isShowVertical:this.isShowVertical,position:ep(ep({},this.position),{y:i})}},t.prototype.getVerticalSnapline=function(e,n){var r=!1,i=0,o=e.id,a;if(o){var s=this.graphModel.fakeNode;if(s&&s.id===o)a=Cs(s);else{var l=this.graphModel.getNodeModelById(o);l&&(a=Cs(l))}}for(var u=0;u<n.length;u++){var c=n[u];if(c.id!==e.id){var d=Cs(c);if(d.minX===(a==null?void 0:a.minX)||d.maxX===(a==null?void 0:a.minX)){r=!0,i=a.minX;break}if(d.minX===(a==null?void 0:a.maxX)||d.maxX===(a==null?void 0:a.maxX)){r=!0,i=a.maxX;break}}}return{isShowHorizontal:this.isShowHorizontal,isShowVertical:r,position:ep(ep({},this.position),{x:i})}},t.prototype.getSnapLinePosition=function(e,n){var r=this.getCenterSnapLine(e,n),i=r.isShowHorizontal,o=r.isShowVertical;if(!i){var a=this.getHorizontalSnapline(e,n);a.isShowHorizontal&&(r.isShowHorizontal=a.isShowHorizontal,r.position.y=a.position.y)}if(!o){var s=this.getVerticalSnapline(e,n);s.isShowVertical&&(r.isShowVertical=s.isShowVertical,r.position.x=s.position.x)}return r},t.prototype.setSnaplineInfo=function(e){var n=e.isShowHorizontal,r=e.isShowVertical,i=e.position;this.position=i,this.isShowHorizontal=n,this.isShowVertical=r},t.prototype.clearSnapline=function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1},t.prototype.setNodeSnapLine=function(e){var n=this.graphModel.nodes,r=this.getSnapLinePosition(e,n);this.setSnaplineInfo(r)},w0([Mt],t.prototype,"isShowHorizontal",void 0),w0([Mt],t.prototype,"isShowVertical",void 0),w0([Mt],t.prototype,"position",void 0),w0([Pt],t.prototype,"clearSnapline",null),w0([Pt],t.prototype,"setNodeSnapLine",null),t}(),iu=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},$v=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Eme={false:[-1/0,-1/0,1/0,1/0],true:[-1/0,-1/0,1/0,1/0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Cme=function(){function t(e,n){this.MINI_SCALE_SIZE=.2,this.MAX_SCALE_SIZE=16,this.SCALE_X=1,this.SKEW_Y=0,this.SKEW_X=0,this.SCALE_Y=1,this.TRANSLATE_X=0,this.TRANSLATE_Y=0,this.ZOOM_SIZE=.04,this.translateLimitMinX=-1/0,this.translateLimitMinY=-1/0,this.translateLimitMaxX=1/0,this.translateLimitMaxY=1/0,this.eventCenter=e;var r=n.stopMoveGraph,i=r===void 0?!1:r;this.updateTranslateLimits(i)}return t.prototype.setZoomMiniSize=function(e){this.MINI_SCALE_SIZE=e},t.prototype.setZoomMaxSize=function(e){this.MAX_SCALE_SIZE=e},t.prototype.HtmlPointToCanvasPoint=function(e){var n=$v(e,2),r=n[0],i=n[1];return[(r-this.TRANSLATE_X)/this.SCALE_X,(i-this.TRANSLATE_Y)/this.SCALE_Y]},t.prototype.CanvasPointToHtmlPoint=function(e){var n=$v(e,2),r=n[0],i=n[1];return[r*this.SCALE_X+this.TRANSLATE_X,i*this.SCALE_Y+this.TRANSLATE_Y]},t.prototype.moveCanvasPointByHtml=function(e,n,r){var i=$v(e,2),o=i[0],a=i[1];return[o+n/this.SCALE_X,a+r/this.SCALE_Y]},t.prototype.fixDeltaXY=function(e,n){return[e/this.SCALE_X,n/this.SCALE_Y]},t.prototype.getTransformStyle=function(){var e=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(e,")")}},t.prototype.zoom=function(e,n){e===void 0&&(e=!1);var r=this.SCALE_X,i=this.SCALE_Y;return typeof e=="number"?(r=e,i=e):e?(r+=this.ZOOM_SIZE,i+=this.ZOOM_SIZE):(r-=this.ZOOM_SIZE,i-=this.ZOOM_SIZE),r<this.MINI_SCALE_SIZE||r>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(r-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(i-this.SCALE_Y)*n[1]),this.SCALE_X=r,this.SCALE_Y=i,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))},t.prototype.emitGraphTransform=function(e){this.eventCenter.emit(ir.GRAPH_TRANSFORM,{type:e,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})},t.prototype.resetZoom=function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")},t.prototype.translate=function(e,n){this.TRANSLATE_X+e<=this.translateLimitMaxX&&this.TRANSLATE_X+e>=this.translateLimitMinX&&(this.TRANSLATE_X+=e),this.TRANSLATE_Y+n<=this.translateLimitMaxY&&this.TRANSLATE_Y+n>=this.translateLimitMinY&&(this.TRANSLATE_Y+=n),this.emitGraphTransform("translate")},t.prototype.focusOn=function(e,n,r,i){var o=$v(this.CanvasPointToHtmlPoint([e,n]),2),a=o[0],s=o[1],l=$v([r/2-a,i/2-s],2),u=l[0],c=l[1];this.TRANSLATE_X+=u,this.TRANSLATE_Y+=c,this.emitGraphTransform("focusOn")},t.prototype.updateTranslateLimits=function(e){var n;n=$v(Array.isArray(e)&&e.length===4?e:Eme[e.toString()],4),this.translateLimitMinX=n[0],this.translateLimitMinY=n[1],this.translateLimitMaxX=n[2],this.translateLimitMaxY=n[3]},iu([Mt],t.prototype,"SCALE_X",void 0),iu([Mt],t.prototype,"SKEW_Y",void 0),iu([Mt],t.prototype,"SKEW_X",void 0),iu([Mt],t.prototype,"SCALE_Y",void 0),iu([Mt],t.prototype,"TRANSLATE_X",void 0),iu([Mt],t.prototype,"TRANSLATE_Y",void 0),iu([Mt],t.prototype,"ZOOM_SIZE",void 0),iu([Pt],t.prototype,"zoom",null),iu([Pt],t.prototype,"resetZoom",null),iu([Pt],t.prototype,"translate",null),iu([Pt],t.prototype,"focusOn",null),t}(),Tme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rme=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Pme=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Ame=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Ome=function(t){Tme(e,t);function e(){var n=t.apply(this,Ame([],Pme(arguments),!1))||this;return n.handleResize=function(){n.props.graphModel.resize()},n.throttleResize=function(){return T$(n.handleResize,200)},n}return e.prototype.componentDidMount=function(){window.addEventListener("resize",this.throttleResize)},e.prototype.componentDidUpdate=function(){var n=this.props.graphModel.modelToGraphData();this.props.graphModel.eventCenter.emit(ir.GRAPH_UPDATED,{data:n})},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.throttleResize)},e.prototype.getComponent=function(n,r,i){i===void 0&&(i="canvas-overlay");var o=this.props.getView,a=o(n.type);return a?Ct(a,{model:n,graphModel:r,overlay:i},n.id):null},e.prototype.render=function(){var n=this,r=this.props,i=r.graphModel,o=r.tool,a=r.options,s=r.dnd,l=r.snaplineModel,u={};a.width&&(u.width="".concat(i.width,"px")),a.height&&(u.height="".concat(i.height,"px"));var c=i.fakeNode,d=i.editConfigModel,f=i.background,h=d.adjustEdge;return Ct("div",{className:"lf-graph","flow-id":i.flowId,style:u,children:[Ct(eme,{graphModel:i,dnd:s,children:[Ct("g",{className:"lf-base",children:rl(i.sortElements,function(v){return n.getComponent(v,i)})}),c?this.getComponent(c,i):""]}),Ct(dme,{graphModel:i,children:[Ct(pme,{graphModel:i}),h?Ct(rme,{graphModel:i}):"",a.snapline!==!1?Ct(gme,{snaplineModel:l}):""]}),Ct(xme,{graphModel:i,tool:o}),f&&Ct(ame,{background:f}),Ct(mS,{graphModel:i})]})},e=Rme([ts],e),e}(ii),Nme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nc=function(){return nc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nc.apply(this,arguments)},Mme=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Ime=function(t){Nme(e,t);function e(){var n=t.call(this)||this;return n.onDragStart=function(r){var i=r.event,o=n.props,a=o.anchorData,s=o.nodeModel,l=o.graphModel;l.selectNodeById(s.id),s.autoToFront&&l.toFront(s.id),l.eventCenter.emit(ir.ANCHOR_DRAGSTART,{data:a,e:i,nodeModel:s}),n.setState({startX:a.x,startY:a.y,endX:a.x,endY:a.y})},n.onDragging=function(r){var i=r.event,o=n.props,a=o.graphModel,s=o.nodeModel,l=o.anchorData,u=a.transformModel,c=a.eventCenter,d=a.width,f=a.height,h=a.editConfigModel,v=h.autoExpand,m=h.stopMoveGraph;if(i){var g=i.clientX,x=i.clientY,_=a.getPointByClient({x:g,y:x}),w=_.domOverlayPosition,S=w.x,C=w.y,O=_.canvasOverlayPosition,T=O.x,N=O.y;n.t&&hS(n.t);var M=[],D=10;S<10?M=[D,0]:S+10>d?M=[-D,0]:C<10?M=[0,D]:C+10>f&&(M=[0,-D]),n.setState({endX:T,endY:N,dragging:!0}),n.moveAnchorEnd(T,N),M.length>0&&!m&&v&&(n.t=WB(function(){var F=Mme(M,2),j=F[0],R=F[1];u.translate(j,R);var I=n.state,L=I.endX,k=I.endY;n.setState({endX:L-j,endY:k-R}),n.moveAnchorEnd(L-j,k-R)})),c.emit(ir.ANCHOR_DRAG,{data:l,e:i,nodeModel:s})}},n.onDragEnd=function(r){var i=r.event;n.t&&hS(n.t);var o=n.checkEnd(i);n.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var a=n.props,s=a.graphModel,l=a.nodeModel,u=a.anchorData;s.eventCenter.emit(ir.ANCHOR_DRAGEND,{data:u,e:i,nodeModel:l,edgeModel:o??void 0})},n.checkEnd=function(r){var i,o=n.props,a=o.graphModel,s=o.nodeModel,l=o.anchorData,u=l.x,c=l.y,d=l.id,f=n.state,h=f.endX,v=f.endY,m=f.dragging,g=dS({x:h,y:v},a);if(n.preTargetNode&&n.preTargetNode.state!==yi.DEFAULT&&n.preTargetNode.setElementState(yi.DEFAULT),!!m&&g&&g.node){var x=g.node,_=g.anchor.id,w="".concat(s.id,"_").concat(x.id,"_").concat(_,"_").concat(d),S=n.sourceRuleResults.get(w)||{},C=S.isAllPass,O=S.msg,T=n.targetRuleResults.get(w)||{},N=T.isAllPass,M=T.msg;if(C&&N){x.setElementState(yi.DEFAULT);var D=a.getNodeModelById(g.node.id),F=(i=a.edgeGenerator)===null||i===void 0?void 0:i.call(a,s.getData(),D==null?void 0:D.getData()),j=a.addEdge(nc(nc({},F),{sourceNodeId:s.id,sourceAnchorId:d,startPoint:{x:u,y:c},targetNodeId:g.node.id,targetAnchorId:g.anchor.id,endPoint:{x:g.anchor.x,y:g.anchor.y}})),R=n.props.anchorData;return a.eventCenter.emit(ir.ANCHOR_DROP,{data:R,e:r,nodeModel:s,edgeModel:j}),j}var I=x.getData();return a.eventCenter.emit(ir.CONNECTION_NOT_ALLOWED,{data:I,msg:M||O||"不允许添加连线"}),null}},n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},n.dragHandler=new Bl({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return e.prototype.getAnchorShape=function(){var n=this.props,r=n.anchorData,i=n.style,o=n.node,a=o.getAnchorShape(r);if(a)return a;var s=r.x,l=r.y,u=nc(nc({},i),i==null?void 0:i.hover);return Ct("g",{children:[Ct(jm,nc({className:"lf-node-anchor-hover"},u,{x:s,y:l})),Ct(jm,nc({className:"lf-node-anchor"},i,{x:s,y:l}))]})},Object.defineProperty(e.prototype,"customTrajectory",{get:function(){var n=this.props.graphModel.customTrajectory;return n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"relateEdges",{get:function(){var n=this.props,r=n.graphModel,i=r.getAnchorIncomingEdge,o=r.getAnchorOutgoingEdge,a=n.anchorData.id;return{incomingEdgeList:i(a),outgoingEdgeList:o(a)}},enumerable:!1,configurable:!0}),e.prototype.moveAnchorEnd=function(n,r){var i,o,a=this.props,s=a.graphModel,l=a.nodeModel,u=a.anchorData,c=dS({x:n,y:r},s);if(c){var d=c.node,f=c.anchor.id;if(this.preTargetNode&&this.preTargetNode!==c.node&&this.preTargetNode.setElementState(yi.DEFAULT),u.id===f)return;this.preTargetNode=d;var h="".concat(l.id,"_").concat(d.id,"_").concat(f,"_").concat(u.id);if(!this.targetRuleResults.has(h)){var v=c.anchor,m=l.isAllowConnectedAsSource(d,u,v),g=d.isAllowConnectedAsTarget(l,u,v);this.sourceRuleResults.set(h,fS(m)),this.targetRuleResults.set(h,fS(g))}var x=((i=this.sourceRuleResults.get(h))!==null&&i!==void 0?i:{}).isAllPass,_=((o=this.targetRuleResults.get(h))!==null&&o!==void 0?o:{}).isAllPass;x&&_?d.setElementState(yi.ALLOW_CONNECT):d.setElementState(yi.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==yi.DEFAULT&&this.preTargetNode.setElementState(yi.DEFAULT)},e.prototype.isShowLine=function(){var n=this.state,r=n.startX,i=n.startY,o=n.endX,a=n.endY,s=vu(r,i,o,a);return s>10},e.prototype.render=function(){var n=this,r=this.state,i=r.startX,o=r.startY,a=r.endX,s=r.endY,l=this.props,u=l.anchorData.edgeAddable,c=l.edgeStyle;return Ct("g",{className:"lf-anchor",children:[Ct("g",{onMouseDown:function(d){u!==!1&&n.dragHandler.handleMouseDown(d)},children:this.getAnchorShape()}),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(nc({sourcePoint:{x:i,y:o},targetPoint:{x:a,y:s}},c)):Ct(Fm,nc({x1:i,y1:o,x2:a,y2:s},c,{"pointer-events":"none"})))]})},e}(ii),Dme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mR=function(){return mR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mR.apply(this,arguments)},Lme=function(t){Dme(e,t);function e(n){var r=t.call(this,n)||this;return r.style={},r.onDragging=function(i){var o,a=i.event,s=r.props,l=s.graphModel,u=s.nodeModel,c=s.eventCenter,d=l.selectNodes,f=u.x,h=u.y,v=a.clientX,m=a.clientY,g=l.getPointByClient({x:v,y:m}).canvasOverlayPosition,x=g.x,_=g.y,w=new Pa(x-f,_-h),S=((o=r.normal)===null||o===void 0?void 0:o.angle(w))-r.defaultAngle,C=new tE(-f,-h).rotate(S).translate(f,h).toString();u.transform=C,u.rotate=S;var O=rl(d,function(N){return N.id});O.indexOf(u.id)===-1&&(O=[u.id]);var T=Oj(O,function(N,M){var D=l.getNodeModelById(M);return N[M]=D==null?void 0:D.getMoveDistance(0,0,!1),N},{});O.forEach(function(N){var M=l.getNodeEdges(N);M.forEach(function(D){if(T[D.sourceNodeId]){var F=l.getNodeModelById(D.sourceNodeId),j=F.anchors.find(function(R){return R.id===D.sourceAnchorId});D.updateStartPoint(j)}if(T[D.targetNodeId]){var F=l.getNodeModelById(D.targetNodeId),j=F.anchors.find(function(L){return L.id===D.targetAnchorId});D.updateEndPoint(j)}})}),c.emit(ir.NODE_ROTATE,{e:a,model:u,data:u.getData()})},r.style=n.style,r.stepperDrag=new Bl({onDragging:r.onDragging}),r}return e.prototype.render=function(){var n=this,r=this.props.nodeModel,i=r.x,o=r.y,a=r.width,s=r.height,l=i+a/2+20,u=o-s/2-20;return this.normal=new Pa(1,0),this.defaultAngle=this.normal.angle(new Pa(l-i,u-o)),r.defaultAngle=this.defaultAngle,Ct("g",{className:"lf-rotate-control",children:Ct("g",{onMouseDown:function(c){n.stepperDrag.handleMouseDown(c)},children:Ct(jm,mR({},this.style,{cx:l,cy:u}))})})},e}(ii),kme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gR=function(){return gR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gR.apply(this,arguments)},$me=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},ZB=function(t){kme(e,t);function e(n){var r=t.call(this)||this;r.mouseDownHandler=function(o){var a=r.props,s=a.draggable,l=a.model,u=a.graphModel,c=u.editConfigModel.nodeTextDraggable;(s??c)&&(r.stepperDrag.model=l,r.stepperDrag.handleMouseDown(o))},r.onDragging=function(o){var a=o.deltaX,s=o.deltaY,l=r.props,u=l.model,c=l.graphModel.transformModel;if(a||s){var d=$me(c.fixDeltaXY(a,s),2),f=d[0],h=d[1];u.moveText(f,h)}},r.dbClickHandler=function(){var o=r.props,a=o.editable,s=o.graphModel.eventCenter,l=o.model;a&&l.setElementState(yi.TEXT_EDIT),s.emit(ir.TEXT_DBCLICK,{data:l.text,model:l})};var i=n.draggable;return r.stepperDrag=new Bl({onDragging:r.onDragging,step:1,eventType:"TEXT",isStopPropagation:i}),r}return e.prototype.getShape=function(){var n=this.props,r=n.model,i=n.graphModel,o=i.editConfigModel,a=r.text,s=a.value,l=a.x,u=a.y,c=a.editable,d=a.draggable,f={x:l,y:u,className:"",value:s},h=r.getTextStyle(),v=o.nodeTextDraggable||d;return Ct(VB,gR({},f,h,{className:rt({"lf-element-text":c,"lf-text-draggable":!c&&v,"lf-text-disabled":!c&&!v}),model:r}))},e.prototype.render=function(){var n=this.props.model.text;if(n)return Ct("g",{onMouseDown:this.mouseDownHandler,onDblClick:this.dbClickHandler,children:this.getShape()})},e}(ii),Fme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),su=function(){return su=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},su.apply(this,arguments)},Px=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},jme=function(t){Fme(e,t);function e(n){var r=t.call(this,n)||this;return r.setHoverOn=function(){r.setState({isHovered:!0})},r.setHoverOff=function(){r.setState({isHovered:!1})},r.state={isHovered:!1},r}return e.prototype.getBackground=function(){var n=this.state.isHovered,r=this.props.model,i=r.text,o=r.getTextStyle(),a=o.background||{};if(n&&o.hover&&o.hover.background&&(a=su(su({},a),o.hover.background)),i!=null&&i.value&&(a==null?void 0:a.fill)!=="transparent"){var s=o.fontSize,l=o.textWidth,u=o.lineHeight,c=o.overflowMode,d=a.wrapPadding,f=i==null?void 0:i.value.split(/[\r\n]/g),h=f.length,v=i.x,m=i.y,g={};if(c==="autoWrap"&&l){var x=GB({rows:f,style:{fontSize:"".concat(s,"px"),width:"".concat(l,"px"),lineHeight:u,padding:d},rowsLength:h,className:"lf-get-text-height"});g=su(su({},a),{x:v,y:m,width:l,height:x})}else{var _=kpe({rows:f,rowsLength:h,fontSize:s}),w=_.width,S=_.height;if(c==="ellipsis"&&(w=l,S=s+2),typeof a.wrapPadding=="string"){var C=a.wrapPadding.split(",").filter(function(X){return X.trim()}).map(function(X){return parseFloat(X.trim())});if(C.length>0&&C.length<=4){if(C.length===1){var O=Px(C,1),T=O[0];C=[T,T,T,T]}else if(C.length===2){var N=Px(C,2),M=N[0],D=N[1];C=[M,D,M,D]}else if(C.length===3){var F=Px(C,3),j=F[0],D=F[1],R=F[2];C=[j,D,R,D]}var I=Px(C,4),L=I[0],k=I[1],B=I[2],q=I[3];w+=k+q,S+=L+B,v=v+(k-q)/2,m=m+(B-L)/2}}g=su(su({},a),{x:v-1,y:m-1,width:w,height:S})}return Ct(Ol,su({},g))}return null},e.prototype.getShape=function(){var n=this.props.model,r=n.text,i=r.x,o=r.y,a=r.value;if(!a)return null;var s=n.getTextStyle(),l=su({x:i,y:o,value:a,model:n,className:"lf-element-text"},s);return Ct("g",{className:"lf-line-text",onMouseEnter:this.setHoverOn,onMouseLeave:this.setHoverOff,children:[this.getBackground(),Ct(VB,su({},l))]})},e}(ZB),Bme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gS=function(){return gS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gS.apply(this,arguments)},zme=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Ax=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},uh=function(t){Bme(e,t);function e(n){var r=t.call(this)||this;r.onDragStart=function(l){var u=l.event,c=r.props,d=c.model,f=c.graphModel;if(u){var h=f.getPointByClient({x:u.clientX,y:u.clientY}).canvasOverlayPosition,v=h.x,m=h.y;r.moveOffset={dx:d.x-v,dy:d.y-m}}},r.onDragging=function(l){var u,c,d,f,h=l.event,v=r.props,m=v.model,g=v.graphModel,x=g.editConfigModel,_=x.stopMoveGraph,w=x.autoExpand,S=g.transformModel,C=g.selectNodes,O=g.width,T=g.height,N=g.gridSize;m.isDragging=!0;var M=h,D=M.clientX,F=M.clientY,j=g.getPointByClient({x:D,y:F}).canvasOverlayPosition,R=j.x,I=j.y,L=Ax(S.CanvasPointToHtmlPoint([R,I]),2),k=L[0],B=L[1];if(R=R+((c=(u=r.moveOffset)===null||u===void 0?void 0:u.dx)!==null&&c!==void 0?c:0),I=I+((f=(d=r.moveOffset)===null||d===void 0?void 0:d.dy)!==null&&f!==void 0?f:0),R=$m(R,N),I=$m(I,N),!O||!T){g.moveNode2Coordinate(m.id,R,I);return}var q=k<0||B<0||k>O||B>T;if(!(w&&!_&&q)){var X=Ax(S.CanvasPointToHtmlPoint([R-m.width/2,I-m.height/2]),2),z=X[0],H=X[1],Q=Ax(S.CanvasPointToHtmlPoint([R+m.width/2,I+m.height/2]),2),V=Q[0],W=Q[1],te=Math.max(N,20),K=[];z<0?K=[te,0]:V>g.width?K=[-te,0]:H<0?K=[0,te]:W>g.height&&(K=[0,-te]),r.t&&hS(r.t),m.transform=new tE(-R,-I).rotate(m.rotate).translate(R,I).toString();var U=C.map(function(ee){return ee.id});U.indexOf(m.id)===-1&&(U=[m.id]),K.length>0&&!_&&w?r.t=WB(function(){var ee=Ax(K,2),fe=ee[0],ve=ee[1];S.translate(fe??0,ve??0);var Ce=-(fe??0)/S.SCALE_X,ue=-(ve??0)/S.SCALE_X;g.moveNodes(U,Ce,ue)}):g.moveNodes(U,R-m.x,I-m.y)}},r.onDragEnd=function(){r.t&&hS(r.t);var l=r.props.model;l.isDragging=!1},r.onMouseOut=function(l){fpe()&&r.setHoverOff(l)},r.handleMouseUp=function(){var l=r.props.model;r.mouseUpDrag=l.isDragging},r.handleClick=function(l){var u=r.mouseUpDrag===!1;if(r.startTime){var c=r.props,d=c.model,f=c.graphModel;if(u){var h=d.getData(),v=f.getPointByClient({x:l.clientX,y:l.clientY}),m={data:h,e:l,position:v,isSelected:!1,isMultiple:!1},g=l.button===2,x=l.detail===2;if(!g){var _=f.editConfigModel,w=HB(l,_);m.isMultiple=w,d.isSelected&&!x&&w?(m.isSelected=!1,d.setSelected(!1)):(f.selectNodeById(d.id,w),m.isSelected=!0,r.toFront()),x?(_.nodeTextEdit&&d.text.editable&&_.textMode===Ml.TEXT&&(d.setSelected(!1),f.setElementStateById(d.id,yi.TEXT_EDIT)),f.eventCenter.emit(ir.NODE_DBCLICK,m)):(f.eventCenter.emit(ir.ELEMENT_CLICK,m),f.eventCenter.emit(ir.NODE_CLICK,m))}}}},r.handleContextMenu=function(l){l.preventDefault();var u=r.props,c=u.model,d=u.graphModel,f=c.getData(),h=d.getPointByClient({x:l.clientX,y:l.clientY});d.setElementStateById(c.id,yi.SHOW_MENU,h.domOverlayPosition),c.isSelected||d.selectNodeById(c.id),d.eventCenter.emit(ir.NODE_CONTEXTMENU,{data:f,e:l,position:h}),r.toFront()},r.handleMouseDown=function(l){var u=r.props,c=u.model,d=u.graphModel;r.startTime=new Date().getTime();var f=d.editConfigModel;f.adjustNodePosition&&c.draggable&&r.stepDrag&&r.stepDrag.handleMouseDown(l)},r.handleFocus=function(){var l=r.props,u=l.model,c=l.graphModel;c.eventCenter.emit(ir.NODE_FOCUS,{data:u.getData()})},r.handleBlur=function(){var l=r.props,u=l.model,c=l.graphModel;c.eventCenter.emit(ir.NODE_BLUR,{data:u.getData()})},r.setHoverOn=function(l){var u=r.props,c=u.model,d=u.graphModel;if(!c.isHovered){var f=c.getData();c.setHovered(!0),d.eventCenter.emit(ir.NODE_MOUSEENTER,{data:f,e:l})}},r.setHoverOff=function(l){var u=r.props,c=u.model,d=u.graphModel,f=c.getData();c.isHovered&&(c.setHovered(!1),d.eventCenter.emit(ir.NODE_MOUSELEAVE,{data:f,e:l}))};var i=n.graphModel,o=i.gridSize,a=i.eventCenter,s=n.model;return r.stepDrag=new Bl({onDragStart:r.onDragStart,onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:o,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:s}),r.modelDisposer=yB(function(){return r.props},function(l){l&&l.model&&r.stepDrag.setModel(l.model)}),r}return e.prototype.componentWillUnmount=function(){this.modelDisposer&&this.modelDisposer()},e.prototype.componentDidMount=function(){},e.prototype.componentDidUpdate=function(){},e.prototype.getAnchorShape=function(n){return null},e.prototype.getAnchors=function(){var n=this,r=this.props,i=r.model,o=r.graphModel,a=i.isSelected,s=i.isHitable,l=i.isDragging,u=i.isShowAnchor;return s&&(a||u)&&!l?rl(i.anchors,function(c,d){var f=i.getAnchorLineStyle(c),h=i.getAnchorStyle(c);return Ct(Ime,{anchorData:c,node:n,style:h,edgeStyle:f,anchorIndex:d,nodeModel:i,graphModel:o,setHoverOff:n.setHoverOff})}):[]},e.prototype.getRotateControl=function(){var n=this.props,r=n.model,i=n.graphModel,o=i.editConfigModel,a=o.isSilentMode,s=o.allowRotate,l=r.isSelected,u=r.isHitable,c=r.rotatable,d=r.isHovered,f=s&&c,h=r.getRotateControlStyle();if(!a&&u&&(l||d)&&f)return Ct(Lme,{graphModel:i,nodeModel:r,eventCenter:i.eventCenter,style:h})},e.prototype.getResizeControl=function(){var n=this.props,r=n.model,i=n.graphModel,o=i.editConfigModel,a=o.isSilentMode,s=o.allowResize,l=r.isSelected,u=r.isHitable,c=r.resizable,d=r.isHovered,f=s&&c,h=r.getResizeControlStyle();return!a&&u&&(l||d)&&f?Ct(cve,{style:h,model:r,graphModel:i}):null},e.prototype.getText=function(){var n,r=this.props,i=r.model,o=r.graphModel,a=o.editConfigModel;if(a.nodeTextMode!==Ml.TEXT||i.state===yi.TEXT_EDIT)return null;if(i.text){var s=!1;return a.nodeTextDraggable&&i.text.draggable&&(s=!0),Ct(ZB,{editable:a.nodeTextEdit&&((n=i.text.editable)!==null&&n!==void 0?n:!0),model:i,graphModel:o,draggable:s})}return null},e.prototype.getStateClassName=function(){var n=this.props.model,r=n.state,i=n.isDragging,o=n.isSelected,a="lf-node";switch(r){case yi.ALLOW_CONNECT:a+=" lf-node-allow";break;case yi.NOT_ALLOW_CONNECT:a+=" lf-node-not-allow";break;default:a+=" lf-node-default";break}return i&&(a+=" lf-dragging"),o&&(a+=" lf-node-selected"),a},e.prototype.toFront=function(){var n=this.props,r=n.model,i=n.graphModel;r.autoToFront&&i.toFront(r.id)},e.prototype.render=function(){var n=this.props,r=n.model,i=n.graphModel,o=i.editConfigModel,a=o.hideAnchors,s=o.adjustNodePosition,l=o.allowRotate,u=o.allowResize,c=i.gridSize,d=i.transformModel.SCALE_X,f=r.isHitable,h=r.draggable,v=r.transform,m=r.getOuterGAttributes(),g=m.className,x=g===void 0?"":g,_=zme(m,["className"]),w=Ct("g",{className:"lf-node-content",children:[Ct("g",{transform:v,children:[this.getShape(),this.getText(),l&&this.getRotateControl(),u&&this.getResizeControl()]}),!a&&this.getAnchors()]}),S;return f?(s&&h&&this.stepDrag.setStep(c*d),S=Ct("g",gS({className:"".concat(this.getStateClassName()," ").concat(x),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverOn,onMouseOver:this.setHoverOn,onMouseLeave:this.setHoverOff,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu,onFocus:this.handleFocus,onBlur:this.handleBlur},_,{children:w}))):S=Ct("g",gS({className:"".concat(this.getStateClassName()," ").concat(x)},_,{children:w})),S},e.isObserved=!1,e}(ii),Hme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yR=function(){return yR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yR.apply(this,arguments)},wp=function(t){Hme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle();return Ct(Ol,yR({},r,{x:n.x,y:n.y,width:n.width,height:n.height,radius:n.radius}))},e}(uh),Ume=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bR=function(){return bR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},bR.apply(this,arguments)},yS=function(t){Ume(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.r,a=n.getNodeStyle();return Ct(jm,bR({},a,{x:r,y:i,r:o}))},e}(uh),Gme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bS=function(){return bS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},bS.apply(this,arguments)},xS=function(t){Gme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n,i=r.x,o=r.y,a=r.width,s=r.height,l=r.points,u=n.getNodeStyle(),c={transform:"matrix(1 0 0 1 ".concat(i-a/2," ").concat(o-s/2,")")};return Ct("g",bS({},c,{children:Ct(GA,bS({},u,{points:l,x:i,y:o}))}))},e}(uh),Wme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xR=function(){return xR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xR.apply(this,arguments)},_R=function(t){Wme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle();return Ct("g",{children:Ct(GA,xR({},r,{points:n.points,x:n.x,y:n.y}))})},e}(uh),Vme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),SR=function(){return SR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},SR.apply(this,arguments)},wR=function(t){Vme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle();return Ct(rve,SR({},r,{x:n.x,y:n.y,rx:n.rx,ry:n.ry}))},e}(uh),Xme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wy=function(){return wy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wy.apply(this,arguments)},VM=function(t){Xme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBackground=function(){var n=this.props.model,r=n.getTextStyle(),i=n.width,o=n.height,a=n.x,s=n.y,l=wy(wy({},r.background),{x:a,y:s,width:i,height:o});return Ct(Ol,wy({},l))},e.prototype.getResizeControl=function(){return null},e.prototype.getShape=function(){return Ct("g",{children:this.getBackground()})},e}(uh),Kme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ER=function(){return ER=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ER.apply(this,arguments)},Yme=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},qme=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},_S=function(t){Kme(e,t);function e(){var n=t.apply(this,qme([],Yme(arguments),!1))||this;return n.ref=Xw(),n}return Object.defineProperty(e.prototype,"rootEl",{get:function(){return this.ref.current},enumerable:!1,configurable:!0}),e.prototype.setHtml=function(n){n.appendChild(document.createElement("div"))},e.prototype.confirmUpdate=function(n){this.setHtml(n)},e.prototype.shouldUpdate=function(){return this.preProperties&&this.preProperties===this.currentProperties?!1:(this.preProperties=this.currentProperties,!0)},e.prototype.componentDidMount=function(){this.shouldUpdate()&&this.rootEl&&this.setHtml(this.rootEl)},e.prototype.componentDidUpdate=function(){this.shouldUpdate()&&this.rootEl&&this.confirmUpdate(this.rootEl)},e.prototype.componentWillUnmount=function(){this.rootEl.innerHTML=""},e.prototype.getShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.height,a=n.width,s=n.getNodeStyle();return this.currentProperties=JSON.stringify(n.properties),Ct("foreignObject",ER({},s,{x:r-a/2,y:i-o/2,width:a,height:o,ref:this.ref}))},e}(uh),Zme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lu=function(){return lu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lu.apply(this,arguments)},Jme=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Qme=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},oc;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(oc||(oc={}));var XM=function(t){Zme(e,t);function e(n){var r=t.call(this)||this;r.handleMouseDown=function(l){r.stepDrag&&r.stepDrag.handleMouseDown(l)},r.onDragStart=function(){var l=r.props,u=l.x,c=l.y,d=l.edgeModel,f=d.startPoint,h=d.endPoint,v=d.pointsList;r.oldEdge={startPoint:f,endPoint:h,pointsList:v},r.setState({endX:u,endY:c,dragging:!0})},r.onDragging=function(l){var u=l.deltaX,c=l.deltaY,d=r.state,f=d.endX,h=d.endY,v=r.props,m=v.graphModel,g=v.type,x=m.transformModel,_=m.editConfigModel,w=Qme(x.moveCanvasPointByHtml([f,h],u,c),2),S=w[0],C=w[1];r.setState({endX:S,endY:C,dragging:!0});var O=r.props.edgeModel,T=dS({x:f,y:h},m);if(T&&T.node&&r.isAllowAdjust(T).pass){var N=O.startPoint,M=O.endPoint,D=O.sourceNode,F=O.targetNode,j=g===oc.SOURCE?{startPoint:{x:T.anchor.x,y:T.anchor.y},endPoint:{x:M.x,y:M.y},sourceNode:T.node,targetNode:F}:{startPoint:{x:N.x,y:N.y},endPoint:{x:T.anchor.x,y:T.anchor.y},sourceNode:D,targetNode:T.node};O.updateAfterAdjustStartAndEnd(j)}else g===oc.SOURCE?O.updateStartPoint({x:S,y:C}):O.updateEndPoint({x:S,y:C});O.text.value&&_.adjustEdge&&O.setText(Object.assign({},O.text,O.textPosition))},r.onDragEnd=function(l){var u,c,d,f=l.event;try{r.setState({dragging:!1});var h=r.props,v=h.graphModel,m=h.edgeModel,g=h.type,x=r.state,_=x.endX,w=x.endY,S=x.dragging,C=dS({x:_,y:w},v);if(!S)return;var O=!1,T=void 0;if(C&&C.node){var N=r.isAllowAdjust(C),M=N.pass,D=N.msg,F=N.newTargetNode;if(M){var j=m.getData(),R=j.text,I=j.sourceAnchorId,L=I===void 0?"":I,k=j.targetAnchorId,B=k===void 0?"":k,q=Jme(j,["text","sourceAnchorId","targetAnchorId"]);if(T=lu(lu({sourceAnchorId:L,targetAnchorId:B},q),{text:(R==null?void 0:R.value)||""}),g===oc.SOURCE){var X=v.getNodeModelById(C.node.id),z=v.getNodeModelById(m.targetNodeId),H=(u=v.edgeGenerator)===null||u===void 0?void 0:u.call(v,X==null?void 0:X.getData(),z==null?void 0:z.getData(),T);T=lu(lu({},H),{sourceNodeId:C.node.id,sourceAnchorId:C.anchor.id,startPoint:{x:C.anchor.x,y:C.anchor.y},targetNodeId:m.targetNodeId,endPoint:lu({},m.endPoint)}),m.sourceNodeId===C.node.id&&m.sourceAnchorId===C.anchor.id&&(O=!0)}else if(g===oc.TARGET){var X=v.getNodeModelById(m.sourceNodeId),z=v.getNodeModelById(C.node.id),H=(c=v.edgeGenerator)===null||c===void 0?void 0:c.call(v,X==null?void 0:X.getData(),z==null?void 0:z.getData(),T);T=lu(lu({},H),{sourceNodeId:m.sourceNodeId,startPoint:lu({},m.startPoint),targetNodeId:C.node.id,targetAnchorId:C.anchor.id,endPoint:{x:C.anchor.x,y:C.anchor.y}}),m.targetNodeId===C.node.id&&m.targetAnchorId===C.anchor.id&&(O=!0)}}else{O=!0;var Q=F.getData();v.eventCenter.emit(ir.CONNECTION_NOT_ALLOWED,{data:Q,msg:D})}}else O=!0;if(O)r.recoveryEdge();else{var V=m.getData();v.deleteEdgeById(m.id);var W=v.addEdge(lu({},T));v.eventCenter.emit(ir.EDGE_EXCHANGE_NODE,{data:{newEdge:W.getData(),oldEdge:V}})}(d=r.preTargetNode)===null||d===void 0||d.setElementState(yi.DEFAULT)}finally{var v=r.props.graphModel;v.eventCenter.emit(ir.ADJUST_POINT_DRAGEND,{e:f,data:r.stepDragData})}},r.recoveryEdge=function(){var l=r.props.edgeModel,u=r.oldEdge,c=u.startPoint,d=u.endPoint,f=u.pointsList;l.updateStartPoint(c),l.updateEndPoint(d),l.modelType!==Vr.LINE_EDGE&&(l.pointsList=f??[],l.initPoints())},r.getAdjustPointStyle=function(){var l=r.props.graphModel.theme,u=l.edgeAdjust;return u},r.state={dragging:!1,endX:0,endY:0},r.targetRuleResults=new Map,r.sourceRuleResults=new Map;var i=n.type,o=n.edgeModel,a=n.graphModel,s=a.eventCenter;return r.stepDragData={type:i,edgeData:o.getData()},r.stepDrag=new Bl({onDragStart:r.onDragStart,onDragging:r.onDragging,onDragEnd:r.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:s,data:r.stepDragData}),r}return e.prototype.isAllowAdjust=function(n){var r=this.props,i=r.edgeModel,o=i.id,a=i.sourceNode,s=i.targetNode,l=i.sourceAnchorId,u=i.targetAnchorId,c=r.type,d,f,h,v;if(c===oc.SOURCE?(d=n.node,f=s,h=n.anchor,v=s.getAnchorInfo(u)):(d=a,f=n.node,v=n.anchor,h=a.getAnchorInfo(l)),this.preTargetNode&&this.preTargetNode!==n.node&&this.preTargetNode.setElementState(yi.DEFAULT),this.preTargetNode=n.node,v.id===h.id)return{pass:!1,msg:"",newTargetNode:f};var m="".concat(d.id,"_").concat(f.id,"_").concat(h.id,"_").concat(v.id);if(!this.targetRuleResults.has(m)){var g=d.isAllowConnectedAsSource(f,h,v,o),x=f.isAllowConnectedAsTarget(d,h,v,o);this.sourceRuleResults.set(m,fS(g)),this.targetRuleResults.set(m,fS(x))}var _=this.sourceRuleResults.get(m),w=_.isAllPass,S=_.msg,C=this.targetRuleResults.get(m),O=C.isAllPass,T=C.msg,N=w&&O?yi.ALLOW_CONNECT:yi.NOT_ALLOW_CONNECT;return c===oc.SOURCE?d.setElementState(N):f.setElementState(N),{pass:w&&O,msg:T||S,newTargetNode:f}},e.prototype.render=function(){var n=this.props,r=n.x,i=n.y,o=n.getAdjustPointShape,a=n.edgeModel,s=this.state.dragging;return Ct("g",{pointerEvents:s?"none":"",onMouseDown:this.handleMouseDown,children:s?"":o(r,i,a)})},e}(ii),ege=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),CR=function(){return CR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},CR.apply(this,arguments)};(function(t){ege(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getArrowAttributes=function(){var n=this.props,r=n.arrowInfo,i=n.style,o=r.start,a=r.end,s={start:o,end:a,offset:i.offset,verticalLength:i.verticalLength,type:"end"},l=eb(s),u=l.leftX,c=l.leftY,d=l.rightX,f=l.rightY;return CR({d:"M".concat(u," ").concat(c," L").concat(a.x," ").concat(a.y," L").concat(d," ").concat(f," z")},i)},e.prototype.getShape=function(){var n=this.getArrowAttributes(),r=n.d,i=n.strokeWidth,o=n.stroke,a=n.fill;return Ct(rb,{d:r,fill:a,strokeWidth:i,stroke:o})},e.prototype.render=function(){return Ct("g",{className:"lf-arrow",children:this.getShape()})},e})(ii);var tge=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ey=function(){return Ey=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ey.apply(this,arguments)},nge=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},rE=function(t){tge(e,t);function e(){var n=t.call(this)||this;return n.textRef=Xw(),n.handleHover=function(r,i){var o=n.props,a=o.model,s=o.graphModel.eventCenter;a.setHovered(r);var l=r?ir.EDGE_MOUSEENTER:ir.EDGE_MOUSELEAVE,u=a.getData();s.emit(l,{data:u,e:i})},n.setHoverOn=function(r){var i=n.props.model.isHovered;i||(n.textRef&&n.textRef.current&&n.textRef.current.setHoverOn(),n.handleHover(!0,r))},n.setHoverOff=function(r){var i=n.props.model.isHovered;i&&(n.textRef&&n.textRef.current&&n.textRef.current.setHoverOff(),n.handleHover(!1,r))},n.handleContextMenu=function(r){r.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var i=n.props,o=i.model,a=i.graphModel,s=a.getPointByClient({x:r.clientX,y:r.clientY});a.setElementStateById(o.id,yi.SHOW_MENU,s.domOverlayPosition),n.toFront(),o.isSelected||a.selectEdgeById(o.id);var l=o==null?void 0:o.getData();a.eventCenter.emit(ir.EDGE_CONTEXTMENU,{data:l,e:r,position:s})},n.handleMouseDown=function(r){r.stopPropagation(),n.startTime=new Date().getTime()},n.handleMouseUp=function(){var r=n.props.model;n.mouseUpDrag=r.isDragging},n.handleClick=function(r){if(n.startTime&&!n.mouseUpDrag){var i=r.button===2;if(!i){var o=r.detail===2,a=n.props,s=a.model,l=a.graphModel,u=s==null?void 0:s.getData(),c=l.getPointByClient({x:r.clientX,y:r.clientY});if(o){var d=l.editConfigModel,f=l.textEditElement,h=s.id,v=s.text,m=s.modelType;if(f&&f.id===h&&l.setElementStateById(h,yi.DEFAULT),d.edgeTextEdit&&v.editable&&(s.setSelected(!1),l.setElementStateById(h,yi.TEXT_EDIT)),m===Vr.POLYLINE_EDGE){var g=s,x=l.getPointByClient({x:r.x,y:r.y}).canvasOverlayPosition,_=x.x,w=x.y;g.dbClickPosition=zB({x:_,y:w},g.points)}l.eventCenter.emit(ir.EDGE_DBCLICK,{data:u,e:r,position:c})}else l.eventCenter.emit(ir.ELEMENT_CLICK,{data:u,e:r,position:c}),l.eventCenter.emit(ir.EDGE_CLICK,{data:u,e:r,position:c});var S=l.editConfigModel;l.selectEdgeById(s.id,HB(r,S)),n.toFront()}}},n.handleFocus=function(){var r=n.props,i=r.model,o=r.graphModel;o.eventCenter.emit(ir.EDGE_FOCUS,{data:i.getData()})},n.handleBlur=function(){var r=n.props,i=r.model,o=r.graphModel;o.eventCenter.emit(ir.EDGE_BLUR,{data:i.getData()})},n}return e.prototype.getShape=function(){return Ct("g",{children:this.getEdge()})},e.prototype.getTextStyle=function(){},e.prototype.getText=function(){var n,r=this.props,i=r.model,o=r.graphModel,a=o.editConfigModel;if(a.edgeTextMode!==Ml.TEXT||i.state===yi.TEXT_EDIT)return null;if(i.text){var s=!1;return a.edgeTextDraggable&&i.text.draggable&&(s=!0),Ct(jme,{ref:this.textRef,editable:a.edgeTextEdit&&((n=i.text.editable)!==null&&n!==void 0?n:!0),model:i,graphModel:o,draggable:s})}return null},e.prototype.getArrowInfo=function(){var n=this.props.model,r=n.startPoint,i=n.endPoint,o=n.isSelected,a=this.state.hover;return{start:r,end:i,hover:a,isSelected:o}},e.prototype.getLastTwoPoints=function(){var n=this.props.model,r=n.startPoint,i=n.endPoint;return[r,i]},e.prototype.getArrowStyle=function(){return console.error("getArrowStyle is deprecated in 1.2.0, please use model.getArrowStyle"),null},e.prototype.getArrow=function(){var n=this.props.model,r=n.id,i=n.getArrowStyle(),o=i.refY,a=o===void 0?0:o,s=i.refX,l=s===void 0?2:s,u=nge(this.getLastTwoPoints(),2),c=u[0],d=u[1],f="auto";return c!==null&&d!==null&&(f=Tve(Cve({x:d.x-c.x,y:d.y-c.y,z:0}))),Ct("g",{children:Ct("defs",{children:[Ct("marker",{id:"marker-start-".concat(r),refX:-l,refY:a,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse",children:this.getStartArrow()}),Ct("marker",{id:"marker-end-".concat(r),refX:l,refY:a,overflow:"visible",orient:f,markerUnits:"userSpaceOnUse",children:this.getEndArrow()})]})})},e.prototype.getStartArrow=function(){return Ct("path",{})},e.prototype.getEndArrow=function(){var n=this.props.model,r=n.getArrowStyle(),i=r.stroke,o=r.strokeWidth,a=r.offset,s=r.verticalLength;return Ct("path",{stroke:i,fill:i,strokeWidth:o,transform:"rotate(180)",d:"M 0 0 L ".concat(a," -").concat(s," L ").concat(a," ").concat(s," Z")})},e.prototype.getAdjustPointShape=function(n,r,i){var o=i.getAdjustPointStyle();return Ct(jm,Ey({className:"lf-edge-adjust-point"},o,{x:n,y:r}))},e.prototype.getAdjustPoints=function(){var n=this.props,r=n.model,i=n.graphModel,o=i.editConfigModel,a=o.adjustEdgeStartAndEnd,s=o.adjustEdgeStart,l=o.adjustEdgeEnd,u=r.getAdjustStart(),c=r.getAdjustEnd();return Ct("g",{children:[a&&s&&Ct(XM,Ey({type:oc.SOURCE},u,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:r,graphModel:i})),a&&l&&Ct(XM,Ey({type:oc.TARGET},c,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:r,graphModel:i}))]})},e.prototype.getAnimation=function(){console.error("getAnimation is deprecated in 1.2.0, please use model.getEdgeAnimationStyle")},e.prototype.getAppendWidth=function(){return Ct("g",{})},e.prototype.getAppend=function(){return Ct("g",{className:"lf-edge-append",children:this.getAppendWidth()})},e.prototype.getEdge=function(){return null},e.prototype.toFront=function(){var n=this.props,r=n.graphModel,i=n.model;r.toFront(i.id)},e.prototype.render=function(){var n=this.props.model,r=n.isSelected,i=n.isHitable,o=n.isShowAdjustPoint;return Ct("g",{children:[Ct("g",{className:["lf-edge",!i&&"pointer-none",r&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverOn,onMouseEnter:this.setHoverOn,onMouseLeave:this.setHoverOff,onFocus:this.handleFocus,onBlur:this.handleBlur,children:[this.getShape(),this.getAppend(),this.getText(),this.getArrow()]}),o&&r?this.getAdjustPoints():""]})},e.isObserved=!1,e}(ii),rge=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TR=function(){return TR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},TR.apply(this,arguments)},ige=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},KM=function(t){rge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEdge=function(){var n=this.props.model,r=n.getEdgeStyle(),i=n,o=i.path,a=i.isAnimation,s=i.arrowConfig,l=n.getEdgeAnimationStyle(),u=l.strokeDasharray,c=l.stroke,d=l.strokeDashoffset,f=l.animationName,h=l.animationDuration,v=l.animationIterationCount,m=l.animationTimingFunction,g=l.animationDirection;return Ct(rb,TR({d:o},r,s,a?{strokeDasharray:u,stroke:c,style:{strokeDashoffset:d,animationName:f,animationDuration:h,animationIterationCount:v,animationTimingFunction:m,animationDirection:g}}:{}))},e.prototype.getAppendWidth=function(){var n=this.props.model.path;return Ct(rb,{d:n,strokeWidth:10,stroke:"transparent",fill:"none"})},e.prototype.getArrowInfo=function(){var n=this.props.model,r=this.state.hover,i=n.isSelected,o=n.getArrowStyle().offset,a=n.pointsList.map(function(d){return{x:d.x,y:d.y}}),s=ige(PM(a,o),2),l=s[0],u=s[1],c={start:l,end:u,hover:r,isSelected:i};return c},e.prototype.getLastTwoPoints=function(){var n=this.props.model,r=n.getArrowStyle().offset,i=n.pointsList.map(function(o){return{x:o.x,y:o.y}});return PM(i,r)},e}(rE),oge=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RR=function(){return RR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},RR.apply(this,arguments)},YM=function(t){oge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEdge=function(){var n=this.props.model,r=n.startPoint,i=n.endPoint,o=n.isAnimation,a=n.arrowConfig,s=n.getEdgeStyle(),l=n.getEdgeAnimationStyle(),u=l.strokeDasharray,c=l.stroke,d=l.strokeDashoffset,f=l.animationName,h=l.animationDuration,v=l.animationIterationCount,m=l.animationTimingFunction,g=l.animationDirection;return Ct(Fm,RR({},s,{x1:r.x,y1:r.y,x2:i.x,y2:i.y},a,o?{strokeDasharray:u,stroke:c,style:{strokeDashoffset:d,animationName:f,animationDuration:h,animationIterationCount:v,animationTimingFunction:m,animationDirection:g}}:{}))},e.prototype.getAppendWidth=function(){var n=this.props.model,r=n.startPoint,i=n.endPoint,o={start:r,end:i},a=Ipe(o),s=a.d,l=a.strokeWidth,u=a.fill,c=a.strokeDasharray,d=a.stroke;return Ct(rb,{d:s,fill:u,strokeWidth:l,stroke:d,strokeDasharray:c})},e}(rE),age=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tp=function(){return tp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tp.apply(this,arguments)},sge=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Hm=function(t){age(e,t);function e(){var n=t.call(this)||this;return n.onDragStart=function(){var r=n.props.model;r.dragAppendStart(),n.isShowAdjustPointTemp=r.isShowAdjustPoint,r.isShowAdjustPoint=!1},n.onDragging=function(r){var i=r.deltaX,o=r.deltaY,a=n.props,s=a.model,l=a.graphModel;n.isDragging=!0;var u=l.transformModel,c=l.editConfigModel,d=sge(u.fixDeltaXY(i,o),2),f=d[0],h=d[1],v=s,m=c.adjustEdgeMiddle;m?n.appendInfo=v.dragAppendSimple(n.appendInfo,{x:f,y:h}):n.appendInfo=v.dragAppend(n.appendInfo,{x:f,y:h})},n.onDragEnd=function(){var r,i=n.props,o=i.model,a=i.graphModel.eventCenter,s=o;s.dragAppendEnd(),n.isDragging=!1,s.isShowAdjustPoint=(r=n.isShowAdjustPointTemp)!==null&&r!==void 0?r:!1,n.appendInfo=void 0,a.emit(ir.EDGE_ADJUST,{data:s.getData()})},n.beforeDragStart=function(r,i){i.draggable&&n.drag.handleMouseDown(r),n.appendInfo=i},n.drag=new Bl({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return e.prototype.getEdge=function(){var n=this.props.model,r=n.points,i=n.isAnimation,o=n.arrowConfig,a=n.getEdgeStyle(),s=n.getEdgeAnimationStyle(),l=s.strokeDasharray,u=s.stroke,c=s.strokeDashoffset,d=s.animationName,f=s.animationDuration,h=s.animationIterationCount,v=s.animationTimingFunction,m=s.animationDirection;return Ct(ave,tp({points:r},a,o,i?{strokeDasharray:l,stroke:u,style:{strokeDashoffset:c,animationName:d,animationDuration:f,animationIterationCount:h,animationTimingFunction:v,animationDirection:m}}:{}))},e.prototype.getArrowInfo=function(){var n=this.props.model,r=n.points,i=n.isSelected,o=this.state.hover,a=Sp(r),s=a[0],l=a[0];return a.length>=2&&(s=a[a.length-2],l=a[a.length-1]),{start:s,end:l,hover:o,isSelected:i}},e.prototype.getLastTwoPoints=function(){var n=this.props.model,r=n.points,i=Sp(r),o=i[0],a=i[0];return i.length>=2&&(o=i[i.length-2],a=i[i.length-1]),[o,a]},e.prototype.getAppendAttributes=function(n){var r=n.start,i=n.end,o;if(r.x===i.x&&r.y===i.y)o="";else{var a={start:r,end:i,offset:10,verticalLength:5},s=eb(tp(tp({},a),{type:"start"})),l=eb(tp(tp({},a),{type:"end"}));o="M".concat(s.leftX," ").concat(s.leftY,`
      L`).concat(s.rightX," ").concat(s.rightY,`
      L`).concat(l.rightX," ").concat(l.rightY,`
      L`).concat(l.leftX," ").concat(l.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},e.prototype.getAppendShape=function(n){var r=this.getAppendAttributes(n),i=r.d,o=r.strokeWidth,a=r.fill,s=r.strokeDasharray,l=r.stroke;return Ct(rb,{d:i,fill:a,strokeWidth:o,stroke:l,strokeDasharray:s})},e.prototype.getAppendWidth=function(){for(var n=this,r=this.props,i=r.model,o=r.graphModel,a=i.pointsList,s=i.draggable,l=[],u=a.length,c=function(h){var v="lf-polyline-append",m={start:{x:a[h].x,y:a[h].y},end:{x:a[h+1].x,y:a[h+1].y},startIndex:h,endIndex:h+1,direction:so.HORIZONTAL,draggable:!0},g=Ct("g",{className:v,children:d.getAppendShape(m)}),x=o.editConfigModel,_=x.adjustEdge,w=x.adjustEdgeMiddle;if(_&&s){var S=m.startIndex,C=m.endIndex,O=w&&(S===0||C===u-1);m.draggable=!O,m.start.x===m.end.x?(m.draggable&&(v+="-ew-resize"),m.direction=so.VERTICAL):m.start.y===m.end.y&&(m.draggable&&(v+="-ns-resize"),m.direction=so.HORIZONTAL),g=Ct("g",{className:d.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(T){return n.beforeDragStart(T,m)},children:Ct("g",{className:v,children:d.getAppendShape(m)})})}l.push(g)},d=this,f=0;f<u-1;f++)c(f);return Ct("g",{children:l})},e}(rE),sm=function(){return sm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sm.apply(this,arguments)},lge=function(){function t(e){var n=this;this.nodeConfig=null,this.fakeNode=null,this.stopDrag=function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)},this.dragEnter=function(i){!n.nodeConfig||n.fakeNode||(n.fakeNode=n.lf.createFakeNode(sm(sm({},n.nodeConfig),n.clientToLocalPoint({x:i.clientX,y:i.clientY}))))},this.onDragOver=function(i){if(i.preventDefault(),n.fakeNode){var o=n.clientToLocalPoint({x:i.clientX,y:i.clientY}),a=o.x,s=o.y;n.fakeNode.moveTo(a,s);var l=n.fakeNode.getData();n.lf.setNodeSnapLine(l),n.lf.graphModel.eventCenter.emit(ir.NODE_DND_DRAG,{data:l,e:i})}return!1},this.onDragLeave=function(){n.fakeNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakeNode(),n.fakeNode=null)},this.onDrop=function(i){!n.lf.graphModel||!i||!n.nodeConfig||(n.lf.addNode(sm(sm({},n.nodeConfig),n.clientToLocalPoint({x:i.clientX,y:i.clientY})),ir.NODE_DND_ADD,i),i.preventDefault(),i.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakeNode(),n.fakeNode=null)};var r=e.lf;this.lf=r}return t.prototype.clientToLocalPoint=function(e){var n=e.x,r=e.y,i=Rb(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:n,y:r}),a=o.canvasOverlayPosition,s=a.x,l=a.y;return{x:$m(s,i),y:$m(l,i)}},t.prototype.startDrag=function(e){var n=this.lf.graphModel.editConfigModel;n!=null&&n.isSilentMode||(this.nodeConfig=e,window.document.addEventListener("mouseup",this.stopDrag))},t.prototype.eventMap=function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}},t}();function uge(t,e){t.on("node:mousemove",function(n){var r=n.data;e.setNodeSnapLine(r)}),t.on("node:mouseup",function(){e.clearSnapline()})}var cge=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pd=function(){return pd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pd.apply(this,arguments)},dge=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},fge=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},hge=function(t){cge(e,t);function e(n){var r=t.call(this,n)||this;return r.ref=Xw(),r.__prevText={type:"",text:"",id:""},r.keyupHandler=function(i){var o=r.props.graphModel.textEditElement;i.key==="Enter"&&i.altKey&&(o==null||o.setElementState(yi.DEFAULT))},r.inputHandler=function(i){var o=i.target.innerText,a=r.props.graphModel.textEditElement;a&&(r.__prevText={type:a.type,text:o.replace(/(\r\n)+$|(\n)+$/,""),id:a.id})},r.keydownHandler=function(i){i.stopPropagation()},r.state={style:{left:0,top:0}},r}return e.getDerivedStateFromProps=function(n){var r,i=n.textEditElement,o=n.graphModel,a=o.transformModel,s=o.theme,l=s.inputText,u;if(i){if(!(!((r=i.text)===null||r===void 0)&&r.value)&&i.BaseType===bo.EDGE){var c=i.text,d=i.textPosition,f=d.x,h=d.y;c.x=f,c.y=h,i.setText(c)}var v={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===bo.EDGE){var m=s.edgeText,g=m.overflowMode,x=m.lineHeight,_=m.wrapPadding,w=m.textWidth;w&&g==="autoWrap"&&(u=pd(pd({},v),{width:w,minWidth:w,lineHeight:x,padding:_}))}else if(i.BaseType===bo.NODE){var S=s.nodeText,g=S.overflowMode,x=S.lineHeight,_=S.wrapPadding,w=S.textWidth,C=i.width,O=i.modelType,T=i.textWidth,N=T||w||C;(O!==Vr.TEXT_NODE&&g==="autoWrap"||O===Vr.TEXT_NODE&&w)&&(u=pd(pd({},v),{width:N,minWidth:N,lineHeight:x,padding:_}))}var M=i.text,D=M.x,F=M.y,j=fge(a.CanvasPointToHtmlPoint([D,F]),2),R=j[0],I=j[1];return{style:pd(pd({left:R,top:I},u),l)}}return null},e.prototype.componentDidUpdate=function(){var n=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var r=this.__prevText,i=r.text,o=r.id;n.updateText(o,i),n.eventCenter.emit(ir.TEXT_UPDATE,{data:pd({},this.__prevText)}),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}},e.prototype.placeCaretAtEnd=function(n){if(window.getSelection!==void 0&&document.createRange!==void 0){var r=document.createRange();r.selectNodeContents(n),r.collapse(!1);var i=window.getSelection();i==null||i.removeAllRanges(),i==null||i.addRange(r)}},e.prototype.render=function(){var n,r=this.props.graphModel.textEditElement,i=this.state.style;return r?Ct("div",{contentEditable:!0,className:"lf-text-input",style:i,ref:this.ref,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler,children:(n=r.text)===null||n===void 0?void 0:n.value},r.id):null},e.toolName="text-edit-tool",e=dge([ts],e),e}(ii),pge=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vge=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},a2=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},mge=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},gge=function(t){pge(e,t);function e(n){var r=t.call(this,n)||this;r.handleMouseDown=function(s){r.stepDrag.handleMouseDown(s)},r.handleWheelEvent=function(s){var l,u;s.preventDefault();var c=s.deltaX,d=s.deltaY,f=s.clientX,h=s.clientY,v=s.ctrlKey,m=new WheelEvent("wheel",{deltaX:c,deltaY:d,clientX:f,clientY:h,ctrlKey:v});(u=(l=r.props.lf.container)===null||l===void 0?void 0:l.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||u===void 0||u.dispatchEvent(m)},r.onDragging=function(s){var l=s.deltaX,u=s.deltaY,c=r.props,d=c.graphModel,f=c.lf,h=f.getTransform(),v=h.SCALE_X,m=h.SCALE_Y,g=d.getSelectElements(!0);d.moveNodes(g.nodes.map(function(x){return x.id}),l/v,u/m)},r.handleContextMenu=function(s){s.preventDefault();var l=r.props,u=l.graphModel,c=l.graphModel,d=c.eventCenter,f=c.selectElements,h=u.getPointByClient({x:s.clientX,y:s.clientY}),v={nodes:[],edges:[]},m=mge([],a2(f.values()),!1);m.forEach(function(g){g.BaseType===bo.NODE&&v.nodes.push(g.getData()),g.BaseType===bo.EDGE&&v.edges.push(g.getData())}),d.emit(ir.SELECTION_CONTEXTMENU,{data:v,e:s,position:h})};var i=n.graphModel,o=i.gridSize,a=i.eventCenter;return r.stepDrag=new Bl({onDragging:r.onDragging,step:o,eventType:"SELECTION",eventCenter:a}),r}return e.prototype.render=function(){var n,r,i=this.props.graphModel,o=i.selectElements,a=i.transformModel,s=this.props.lf.getTransform(),l=s.SCALE_X,u=s.SCALE_Y;if(!(o.size<=1)){var c=Number.MAX_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;o.forEach(function(m){var g;m.BaseType===bo.NODE&&(g=mpe(m)),m.BaseType===bo.EDGE&&(g=xpe(m)),g!==void 0&&(c=Math.min(c,g.x),d=Math.min(d,g.y),f=Math.max(f,g.x1),h=Math.max(h,g.y1))}),n=a2(a.CanvasPointToHtmlPoint([c,d]),2),c=n[0],d=n[1],r=a2(a.CanvasPointToHtmlPoint([f,h]),2),f=r[0],h=r[1];var v={left:"".concat(c-20*l/2,"px"),top:"".concat(d-20*u/2,"px"),width:"".concat(f-c+20*l,"px"),height:"".concat(h-d+20*u,"px"),"border-width":"".concat(2*l,"px")};return Ct("div",{className:"lf-multiple-select",style:v,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}},e.toolName="multiple-select-tool",e=vge([ts],e),e}(ii),s2=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},yge=[hge,gge],bge=function(){function t(e){var n=this;this.toolMap=new Map,this.disabledToolMap=new Map,this.instance=e,Ai(yge,function(o){n.isDisabled(o.toolName)||n.registerTool(o.toolName,o)});var r=e.graphModel,i=r.eventCenter;i.on("".concat(ir.GRAPH_TRANSFORM,",").concat(ir.NODE_CLICK,",").concat(ir.BLANK_CLICK," "),function(){var o,a=r.textEditElement,s=r.editConfigModel,l=s.edgeTextEdit,u=s.nodeTextEdit;(l||u)&&a&&((o=r.textEditElement)===null||o===void 0||o.setElementState(yi.DEFAULT))})}return t.prototype.isDisabled=function(e){var n;return((n=this.instance.options.disabledTools)===null||n===void 0?void 0:n.indexOf(e))!==-1},t.prototype.registerTool=function(e,n){this.toolMap.set(e,n)},t.prototype.disableTool=function(e){var n=this.toolMap.get(e);if(n)return this.disabledToolMap.set(e,n),this.toolMap.delete(e),!0;throw new Error("禁用失败，不存在名为 ${tool} 的工具")},t.prototype.enableTool=function(e){var n=this.disabledToolMap.get(e);if(n)return this.toolMap.set(e,n),this.disabledToolMap.delete(e),!0;throw new Error("不存在名为 ${tool} 的工具")},t.prototype.getTools=function(){return Array.from(this.toolMap.values())},t.prototype.getInstance=function(){return this.instance},s2([Mt],t.prototype,"toolMap",void 0),s2([Pt],t.prototype,"disableTool",null),s2([Pt],t.prototype,"enableTool",null),t}();function xge(t){throw new Error("[mobx-utils] "+t)}function SS(t,e){e===void 0&&(e="Illegal state"),t||xge(e)}var JB=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(JB(Object.getPrototypeOf(t))||[])},_ge=function(t){var e=JB(t),n=e.filter(function(r,i){return e.indexOf(r)===i});return n},Sge=function(t){return _ge(t).filter(function(e){return e!=="constructor"&&!~e.indexOf("__")})},QB="pending",wS="fulfilled",VA="rejected";function wge(t){switch(this.state){case QB:return t.pending&&t.pending(this.value);case VA:return t.rejected&&t.rejected(this.value);case wS:return t.fulfilled?t.fulfilled(this.value):this.value}}function qM(t,e){if(SS(arguments.length<=2,"fromPromise expects up to two arguments"),SS(typeof t=="function"||typeof t=="object"&&t&&typeof t.then=="function","Please pass a promise or function to fromPromise"),t.isPromiseBasedObservable===!0)return t;typeof t=="function"&&(t=new Promise(t));var n=t;t.then(Pt("observableFromPromise-resolve",function(i){n.value=i,n.state=wS}),Pt("observableFromPromise-reject",function(i){n.value=i,n.state=VA})),n.isPromiseBasedObservable=!0,n.case=wge;var r=e&&e.state===wS?e.value:void 0;return JT(n,{value:r,state:QB},{},{deep:!1}),n}(function(t){t.reject=Pt("fromPromise.reject",function(n){var r=t(Promise.reject(n));return r.state=VA,r.value=n,r});function e(n){n===void 0&&(n=void 0);var r=t(Promise.resolve(n));return r.state=wS,r.value=n,r}t.resolve=Pt("fromPromise.resolve",e)})(qM||(qM={}));var Ox=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};(function(){function t(e,n){var r=this;dhe(function(){r.current=n,r.subscription=e.subscribe(r)})}return t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.next=function(e){this.current=e},t.prototype.complete=function(){this.dispose()},t.prototype.error=function(e){this.current=e,this.dispose()},Ox([Mt.ref],t.prototype,"current",void 0),Ox([Pt.bound],t.prototype,"next",null),Ox([Pt.bound],t.prototype,"complete",null),Ox([Pt.bound],t.prototype,"error",null),t})();var ES=function(){return ES=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ES.apply(this,arguments)},E0=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Ege=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function t(e){var n=this;this.model=e,this.localValues=Mt.map({}),this.localComputedValues=Mt.map({}),this.isPropertyDirty=function(r){return n.localValues.has(r)},SS(Ou(e),"createViewModel expects an observable object"),Sge(e).forEach(function(r){if(!(r===Ar||r==="__mobxDidRunLazyInitializers")){if(SS(Ege.indexOf(r)===-1,"The propertyname "+r+" is reserved and cannot be used with viewModels"),B3(e,r)){var i=Jw(e,r).derivation;n.localComputedValues.set(r,Yi(i.bind(n)))}var o=Object.getOwnPropertyDescriptor(e,r),a=o?{enumerable:o.enumerable}:{};Object.defineProperty(n,r,ES(ES({},a),{configurable:!0,get:function(){return B3(e,r)?n.localComputedValues.get(r).get():n.isPropertyDirty(r)?n.localValues.get(r):n.model[r]},set:Pt(function(s){s!==n.model[r]?n.localValues.set(r,s):n.localValues.delete(r)})}))}})}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var e=this;km(this.localValues).forEach(function(n){var r=e.localValues.get(n),i=e.model[n];Ec(i)?i.replace(r):Is(i)?(i.clear(),i.merge(r)):yhe(r)||(e.model[n]=r)}),this.localValues.clear()},t.prototype.reset=function(){this.localValues.clear()},t.prototype.resetProperty=function(e){this.localValues.delete(e)},E0([Yi],t.prototype,"isDirty",null),E0([Yi],t.prototype,"changedValues",null),E0([Pt.bound],t.prototype,"submit",null),E0([Pt.bound],t.prototype,"reset",null),E0([Pt.bound],t.prototype,"resetProperty",null),t})();function l2(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function u2(t){return Ou(t)||Ec(t)||Is(t)}function Cge(t,e){var n=new WeakMap;function r(s){var l=n.get(s.object);i(s,l),e(s,l2(l),t)}function i(s,l){switch(s.type){case"add":o(s.newValue,l,s.name);break;case"update":a(s.oldValue),o(s.newValue,l,s.name||""+s.index);break;case"remove":case"delete":a(s.oldValue);break;case"splice":s.removed.map(a),s.added.forEach(function(d,f){return o(d,l,""+(s.index+f))});for(var u=s.index+s.addedCount;u<s.object.length;u++)if(u2(s.object[u])){var c=n.get(s.object[u]);c&&(c.path=""+u)}break}}function o(s,l,u){if(u2(s)){var c=n.get(s);if(c){if(c.parent!==l||c.path!==u)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+l2(l)+"/"+u+"',")+(" but it already exists at '"+l2(c.parent)+"/"+c.path+"'"))}else{var d={parent:l,path:u,dispose:CB(s,r)};n.set(s,d),_he(s).forEach(function(f){var h=f[0],v=f[1];return o(v,d,h)})}}}function a(s){if(u2(s)){var l=n.get(s);if(!l)return;n.delete(s),l.dispose(),xhe(s).forEach(a)}}return o(t,void 0,""),function(){a(t)}}var Tge=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Tge(e,t);function e(n,r,i){var o=i===void 0?{}:i,a=o.name,s=a===void 0?"ogm"+(Math.random()*1e3|0):a,l=o.keyToName,u=l===void 0?function(f){return""+f}:l,c=t.call(this)||this;c._keyToName=u,c._groupBy=r,c._ogmInfoKey=Symbol("ogmInfo"+s),c._base=n;for(var d=0;d<n.length;d++)c._addItem(n[d]);return c._disposeBaseObserver=CB(c._base,function(f){if(f.type==="splice")fu(function(){for(var h=0,v=f.removed;h<v.length;h++){var m=v[h];c._removeItem(m)}for(var g=0,x=f.added;g<x.length;g++){var _=x[g];c._addItem(_)}});else if(f.type==="update")fu(function(){c._removeItem(f.oldValue),c._addItem(f.newValue)});else throw new Error("illegal state")}),c}return e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(n){throw new Error("not supported")},e.prototype.set=function(n,r){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var n=0;n<this._base.length;n++){var r=this._base[n],i=r[this._ogmInfoKey];i.reaction(),delete r[this._ogmInfoKey]}},e.prototype._getGroupArr=function(n){var r=t.prototype.get.call(this,n);return r===void 0&&(r=Mt([],{name:"GroupArray["+this._keyToName(n)+"]",deep:!1}),t.prototype.set.call(this,n,r)),r},e.prototype._removeFromGroupArr=function(n,r){var i=t.prototype.get.call(this,n);i.length===1?t.prototype.delete.call(this,n):(r===i.length-1||(i[r]=i[i.length-1],i[r][this._ogmInfoKey].groupArrIndex=r),i.length--)},e.prototype._addItem=function(n){var r=this,i=this._groupBy(n),o=this._getGroupArr(i),a={groupByValue:i,groupArrIndex:o.length,reaction:yB(function(){return r._groupBy(n)},function(s,l){var u=n[r._ogmInfoKey];r._removeFromGroupArr(u.groupByValue,u.groupArrIndex);var c=r._getGroupArr(s),d=c.length;c.push(n),u.groupByValue=s,u.groupArrIndex=d})};Object.defineProperty(n,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:a}),o.push(n)},e.prototype._removeItem=function(n){var r=n[this._ogmInfoKey];this._removeFromGroupArr(r.groupByValue,r.groupArrIndex),r.reaction(),delete n[this._ogmInfoKey]},e})(FA);Promise.resolve(),typeof queueMicrotask<"u"||typeof process<"u"&&process.nextTick;var PR=function(){return PR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},PR.apply(this,arguments)},Rge=function(){function t(e){this.undos=[],this.redos=[],this.callbacks=[],this.stopWatch=null,this.curData=null,this.maxSize=50,this.waitTime=100,this.eventCenter=e}return t.prototype.add=function(e){Yy(nl(this.undos),e)||(this.undos.push(e),Yy(this.curData,e)||(this.redos=[]),this.eventCenter.emit(ir.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undoAble(),redoAble:this.redoAble()}}),this.undos.length>this.maxSize&&this.undos.shift())},t.prototype.undoAble=function(){return this.undos.length>1},t.prototype.undo=function(){if(this.undoAble()){var e=this.undos.pop();this.redos.push(e);var n=this.undos.pop();return this.curData=Mr(n),n}},t.prototype.redoAble=function(){return this.redos.length>0},t.prototype.redo=function(){if(this.redoAble()){var e=this.redos.pop();return this.curData=Mr(e),e}},t.prototype.watch=function(e){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(e.modelToGraphData()),this.stopWatch=Cge(e,FP(function(){var r=e.modelToHistoryData();r&&n.add(PR({},r))},this.waitTime))},t}(),e9={exports:{}};(function(t){(function(e,n,r){if(!e)return;for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},o={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},s={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,u=1;u<20;++u)i[111+u]="f"+u;for(u=0;u<=9;++u)i[u+96]=u.toString();function c(T,N,M){if(T.addEventListener){T.addEventListener(N,M,!1);return}T.attachEvent("on"+N,M)}function d(T){if(T.type=="keypress"){var N=String.fromCharCode(T.which);return T.shiftKey||(N=N.toLowerCase()),N}return i[T.which]?i[T.which]:o[T.which]?o[T.which]:String.fromCharCode(T.which).toLowerCase()}function f(T,N){return T.sort().join(",")===N.sort().join(",")}function h(T){var N=[];return T.shiftKey&&N.push("shift"),T.altKey&&N.push("alt"),T.ctrlKey&&N.push("ctrl"),T.metaKey&&N.push("meta"),N}function v(T){if(T.preventDefault){T.preventDefault();return}T.returnValue=!1}function m(T){if(T.stopPropagation){T.stopPropagation();return}T.cancelBubble=!0}function g(T){return T=="shift"||T=="ctrl"||T=="alt"||T=="meta"}function x(){if(!l){l={};for(var T in i)T>95&&T<112||i.hasOwnProperty(T)&&(l[i[T]]=T)}return l}function _(T,N,M){return M||(M=x()[T]?"keydown":"keypress"),M=="keypress"&&N.length&&(M="keydown"),M}function w(T){return T==="+"?["+"]:(T=T.replace(/\+{2}/g,"+plus"),T.split("+"))}function S(T,N){var M,D,F,j=[];for(M=w(T),F=0;F<M.length;++F)D=M[F],s[D]&&(D=s[D]),N&&N!="keypress"&&a[D]&&(D=a[D],j.push("shift")),g(D)&&j.push(D);return N=_(D,j,N),{key:D,modifiers:j,action:N}}function C(T,N){return T===null||T===n?!1:T===N?!0:C(T.parentNode,N)}function O(T){var N=this;if(T=T||n,!(N instanceof O))return new O(T);N.target=T,N._callbacks={},N._directMap={};var M={},D,F=!1,j=!1,R=!1;function I(H){H=H||{};var Q=!1,V;for(V in M){if(H[V]){Q=!0;continue}M[V]=0}Q||(R=!1)}function L(H,Q,V,W,te,K){var U,ee,fe=[],ve=V.type;if(!N._callbacks[H])return[];for(ve=="keyup"&&g(H)&&(Q=[H]),U=0;U<N._callbacks[H].length;++U)if(ee=N._callbacks[H][U],!(!W&&ee.seq&&M[ee.seq]!=ee.level)&&ve==ee.action&&(ve=="keypress"&&!V.metaKey&&!V.ctrlKey||f(Q,ee.modifiers))){var Ce=!W&&ee.combo==te,ue=W&&ee.seq==W&&ee.level==K;(Ce||ue)&&N._callbacks[H].splice(U,1),fe.push(ee)}return fe}function k(H,Q,V,W){N.stopCallback(Q,Q.target||Q.srcElement,V,W)||H(Q,V)===!1&&(v(Q),m(Q))}N._handleKey=function(H,Q,V){var W=L(H,Q,V),te,K={},U=0,ee=!1;for(te=0;te<W.length;++te)W[te].seq&&(U=Math.max(U,W[te].level));for(te=0;te<W.length;++te){if(W[te].seq){if(W[te].level!=U)continue;ee=!0,K[W[te].seq]=1,k(W[te].callback,V,W[te].combo,W[te].seq);continue}ee||k(W[te].callback,V,W[te].combo)}var fe=V.type=="keypress"&&j;V.type==R&&!g(H)&&!fe&&I(K),j=ee&&V.type=="keydown"};function B(H){typeof H.which!="number"&&(H.which=H.keyCode);var Q=d(H);if(Q){if(H.type=="keyup"&&F===Q){F=!1;return}N.handleKey(Q,h(H),H)}}function q(){clearTimeout(D),D=setTimeout(I,1e3)}function X(H,Q,V,W){M[H]=0;function te(ve){return function(){R=ve,++M[H],q()}}function K(ve){k(V,ve,H),W!=="keyup"&&(F=d(ve)),setTimeout(I,10)}for(var U=0;U<Q.length;++U){var ee=U+1===Q.length,fe=ee?K:te(W||S(Q[U+1]).action);z(Q[U],fe,W,H,U)}}function z(H,Q,V,W,te){N._directMap[H+":"+V]=Q,H=H.replace(/\s+/g," ");var K=H.split(" "),U;if(K.length>1){X(H,K,Q,V);return}U=S(H,V),N._callbacks[U.key]=N._callbacks[U.key]||[],L(U.key,U.modifiers,{type:U.action},W,H,te),N._callbacks[U.key][W?"unshift":"push"]({callback:Q,modifiers:U.modifiers,action:U.action,seq:W,level:te,combo:H})}N._bindMultiple=function(H,Q,V){for(var W=0;W<H.length;++W)z(H[W],Q,V)},c(T,"keypress",B),c(T,"keydown",B),c(T,"keyup",B)}O.prototype.bind=function(T,N,M){var D=this;return T=T instanceof Array?T:[T],D._bindMultiple.call(D,T,N,M),D},O.prototype.unbind=function(T,N){var M=this;return M.bind.call(M,T,function(){},N)},O.prototype.trigger=function(T,N){var M=this;return M._directMap[T+":"+N]&&M._directMap[T+":"+N]({},T),M},O.prototype.reset=function(){var T=this;return T._callbacks={},T._directMap={},T},O.prototype.stopCallback=function(T,N){var M=this;if((" "+N.className+" ").indexOf(" mousetrap ")>-1||C(N,M.target))return!1;if("composedPath"in T&&typeof T.composedPath=="function"){var D=T.composedPath()[0];D!==T.target&&(N=D)}return N.tagName=="INPUT"||N.tagName=="SELECT"||N.tagName=="TEXTAREA"||N.isContentEditable},O.prototype.handleKey=function(){var T=this;return T._handleKey.apply(T,arguments)},O.addKeycodes=function(T){for(var N in T)T.hasOwnProperty(N)&&(i[N]=T[N]);l=null},O.init=function(){var T=O(n);for(var N in T)N.charAt(0)!=="_"&&(O[N]=function(M){return function(){return T[M].apply(T,arguments)}}(N))},O.init(),e.Mousetrap=O,t.exports&&(t.exports=O)})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(e9);var Pge=e9.exports;const Age=Ua(Pge);var Ku=null;function ZM(t,e){return t.x+=e,t.y+=e,Bw(t.text)||(t.text.x+=e,t.text.y+=e),t}function JM(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),Bw(t.text)||(t.text.x+=e,t.text.y+=e),t}var Fv=40,Nx=40;function Oge(t,e){var n=t.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],function(){if(Nx=Fv,!(r!=null&&r.enabled)||e.textEditElement)return!0;var i=t.options.guards,o=e.getSelectElements(!1),a=i&&i.beforeClone?i.beforeClone(o):!0;return!a||o.nodes.length===0&&o.edges.length===0?(Ku=null,!0):(Ku=o,Ku.nodes.forEach(function(s){return ZM(s,Fv)}),Ku.edges.forEach(function(s){return JM(s,Fv)}),!1)}),n.on(["cmd + v","ctrl + v"],function(){if(!(r!=null&&r.enabled)||e.textEditElement)return!0;if(Ku&&(Ku.nodes||Ku.edges)){t.clearSelectElements();var i=t.addElements(Ku,Nx);if(!i)return!0;i.nodes.forEach(function(o){return t.selectElementById(o.id,!0)}),i.edges.forEach(function(o){return t.selectElementById(o.id,!0)}),Ku.nodes.forEach(function(o){return ZM(o,Fv)}),Ku.edges.forEach(function(o){return JM(o,Fv)}),Nx=Nx+Fv}return!1}),n.on(["cmd + z","ctrl + z"],function(){return!(r!=null&&r.enabled)||e.textEditElement?!0:(t.undo(),!1)}),n.on(["cmd + y","ctrl + y"],function(){return!(r!=null&&r.enabled)||e.textEditElement?!0:(t.redo(),!1)}),n.on(["backspace"],function(){if(!(r!=null&&r.enabled)||e.textEditElement)return!0;var i=e.getSelectElements(!0);return t.clearSelectElements(),i.edges.forEach(function(o){return o.id&&t.deleteEdge(o.id)}),i.nodes.forEach(function(o){return o.id&&t.deleteNode(o.id)}),!1})}var Nge=function(){function t(e){e.keyboard||(e.keyboard={enabled:!1}),this.options=e;var n=e.lf;this.target=n.container,this.mousetrap=new Age(this.target),e.keyboard.enabled&&!n.options.isSilentMode&&this.enable(!0)}return t.prototype.initShortcuts=function(){var e=this,n,r=((n=this.options.keyboard)!==null&&n!==void 0?n:{}).shortcuts;if(r)if(Fi(r))r.forEach(function(s){var l=s.keys,u=s.callback,c=s.action;return e.on(l,u,c)});else{var i=r.keys,o=r.callback,a=r.action;this.on(i,o,a)}},t.prototype.on=function(e,n,r){this.mousetrap.bind(this.getKeys(e),n,r)},Object.defineProperty(t.prototype,"disabled",{get:function(){var e,n;return((n=(e=this.options)===null||e===void 0?void 0:e.keyboard)===null||n===void 0?void 0:n.enabled)!==!0},enumerable:!1,configurable:!0}),t.prototype.off=function(e,n){this.mousetrap.unbind(this.getKeys(e),n)},t.prototype.enable=function(e){(this.disabled||e)&&(this.options.keyboard&&(this.options.keyboard.enabled=!0),this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))},t.prototype.disable=function(){this.disabled||(this.options.keyboard&&(this.options.keyboard.enabled=!1),this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))},t.prototype.getKeys=function(e){var n=this;return(Array.isArray(e)?e:[e]).map(function(r){return n.formatKey(r)})},t.prototype.formatKey=function(e){return e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")},t}(),Rf=function(){return Rf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rf.apply(this,arguments)},Mx=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},c2=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},d2=Symbol("plugin registered by Logicflow.use"),AR=function(){function t(e){var n=this,r;this.viewMap=new Map,this.components=[],this.extension={},this.setView=function(u,c){return n.viewMap.set(u,c)},this.getView=function(u){return n.viewMap.get(u)};var i=Jy.get(e),o=i.container,a=i.width,s=i.height;this.options=i,this.container=this.initContainer(o,a,s),this.graphModel=new Sme(Rf(Rf({},i),{container:this.container})),this.plugins=(r=i.plugins)!==null&&r!==void 0?r:[];var l=this.graphModel.eventCenter;this.tool=new bge(this),this.dnd=new lge({lf:this}),this.history=new Rge(l),this.keyboard=new Nge({lf:this,keyboard:i.keyboard}),i.snapline!==!1&&(this.snaplineModel=new wme(this.graphModel),uge(l,this.snaplineModel)),i.isSilentMode||(Oge(this,this.graphModel),this.keyboard.initShortcuts()),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}return t.prototype.initContainer=function(e,n,r){var i=document.createElement("div");return i.style.position="relative",i.style.width=n?"".concat(n,"px"):"100%",i.style.height=r?"".concat(r,"px"):"100%",e.innerHTML="",e.appendChild(i),i},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return t.toStringTag},enumerable:!1,configurable:!0}),t.prototype.register=function(e,n,r){if(r===void 0&&(r=!0),typeof e!="string"){this.registerElement(e);return}var i={BaseEdge:rE,BaseEdgeModel:nE,BaseNode:uh,BaseNodeModel:lh,RectNode:wp,RectNodeModel:zm,CircleNode:yS,CircleNodeModel:pS,PolygonNode:xS,PolygonNodeModel:vS,TextNode:VM,TextNodeModel:GM,LineEdge:YM,LineEdgeModel:BM,DiamondNode:_R,DiamondNodeModel:hR,PolylineEdge:Hm,PolylineEdgeModel:Bm,BezierEdge:KM,BezierEdgeModel:FM,EllipseNode:wR,EllipseNodeModel:pR,HtmlNode:_S,HtmlNodeModel:ob,h:fr,type:e};if(this.viewMap.forEach(function(u){var c=u.extendKey;c&&(i[c]=u)}),this.graphModel.modelMap.forEach(function(u){var c=u.extendKey;c&&(i[c]=u)}),n){var o=n(i),a=o.view,s=o.model,l=a;r&&!l.isObserved&&(l.isObserved=!0,l=ts(l)),this.setView(e,l),this.graphModel.setModel(e,s)}},t.prototype.registerElement=function(e){var n=e.view;e.isObserverView!==!1&&!n.isObserved&&(n.isObserved=!0,n=ts(n)),this.setView(e.type,n),this.graphModel.setModel(e.type,e.model)},t.prototype.batchRegister=function(e){var n=this;e===void 0&&(e=[]),Ai(e,function(r){n.registerElement(r)})},t.prototype.defaultRegister=function(){var e=[{type:"rect",view:wp,model:zm},{type:"circle",view:yS,model:pS},{type:"polygon",view:xS,model:vS},{type:"text",view:VM,model:GM},{type:"ellipse",view:wR,model:pR},{type:"diamond",view:_R,model:hR},{type:"html",view:_S,model:ob},{type:"line",view:YM,model:BM},{type:"polyline",view:Hm,model:Bm},{type:"bezier",view:KM,model:FM}];this.batchRegister(e)},t.prototype.addNode=function(e,n,r){return n===void 0&&(n=ir.NODE_ADD),this.graphModel.addNode(e,n,r)},t.prototype.deleteNode=function(e){var n=this.graphModel.getNodeModelById(e);if(!n)return!1;var r=n.getData(),i=this.options.guards,o=i!=null&&i.beforeDelete?i.beforeDelete(r):!0;return o&&this.graphModel.deleteNode(e),o},t.prototype.cloneNode=function(e){var n=this.graphModel.getNodeModelById(e),r=n==null?void 0:n.getData();if(r){var i=this.options.guards,o=i!=null&&i.beforeClone?i.beforeClone(r):!0;if(o)return this.graphModel.cloneNode(e)}},t.prototype.changeNodeId=function(e,n){return this.graphModel.changeNodeId(e,n)},t.prototype.changeNodeType=function(e,n){this.graphModel.changeNodeType(e,n)},t.prototype.getNodeModelById=function(e){return this.graphModel.getNodeModelById(e)},t.prototype.getNodeDataById=function(e){var n=this.getNodeModelById(e);return n==null?void 0:n.getData()},t.prototype.getNodeIncomingEdge=function(e){return this.graphModel.getNodeIncomingEdge(e)},t.prototype.getNodeOutgoingEdge=function(e){return this.graphModel.getNodeOutgoingEdge(e)},t.prototype.getNodeIncomingNode=function(e){return this.graphModel.getNodeIncomingNode(e)},t.prototype.getNodeOutgoingNode=function(e){return this.graphModel.getNodeOutgoingNode(e)},t.prototype.createFakeNode=function(e){var n=this.graphModel.modelMap.get(e.type);if(!n)return console.warn("不存在为".concat(e.type,"类型的节点")),null;var r=new n(Rf(Rf({},e),{virtual:!0}),this.graphModel);return this.graphModel.setFakeNode(r),r},t.prototype.removeFakeNode=function(){this.graphModel.removeFakeNode()},t.prototype.setNodeSnapLine=function(e){var n;(n=this.snaplineModel)===null||n===void 0||n.setNodeSnapLine(e)},t.prototype.removeNodeSnapLine=function(){var e;(e=this.snaplineModel)===null||e===void 0||e.clearSnapline()},t.prototype.setDefaultEdgeType=function(e){this.graphModel.setDefaultEdgeType(e)},t.prototype.addEdge=function(e){return this.graphModel.addEdge(e)},t.prototype.getEdgeDataById=function(e){var n=this.getEdgeModelById(e);return n==null?void 0:n.getData()},t.prototype.getEdgeModelById=function(e){return this.graphModel.getEdgeModelById(e)},t.prototype.getEdgeModels=function(e){var n=e.sourceNodeId,r=e.targetNodeId,i=[],o=this.graphModel.edges;return n&&r?Ai(o,function(a){a.sourceNodeId===n&&a.targetNodeId===r&&i.push(a)}):n?Ai(o,function(a){a.sourceNodeId===n&&i.push(a)}):r&&Ai(o,function(a){a.targetNodeId===r&&i.push(a)}),i},t.prototype.changeEdgeId=function(e,n){return this.graphModel.changeEdgeId(e,n)},t.prototype.changeEdgeType=function(e,n){this.graphModel.changeEdgeType(e,n)},t.prototype.deleteEdge=function(e){var n=this.graphModel.getEdgeModelById(e);if(!n)return!1;var r=n.getData(),i=this.options.guards,o=i!=null&&i.beforeDelete?i.beforeDelete(r):!0;return o&&this.graphModel.deleteEdgeById(e),o},t.prototype.deleteEdgeByNodeId=function(e){var n=e.sourceNodeId,r=e.targetNodeId;n&&r?this.graphModel.deleteEdgeBySourceAndTarget(n,r):n?this.graphModel.deleteEdgeBySource(n):r&&this.graphModel.deleteEdgeByTarget(r)},t.prototype.getNodeEdges=function(e){return this.graphModel.getNodeEdges(e)},t.prototype.addElements=function(e,n){var r=this,i=e.nodes,o=e.edges;n===void 0&&(n=40),console.log("distance",n);var a={},s={nodes:[],edges:[]};return Ai(i,function(l){var u=l.id,c=r.addNode(l);u&&(a[u]=c.id),s.nodes.push(c)}),Ai(o,function(l){var u=l.sourceNodeId,c=l.targetNodeId;a[u]&&(u=a[u]),a[c]&&(c=a[c]);var d=r.graphModel.addEdge(Rf(Rf({},l),{sourceNodeId:u,targetNodeId:c}));s.edges.push(d)}),s},t.prototype.selectElementById=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),this.graphModel.selectElementById(e,n),!n&&r&&this.graphModel.toFront(e)},t.prototype.getSelectElements=function(e){return e===void 0&&(e=!0),this.graphModel.getSelectElements(e)},t.prototype.clearSelectElements=function(){this.graphModel.clearSelectElements()},t.prototype.getModelById=function(e){return this.graphModel.getElement(e)},t.prototype.getDataById=function(e){var n;return(n=this.graphModel.getElement(e))===null||n===void 0?void 0:n.getData()},t.prototype.deleteElement=function(e){var n,r,i,o=this.getModelById(e);if(!o)return!1;var a=(n={},n[bo.NODE]=this.deleteNode,n[bo.EDGE]=this.deleteEdge,n);return(i=(r=a[o.BaseType])===null||r===void 0?void 0:r.call(this,e))!==null&&i!==void 0?i:!1},t.prototype.setElementZIndex=function(e,n){return this.graphModel.setElementZIndex(e,n)},t.prototype.getAreaElement=function(e,n,r,i,o){return r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=!1),this.graphModel.getAreaElement(e,n,r,i,o).map(function(a){return a.getData()})},t.prototype.setProperties=function(e,n){var r;(r=this.graphModel.getElement(e))===null||r===void 0||r.setProperties(ja(n))},t.prototype.getProperties=function(e){var n;return(n=this.graphModel.getElement(e))===null||n===void 0?void 0:n.getProperties()},t.prototype.deleteProperty=function(e,n){var r;(r=this.graphModel.getElement(e))===null||r===void 0||r.deleteProperty(n)},t.prototype.updateAttributes=function(e,n){this.graphModel.updateAttributes(e,n)},t.prototype.editText=function(e){this.graphModel.editText(e)},t.prototype.updateText=function(e,n){this.graphModel.updateText(e,n)},t.prototype.updateEditConfig=function(e){var n=this.graphModel,r=n.editConfigModel,i=n.transformModel;r.updateEditConfig(e),(e==null?void 0:e.stopMoveGraph)!==void 0&&i.updateTranslateLimits(e.stopMoveGraph),e!=null&&e.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)},t.prototype.getEditConfig=function(){return this.graphModel.editConfigModel.getConfig()},t.prototype.setTheme=function(e){this.graphModel.setTheme(e)},t.prototype.focusByElement=function(e){var n=void 0,r=this.getNodeModelById(e);if(r){var i=r.getData(),o=i.x,a=i.y;n={x:o,y:a}}var s=this.getEdgeModelById(e);if(s){var l=s.textPosition,o=l.x,a=l.y;n={x:o,y:a}}n&&this.focusByCoordinate(n)},t.prototype.focusByCoordinate=function(e){var n=this.graphModel,r=n.transformModel,i=n.width,o=n.height,a=e.x,s=e.y;r.focusOn(a,s,i,o)},t.prototype.focusOn=function(e){if(typeof e=="string")this.focusByElement(e);else if("x"in e&&"y"in e)this.focusByCoordinate(e);else{var n=e.id,r=e.coordinate;n&&this.focusByElement(n),r&&this.focusByCoordinate(r)}},t.prototype.resize=function(e,n){this.graphModel.resize(e,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height},t.prototype.toFront=function(e){this.graphModel.toFront(e)},t.prototype.getPointByClient=function(e,n){if(typeof e=="object")return this.graphModel.getPointByClient(e);if(typeof n=="number")return this.graphModel.getPointByClient({x:e,y:n})},t.prototype.getGraphData=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this.getGraphRawData();return this.adapterOut?this.adapterOut.apply(this,c2([r],Mx(e),!1)):r},t.prototype.getGraphRawData=function(){return this.graphModel.modelToGraphData()},t.prototype.clearData=function(){this.graphModel.clearData()},t.prototype.renderRawData=function(e){this.graphModel.graphDataToModel(ja(e)),this.options.history!==!1&&this.history.watch(this.graphModel),rpe(Ct(Ome,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(ir.GRAPH_RENDERED,{data:this.graphModel.modelToGraphData(),graphModel:this.graphModel})},t.prototype.render=function(e){var n=Mr(e);this.adapterIn&&(n=this.adapterIn(n)),this.renderRawData(n)},t.prototype.undo=function(){if(this.history.undoAble()){var e=ja(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}},t.prototype.redo=function(){if(this.history.redoAble()){var e=ja(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}},t.prototype.zoom=function(e,n){var r=this.graphModel.transformModel;return r.zoom(e,n)},t.prototype.resetZoom=function(){var e=this.graphModel.transformModel;e.resetZoom()},t.prototype.setZoomMiniSize=function(e){var n=this.graphModel.transformModel;n.setZoomMiniSize(e)},t.prototype.setZoomMaxSize=function(e){var n=this.graphModel.transformModel;n.setZoomMaxSize(e)},t.prototype.getTransform=function(){var e=this.graphModel.transformModel,n=e.SCALE_X,r=e.SCALE_Y,i=e.TRANSLATE_X,o=e.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:r,TRANSLATE_X:i,TRANSLATE_Y:o}},t.prototype.translate=function(e,n){var r=this.graphModel.transformModel;r.translate(e,n)},t.prototype.resetTranslate=function(){var e=this.graphModel.transformModel,n=e.TRANSLATE_X,r=e.TRANSLATE_Y;this.translate(-n,-r)},t.prototype.translateCenter=function(){this.graphModel.translateCenter()},t.prototype.fitView=function(e,n){n===void 0&&(n=e),this.graphModel.fitView(e,n)},t.prototype.openEdgeAnimation=function(e){this.graphModel.openEdgeAnimation(e)},t.prototype.closeEdgeAnimation=function(e){this.graphModel.closeEdgeAnimation(e)},t.prototype.on=function(e,n){this.graphModel.eventCenter.on(e,n)},t.prototype.off=function(e,n){this.graphModel.eventCenter.off(e,n)},t.prototype.once=function(e,n){this.graphModel.eventCenter.once(e,n)},t.prototype.emit=function(e,n){this.graphModel.eventCenter.emit(e,n)},t.use=function(e,n){var r,i=e.pluginName;if(!i)throw new Error("请给插件指定 pluginName!");this.extensions.set(i,(r={},r[d2]=d2,r.extension=e,r.props=n,r))},t.prototype.installPlugins=function(e){var n=this;e===void 0&&(e=[]);var r=Array.from(t.extensions,function(o){var a=Mx(o,2),s=a[1];return s}),i=c2(c2([],Mx(this.plugins),!1),Mx(r),!1);Ai(i,function(o){var a,s;d2 in o?(a=o.extension,s=o.props):a=o;var l=a==null?void 0:a.pluginName;aj(e,l)===-1&&n.installPlugin(a,s)})},t.prototype.installPlugin=function(e,n){var r,i;if("pluginName"in e&&"install"in e){var o=e.pluginName,a=e.install,s=e.render;o&&(a&&a.call(e,this,t),s&&this.components.push(s.bind(e)),this.extension[o]=e);return}var l=e,u=l.pluginName,c=new l({lf:this,LogicFlow:t,props:n,options:(i=(r=this.options.pluginsOptions)===null||r===void 0?void 0:r[u])!==null&&i!==void 0?i:{}});c.render&&this.components.push(c.render.bind(c)),this.extension[u]=c},t.prototype.destroy=function(){this.graphModel.destroy()},t.extensions=new Map,t}();(function(t){t.toStringTag="LF.".concat(t.name)})(AR||(AR={}));const Mge=AR;function ts(t){return zA(t)}var Ige=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),np=function(){return np=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},np.apply(this,arguments)},Dge=function(t){Ige(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setAttributes=function(){console.log("this.properties",this.properties);var n=this.properties,r=n.width,i=n.height,o=n.radius;r&&(this.width=r),i&&(this.height=i),o&&(this.radius=o)},e.prototype.getTextStyle=function(){var n=this.properties,r=n.refX,i=r===void 0?0:r,o=n.refY,a=o===void 0?0:o,s=n.textStyle,l=t.prototype.getTextStyle.call(this);return np(np(np({},l),Mr(s)||{}),{transform:"matrix(1 0 0 1 ".concat(i," ").concat(a,")")})},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.properties.style;return np(np({},n),Mr(r)||{})},e}(ob),OR={};function Lge(t,e){var n=t.type,r=t.component,i=t.effect,o=t.view,a=t.model;if(!n)throw new Error("You should specify type in config");OR[n]={component:r,effect:i},e.register({type:n,view:o||jge,model:a||Dge})}var kge=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$ge=function(t){kge(e,t);function e(n){var r=t.call(this,n)||this;return r.state={tick:0},r}return e.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.node,o=r.graph;o.eventCenter.on(ir.NODE_PROPERTIES_CHANGE,function(a){var s=a.keys,l=OR[i.type];if(l&&a.id===i.id){var u=l.effect;(!u||s.some(function(c){return u.includes(c)}))&&n.setState({tick:n.state.tick+1})}})},e.prototype.clone=function(n){var r=this.props,i=r.node,o=r.graph;return typeof n.type=="string"?je.cloneElement(n):je.cloneElement(n,{node:i,graph:o})},e.prototype.render=function(){var n=this.props.node,r=OR[n.type];if(!r)return null;var i=r.component;if(je.isValidElement(i))return this.clone(i);var o=i;return this.clone(je.createElement(o,null))},e}(y.PureComponent),Ix=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},sb;(function(t){var e=!1,n,r=function(l,u){var c=u.payload;switch(u.type){case"add":{var d=l.findIndex(function(h){return h.id===c.id});return d>=0?(l[d]=c,Ix([],l,!0)):Ix(Ix([],l,!0),[c],!1)}case"remove":{var d=l.findIndex(function(v){return v.id===c.id});if(d>=0){var f=Ix([],l,!0);return f.splice(d,1),f}break}}return l};function i(l,u){e&&n({type:"add",payload:{id:l,portal:u}})}t.connect=i;function o(l){e&&n({type:"remove",payload:{id:l}})}t.disconnect=o;function a(){return e}t.isActive=a;function s(){return function(){e=!0;var l=y.useReducer(r,[]),u=l[0],c=l[1];return n=c,je.createElement(je.Fragment,{children:u.map(function(d){return d.portal})})}}t.getProvider=s})(sb||(sb={}));var Fge=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jge=function(t){Fge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.targetId=function(){return"".concat(this.props.graphModel.flowId,":").concat(this.props.model.id)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.unmount()},e.prototype.setHtml=function(n){var r=document.createElement("div");r.className="custom-react-node-content",this.renderReactComponent(r),n.appendChild(r)},e.prototype.confirmUpdate=function(n){console.log("_rootEl",n)},e.prototype.renderReactComponent=function(n){console.log("render render render ===>>>"),this.unmountReactComponent();var r=this.props,i=r.model,o=r.graphModel;if(n){var a=y.createElement($ge,{node:i,graph:o});if(sb.isActive()){var s=Hf.createPortal(a,n,i.id);sb.connect(this.targetId(),s)}else this.root=DX(n),this.root.render(a)}},e.prototype.unmountReactComponent=function(){this.rootEl&&this.root&&(this.root.unmount(),this.root=void 0,this.rootEl.innerHTML="")},e.prototype.unmount=function(){this.unmountReactComponent()},e}(_S);const Bge="index-module__base___DJZM5",zge="index-module__event___0BYmo",Hge="index-module__common___x33mp",Uge="index-module__hovered___w2aMG",Gge="index-module__selected___8pqGz",Wge="index-module__executed___662f1",Vge="index-module__item___qm5eq",gs={base:Bge,event:zge,common:Hge,"node-wrap":"index-module__node-wrap___-Urtn",hovered:Uge,"node-title":"index-module__node-title___x3s0L",selected:Gge,"execute-failed":"index-module__execute-failed___ox6zj","node-icon":"index-module__node-icon___3fXKC",executed:Wge,"node-name":"index-module__node-name___upQGs","option-icon":"index-module__option-icon___cgzzj","next-icon":"index-module__next-icon___DIAhL","node-option":"index-module__node-option___NAJAi",item:Vge,"node-warning":"index-module__node-warning___N-KF6","warning-tip":"index-module__warning-tip___1P4-S","node-next":"index-module__node-next___sXRFF"},Xge=100,Kge=28,f2=200,Yge=100;class qge extends ob{getTextStyle(){const{refX:e=0,refY:n=0,textStyle:r}=this.properties;return{...super.getTextStyle(),...Mr(r)||{},transform:`matrix(1 0 0 1 ${e} ${n})`}}getNodeStyle(){const e=super.getNodeStyle(),{style:n}=this.properties;return{...e,...Mr(n)||{}}}setAttributes(){this.width=Xge,this.height=Kge+13*2,this.text.editable=!1,this.sourceRules.push({message:"只允许从右边的锚点连出",validate:(e,n,r,i)=>(i==null?void 0:i.type)==="incomming"})}setHeight(e){this.height=e}getOutlineStyle(){const e=super.getOutlineStyle();return e.stroke="none",e.hover.stroke="none",e}getDefaultAnchor(){const{id:e,x:n,y:r,width:i}=this,o=[];return o.push({x:n-i/2,y:r,id:`${e}_incomming`,edgeAddable:!1,type:"incomming"}),o.push({x:n+i/2,y:r,id:`${e}_outgoing`,type:"outgoing"}),o}addNode(e,n=0){const r=n!==0,i=this.graphModel.getNodeModelById(e.sourceId),o=e.x+f2-50-10,a=e.y+n-40-8,s=e.x+f2+50+10,l=e.y+n+40+8;if(this.graphModel.getAreaElement(this.getHtmlPoint([o,a]),this.getHtmlPoint([s,l])).length){this.addNode(e,n+Yge);return}const c=this.graphModel.addNode({type:e.type,x:e.x+f2,y:e.y+n,properties:e.properties});let d,f;r&&(d={x:e.x,y:e.y+i.height/2},f={x:c.x-c.width/2,y:c.y}),this.graphModel.addEdge({sourceNodeId:e.sourceId,targetNodeId:c.id,startPoint:d,endPoint:f}),this.graphModel.selectElementById(c.id),this.graphModel.showContextMenu(c)}isAllowConnectedAsTarget(e,n,r,i){return{isAllPass:!0,msg:""}}isAllowConnectedAsSource(e,n,r,i){var a;const o=e.properties;return((a=o==null?void 0:o.__config__)==null?void 0:a.isAllowAsTargetNode)===!1?{isAllPass:!1,msg:`${o.label}不允许作为目标节点`}:{isAllPass:!0,msg:""}}}var Zge=function(t){return typeof t=="function"},Jge=KK,Qge=_w,e0e="Expected a function";function t0e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(e0e);return Qge(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Jge(t,e,{leading:r,maxWait:e,trailing:i})}var n0e=t0e;const t9=Ua(n0e);function r0e(t){return Zge(t[Symbol.asyncIterator])}function i0e(t,e){y.useEffect(function(){var n=t(),r=!1;function i(){return vd(this,void 0,void 0,function(){var o;return YK(this,function(a){switch(a.label){case 0:if(!r0e(n))return[3,4];a.label=1;case 1:return[4,n.next()];case 2:return o=a.sent(),o.done||r?[3,3]:[3,1];case 3:return[3,6];case 4:return[4,n];case 5:a.sent(),a.label=6;case 6:return[2]}})})}return i(),function(){r=!0}},e)}function Sg(t,e){var n,r=qK(t),i=(n=e==null?void 0:e.wait)!==null&&n!==void 0?n:1e3,o=y.useMemo(function(){return t9(function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return r.current.apply(r,ZK([],JK(a),!1))},i,e)},[]);return QK(function(){o.cancel()}),{run:o,cancel:o.cancel,flush:o.flush}}const o0e="index-module__item___MAshv",a0e="index-module__icon___PdqAl",s0e="index-module__content___JsFZs",l0e="index-module__title___Ney-n",u0e="index-module__button___j7zt6",jv={"content-wrap":"index-module__content-wrap___JDVRJ",item:o0e,icon:a0e,content:s0e,title:l0e,button:u0e},c0e=t=>{const{title:e,content:n,showButton:r,goConfig:i}=t,o=y.useMemo(()=>OU.map(l=>l.type),[]),a="https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_event.png",s="https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_reaction.png";return E.jsxs("div",{className:jv["content-wrap"],children:[E.jsx("div",{className:jv.title,children:e}),E.jsx("div",{className:jv.content,children:n&&n.length?E.jsx("div",{children:n.map((l,u)=>E.jsxs("div",{className:jv.item,children:[E.jsx("img",{src:o.includes(l.type)?a:s,className:jv.icon,alt:""}),E.jsx("span",{children:l.desc})]},u))}):E.jsxs(E.Fragment,{children:[E.jsx("div",{children:"暂未配置"}),r&&E.jsx("div",{className:jv.button,onClick:()=>{i==null||i()},children:"去配置"})]})})]})},CS={DataSource:{label:"请求数据",value:"DataSource",logo:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/data_load.png",__config__:{type:"CommonNode",aliasType:"DataSource",correlationId:"",isAllowAsTargetNode:!0}},PageJump:{label:"页面跳转",value:"PageJump",logo:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/page_jump.png",__config__:{type:"CommonNode",aliasType:"PageJump",correlationId:"",isAllowAsTargetNode:!0}},DataConvert:{label:"数据转换",value:"DataConvert",logo:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/data_trans.png",__config__:{type:"CommonNode",aliasType:"DataConvert",correlationId:"",isAllowAsTargetNode:!0}}},d0e={PageInit:{label:"页面初始化",value:"PageInit",logo:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/page_init.png",__config__:{type:"StartNode",aliasType:"PageInitNode",isAllowAsTargetNode:!1,correlationId:"componentDidMount"}},PageUnmount:{label:"页面卸载",value:"PageUnmount",logo:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/page_init.png",__config__:{type:"StartNode",aliasType:"PageUnmountNode",isAllowAsTargetNode:!1,correlationId:"componentWillUnmount"}}},f0e="https://s3-gzpu.didistatic.com/tiyan-base-store/form-editor/pc/icon_anniu@2x.png",h0e="index-module__icon___Wz4vW",Yu={"node-menu-wrapper":"index-module__node-menu-wrapper___gXBoO","node-menu":"index-module__node-menu___q9L7-","el-menu-item":"index-module__el-menu-item___JbME0","is-active":"index-module__is-active___464pR","menu-item-inner":"index-module__menu-item-inner___Ip0HM",icon:h0e,"node-add-title":"index-module__node-add-title___451GN","split-line":"index-module__split-line___Xy0A3"},p0e=t=>{const{lf:e,graph:n,model:r,showConnectBlock:i,__id:o,insertCommonNode:a}=t,[s,l]=y.useState([]);y.useEffect(()=>{(()=>{l([])})()},[e,l]);const u=f=>{},c=f=>{const h=f.key,v=Object.values(CS).find(m=>m.value===h);if(v){const m={type:v.__config__.type,properties:{...v,logo:v.label},callback:()=>{e.extension.popover.hide(o)}};r&&(m.model=r),a==null||a(m)}},d=f=>{const h=f.key;n.connectToNode(h,r)};return E.jsxs("div",{className:Yu["node-menu-wrapper"],children:[E.jsx("div",{className:Yu["node-add-title"],children:"通用节点:"}),E.jsx("div",{style:{textAlign:"right",margin:0},children:E.jsx(Cm,{className:Yu["node-menu"],mode:"vertical",onSelect:c,items:Object.values(CS).map((f,h)=>({key:f.value,label:E.jsxs("span",{className:Yu["menu-item-inner"],children:[E.jsx("img",{src:f.logo,alt:"",className:Yu.icon}),f.label]})}))})}),E.jsx("div",{className:Yu["split-line"],style:i&&s.length?{}:{display:"none"}}),E.jsx("div",{className:Yu["node-add-title"],style:i&&s.length?{}:{display:"none"},children:"连接至已有节点:"}),E.jsx("div",{style:{textAlign:"right",margin:0,display:i&&s.length?"block":"none"},children:E.jsx(Cm,{className:Yu["node-menu"],mode:"vertical",onSelect:d,items:s.map((f,h)=>({key:h,config:f,label:E.jsxs("span",{className:Yu["menu-item-inner"],onMouseEnter:()=>u(f.value),children:[E.jsx("img",{src:f.logo,alt:"",className:Yu.icon}),f.label]})}))})})]})},v0e="index-module__paramCollectorContainer___VTl4P",m0e="index-module__table___hQvZ8",g0e="index-module__inputValueContainer___XYgSi",y0e="index-module__inputValueTypeSelect___KPHvN",b0e="index-module__icon___dXr-x",x0e="index-module__customPageStateTreeSelect___dNEds",lm={paramCollectorContainer:v0e,"form-item-select":"index-module__form-item-select___TY-GJ",table:m0e,inputValueContainer:g0e,inputValueTypeSelect:y0e,icon:b0e,customPageStateTreeSelect:x0e,"form-key-item-input-container":"index-module__form-key-item-input-container___0fE6r","form-key-item-input-after-icon":"index-module__form-key-item-input-after-icon___lHK9Y"};var _0e=P(P({},LX),{},{locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪",yearFormat:"YYYY年",cellDateFormat:"D",monthBeforeYear:!1});const n9={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]},NR={lang:Object.assign({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},_0e),timePickerLocale:Object.assign({},n9)};NR.lang.ok="确定";const Ks="${label}不是一个有效的${type}",S0e={locale:"zh-cn",Pagination:xF,DatePicker:NR,TimePicker:n9,Calendar:NR,global:{placeholder:"请选择"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckall:"全选",filterSearchPlaceholder:"在筛选项中搜索",emptyText:"暂无数据",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{titles:["",""],searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",deselectAll:"取消全选",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开",collapse:"收起"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:Ks,method:Ks,array:Ks,object:Ks,number:Ks,date:Ks,boolean:Ks,integer:Ks,float:Ks,regexp:Ks,email:Ks,url:Ks,hex:Ks},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},Image:{preview:"预览"},QRCode:{expired:"二维码过期",refresh:"点击刷新",scanned:"已扫描"},ColorPicker:{presetEmpty:"暂无",transparent:"无色",singleColor:"单色",gradientColor:"渐变色"}};var r9={exports:{}},i9={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=y;function w0e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var E0e=typeof Object.is=="function"?Object.is:w0e,C0e=Um.useState,T0e=Um.useEffect,R0e=Um.useLayoutEffect,P0e=Um.useDebugValue;function A0e(t,e){var n=e(),r=C0e({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return R0e(function(){i.value=n,i.getSnapshot=e,h2(i)&&o({inst:i})},[t,n,e]),T0e(function(){return h2(i)&&o({inst:i}),t(function(){h2(i)&&o({inst:i})})},[t]),P0e(n),n}function h2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!E0e(t,n)}catch{return!0}}function O0e(t,e){return e()}var N0e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?O0e:A0e;i9.useSyncExternalStore=Um.useSyncExternalStore!==void 0?Um.useSyncExternalStore:N0e;r9.exports=i9;var M0e=r9.exports;const $f=()=>{},Za=$f(),__=Object,Ri=t=>t===Za,pu=t=>typeof t=="function",Md=(t,e)=>({...t,...e}),I0e=t=>pu(t.then),Dx=new WeakMap;let D0e=0;const lb=t=>{const e=typeof t,n=t&&t.constructor,r=n==Date;let i,o;if(__(t)===t&&!r&&n!=RegExp){if(i=Dx.get(t),i)return i;if(i=++D0e+"~",Dx.set(t,i),n==Array){for(i="@",o=0;o<t.length;o++)i+=lb(t[o])+",";Dx.set(t,i)}if(n==__){i="#";const a=__.keys(t).sort();for(;!Ri(o=a.pop());)Ri(t[o])||(i+=o+":"+lb(t[o])+",");Dx.set(t,i)}}else i=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},xd=new WeakMap,p2={},Lx={},XA="undefined",iE=typeof window!=XA,MR=typeof document!=XA,L0e=()=>iE&&typeof window.requestAnimationFrame!=XA,o9=(t,e)=>{const n=xd.get(t);return[()=>!Ri(e)&&t.get(e)||p2,r=>{if(!Ri(e)){const i=t.get(e);e in Lx||(Lx[e]=i),n[5](e,Md(i,r),i||p2)}},n[6],()=>!Ri(e)&&e in Lx?Lx[e]:!Ri(e)&&t.get(e)||p2]};let IR=!0;const k0e=()=>IR,[DR,LR]=iE&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[$f,$f],$0e=()=>{const t=MR&&document.visibilityState;return Ri(t)||t!=="hidden"},F0e=t=>(MR&&document.addEventListener("visibilitychange",t),DR("focus",t),()=>{MR&&document.removeEventListener("visibilitychange",t),LR("focus",t)}),j0e=t=>{const e=()=>{IR=!0,t()},n=()=>{IR=!1};return DR("online",e),DR("offline",n),()=>{LR("online",e),LR("offline",n)}},B0e={isOnline:k0e,isVisible:$0e},z0e={initFocus:F0e,initReconnect:j0e},QM=!je.useId,ub=!iE||"Deno"in window,H0e=t=>L0e()?window.requestAnimationFrame(t):setTimeout(t,1),S_=ub?y.useEffect:y.useLayoutEffect,v2=typeof navigator<"u"&&navigator.connection,e4=!ub&&v2&&(["slow-2g","2g"].includes(v2.effectiveType)||v2.saveData),KA=t=>{if(pu(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?lb(t):"",[t,e]};let U0e=0;const kR=()=>++U0e,a9=0,s9=1,l9=2,G0e=3;var C0={__proto__:null,ERROR_REVALIDATE_EVENT:G0e,FOCUS_EVENT:a9,MUTATE_EVENT:l9,RECONNECT_EVENT:s9};async function u9(...t){const[e,n,r,i]=t,o=Md({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let a=o.populateCache;const s=o.rollbackOnError;let l=o.optimisticData;const u=f=>typeof s=="function"?s(f):s!==!1,c=o.throwOnError;if(pu(n)){const f=n,h=[],v=e.keys();for(const m of v)!/^\$(inf|sub)\$/.test(m)&&f(e.get(m)._k)&&h.push(m);return Promise.all(h.map(d))}return d(n);async function d(f){const[h]=KA(f);if(!h)return;const[v,m]=o9(e,h),[g,x,_,w]=xd.get(e),S=()=>{const R=g[h];return(pu(o.revalidate)?o.revalidate(v().data,f):o.revalidate!==!1)&&(delete _[h],delete w[h],R&&R[0])?R[0](l9).then(()=>v().data):v().data};if(t.length<3)return S();let C=r,O;const T=kR();x[h]=[T,0];const N=!Ri(l),M=v(),D=M.data,F=M._c,j=Ri(F)?D:F;if(N&&(l=pu(l)?l(j,D):l,m({data:l,_c:j})),pu(C))try{C=C(j)}catch(R){O=R}if(C&&I0e(C))if(C=await C.catch(R=>{O=R}),T!==x[h][0]){if(O)throw O;return C}else O&&N&&u(O)&&(a=!0,m({data:j,_c:Za}));if(a&&!O)if(pu(a)){const R=a(C,j);m({data:R,error:Za,_c:Za})}else m({data:C,error:Za,_c:Za});if(x[h][1]=kR(),Promise.resolve(S()).then(()=>{m({_c:Za})}),O){if(c)throw O;return}return C}}const t4=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},c9=(t,e)=>{if(!xd.has(t)){const n=Md(z0e,e),r={},i=u9.bind(Za,t);let o=$f;const a={},s=(c,d)=>{const f=a[c]||[];return a[c]=f,f.push(d),()=>f.splice(f.indexOf(d),1)},l=(c,d,f)=>{t.set(c,d);const h=a[c];if(h)for(const v of h)v(d,f)},u=()=>{if(!xd.has(t)&&(xd.set(t,[r,{},{},{},i,l,s]),!ub)){const c=n.initFocus(setTimeout.bind(Za,t4.bind(Za,r,a9))),d=n.initReconnect(setTimeout.bind(Za,t4.bind(Za,r,s9)));o=()=>{c&&c(),d&&d(),xd.delete(t)}}};return u(),[t,i,u,o]}return[t,xd.get(t)[4]]},W0e=(t,e,n,r,i)=>{const o=n.errorRetryCount,a=i.retryCount,s=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!Ri(o)&&a>o||setTimeout(r,s,i)},V0e=(t,e)=>lb(t)==lb(e),[YA,X0e]=c9(new Map),d9=Md({onLoadingSlow:$f,onSuccess:$f,onError:$f,onErrorRetry:W0e,onDiscarded:$f,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:e4?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:e4?5e3:3e3,compare:V0e,isPaused:()=>!1,cache:YA,mutate:X0e,fallback:{}},B0e),f9=(t,e)=>{const n=Md(t,e);if(e){const{use:r,fallback:i}=t,{use:o,fallback:a}=e;r&&o&&(n.use=r.concat(o)),i&&a&&(n.fallback=Md(i,a))}return n},$R=y.createContext({}),K0e=t=>{const{value:e}=t,n=y.useContext($R),r=pu(e),i=y.useMemo(()=>r?e(n):e,[r,n,e]),o=y.useMemo(()=>r?i:f9(n,i),[r,n,i]),a=i&&i.provider,s=y.useRef(Za);a&&!s.current&&(s.current=c9(a(o.cache||YA),i));const l=s.current;return l&&(o.cache=l[0],o.mutate=l[1]),S_(()=>{if(l)return l[2]&&l[2](),l[3]},[]),y.createElement($R.Provider,Md(t,{value:o}))},Y0e="$inf$",h9=iE&&window.__SWR_DEVTOOLS_USE__,q0e=h9?window.__SWR_DEVTOOLS_USE__:[],Z0e=()=>{h9&&(window.__SWR_DEVTOOLS_REACT__=je)},J0e=t=>pu(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],p9=()=>Md(d9,y.useContext($R)),Q0e=t=>(e,n,r)=>t(e,n&&((...o)=>{const[a]=KA(e),[,,,s]=xd.get(YA);if(a.startsWith(Y0e))return n(...o);const l=s[a];return Ri(l)?n(...o):(delete s[a],l)}),r),eye=q0e.concat(Q0e),tye=t=>function(...n){const r=p9(),[i,o,a]=J0e(n),s=f9(r,a);let l=t;const{use:u}=s,c=(u||[]).concat(eye);for(let d=c.length;d--;)l=c[d](l);return l(i,o||s.fetcher||null,s)},nye=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};Z0e();const n4=je.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),m2={dedupe:!0},rye=(t,e,n)=>{const{cache:r,compare:i,suspense:o,fallbackData:a,revalidateOnMount:s,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:c,refreshWhenOffline:d,keepPreviousData:f}=n,[h,v,m,g]=xd.get(r),[x,_]=KA(t),w=y.useRef(!1),S=y.useRef(!1),C=y.useRef(x),O=y.useRef(e),T=y.useRef(n),N=()=>T.current,M=()=>N().isVisible()&&N().isOnline(),[D,F,j,R]=o9(r,x),I=y.useRef({}).current,L=Ri(a)?n.fallback[x]:a,k=(ue,we)=>{for(const pe in I){const $e=pe;if($e==="data"){if(!i(ue[$e],we[$e])&&(!Ri(ue[$e])||!i(te,we[$e])))return!1}else if(we[$e]!==ue[$e])return!1}return!0},B=y.useMemo(()=>{const ue=!x||!e?!1:Ri(s)?N().isPaused()||o?!1:Ri(l)?!0:l:s,we=Z=>{const ie=Md(Z);return delete ie._k,ue?{isValidating:!0,isLoading:!0,...ie}:ie},pe=D(),$e=R(),Ne=we(pe),Le=pe===$e?Ne:we($e);let Ie=Ne;return[()=>{const Z=we(D());return k(Z,Ie)?(Ie.data=Z.data,Ie.isLoading=Z.isLoading,Ie.isValidating=Z.isValidating,Ie.error=Z.error,Ie):(Ie=Z,Z)},()=>Le]},[r,x]),q=M0e.useSyncExternalStore(y.useCallback(ue=>j(x,(we,pe)=>{k(pe,we)||ue()}),[r,x]),B[0],B[1]),X=!w.current,z=h[x]&&h[x].length>0,H=q.data,Q=Ri(H)?L:H,V=q.error,W=y.useRef(Q),te=f?Ri(H)?W.current:H:Q,K=z&&!Ri(V)?!1:X&&!Ri(s)?s:N().isPaused()?!1:o?Ri(Q)?!1:l:Ri(Q)||l,U=!!(x&&e&&X&&K),ee=Ri(q.isValidating)?U:q.isValidating,fe=Ri(q.isLoading)?U:q.isLoading,ve=y.useCallback(async ue=>{const we=O.current;if(!x||!we||S.current||N().isPaused())return!1;let pe,$e,Ne=!0;const Le=ue||{},Ie=!m[x]||!Le.dedupe,Z=()=>QM?!S.current&&x===C.current&&w.current:x===C.current,ie={isValidating:!1,isLoading:!1},ne=()=>{F(ie)},Te=()=>{const se=m[x];se&&se[1]===$e&&delete m[x]},$={isValidating:!0};Ri(D().data)&&($.isLoading=!0);try{if(Ie&&(F($),n.loadingTimeout&&Ri(D().data)&&setTimeout(()=>{Ne&&Z()&&N().onLoadingSlow(x,n)},n.loadingTimeout),m[x]=[we(_),kR()]),[pe,$e]=m[x],pe=await pe,Ie&&setTimeout(Te,n.dedupingInterval),!m[x]||m[x][1]!==$e)return Ie&&Z()&&N().onDiscarded(x),!1;ie.error=Za;const se=v[x];if(!Ri(se)&&($e<=se[0]||$e<=se[1]||se[1]===0))return ne(),Ie&&Z()&&N().onDiscarded(x),!1;const re=D().data;ie.data=i(re,pe)?re:pe,Ie&&Z()&&N().onSuccess(pe,x,n)}catch(se){Te();const re=N(),{shouldRetryOnError:oe}=re;re.isPaused()||(ie.error=se,Ie&&Z()&&(re.onError(se,x,re),(oe===!0||pu(oe)&&oe(se))&&(!N().revalidateOnFocus||!N().revalidateOnReconnect||M())&&re.onErrorRetry(se,x,re,ye=>{const xe=h[x];xe&&xe[0]&&xe[0](C0.ERROR_REVALIDATE_EVENT,ye)},{retryCount:(Le.retryCount||0)+1,dedupe:!0})))}return Ne=!1,ne(),!0},[x,r]),Ce=y.useCallback((...ue)=>u9(r,C.current,...ue),[]);if(S_(()=>{O.current=e,T.current=n,Ri(H)||(W.current=H)}),S_(()=>{if(!x)return;const ue=ve.bind(Za,m2);let we=0;const $e=nye(x,h,(Ne,Le={})=>{if(Ne==C0.FOCUS_EVENT){const Ie=Date.now();N().revalidateOnFocus&&Ie>we&&M()&&(we=Ie+N().focusThrottleInterval,ue())}else if(Ne==C0.RECONNECT_EVENT)N().revalidateOnReconnect&&M()&&ue();else{if(Ne==C0.MUTATE_EVENT)return ve();if(Ne==C0.ERROR_REVALIDATE_EVENT)return ve(Le)}});return S.current=!1,C.current=x,w.current=!0,F({_k:_}),K&&(Ri(Q)||ub?ue():H0e(ue)),()=>{S.current=!0,$e()}},[x]),S_(()=>{let ue;function we(){const $e=pu(u)?u(D().data):u;$e&&ue!==-1&&(ue=setTimeout(pe,$e))}function pe(){!D().error&&(c||N().isVisible())&&(d||N().isOnline())?ve(m2).then(we):we()}return we(),()=>{ue&&(clearTimeout(ue),ue=-1)}},[u,c,d,x]),y.useDebugValue(te),o&&Ri(Q)&&x){if(!QM&&ub)throw new Error("Fallback data is required when using suspense in SSR.");O.current=e,T.current=n,S.current=!1;const ue=g[x];if(!Ri(ue)){const we=Ce(ue);n4(we)}if(Ri(V)){const we=ve(m2);Ri(te)||(we.status="fulfilled",we.value=!0),n4(we)}else throw V}return{mutate:Ce,get data(){return I.data=!0,te},get error(){return I.error=!0,V},get isValidating(){return I.isValidating=!0,ee},get isLoading(){return I.isLoading=!0,fe}}},iye=__.defineProperty(K0e,"defaultValue",{value:d9}),v9=tye(rye),oye={moneySymbol:"$",form:{lightFilter:{more:"المزيد",clear:"نظف",confirm:"تأكيد",itemUnit:"عناصر"}},tableForm:{search:"ابحث",reset:"إعادة تعيين",submit:"ارسال",collapsed:"مُقلص",expand:"مُوسع",inputPlaceholder:"الرجاء الإدخال",selectPlaceholder:"الرجاء الإختيار"},alert:{clear:"نظف",selected:"محدد",item:"عنصر"},pagination:{total:{range:" ",total:"من",item:"عناصر"}},tableToolBar:{leftPin:"ثبت على اليسار",rightPin:"ثبت على اليمين",noPin:"الغاء التثبيت",leftFixedTitle:"لصق على اليسار",rightFixedTitle:"لصق على اليمين",noFixedTitle:"إلغاء الإلصاق",reset:"إعادة تعيين",columnDisplay:"الأعمدة المعروضة",columnSetting:"الإعدادات",fullScreen:"وضع كامل الشاشة",exitFullScreen:"الخروج من وضع كامل الشاشة",reload:"تحديث",density:"الكثافة",densityDefault:"افتراضي",densityLarger:"أكبر",densityMiddle:"وسط",densitySmall:"مدمج"},stepsForm:{next:"التالي",prev:"السابق",submit:"أنهى"},loginForm:{submitText:"تسجيل الدخول"},editableTable:{action:{save:"أنقذ",cancel:"إلغاء الأمر",delete:"حذف",add:"إضافة صف من البيانات"}},switch:{open:"مفتوح",close:"غلق"}},aye={moneySymbol:"€",form:{lightFilter:{more:"Més",clear:"Netejar",confirm:"Confirmar",itemUnit:"Elements"}},tableForm:{search:"Cercar",reset:"Netejar",submit:"Enviar",collapsed:"Expandir",expand:"Col·lapsar",inputPlaceholder:"Introduïu valor",selectPlaceholder:"Seleccioneu valor"},alert:{clear:"Netejar",selected:"Seleccionat",item:"Article"},pagination:{total:{range:" ",total:"de",item:"articles"}},tableToolBar:{leftPin:"Pin a l'esquerra",rightPin:"Pin a la dreta",noPin:"Sense Pin",leftFixedTitle:"Fixat a l'esquerra",rightFixedTitle:"Fixat a la dreta",noFixedTitle:"Sense fixar",reset:"Reiniciar",columnDisplay:"Mostrar Columna",columnSetting:"Configuració",fullScreen:"Pantalla Completa",exitFullScreen:"Sortir Pantalla Completa",reload:"Refrescar",density:"Densitat",densityDefault:"Per Defecte",densityLarger:"Llarg",densityMiddle:"Mitjà",densitySmall:"Compacte"},stepsForm:{next:"Següent",prev:"Anterior",submit:"Finalizar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Guardar",cancel:"Cancel·lar",delete:"Eliminar",add:"afegir una fila de dades"}},switch:{open:"obert",close:"tancat"}},sye={moneySymbol:"Kč",deleteThisLine:"Smazat tento řádek",copyThisLine:"Kopírovat tento řádek",form:{lightFilter:{more:"Víc",clear:"Vymazat",confirm:"Potvrdit",itemUnit:"Položky"}},tableForm:{search:"Dotaz",reset:"Resetovat",submit:"Odeslat",collapsed:"Zvětšit",expand:"Zmenšit",inputPlaceholder:"Zadejte prosím",selectPlaceholder:"Vyberte prosím"},alert:{clear:"Vymazat",selected:"Vybraný",item:"Položka"},pagination:{total:{range:" ",total:"z",item:"položek"}},tableToolBar:{leftPin:"Připnout doleva",rightPin:"Připnout doprava",noPin:"Odepnuto",leftFixedTitle:"Fixováno nalevo",rightFixedTitle:"Fixováno napravo",noFixedTitle:"Neopraveno",reset:"Resetovat",columnDisplay:"Zobrazení sloupců",columnSetting:"Nastavení",fullScreen:"Celá obrazovka",exitFullScreen:"Ukončete celou obrazovku",reload:"Obnovit",density:"Hustota",densityDefault:"Výchozí",densityLarger:"Větší",densityMiddle:"Střední",densitySmall:"Kompaktní"},stepsForm:{next:"Další",prev:"Předchozí",submit:"Dokončit"},loginForm:{submitText:"Přihlásit se"},editableTable:{onlyOneLineEditor:"Upravit lze pouze jeden řádek",action:{save:"Uložit",cancel:"Zrušit",delete:"Vymazat",add:"přidat řádek dat"}},switch:{open:"otevřít",close:"zavřít"}},lye={moneySymbol:"€",form:{lightFilter:{more:"Mehr",clear:"Zurücksetzen",confirm:"Bestätigen",itemUnit:"Einträge"}},tableForm:{search:"Suchen",reset:"Zurücksetzen",submit:"Absenden",collapsed:"Zeige mehr",expand:"Zeige weniger",inputPlaceholder:"Bitte eingeben",selectPlaceholder:"Bitte auswählen"},alert:{clear:"Zurücksetzen",selected:"Ausgewählt",item:"Eintrag"},pagination:{total:{range:" ",total:"von",item:"Einträgen"}},tableToolBar:{leftPin:"Links anheften",rightPin:"Rechts anheften",noPin:"Nicht angeheftet",leftFixedTitle:"Links fixiert",rightFixedTitle:"Rechts fixiert",noFixedTitle:"Nicht fixiert",reset:"Zurücksetzen",columnDisplay:"Angezeigte Reihen",columnSetting:"Einstellungen",fullScreen:"Vollbild",exitFullScreen:"Vollbild verlassen",reload:"Aktualisieren",density:"Abstand",densityDefault:"Standard",densityLarger:"Größer",densityMiddle:"Mittel",densitySmall:"Kompakt"},stepsForm:{next:"Weiter",prev:"Zurück",submit:"Abschließen"},loginForm:{submitText:"Anmelden"},editableTable:{action:{save:"Retten",cancel:"Abbrechen",delete:"Löschen",add:"Hinzufügen einer Datenzeile"}},switch:{open:"offen",close:"schließen"}},uye={moneySymbol:"£",form:{lightFilter:{more:"More",clear:"Clear",confirm:"Confirm",itemUnit:"Items"}},tableForm:{search:"Query",reset:"Reset",submit:"Submit",collapsed:"Expand",expand:"Collapse",inputPlaceholder:"Please enter",selectPlaceholder:"Please select"},alert:{clear:"Clear",selected:"Selected",item:"Item"},pagination:{total:{range:" ",total:"of",item:"items"}},tableToolBar:{leftPin:"Pin to left",rightPin:"Pin to right",noPin:"Unpinned",leftFixedTitle:"Fixed to the left",rightFixedTitle:"Fixed to the right",noFixedTitle:"Not Fixed",reset:"Reset",columnDisplay:"Column Display",columnSetting:"Table Settings",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",reload:"Refresh",density:"Density",densityDefault:"Default",densityLarger:"Larger",densityMiddle:"Middle",densitySmall:"Compact"},stepsForm:{next:"Next",prev:"Previous",submit:"Finish"},loginForm:{submitText:"Login"},editableTable:{onlyOneLineEditor:"Only one line can be edited",onlyAddOneLine:"Only one line can be added",action:{save:"Save",cancel:"Cancel",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"close"}},cye={moneySymbol:"$",deleteThisLine:"Delete this line",copyThisLine:"Copy this line",form:{lightFilter:{more:"More",clear:"Clear",confirm:"Confirm",itemUnit:"Items"}},tableForm:{search:"Query",reset:"Reset",submit:"Submit",collapsed:"Expand",expand:"Collapse",inputPlaceholder:"Please enter",selectPlaceholder:"Please select"},alert:{clear:"Clear",selected:"Selected",item:"Item"},pagination:{total:{range:" ",total:"of",item:"items"}},tableToolBar:{leftPin:"Pin to left",rightPin:"Pin to right",noPin:"Unpinned",leftFixedTitle:"Fixed to the left",rightFixedTitle:"Fixed to the right",noFixedTitle:"Not Fixed",reset:"Reset",columnDisplay:"Column Display",columnSetting:"Table Settings",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",reload:"Refresh",density:"Density",densityDefault:"Default",densityLarger:"Larger",densityMiddle:"Middle",densitySmall:"Compact"},stepsForm:{next:"Next",prev:"Previous",submit:"Finish"},loginForm:{submitText:"Login"},editableTable:{onlyOneLineEditor:"Only one line can be edited",onlyAddOneLine:"Only one line can be added",action:{save:"Save",cancel:"Cancel",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"close"}},dye={moneySymbol:"€",form:{lightFilter:{more:"Más",clear:"Limpiar",confirm:"Confirmar",itemUnit:"artículos"}},tableForm:{search:"Buscar",reset:"Limpiar",submit:"Submit",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Ingrese valor",selectPlaceholder:"Seleccione valor"},alert:{clear:"Limpiar",selected:"Seleccionado",item:"Articulo"},pagination:{total:{range:" ",total:"de",item:"artículos"}},tableToolBar:{leftPin:"Pin a la izquierda",rightPin:"Pin a la derecha",noPin:"Sin Pin",leftFixedTitle:"Fijado a la izquierda",rightFixedTitle:"Fijado a la derecha",noFixedTitle:"Sin Fijar",reset:"Reiniciar",columnDisplay:"Mostrar Columna",columnSetting:"Configuración",fullScreen:"Pantalla Completa",exitFullScreen:"Salir Pantalla Completa",reload:"Refrescar",density:"Densidad",densityDefault:"Por Defecto",densityLarger:"Largo",densityMiddle:"Medio",densitySmall:"Compacto"},stepsForm:{next:"Siguiente",prev:"Anterior",submit:"Finalizar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Guardar",cancel:"Descartar",delete:"Borrar",add:"añadir una fila de datos"}},switch:{open:"abrir",close:"cerrar"}},fye={moneySymbol:"تومان",form:{lightFilter:{more:"بیشتر",clear:"پاک کردن",confirm:"تایید",itemUnit:"مورد"}},tableForm:{search:"جستجو",reset:"بازنشانی",submit:"تایید",collapsed:"نمایش بیشتر",expand:"نمایش کمتر",inputPlaceholder:"پیدا کنید",selectPlaceholder:"انتخاب کنید"},alert:{clear:"پاک سازی",selected:"انتخاب",item:"مورد"},pagination:{total:{range:" ",total:"از",item:"مورد"}},tableToolBar:{leftPin:"سنجاق به چپ",rightPin:"سنجاق به راست",noPin:"سنجاق نشده",leftFixedTitle:"ثابت شده در چپ",rightFixedTitle:"ثابت شده در راست",noFixedTitle:"شناور",reset:"بازنشانی",columnDisplay:"نمایش همه",columnSetting:"تنظیمات",fullScreen:"تمام صفحه",exitFullScreen:"خروج از حالت تمام صفحه",reload:"تازه سازی",density:"تراکم",densityDefault:"پیش فرض",densityLarger:"بزرگ",densityMiddle:"متوسط",densitySmall:"کوچک"},stepsForm:{next:"بعدی",prev:"قبلی",submit:"اتمام"},loginForm:{submitText:"ورود"},editableTable:{action:{save:"ذخیره",cancel:"لغو",delete:"حذف",add:"یک ردیف داده اضافه کنید"}},switch:{open:"باز",close:"نزدیک"}},hye={moneySymbol:"€",form:{lightFilter:{more:"Plus",clear:"Effacer",confirm:"Confirmer",itemUnit:"Items"}},tableForm:{search:"Rechercher",reset:"Réinitialiser",submit:"Envoyer",collapsed:"Agrandir",expand:"Réduire",inputPlaceholder:"Entrer une valeur",selectPlaceholder:"Sélectionner une valeur"},alert:{clear:"Réinitialiser",selected:"Sélectionné",item:"Item"},pagination:{total:{range:" ",total:"sur",item:"éléments"}},tableToolBar:{leftPin:"Épingler à gauche",rightPin:"Épingler à gauche",noPin:"Sans épingle",leftFixedTitle:"Fixer à gauche",rightFixedTitle:"Fixer à droite",noFixedTitle:"Non fixé",reset:"Réinitialiser",columnDisplay:"Affichage colonne",columnSetting:"Réglages",fullScreen:"Plein écran",exitFullScreen:"Quitter Plein écran",reload:"Rafraichir",density:"Densité",densityDefault:"Par défaut",densityLarger:"Larger",densityMiddle:"Moyenne",densitySmall:"Compacte"},stepsForm:{next:"Suivante",prev:"Précédente",submit:"Finaliser"},loginForm:{submitText:"Se connecter"},editableTable:{action:{save:"Sauvegarder",cancel:"Annuler",delete:"Supprimer",add:"ajouter une ligne de données"}},switch:{open:"ouvert",close:"près"}},pye={moneySymbol:"₪",deleteThisLine:"מחק שורה זו",copyThisLine:"העתק שורה זו",form:{lightFilter:{more:"יותר",clear:"נקה",confirm:"אישור",itemUnit:"פריטים"}},tableForm:{search:"חיפוש",reset:"איפוס",submit:"שלח",collapsed:"הרחב",expand:"כווץ",inputPlaceholder:"אנא הכנס",selectPlaceholder:"אנא בחר"},alert:{clear:"נקה",selected:"נבחר",item:"פריט"},pagination:{total:{range:" ",total:"מתוך",item:"פריטים"}},tableToolBar:{leftPin:"הצמד לשמאל",rightPin:"הצמד לימין",noPin:"לא מצורף",leftFixedTitle:"מוצמד לשמאל",rightFixedTitle:"מוצמד לימין",noFixedTitle:"לא מוצמד",reset:"איפוס",columnDisplay:"תצוגת עמודות",columnSetting:"הגדרות",fullScreen:"מסך מלא",exitFullScreen:"צא ממסך מלא",reload:"רענן",density:"רזולוציה",densityDefault:"ברירת מחדל",densityLarger:"גדול",densityMiddle:"בינוני",densitySmall:"קטן"},stepsForm:{next:"הבא",prev:"קודם",submit:"סיום"},loginForm:{submitText:"כניסה"},editableTable:{onlyOneLineEditor:"ניתן לערוך רק שורה אחת",action:{save:"שמור",cancel:"ביטול",delete:"מחיקה",add:"הוסף שורת נתונים"}},switch:{open:"פתח",close:"סגור"}},vye={moneySymbol:"kn",form:{lightFilter:{more:"Više",clear:"Očisti",confirm:"Potvrdi",itemUnit:"Stavke"}},tableForm:{search:"Pretraži",reset:"Poništi",submit:"Potvrdi",collapsed:"Raširi",expand:"Skupi",inputPlaceholder:"Unesite",selectPlaceholder:"Odaberite"},alert:{clear:"Očisti",selected:"Odaberi",item:"stavke"},pagination:{total:{range:" ",total:"od",item:"stavke"}},tableToolBar:{leftPin:"Prikači lijevo",rightPin:"Prikači desno",noPin:"Bez prikačenja",leftFixedTitle:"Fiksiraj lijevo",rightFixedTitle:"Fiksiraj desno",noFixedTitle:"Bez fiksiranja",reset:"Resetiraj",columnDisplay:"Prikaz stupaca",columnSetting:"Postavke",fullScreen:"Puni zaslon",exitFullScreen:"Izađi iz punog zaslona",reload:"Ponovno učitaj",density:"Veličina",densityDefault:"Zadano",densityLarger:"Veliko",densityMiddle:"Srednje",densitySmall:"Malo"},stepsForm:{next:"Sljedeći",prev:"Prethodni",submit:"Kraj"},loginForm:{submitText:"Prijava"},editableTable:{action:{save:"Spremi",cancel:"Odustani",delete:"Obriši",add:"dodajte red podataka"}},switch:{open:"otvori",close:"zatvori"}},mye={moneySymbol:"RP",form:{lightFilter:{more:"Lebih",clear:"Hapus",confirm:"Konfirmasi",itemUnit:"Unit"}},tableForm:{search:"Cari",reset:"Atur ulang",submit:"Kirim",collapsed:"Lebih sedikit",expand:"Lebih banyak",inputPlaceholder:"Masukkan pencarian",selectPlaceholder:"Pilih"},alert:{clear:"Hapus",selected:"Dipilih",item:"Butir"},pagination:{total:{range:" ",total:"Dari",item:"Butir"}},tableToolBar:{leftPin:"Pin kiri",rightPin:"Pin kanan",noPin:"Tidak ada pin",leftFixedTitle:"Rata kiri",rightFixedTitle:"Rata kanan",noFixedTitle:"Tidak tetap",reset:"Atur ulang",columnDisplay:"Tampilan kolom",columnSetting:"Pengaturan",fullScreen:"Layar penuh",exitFullScreen:"Keluar layar penuh",reload:"Atur ulang",density:"Kerapatan",densityDefault:"Standar",densityLarger:"Lebih besar",densityMiddle:"Sedang",densitySmall:"Rapat"},stepsForm:{next:"Selanjutnya",prev:"Sebelumnya",submit:"Selesai"},loginForm:{submitText:"Login"},editableTable:{action:{save:"simpan",cancel:"batal",delete:"hapus",add:"Tambahkan baris data"}},switch:{open:"buka",close:"tutup"}},gye={moneySymbol:"€",form:{lightFilter:{more:"più",clear:"pulisci",confirm:"conferma",itemUnit:"elementi"}},tableForm:{search:"Filtra",reset:"Pulisci",submit:"Invia",collapsed:"Espandi",expand:"Contrai",inputPlaceholder:"Digita",selectPlaceholder:"Seleziona"},alert:{clear:"Rimuovi",selected:"Selezionati",item:"elementi"},pagination:{total:{range:" ",total:"di",item:"elementi"}},tableToolBar:{leftPin:"Fissa a sinistra",rightPin:"Fissa a destra",noPin:"Ripristina posizione",leftFixedTitle:"Fissato a sinistra",rightFixedTitle:"Fissato a destra",noFixedTitle:"Non fissato",reset:"Ripristina",columnDisplay:"Disposizione colonne",columnSetting:"Impostazioni",fullScreen:"Modalità schermo intero",exitFullScreen:"Esci da modalità schermo intero",reload:"Ricarica",density:"Grandezza tabella",densityDefault:"predefinito",densityLarger:"Grande",densityMiddle:"Media",densitySmall:"Compatta"},stepsForm:{next:"successivo",prev:"precedente",submit:"finisci"},loginForm:{submitText:"Accedi"},editableTable:{action:{save:"salva",cancel:"annulla",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"chiudi"}},yye={moneySymbol:"¥",form:{lightFilter:{more:"更に",clear:"クリア",confirm:"確認",itemUnit:"アイテム"}},tableForm:{search:"検索",reset:"リセット",submit:"送信",collapsed:"拡大",expand:"折畳",inputPlaceholder:"入力してください",selectPlaceholder:"選択してください"},alert:{clear:"クリア",selected:"選択した",item:"アイテム"},pagination:{total:{range:"レコード",total:"/合計",item:" "}},tableToolBar:{leftPin:"左に固定",rightPin:"右に固定",noPin:"キャンセル",leftFixedTitle:"左に固定された項目",rightFixedTitle:"右に固定された項目",noFixedTitle:"固定されてない項目",reset:"リセット",columnDisplay:"表示列",columnSetting:"列表示設定",fullScreen:"フルスクリーン",exitFullScreen:"終了",reload:"更新",density:"行高",densityDefault:"デフォルト",densityLarger:"大",densityMiddle:"中",densitySmall:"小"},stepsForm:{next:"次へ",prev:"前へ",submit:"送信"},loginForm:{submitText:"ログイン"},editableTable:{action:{save:"保存",cancel:"キャンセル",delete:"削除",add:"追加"}},switch:{open:"開く",close:"閉じる"}},bye={moneySymbol:"₩",form:{lightFilter:{more:"더보기",clear:"초기화",confirm:"확인",itemUnit:"건수"}},tableForm:{search:"조회",reset:"초기화",submit:"제출",collapsed:"확장",expand:"닫기",inputPlaceholder:"입력해 주세요",selectPlaceholder:"선택해 주세요"},alert:{clear:"취소",selected:"선택",item:"건"},pagination:{total:{range:" ",total:"/ 총",item:"건"}},tableToolBar:{leftPin:"왼쪽으로 핀",rightPin:"오른쪽으로 핀",noPin:"핀 제거",leftFixedTitle:"왼쪽으로 고정",rightFixedTitle:"오른쪽으로 고정",noFixedTitle:"비고정",reset:"초기화",columnDisplay:"컬럼 표시",columnSetting:"설정",fullScreen:"전체 화면",exitFullScreen:"전체 화면 취소",reload:"새로 고침",density:"여백",densityDefault:"기본",densityLarger:"많은 여백",densityMiddle:"중간 여백",densitySmall:"좁은 여백"},stepsForm:{next:"다음",prev:"이전",submit:"종료"},loginForm:{submitText:"로그인"},editableTable:{action:{save:"저장",cancel:"취소",delete:"삭제",add:"데이터 행 추가"}},switch:{open:"열",close:"가까 운"}},xye={moneySymbol:"₮",form:{lightFilter:{more:"Илүү",clear:"Цэвэрлэх",confirm:"Баталгаажуулах",itemUnit:"Нэгжүүд"}},tableForm:{search:"Хайх",reset:"Шинэчлэх",submit:"Илгээх",collapsed:"Өргөтгөх",expand:"Хураах",inputPlaceholder:"Утга оруулна уу",selectPlaceholder:"Утга сонгоно уу"},alert:{clear:"Цэвэрлэх",selected:"Сонгогдсон",item:"Нэгж"},pagination:{total:{range:" ",total:"Нийт",item:"мөр"}},tableToolBar:{leftPin:"Зүүн тийш бэхлэх",rightPin:"Баруун тийш бэхлэх",noPin:"Бэхлэхгүй",leftFixedTitle:"Зүүн зэрэгцүүлэх",rightFixedTitle:"Баруун зэрэгцүүлэх",noFixedTitle:"Зэрэгцүүлэхгүй",reset:"Шинэчлэх",columnDisplay:"Баганаар харуулах",columnSetting:"Тохиргоо",fullScreen:"Бүтэн дэлгэцээр",exitFullScreen:"Бүтэн дэлгэц цуцлах",reload:"Шинэчлэх",density:"Хэмжээ",densityDefault:"Хэвийн",densityLarger:"Том",densityMiddle:"Дунд",densitySmall:"Жижиг"},stepsForm:{next:"Дараах",prev:"Өмнөх",submit:"Дуусгах"},loginForm:{submitText:"Нэвтрэх"},editableTable:{action:{save:"Хадгалах",cancel:"Цуцлах",delete:"Устгах",add:"Мөр нэмэх"}},switch:{open:"Нээх",close:"Хаах"}},_ye={moneySymbol:"RM",form:{lightFilter:{more:"Lebih banyak",clear:"Jelas",confirm:"Mengesahkan",itemUnit:"Item"}},tableForm:{search:"Cari",reset:"Menetapkan semula",submit:"Hantar",collapsed:"Kembang",expand:"Kuncup",inputPlaceholder:"Sila masuk",selectPlaceholder:"Sila pilih"},alert:{clear:"Padam",selected:"Dipilih",item:"Item"},pagination:{total:{range:" ",total:"daripada",item:"item"}},tableToolBar:{leftPin:"Pin ke kiri",rightPin:"Pin ke kanan",noPin:"Tidak pin",leftFixedTitle:"Tetap ke kiri",rightFixedTitle:"Tetap ke kanan",noFixedTitle:"Tidak Tetap",reset:"Menetapkan semula",columnDisplay:"Lajur",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Keluar Full Screen",reload:"Muat Semula",density:"Densiti",densityDefault:"Biasa",densityLarger:"Besar",densityMiddle:"Tengah",densitySmall:"Kecil"},stepsForm:{next:"Seterusnya",prev:"Sebelumnya",submit:"Selesai"},loginForm:{submitText:"Log Masuk"},editableTable:{action:{save:"Simpan",cancel:"Membatalkan",delete:"Menghapuskan",add:"tambah baris data"}},switch:{open:"Terbuka",close:"Tutup"}},Sye={moneySymbol:"zł",form:{lightFilter:{more:"Więcej",clear:"Wyczyść",confirm:"Potwierdź",itemUnit:"Ilość"}},tableForm:{search:"Szukaj",reset:"Reset",submit:"Zatwierdź",collapsed:"Pokaż wiecej",expand:"Pokaż mniej",inputPlaceholder:"Proszę podać",selectPlaceholder:"Proszę wybrać"},alert:{clear:"Wyczyść",selected:"Wybrane",item:"Wpis"},pagination:{total:{range:" ",total:"z",item:"Wpisów"}},tableToolBar:{leftPin:"Przypnij do lewej",rightPin:"Przypnij do prawej",noPin:"Odepnij",leftFixedTitle:"Przypięte do lewej",rightFixedTitle:"Przypięte do prawej",noFixedTitle:"Nieprzypięte",reset:"Reset",columnDisplay:"Wyświetlane wiersze",columnSetting:"Ustawienia",fullScreen:"Pełen ekran",exitFullScreen:"Zamknij pełen ekran",reload:"Odśwież",density:"Odstęp",densityDefault:"Standard",densityLarger:"Wiekszy",densityMiddle:"Sredni",densitySmall:"Kompaktowy"},stepsForm:{next:"Weiter",prev:"Zurück",submit:"Abschließen"},loginForm:{submitText:"Zaloguj się"},editableTable:{action:{save:"Zapisać",cancel:"Anuluj",delete:"Usunąć",add:"dodawanie wiersza danych"}},switch:{open:"otwierać",close:"zamykać"}},wye={moneySymbol:"R$",form:{lightFilter:{more:"Mais",clear:"Limpar",confirm:"Confirmar",itemUnit:"Itens"}},tableForm:{search:"Filtrar",reset:"Limpar",submit:"Confirmar",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Por favor insira",selectPlaceholder:"Por favor selecione"},alert:{clear:"Limpar",selected:"Selecionado(s)",item:"Item(s)"},pagination:{total:{range:" ",total:"de",item:"itens"}},tableToolBar:{leftPin:"Fixar à esquerda",rightPin:"Fixar à direita",noPin:"Desfixado",leftFixedTitle:"Fixado à esquerda",rightFixedTitle:"Fixado à direita",noFixedTitle:"Não fixado",reset:"Limpar",columnDisplay:"Mostrar Coluna",columnSetting:"Configurações",fullScreen:"Tela Cheia",exitFullScreen:"Sair da Tela Cheia",reload:"Atualizar",density:"Densidade",densityDefault:"Padrão",densityLarger:"Largo",densityMiddle:"Médio",densitySmall:"Compacto"},stepsForm:{next:"Próximo",prev:"Anterior",submit:"Enviar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Salvar",cancel:"Cancelar",delete:"Apagar",add:"adicionar uma linha de dados"}},switch:{open:"abrir",close:"fechar"}},Eye={moneySymbol:"₽",form:{lightFilter:{more:"Еще",clear:"Очистить",confirm:"ОК",itemUnit:"Позиции"}},tableForm:{search:"Найти",reset:"Сброс",submit:"Отправить",collapsed:"Развернуть",expand:"Свернуть",inputPlaceholder:"Введите значение",selectPlaceholder:"Выберите значение"},alert:{clear:"Очистить",selected:"Выбрано",item:"элементов"},pagination:{total:{range:" ",total:"из",item:"элементов"}},tableToolBar:{leftPin:"Закрепить слева",rightPin:"Закрепить справа",noPin:"Открепить",leftFixedTitle:"Закреплено слева",rightFixedTitle:"Закреплено справа",noFixedTitle:"Не закреплено",reset:"Сброс",columnDisplay:"Отображение столбца",columnSetting:"Настройки",fullScreen:"Полный экран",exitFullScreen:"Выйти из полноэкранного режима",reload:"Обновить",density:"Размер",densityDefault:"По умолчанию",densityLarger:"Большой",densityMiddle:"Средний",densitySmall:"Сжатый"},stepsForm:{next:"Следующий",prev:"Предыдущий",submit:"Завершить"},loginForm:{submitText:"Вход"},editableTable:{action:{save:"Сохранить",cancel:"Отменить",delete:"Удалить",add:"добавить ряд данных"}},switch:{open:"Открытый чемпионат мира по теннису",close:"По адресу:"}},Cye={moneySymbol:"€",deleteThisLine:"Odstrániť tento riadok",copyThisLine:"Skopírujte tento riadok",form:{lightFilter:{more:"Viac",clear:"Vyčistiť",confirm:"Potvrďte",itemUnit:"Položky"}},tableForm:{search:"Vyhladať",reset:"Resetovať",submit:"Odoslať",collapsed:"Rozbaliť",expand:"Zbaliť",inputPlaceholder:"Prosím, zadajte",selectPlaceholder:"Prosím, vyberte"},alert:{clear:"Vyčistiť",selected:"Vybraný",item:"Položka"},pagination:{total:{range:" ",total:"z",item:"položiek"}},tableToolBar:{leftPin:"Pripnúť vľavo",rightPin:"Pripnúť vpravo",noPin:"Odopnuté",leftFixedTitle:"Fixované na ľavo",rightFixedTitle:"Fixované na pravo",noFixedTitle:"Nefixované",reset:"Resetovať",columnDisplay:"Zobrazenie stĺpcov",columnSetting:"Nastavenia",fullScreen:"Celá obrazovka",exitFullScreen:"Ukončiť celú obrazovku",reload:"Obnoviť",density:"Hustota",densityDefault:"Predvolené",densityLarger:"Väčšie",densityMiddle:"Stredné",densitySmall:"Kompaktné"},stepsForm:{next:"Ďalšie",prev:"Predchádzajúce",submit:"Potvrdiť"},loginForm:{submitText:"Prihlásiť sa"},editableTable:{onlyOneLineEditor:"Upravovať možno iba jeden riadok",action:{save:"Uložiť",cancel:"Zrušiť",delete:"Odstrániť",add:"pridať riadok údajov"}},switch:{open:"otvoriť",close:"zavrieť"}},Tye={moneySymbol:"RSD",form:{lightFilter:{more:"Više",clear:"Očisti",confirm:"Potvrdi",itemUnit:"Stavke"}},tableForm:{search:"Pronađi",reset:"Resetuj",submit:"Pošalji",collapsed:"Proširi",expand:"Skupi",inputPlaceholder:"Molimo unesite",selectPlaceholder:"Molimo odaberite"},alert:{clear:"Očisti",selected:"Odabrano",item:"Stavka"},pagination:{total:{range:" ",total:"od",item:"stavki"}},tableToolBar:{leftPin:"Zakači levo",rightPin:"Zakači desno",noPin:"Nije zakačeno",leftFixedTitle:"Fiksirano levo",rightFixedTitle:"Fiksirano desno",noFixedTitle:"Nije fiksirano",reset:"Resetuj",columnDisplay:"Prikaz kolona",columnSetting:"Podešavanja",fullScreen:"Pun ekran",exitFullScreen:"Zatvori pun ekran",reload:"Osveži",density:"Veličina",densityDefault:"Podrazumevana",densityLarger:"Veća",densityMiddle:"Srednja",densitySmall:"Kompaktna"},stepsForm:{next:"Dalje",prev:"Nazad",submit:"Gotovo"},loginForm:{submitText:"Prijavi se"},editableTable:{action:{save:"Sačuvaj",cancel:"Poništi",delete:"Obriši",add:"dodajte red podataka"}},switch:{open:"Отворите",close:"Затворите"}},Rye={moneySymbol:"฿",deleteThisLine:"ลบบรรทัดนี้",copyThisLine:"คัดลอกบรรทัดนี้",form:{lightFilter:{more:"มากกว่า",clear:"ชัดเจน",confirm:"ยืนยัน",itemUnit:"รายการ"}},tableForm:{search:"สอบถาม",reset:"รีเซ็ต",submit:"ส่ง",collapsed:"ขยาย",expand:"ทรุด",inputPlaceholder:"กรุณาป้อน",selectPlaceholder:"โปรดเลือก"},alert:{clear:"ชัดเจน",selected:"เลือกแล้ว",item:"รายการ"},pagination:{total:{range:" ",total:"ของ",item:"รายการ"}},tableToolBar:{leftPin:"ปักหมุดไปทางซ้าย",rightPin:"ปักหมุดไปทางขวา",noPin:"เลิกตรึงแล้ว",leftFixedTitle:"แก้ไขด้านซ้าย",rightFixedTitle:"แก้ไขด้านขวา",noFixedTitle:"ไม่คงที่",reset:"รีเซ็ต",columnDisplay:"การแสดงคอลัมน์",columnSetting:"การตั้งค่า",fullScreen:"เต็มจอ",exitFullScreen:"ออกจากโหมดเต็มหน้าจอ",reload:"รีเฟรช",density:"ความหนาแน่น",densityDefault:"ค่าเริ่มต้น",densityLarger:"ขนาดใหญ่ขึ้น",densityMiddle:"กลาง",densitySmall:"กะทัดรัด"},stepsForm:{next:"ถัดไป",prev:"ก่อนหน้า",submit:"เสร็จ"},loginForm:{submitText:"เข้าสู่ระบบ"},editableTable:{onlyOneLineEditor:"แก้ไขได้เพียงบรรทัดเดียวเท่านั้น",action:{save:"บันทึก",cancel:"ยกเลิก",delete:"ลบ",add:"เพิ่มแถวของข้อมูล"}},switch:{open:"เปิด",close:"ปิด"}},Pye={moneySymbol:"₺",form:{lightFilter:{more:"Daha Fazla",clear:"Temizle",confirm:"Onayla",itemUnit:"Öğeler"}},tableForm:{search:"Filtrele",reset:"Sıfırla",submit:"Gönder",collapsed:"Daha fazla",expand:"Daha az",inputPlaceholder:"Filtrelemek için bir değer girin",selectPlaceholder:"Filtrelemek için bir değer seçin"},alert:{clear:"Temizle",selected:"Seçili",item:"Öğe"},pagination:{total:{range:" ",total:"Toplam",item:"Öğe"}},tableToolBar:{leftPin:"Sola sabitle",rightPin:"Sağa sabitle",noPin:"Sabitlemeyi kaldır",leftFixedTitle:"Sola sabitlendi",rightFixedTitle:"Sağa sabitlendi",noFixedTitle:"Sabitlenmedi",reset:"Sıfırla",columnDisplay:"Kolon Görünümü",columnSetting:"Ayarlar",fullScreen:"Tam Ekran",exitFullScreen:"Tam Ekrandan Çık",reload:"Yenile",density:"Kalınlık",densityDefault:"Varsayılan",densityLarger:"Büyük",densityMiddle:"Orta",densitySmall:"Küçük"},stepsForm:{next:"Sıradaki",prev:"Önceki",submit:"Gönder"},loginForm:{submitText:"Giriş Yap"},editableTable:{action:{save:"Kaydet",cancel:"Vazgeç",delete:"Sil",add:"foegje in rige gegevens ta"}},switch:{open:"açık",close:"kapatmak"}},Aye={moneySymbol:"₴",deleteThisLine:"Видатили рядок",copyThisLine:"Скопіювати рядок",form:{lightFilter:{more:"Ще",clear:"Очистити",confirm:"Ок",itemUnit:"Позиції"}},tableForm:{search:"Пошук",reset:"Очистити",submit:"Відправити",collapsed:"Розгорнути",expand:"Згорнути",inputPlaceholder:"Введіть значення",selectPlaceholder:"Оберіть значення"},alert:{clear:"Очистити",selected:"Обрано",item:"елементів"},pagination:{total:{range:" ",total:"з",item:"елементів"}},tableToolBar:{leftPin:"Закріпити зліва",rightPin:"Закріпити справа",noPin:"Відкріпити",leftFixedTitle:"Закріплено зліва",rightFixedTitle:"Закріплено справа",noFixedTitle:"Не закріплено",reset:"Скинути",columnDisplay:"Відображення стовпців",columnSetting:"Налаштування",fullScreen:"Повноекранний режим",exitFullScreen:"Вийти з повноекранного режиму",reload:"Оновити",density:"Розмір",densityDefault:"За замовчуванням",densityLarger:"Великий",densityMiddle:"Середній",densitySmall:"Стислий"},stepsForm:{next:"Наступний",prev:"Попередній",submit:"Завершити"},loginForm:{submitText:"Вхіх"},editableTable:{onlyOneLineEditor:"Тільки один рядок може бути редагований одночасно",action:{save:"Зберегти",cancel:"Відмінити",delete:"Видалити",add:"додати рядок"}},switch:{open:"Відкрито",close:"Закрито"}},Oye={moneySymbol:"UZS",form:{lightFilter:{more:"Yana",clear:"Tozalash",confirm:"OK",itemUnit:"Pozitsiyalar"}},tableForm:{search:"Qidirish",reset:"Qayta tiklash",submit:"Yuborish",collapsed:"Yig‘ish",expand:"Kengaytirish",inputPlaceholder:"Qiymatni kiriting",selectPlaceholder:"Qiymatni tanlang"},alert:{clear:"Tozalash",selected:"Tanlangan",item:"elementlar"},pagination:{total:{range:" ",total:"dan",item:"elementlar"}},tableToolBar:{leftPin:"Chapga mahkamlash",rightPin:"O‘ngga mahkamlash",noPin:"Mahkamlashni olib tashlash",leftFixedTitle:"Chapga mahkamlangan",rightFixedTitle:"O‘ngga mahkamlangan",noFixedTitle:"Mahkamlashsiz",reset:"Qayta tiklash",columnDisplay:"Ustunni ko‘rsatish",columnSetting:"Sozlamalar",fullScreen:"To‘liq ekran",exitFullScreen:"To‘liq ekrandan chiqish",reload:"Yangilash",density:"O‘lcham",densityDefault:"Standart",densityLarger:"Katta",densityMiddle:"O‘rtacha",densitySmall:"Kichik"},stepsForm:{next:"Keyingi",prev:"Oldingi",submit:"Tugatish"},loginForm:{submitText:"Kirish"},editableTable:{action:{save:"Saqlash",cancel:"Bekor qilish",delete:"O‘chirish",add:"maʼlumotlar qatorini qo‘shish"}},switch:{open:"Ochish",close:"Yopish"}},Nye={moneySymbol:"₫",form:{lightFilter:{more:"Nhiều hơn",clear:"Trong",confirm:"Xác nhận",itemUnit:"Mục"}},tableForm:{search:"Tìm kiếm",reset:"Làm lại",submit:"Gửi đi",collapsed:"Mở rộng",expand:"Thu gọn",inputPlaceholder:"nhập dữ liệu",selectPlaceholder:"Vui lòng chọn"},alert:{clear:"Xóa",selected:"đã chọn",item:"mục"},pagination:{total:{range:" ",total:"trên",item:"mặt hàng"}},tableToolBar:{leftPin:"Ghim trái",rightPin:"Ghim phải",noPin:"Bỏ ghim",leftFixedTitle:"Cố định trái",rightFixedTitle:"Cố định phải",noFixedTitle:"Chưa cố định",reset:"Làm lại",columnDisplay:"Cột hiển thị",columnSetting:"Cấu hình",fullScreen:"Chế độ toàn màn hình",exitFullScreen:"Thoát chế độ toàn màn hình",reload:"Làm mới",density:"Mật độ hiển thị",densityDefault:"Mặc định",densityLarger:"Mặc định",densityMiddle:"Trung bình",densitySmall:"Chật"},stepsForm:{next:"Sau",prev:"Trước",submit:"Kết thúc"},loginForm:{submitText:"Đăng nhập"},editableTable:{action:{save:"Cứu",cancel:"Hủy",delete:"Xóa",add:"thêm một hàng dữ liệu"}},switch:{open:"mở",close:"đóng"}},Mye={moneySymbol:"¥",deleteThisLine:"删除此项",copyThisLine:"复制此项",form:{lightFilter:{more:"更多筛选",clear:"清除",confirm:"确认",itemUnit:"项"}},tableForm:{search:"查询",reset:"重置",submit:"提交",collapsed:"展开",expand:"收起",inputPlaceholder:"请输入",selectPlaceholder:"请选择"},alert:{clear:"取消选择",selected:"已选择",item:"项"},pagination:{total:{range:"第",total:"条/总共",item:"条"}},tableToolBar:{leftPin:"固定在列首",rightPin:"固定在列尾",noPin:"不固定",leftFixedTitle:"固定在左侧",rightFixedTitle:"固定在右侧",noFixedTitle:"不固定",reset:"重置",columnDisplay:"列展示",columnSetting:"列设置",fullScreen:"全屏",exitFullScreen:"退出全屏",reload:"刷新",density:"密度",densityDefault:"正常",densityLarger:"宽松",densityMiddle:"中等",densitySmall:"紧凑"},stepsForm:{next:"下一步",prev:"上一步",submit:"提交"},loginForm:{submitText:"登录"},editableTable:{onlyOneLineEditor:"只能同时编辑一行",action:{save:"保存",cancel:"取消",delete:"删除",add:"添加一行数据"}},switch:{open:"打开",close:"关闭"}},Iye={moneySymbol:"NT$",deleteThisLine:"刪除此项",copyThisLine:"複製此项",form:{lightFilter:{more:"更多篩選",clear:"清除",confirm:"確認",itemUnit:"項"}},tableForm:{search:"查詢",reset:"重置",submit:"提交",collapsed:"展開",expand:"收起",inputPlaceholder:"請輸入",selectPlaceholder:"請選擇"},alert:{clear:"取消選擇",selected:"已選擇",item:"項"},pagination:{total:{range:"第",total:"條/總共",item:"條"}},tableToolBar:{leftPin:"固定到左邊",rightPin:"固定到右邊",noPin:"不固定",leftFixedTitle:"固定在左側",rightFixedTitle:"固定在右側",noFixedTitle:"不固定",reset:"重置",columnDisplay:"列展示",columnSetting:"列設置",fullScreen:"全屏",exitFullScreen:"退出全屏",reload:"刷新",density:"密度",densityDefault:"正常",densityLarger:"寬鬆",densityMiddle:"中等",densitySmall:"緊湊"},stepsForm:{next:"下一步",prev:"上一步",submit:"完成"},loginForm:{submitText:"登入"},editableTable:{onlyOneLineEditor:"只能同時編輯一行",action:{save:"保存",cancel:"取消",delete:"刪除",add:"新增一行資料"}},switch:{open:"打開",close:"關閉"}},Dye={moneySymbol:"€",deleteThisLine:"Verwijder deze regel",copyThisLine:"Kopieer deze regel",form:{lightFilter:{more:"Meer filters",clear:"Wissen",confirm:"Bevestigen",itemUnit:"item"}},tableForm:{search:"Zoeken",reset:"Resetten",submit:"Indienen",collapsed:"Uitvouwen",expand:"Inklappen",inputPlaceholder:"Voer in",selectPlaceholder:"Selecteer"},alert:{clear:"Selectie annuleren",selected:"Geselecteerd",item:"item"},pagination:{total:{range:"Van",total:"items/totaal",item:"items"}},tableToolBar:{leftPin:"Vastzetten aan begin",rightPin:"Vastzetten aan einde",noPin:"Niet vastzetten",leftFixedTitle:"Vastzetten aan de linkerkant",rightFixedTitle:"Vastzetten aan de rechterkant",noFixedTitle:"Niet vastzetten",reset:"Resetten",columnDisplay:"Kolomweergave",columnSetting:"Kolominstellingen",fullScreen:"Volledig scherm",exitFullScreen:"Verlaat volledig scherm",reload:"Vernieuwen",density:"Dichtheid",densityDefault:"Normaal",densityLarger:"Ruim",densityMiddle:"Gemiddeld",densitySmall:"Compact"},stepsForm:{next:"Volgende stap",prev:"Vorige stap",submit:"Indienen"},loginForm:{submitText:"Inloggen"},editableTable:{onlyOneLineEditor:"Slechts één regel tegelijk bewerken",action:{save:"Opslaan",cancel:"Annuleren",delete:"Verwijderen",add:"Een regel toevoegen"}},switch:{open:"Openen",close:"Sluiten"}},Lye={moneySymbol:"RON",deleteThisLine:"Șterge acest rând",copyThisLine:"Copiază acest rând",form:{lightFilter:{more:"Mai multe filtre",clear:"Curăță",confirm:"Confirmă",itemUnit:"elemente"}},tableForm:{search:"Caută",reset:"Resetează",submit:"Trimite",collapsed:"Extinde",expand:"Restrânge",inputPlaceholder:"Introduceți",selectPlaceholder:"Selectați"},alert:{clear:"Anulează selecția",selected:"Selectat",item:"elemente"},pagination:{total:{range:"De la",total:"elemente/total",item:"elemente"}},tableToolBar:{leftPin:"Fixează la început",rightPin:"Fixează la sfârșit",noPin:"Nu fixa",leftFixedTitle:"Fixează în stânga",rightFixedTitle:"Fixează în dreapta",noFixedTitle:"Nu fixa",reset:"Resetează",columnDisplay:"Afișare coloane",columnSetting:"Setări coloane",fullScreen:"Ecran complet",exitFullScreen:"Ieși din ecran complet",reload:"Reîncarcă",density:"Densitate",densityDefault:"Normal",densityLarger:"Larg",densityMiddle:"Mediu",densitySmall:"Compact"},stepsForm:{next:"Pasul următor",prev:"Pasul anterior",submit:"Trimite"},loginForm:{submitText:"Autentificare"},editableTable:{onlyOneLineEditor:"Se poate edita doar un rând simultan",action:{save:"Salvează",cancel:"Anulează",delete:"Șterge",add:"Adaugă un rând"}},switch:{open:"Deschide",close:"Închide"}},kye={moneySymbol:"SEK",deleteThisLine:"Radera denna rad",copyThisLine:"Kopiera denna rad",form:{lightFilter:{more:"Fler filter",clear:"Rensa",confirm:"Bekräfta",itemUnit:"objekt"}},tableForm:{search:"Sök",reset:"Återställ",submit:"Skicka",collapsed:"Expandera",expand:"Fäll ihop",inputPlaceholder:"Vänligen ange",selectPlaceholder:"Vänligen välj"},alert:{clear:"Avbryt val",selected:"Vald",item:"objekt"},pagination:{total:{range:"Från",total:"objekt/totalt",item:"objekt"}},tableToolBar:{leftPin:"Fäst till vänster",rightPin:"Fäst till höger",noPin:"Inte fäst",leftFixedTitle:"Fäst till vänster",rightFixedTitle:"Fäst till höger",noFixedTitle:"Inte fäst",reset:"Återställ",columnDisplay:"Kolumnvisning",columnSetting:"Kolumninställningar",fullScreen:"Fullskärm",exitFullScreen:"Avsluta fullskärm",reload:"Ladda om",density:"Täthet",densityDefault:"Normal",densityLarger:"Lös",densityMiddle:"Medium",densitySmall:"Kompakt"},stepsForm:{next:"Nästa steg",prev:"Föregående steg",submit:"Skicka"},loginForm:{submitText:"Logga in"},editableTable:{onlyOneLineEditor:"Endast en rad kan redigeras åt gången",action:{save:"Spara",cancel:"Avbryt",delete:"Radera",add:"Lägg till en rad"}},switch:{open:"Öppna",close:"Stäng"}};var Di=function(e,n){return{getMessage:function(i,o){var a=xo(n,i.replace(/\[(\d+)\]/g,".$1").split("."))||"";if(a)return a;var s=e.replace("_","-");if(s==="zh-CN")return o;var l=Ep["zh-CN"];return l?l.getMessage(i,o):o},locale:e}},$ye=Di("mn_MN",xye),Fye=Di("ar_EG",oye),bm=Di("zh_CN",Mye),jye=Di("en_US",cye),Bye=Di("en_GB",uye),zye=Di("vi_VN",Nye),Hye=Di("it_IT",gye),Uye=Di("ja_JP",yye),Gye=Di("es_ES",dye),Wye=Di("ca_ES",aye),Vye=Di("ru_RU",Eye),Xye=Di("sr_RS",Tye),Kye=Di("ms_MY",_ye),Yye=Di("zh_TW",Iye),qye=Di("fr_FR",hye),Zye=Di("pt_BR",wye),Jye=Di("ko_KR",bye),Qye=Di("id_ID",mye),ebe=Di("de_DE",lye),tbe=Di("fa_IR",fye),nbe=Di("tr_TR",Pye),rbe=Di("pl_PL",Sye),ibe=Di("hr_",vye),obe=Di("th_TH",Rye),abe=Di("cs_cz",sye),sbe=Di("sk_SK",Cye),lbe=Di("he_IL",pye),ube=Di("uk_UA",Aye),cbe=Di("uz_UZ",Oye),dbe=Di("nl_NL",Dye),fbe=Di("ro_RO",Lye),hbe=Di("sv_SE",kye),Ep={"mn-MN":$ye,"ar-EG":Fye,"zh-CN":bm,"en-US":jye,"en-GB":Bye,"vi-VN":zye,"it-IT":Hye,"ja-JP":Uye,"es-ES":Gye,"ca-ES":Wye,"ru-RU":Vye,"sr-RS":Xye,"ms-MY":Kye,"zh-TW":Yye,"fr-FR":qye,"pt-BR":Zye,"ko-KR":Jye,"id-ID":Qye,"de-DE":ebe,"fa-IR":tbe,"tr-TR":nbe,"pl-PL":rbe,"hr-HR":ibe,"th-TH":obe,"cs-CZ":abe,"sk-SK":sbe,"he-IL":lbe,"uk-UA":ube,"uz-UZ":cbe,"nl-NL":dbe,"ro-RO":fbe,"sv-SE":hbe},pbe=Object.keys(Ep),m9=function(e){var n=(e||"zh-CN").toLocaleLowerCase();return pbe.find(function(r){var i=r.toLocaleLowerCase();return i.includes(n)})},g2,cb={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911",colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff7875",colorInfo:"#1677ff",colorTextBase:"#000",colorBgBase:"#fff",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInQuint:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:4,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,"blue-1":"#e6f4ff","blue-2":"#bae0ff","blue-3":"#91caff","blue-4":"#69b1ff","blue-5":"#4096ff","blue-6":"#1677ff","blue-7":"#0958d9","blue-8":"#003eb3","blue-9":"#002c8c","blue-10":"#001d66","purple-1":"#f9f0ff","purple-2":"#efdbff","purple-3":"#d3adf7","purple-4":"#b37feb","purple-5":"#9254de","purple-6":"#722ed1","purple-7":"#531dab","purple-8":"#391085","purple-9":"#22075e","purple-10":"#120338","cyan-1":"#e6fffb","cyan-2":"#b5f5ec","cyan-3":"#87e8de","cyan-4":"#5cdbd3","cyan-5":"#36cfc9","cyan-6":"#13c2c2","cyan-7":"#08979c","cyan-8":"#006d75","cyan-9":"#00474f","cyan-10":"#002329","green-1":"#f6ffed","green-2":"#d9f7be","green-3":"#b7eb8f","green-4":"#95de64","green-5":"#73d13d","green-6":"#52c41a","green-7":"#389e0d","green-8":"#237804","green-9":"#135200","green-10":"#092b00","magenta-1":"#fff0f6","magenta-2":"#ffd6e7","magenta-3":"#ffadd2","magenta-4":"#ff85c0","magenta-5":"#f759ab","magenta-6":"#eb2f96","magenta-7":"#c41d7f","magenta-8":"#9e1068","magenta-9":"#780650","magenta-10":"#520339","pink-1":"#fff0f6","pink-2":"#ffd6e7","pink-3":"#ffadd2","pink-4":"#ff85c0","pink-5":"#f759ab","pink-6":"#eb2f96","pink-7":"#c41d7f","pink-8":"#9e1068","pink-9":"#780650","pink-10":"#520339","red-1":"#fff1f0","red-2":"#ffccc7","red-3":"#ffa39e","red-4":"#ff7875","red-5":"#ff4d4f","red-6":"#f5222d","red-7":"#cf1322","red-8":"#a8071a","red-9":"#820014","red-10":"#5c0011","orange-1":"#fff7e6","orange-2":"#ffe7ba","orange-3":"#ffd591","orange-4":"#ffc069","orange-5":"#ffa940","orange-6":"#fa8c16","orange-7":"#d46b08","orange-8":"#ad4e00","orange-9":"#873800","orange-10":"#612500","yellow-1":"#feffe6","yellow-2":"#ffffb8","yellow-3":"#fffb8f","yellow-4":"#fff566","yellow-5":"#ffec3d","yellow-6":"#fadb14","yellow-7":"#d4b106","yellow-8":"#ad8b00","yellow-9":"#876800","yellow-10":"#614700","volcano-1":"#fff2e8","volcano-2":"#ffd8bf","volcano-3":"#ffbb96","volcano-4":"#ff9c6e","volcano-5":"#ff7a45","volcano-6":"#fa541c","volcano-7":"#d4380d","volcano-8":"#ad2102","volcano-9":"#871400","volcano-10":"#610b00","geekblue-1":"#f0f5ff","geekblue-2":"#d6e4ff","geekblue-3":"#adc6ff","geekblue-4":"#85a5ff","geekblue-5":"#597ef7","geekblue-6":"#2f54eb","geekblue-7":"#1d39c4","geekblue-8":"#10239e","geekblue-9":"#061178","geekblue-10":"#030852","gold-1":"#fffbe6","gold-2":"#fff1b8","gold-3":"#ffe58f","gold-4":"#ffd666","gold-5":"#ffc53d","gold-6":"#faad14","gold-7":"#d48806","gold-8":"#ad6800","gold-9":"#874d00","gold-10":"#613400","lime-1":"#fcffe6","lime-2":"#f4ffb8","lime-3":"#eaff8f","lime-4":"#d3f261","lime-5":"#bae637","lime-6":"#a0d911","lime-7":"#7cb305","lime-8":"#5b8c00","lime-9":"#3f6600","lime-10":"#254000",colorText:"rgba(0, 0, 0, 0.88)",colorTextSecondary:"rgba(0, 0, 0, 0.65)",colorTextTertiary:"rgba(0, 0, 0, 0.45)",colorTextQuaternary:"rgba(0, 0, 0, 0.25)",colorFill:"rgba(0, 0, 0, 0.15)",colorFillSecondary:"rgba(0, 0, 0, 0.06)",colorFillTertiary:"rgba(0, 0, 0, 0.04)",colorFillQuaternary:"rgba(0, 0, 0, 0.02)",colorBgLayout:"hsl(220,23%,97%)",colorBgContainer:"#ffffff",colorBgElevated:"#ffffff",colorBgSpotlight:"rgba(0, 0, 0, 0.85)",colorBorder:"#d9d9d9",colorBorderSecondary:"#f0f0f0",colorPrimaryBg:"#e6f4ff",colorPrimaryBgHover:"#bae0ff",colorPrimaryBorder:"#91caff",colorPrimaryBorderHover:"#69b1ff",colorPrimaryHover:"#4096ff",colorPrimaryActive:"#0958d9",colorPrimaryTextHover:"#4096ff",colorPrimaryText:"#1677ff",colorPrimaryTextActive:"#0958d9",colorSuccessBg:"#f6ffed",colorSuccessBgHover:"#d9f7be",colorSuccessBorder:"#b7eb8f",colorSuccessBorderHover:"#95de64",colorSuccessHover:"#95de64",colorSuccessActive:"#389e0d",colorSuccessTextHover:"#73d13d",colorSuccessText:"#52c41a",colorSuccessTextActive:"#389e0d",colorErrorBg:"#fff2f0",colorErrorBgHover:"#fff1f0",colorErrorBorder:"#ffccc7",colorErrorBorderHover:"#ffa39e",colorErrorHover:"#ffa39e",colorErrorActive:"#d9363e",colorErrorTextHover:"#ff7875",colorErrorText:"#ff4d4f",colorErrorTextActive:"#d9363e",colorWarningBg:"#fffbe6",colorWarningBgHover:"#fff1b8",colorWarningBorder:"#ffe58f",colorWarningBorderHover:"#ffd666",colorWarningHover:"#ffd666",colorWarningActive:"#d48806",colorWarningTextHover:"#ffc53d",colorWarningText:"#faad14",colorWarningTextActive:"#d48806",colorInfoBg:"#e6f4ff",colorInfoBgHover:"#bae0ff",colorInfoBorder:"#91caff",colorInfoBorderHover:"#69b1ff",colorInfoHover:"#69b1ff",colorInfoActive:"#0958d9",colorInfoTextHover:"#4096ff",colorInfoText:"#1677ff",colorInfoTextActive:"#0958d9",colorBgMask:"rgba(0, 0, 0, 0.45)",colorWhite:"#fff",sizeXXL:48,sizeXL:32,sizeLG:24,sizeMD:20,sizeMS:16,size:16,sizeSM:12,sizeXS:8,sizeXXS:4,controlHeightSM:24,controlHeightXS:16,controlHeightLG:40,motionDurationFast:"0.1s",motionDurationMid:"0.2s",motionDurationSlow:"0.3s",fontSizes:[12,14,16,20,24,30,38,46,56,68],lineHeights:[1.6666666666666667,1.5714285714285714,1.5,1.4,1.3333333333333333,1.2666666666666666,1.2105263157894737,1.173913043478261,1.1428571428571428,1.1176470588235294],lineWidthBold:2,borderRadiusXS:1,borderRadiusSM:4,borderRadiusLG:8,borderRadiusOuter:4,colorLink:"#1677ff",colorLinkHover:"#69b1ff",colorLinkActive:"#0958d9",colorFillContent:"rgba(0, 0, 0, 0.06)",colorFillContentHover:"rgba(0, 0, 0, 0.15)",colorFillAlter:"rgba(0, 0, 0, 0.02)",colorBgContainerDisabled:"rgba(0, 0, 0, 0.04)",colorBorderBg:"#ffffff",colorSplit:"rgba(5, 5, 5, 0.06)",colorTextPlaceholder:"rgba(0, 0, 0, 0.25)",colorTextDisabled:"rgba(0, 0, 0, 0.25)",colorTextHeading:"rgba(0, 0, 0, 0.88)",colorTextLabel:"rgba(0, 0, 0, 0.65)",colorTextDescription:"rgba(0, 0, 0, 0.45)",colorTextLightSolid:"#fff",colorHighlight:"#ff7875",colorBgTextHover:"rgba(0, 0, 0, 0.06)",colorBgTextActive:"rgba(0, 0, 0, 0.15)",colorIcon:"rgba(0, 0, 0, 0.45)",colorIconHover:"rgba(0, 0, 0, 0.88)",colorErrorOutline:"rgba(255, 38, 5, 0.06)",colorWarningOutline:"rgba(255, 215, 5, 0.1)",fontSizeSM:12,fontSizeLG:16,fontSizeXL:20,fontSizeHeading1:38,fontSizeHeading2:30,fontSizeHeading3:24,fontSizeHeading4:20,fontSizeHeading5:16,fontSizeIcon:12,lineHeight:1.5714285714285714,lineHeightLG:1.5,lineHeightSM:1.6666666666666667,lineHeightHeading1:1.2105263157894737,lineHeightHeading2:1.2666666666666666,lineHeightHeading3:1.3333333333333333,lineHeightHeading4:1.4,lineHeightHeading5:1.5,controlOutlineWidth:2,controlInteractiveSize:16,controlItemBgHover:"rgba(0, 0, 0, 0.04)",controlItemBgActive:"#e6f4ff",controlItemBgActiveHover:"#bae0ff",controlItemBgActiveDisabled:"rgba(0, 0, 0, 0.15)",controlTmpOutline:"rgba(0, 0, 0, 0.02)",controlOutline:"rgba(5, 145, 255, 0.1)",fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:4,paddingXS:8,paddingSM:12,padding:16,paddingMD:20,paddingLG:24,paddingXL:32,paddingContentHorizontalLG:24,paddingContentVerticalLG:16,paddingContentHorizontal:16,paddingContentVertical:12,paddingContentHorizontalSM:16,paddingContentVerticalSM:8,marginXXS:4,marginXS:8,marginSM:12,margin:16,marginMD:20,marginLG:24,marginXL:32,marginXXL:48,boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.03),0 1px 6px -1px rgba(0, 0, 0, 0.02),0 2px 4px 0 rgba(0, 0, 0, 0.02)",boxShadowSecondary:"0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05)",screenXS:480,screenXSMin:480,screenXSMax:479,screenSM:576,screenSMMin:576,screenSMMax:575,screenMD:768,screenMDMin:768,screenMDMax:767,screenLG:992,screenLGMin:992,screenLGMax:991,screenXL:1200,screenXLMin:1200,screenXLMax:1199,screenXXL:1600,screenXXLMin:1600,screenXXLMax:1599,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:"0 1px 2px -2px rgba(0, 0, 0, 0.16),0 3px 6px 0 rgba(0, 0, 0, 0.12),0 5px 12px 4px rgba(0, 0, 0, 0.09)",boxShadowDrawerRight:"-6px 0 16px 0 rgba(0, 0, 0, 0.08),-3px 0 6px -4px rgba(0, 0, 0, 0.12),-9px 0 28px 8px rgba(0, 0, 0, 0.05)",boxShadowDrawerLeft:"6px 0 16px 0 rgba(0, 0, 0, 0.08),3px 0 6px -4px rgba(0, 0, 0, 0.12),9px 0 28px 8px rgba(0, 0, 0, 0.05)",boxShadowDrawerUp:"0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05)",boxShadowDrawerDown:"0 -6px 16px 0 rgba(0, 0, 0, 0.08),0 -3px 6px -4px rgba(0, 0, 0, 0.12),0 -9px 28px 8px rgba(0, 0, 0, 0.05)",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)",_tokenKey:"19w80ff",_hashId:"css-dev-only-do-not-override-i2zu9q"},g9=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=3735928559^n,i=1103547991^n,o=0,a;o<e.length;o++)a=e.charCodeAt(o),r=Math.imul(r^a,2654435761),i=Math.imul(i^a,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&i)+(r>>>0)},qA=hT(function(t){return t}),y9={theme:qA,token:P(P({},cb),rc==null||(g2=rc.defaultAlgorithm)===null||g2===void 0?void 0:g2.call(rc,rc==null?void 0:rc.defaultSeed)),hashId:"pro-".concat(g9(JSON.stringify(cb)))},vbe=function(){return y9};const mbe=Object.freeze(Object.defineProperty({__proto__:null,defaultToken:cb,emptyTheme:qA,hashCode:g9,token:y9,useToken:vbe},Symbol.toStringTag,{value:"Module"}));var Zs=function(e,n){return new Af(e).setAlpha(n).toRgbString()},gbe=function(){return typeof rc>"u"||!rc?mbe:rc},Ps=gbe(),Cy=Ps.useToken,y2=function(e){return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none"}};function Qi(t,e){var n,r=y.useContext(Il),i=r.token,o=i===void 0?{}:i,a=y.useContext(Il),s=a.hashed,l=Cy(),u=l.token,c=l.hashId,d=y.useContext(Il),f=d.theme,h=y.useContext(Qn.ConfigContext),v=h.getPrefixCls,m=h.csp;return o.layout||(o=P({},u)),o.proComponentsCls=(n=o.proComponentsCls)!==null&&n!==void 0?n:".".concat(v("pro")),o.antCls=".".concat(v()),{wrapSSR:kX({theme:f,token:o,path:[t],nonce:m==null?void 0:m.nonce},function(){return e(o)}),hashId:s?c:""}}var ybe=function(e,n){var r,i,o,a,s,l=P({},e);return P(P({bgLayout:"linear-gradient(".concat(n.colorBgContainer,", ").concat(n.colorBgLayout," 28%)"),colorTextAppListIcon:n.colorTextSecondary,appListIconHoverBgColor:l==null||(r=l.sider)===null||r===void 0?void 0:r.colorBgMenuItemSelected,colorBgAppListIconHover:Zs(n.colorTextBase,.04),colorTextAppListIconHover:n.colorTextBase},l),{},{header:P({colorBgHeader:Zs(n.colorBgElevated,.6),colorBgScrollHeader:Zs(n.colorBgElevated,.8),colorHeaderTitle:n.colorText,colorBgMenuItemHover:Zs(n.colorTextBase,.03),colorBgMenuItemSelected:"transparent",colorBgMenuElevated:(l==null||(i=l.header)===null||i===void 0?void 0:i.colorBgHeader)!=="rgba(255, 255, 255, 0.6)"?(o=l.header)===null||o===void 0?void 0:o.colorBgHeader:n.colorBgElevated,colorTextMenuSelected:Zs(n.colorTextBase,.95),colorBgRightActionsItemHover:Zs(n.colorTextBase,.03),colorTextRightActionsItem:n.colorTextTertiary,heightLayoutHeader:56,colorTextMenu:n.colorTextSecondary,colorTextMenuSecondary:n.colorTextTertiary,colorTextMenuTitle:n.colorText,colorTextMenuActive:n.colorText},l.header),sider:P({paddingInlineLayoutMenu:8,paddingBlockLayoutMenu:0,colorBgCollapsedButton:n.colorBgElevated,colorTextCollapsedButtonHover:n.colorTextSecondary,colorTextCollapsedButton:Zs(n.colorTextBase,.25),colorMenuBackground:"transparent",colorMenuItemDivider:Zs(n.colorTextBase,.06),colorBgMenuItemHover:Zs(n.colorTextBase,.03),colorBgMenuItemSelected:Zs(n.colorTextBase,.04),colorTextMenuItemHover:n.colorText,colorTextMenuSelected:Zs(n.colorTextBase,.95),colorTextMenuActive:n.colorText,colorTextMenu:n.colorTextSecondary,colorTextMenuSecondary:n.colorTextTertiary,colorTextMenuTitle:n.colorText,colorTextSubMenuSelected:Zs(n.colorTextBase,.95)},l.sider),pageContainer:P({colorBgPageContainer:"transparent",paddingInlinePageContainerContent:((a=l.pageContainer)===null||a===void 0?void 0:a.marginInlinePageContainerContent)||40,paddingBlockPageContainerContent:((s=l.pageContainer)===null||s===void 0?void 0:s.marginBlockPageContainerContent)||32,colorBgPageContainerFixed:n.colorBgElevated},l.pageContainer)})},bbe=function(){for(var e={},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o=r.length,a,s=0;s<o;s+=1)for(a in r[s])r[s].hasOwnProperty(a)&&(ur(e[a])==="object"&&ur(r[s][a])==="object"&&e[a]!==void 0&&e[a]!==null&&!Array.isArray(e[a])&&!Array.isArray(r[s][a])?e[a]=P(P({},e[a]),r[s][a]):e[a]=r[s][a]);return e},xbe={exports:{}};(function(t,e){(function(n,r){t.exports=r(eY)})(Ra,function(n){function r(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var i=r(n),o={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(a,s){return s==="W"?a+"周":a+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(a,s){var l=100*a+s;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return i.default.locale(o,null,!0),o})})(xbe);var _be=["locale","getPrefixCls"],Sbe=["locale","theme"],wbe=function(e){var n={};if(Object.keys(e||{}).forEach(function(r){e[r]!==void 0&&(n[r]=e[r])}),!(Object.keys(n).length<1))return n},b2=function(){var e,n;return!(typeof process<"u"&&(((e="production")===null||e===void 0?void 0:e.toUpperCase())==="TEST"||((n="production")===null||n===void 0?void 0:n.toUpperCase())==="DEV"))},qf=je.createContext({intl:P(P({},bm),{},{locale:"default"}),valueTypeMap:{},theme:qA,hashed:!0,dark:!1,token:cb});qf.Consumer;var Ebe=function(){var e=p9(),n=e.cache;return y.useEffect(function(){return function(){n.clear()}},[]),null},Cbe=function(e){var n,r=e.children,i=e.dark,o=e.valueTypeMap,a=e.autoClearCache,s=a===void 0?!1:a,l=e.token,u=e.prefixCls,c=e.intl,d=y.useContext(Qn.ConfigContext),f=d.locale,h=d.getPrefixCls,v=Nn(d,_be),m=(n=Ps.useToken)===null||n===void 0?void 0:n.call(Ps),g=y.useContext(qf),x=u?".".concat(u):".".concat(h(),"-pro"),_="."+h(),w="".concat(x),S=y.useMemo(function(){return ybe(l||{},m.token||cb)},[l,m.token]),C=y.useMemo(function(){var k,B=f==null?void 0:f.locale,q=m9(B),X=c??(B&&((k=g.intl)===null||k===void 0?void 0:k.locale)==="default"?Ep[q]:g.intl||Ep[q]);return P(P({},g),{},{dark:i??g.dark,token:bbe(g.token,m.token,{proComponentsCls:x,antCls:_,themeId:m.theme.id,layout:S}),intl:X||bm})},[f==null?void 0:f.locale,g,i,m.token,m.theme.id,x,_,S,c]),O=P(P({},C.token||{}),{},{proComponentsCls:x}),T=$X(m.theme,[m.token,O??{}],{salt:w,override:O}),N=ht(T,2),M=N[0],D=N[1],F=y.useMemo(function(){return!(e.hashed===!1||g.hashed===!1)},[g.hashed,e.hashed]),j=y.useMemo(function(){return e.hashed===!1||g.hashed===!1||b2()===!1?"":m.hashId?m.hashId:D},[D,g.hashed,e.hashed]);y.useEffect(function(){xi.locale((f==null?void 0:f.locale)||"zh-cn")},[f==null?void 0:f.locale]);var R=y.useMemo(function(){return P(P({},v.theme),{},{hashId:j,hashed:F&&b2()})},[v.theme,j,F,b2()]),I=y.useMemo(function(){return P(P({},C),{},{valueTypeMap:o||(C==null?void 0:C.valueTypeMap),token:M,theme:m.theme,hashed:F,hashId:j})},[C,o,M,m.theme,F,j]),L=y.useMemo(function(){return E.jsx(Qn,P(P({},v),{},{theme:R,children:E.jsx(qf.Provider,{value:I,children:E.jsxs(E.Fragment,{children:[s&&E.jsx(Ebe,{}),r]})})}))},[v,R,I,s,r]);return s?E.jsx(iye,{value:{provider:function(){return new Map}},children:L}):L},ZA=function(e){var n=e.needDeps,r=e.dark,i=e.token,o=y.useContext(qf),a=y.useContext(Qn.ConfigContext),s=a.locale,l=a.theme,u=Nn(a,Sbe),c=n&&o.hashId!==void 0&&Object.keys(e).sort().join("-")==="children-needDeps";if(c)return E.jsx(E.Fragment,{children:e.children});var d=function(){var v=r??o.dark;return v&&!Array.isArray(l==null?void 0:l.algorithm)?[Ps.darkAlgorithm,l==null?void 0:l.algorithm].filter(Boolean):v&&Array.isArray(l==null?void 0:l.algorithm)?[Ps.darkAlgorithm].concat(_n((l==null?void 0:l.algorithm)||[])).filter(Boolean):l==null?void 0:l.algorithm},f=P(P({},u),{},{locale:s||S0e,theme:wbe(P(P({},l),{},{algorithm:d()}))});return E.jsx(Qn,P(P({},f),{},{children:E.jsx(Cbe,P(P({},e),{},{token:i}))}))};function oi(){var t=y.useContext(Qn.ConfigContext),e=t.locale,n=y.useContext(qf),r=n.intl;return r&&r.locale!=="default"?r||bm:e!=null&&e.locale&&Ep[m9(e.locale)]||bm}qf.displayName="ProProvider";var Il=qf,Tbe=function(e){return J({},e.componentCls,{display:"flex",justifyContent:"space-between",paddingBlock:8,paddingInlineStart:8,paddingInlineEnd:8,borderBlockStart:"1px solid ".concat(e.colorSplit)})};function Rbe(t){return Qi("DropdownFooter",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[Tbe(n)]})}var Pbe=function(e){var n=oi(),r=e.onClear,i=e.onConfirm,o=e.disabled,a=e.footerRender,s=y.useContext(Qn.ConfigContext),l=s.getPrefixCls,u=l("pro-core-dropdown-footer"),c=Rbe(u),d=c.wrapSSR,f=c.hashId,h=[E.jsx(es,{style:{visibility:r?"visible":"hidden"},type:"link",size:"small",disabled:o,onClick:function(g){r&&r(g),g.stopPropagation()},children:n.getMessage("form.lightFilter.clear","清除")},"clear"),E.jsx(es,{"data-type":"confirm",type:"primary",size:"small",onClick:i,disabled:o,children:n.getMessage("form.lightFilter.confirm","确认")},"confirm")];if(a===!1||(a==null?void 0:a(i,r))===!1)return null;var v=(a==null?void 0:a(i,r))||h;return d(E.jsx("div",{className:rt(u,f),onClick:function(g){return g.target.getAttribute("data-type")!=="confirm"&&g.stopPropagation()},children:v}))},Abe=function(t){ia(n,t);var e=RP(n);function n(){var r;Vn(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),J(Oi(r),"state",{hasError:!1,errorInfo:""}),r}return dr(n,[{key:"componentDidCatch",value:function(i,o){console.log(i,o)}},{key:"render",value:function(){return this.state.hasError?E.jsx(Ew,{status:"error",title:"Something went wrong.",extra:this.state.errorInfo}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(i){return{hasError:!0,errorInfo:i.message}}}]),n}(je.Component),Obe=function(e){return J({},e.componentCls,J(J(J(J(J(J(J(J({display:"inline-flex",gap:e.marginXXS,alignItems:"center",height:"30px",paddingBlock:0,paddingInline:8,fontSize:e.fontSize,lineHeight:"30px",borderRadius:"2px",cursor:"pointer","&:hover":{backgroundColor:e.colorBgTextHover},"&-active":J({paddingBlock:0,paddingInline:8,backgroundColor:e.colorBgTextHover},"&".concat(e.componentCls,"-allow-clear:hover:not(").concat(e.componentCls,"-disabled)"),J(J({},"".concat(e.componentCls,"-arrow"),{display:"none"}),"".concat(e.componentCls,"-close"),{display:"inline-flex"}))},"".concat(e.antCls,"-select"),J({},"".concat(e.antCls,"-select-clear"),{borderRadius:"50%"})),"".concat(e.antCls,"-picker"),J({},"".concat(e.antCls,"-picker-clear"),{borderRadius:"50%"})),"&-icon",J(J({color:e.colorIcon,transition:"color 0.3s",fontSize:12,verticalAlign:"middle"},"&".concat(e.componentCls,"-close"),{display:"none",fontSize:12,alignItems:"center",justifyContent:"center",color:e.colorTextPlaceholder,borderRadius:"50%"}),"&:hover",{color:e.colorIconHover})),"&-disabled",J({color:e.colorTextPlaceholder,cursor:"not-allowed"},"".concat(e.componentCls,"-icon"),{color:e.colorTextPlaceholder})),"&-small",J(J(J({height:"24px",paddingBlock:0,paddingInline:4,fontSize:e.fontSizeSM,lineHeight:"24px"},"&".concat(e.componentCls,"-active"),{paddingBlock:0,paddingInline:8}),"".concat(e.componentCls,"-icon"),{paddingBlock:0,paddingInline:0}),"".concat(e.componentCls,"-close"),{marginBlockStart:"-2px",paddingBlock:4,paddingInline:4,fontSize:"6px"})),"&-bordered",{height:"32px",paddingBlock:0,paddingInline:8,border:"".concat(e.lineWidth,"px solid ").concat(e.colorBorder),borderRadius:"@border-radius-base"}),"&-bordered&-small",{height:"24px",paddingBlock:0,paddingInline:8}),"&-bordered&-active",{backgroundColor:e.colorBgContainer}))};function Nbe(t){return Qi("FieldLabel",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[Obe(n)]})}var Mbe=function(e,n){var r,i,o,a=e.label,s=e.onClear,l=e.value,u=e.disabled,c=e.onLabelClick,d=e.ellipsis,f=e.placeholder,h=e.className,v=e.formatter,m=e.bordered,g=e.style,x=e.downIcon,_=e.allowClear,w=_===void 0?!0:_,S=e.valueMaxLength,C=S===void 0?41:S,O=(Qn===null||Qn===void 0||(r=Qn.useConfig)===null||r===void 0?void 0:r.call(Qn))||{componentSize:"middle"},T=O.componentSize,N=T,M=y.useContext(Qn.ConfigContext),D=M.getPrefixCls,F=D("pro-core-field-label"),j=Nbe(F),R=j.wrapSSR,I=j.hashId,L=oi(),k=y.useRef(null),B=y.useRef(null);y.useImperativeHandle(n,function(){return{labelRef:B,clearRef:k}});var q=function(Q){return Q.every(function(V){return typeof V=="string"})?Q.join(","):Q.map(function(V,W){var te=W===Q.length-1?"":",";return typeof V=="string"?E.jsxs("span",{children:[V,te]},W):E.jsxs("span",{style:{display:"flex"},children:[V,te]},W)})},X=function(Q){return v?v(Q):Array.isArray(Q)?q(Q):Q},z=function(Q,V){if(V!=null&&V!==""&&(!Array.isArray(V)||V.length)){var W,te,K=Q?E.jsxs("span",{onClick:function(){c==null||c()},className:"".concat(F,"-text"),children:[Q,": "]}):"",U=X(V);if(!d)return E.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[K,X(V)]});var ee=function(){var Ce=Array.isArray(V)&&V.length>1,ue=L.getMessage("form.lightFilter.itemUnit","项");return typeof U=="string"&&U.length>C&&Ce?"...".concat(V.length).concat(ue):""},fe=ee();return E.jsxs("span",{title:typeof U=="string"?U:void 0,style:{display:"inline-flex",alignItems:"center"},children:[K,E.jsx("span",{style:{paddingInlineStart:4,display:"flex"},children:typeof U=="string"?U==null||(W=U.toString())===null||W===void 0||(te=W.substr)===null||te===void 0?void 0:te.call(W,0,C):U}),fe]})}return Q||f};return R(E.jsxs("span",{className:rt(F,I,"".concat(F,"-").concat((i=(o=e.size)!==null&&o!==void 0?o:N)!==null&&i!==void 0?i:"middle"),J(J(J(J({},"".concat(F,"-active"),(Array.isArray(l)?l.length>0:!!l)||l===0),"".concat(F,"-disabled"),u),"".concat(F,"-bordered"),m),"".concat(F,"-allow-clear"),w),h),style:g,ref:B,onClick:function(){var Q;e==null||(Q=e.onClick)===null||Q===void 0||Q.call(e)},children:[z(a,l),(l||l===0)&&w&&E.jsx(l$,{role:"button",title:L.getMessage("form.lightFilter.clear","清除"),className:rt("".concat(F,"-icon"),I,"".concat(F,"-close")),onClick:function(Q){u||s==null||s(),Q.stopPropagation()},ref:k}),x!==!1?x??E.jsx(Xy,{className:rt("".concat(F,"-icon"),I,"".concat(F,"-arrow"))}):null]}))},Cc=je.forwardRef(Mbe),No=function(e){var n={};if(Object.keys(e||{}).forEach(function(r){e[r]!==void 0&&(n[r]=e[r])}),!(Object.keys(n).length<1))return n},Ibe=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,r4=function(e){return e==="*"||e==="x"||e==="X"},i4=function(e){var n=parseInt(e,10);return isNaN(n)?e:n},Dbe=function(e,n){return ur(e)!==ur(n)?[String(e),String(n)]:[e,n]},Lbe=function(e,n){if(r4(e)||r4(n))return 0;var r=Dbe(i4(e),i4(n)),i=ht(r,2),o=i[0],a=i[1];return o>a?1:o<a?-1:0},kbe=function(e,n){for(var r=0;r<Math.max(e.length,n.length);r++){var i=Lbe(e[r]||"0",n[r]||"0");if(i!==0)return i}return 0},o4=function(e){var n,r=e.match(Ibe);return r==null||(n=r.shift)===null||n===void 0||n.call(r),r},zp=function(e,n){var r=o4(e),i=o4(n),o=r.pop(),a=i.pop(),s=kbe(r,i);return s!==0?s:o||a?o?-1:1:0},b9=function(){var e;return typeof process>"u"?Uf:((e=process)===null||e===void 0||(e=e.env)===null||e===void 0?void 0:e.ANTD_VERSION)||Uf},Wb=function(e,n){var r=zp(b9(),"4.23.0")>-1?{open:e,onOpenChange:n}:{visible:e,onVisibleChange:n};return No(r)},$be=function(e){return J(J(J({},"".concat(e.componentCls,"-label"),{cursor:"pointer"}),"".concat(e.componentCls,"-overlay"),{minWidth:"200px",marginBlockStart:"4px"}),"".concat(e.componentCls,"-content"),{paddingBlock:16,paddingInline:16})};function Fbe(t){return Qi("FilterDropdown",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[$be(n)]})}var x9=function(e){var n=e.children,r=e.label,i=e.footer,o=e.open,a=e.onOpenChange,s=e.disabled,l=e.onVisibleChange,u=e.visible,c=e.footerRender,d=e.placement,f=y.useContext(Qn.ConfigContext),h=f.getPrefixCls,v=h("pro-core-field-dropdown"),m=Fbe(v),g=m.wrapSSR,x=m.hashId,_=Wb(o||u||!1,a||l),w=y.useRef(null);return g(E.jsx(Dd,P(P({placement:d,trigger:["click"]},_),{},{overlayInnerStyle:{padding:0},content:E.jsxs("div",{ref:w,className:rt("".concat(v,"-overlay"),J(J({},"".concat(v,"-overlay-").concat(d),d),"hashId",x)),children:[E.jsx(Qn,{getPopupContainer:function(){return w.current||document.body},children:E.jsx("div",{className:"".concat(v,"-content ").concat(x).trim(),children:n})}),i&&E.jsx(Pbe,P({disabled:s,footerRender:c},i))]}),children:E.jsx("span",{className:"".concat(v,"-label ").concat(x).trim(),children:r})})))},jbe=function(e){var n="".concat(e.antCls,"-progress-bg");return J({},e.componentCls,{"&-multiple":{paddingBlockStart:6,paddingBlockEnd:12,paddingInline:8},"&-progress":{"&-success":J({},n,{backgroundColor:e.colorSuccess}),"&-error":J({},n,{backgroundColor:e.colorError}),"&-warning":J({},n,{backgroundColor:e.colorWarning})},"&-rule":{display:"flex",alignItems:"center","&-icon":{"&-default":{display:"flex",alignItems:"center",justifyContent:"center",width:"14px",height:"22px","&-circle":{width:"6px",height:"6px",backgroundColor:e.colorTextSecondary,borderRadius:"4px"}},"&-loading":{color:e.colorPrimary},"&-error":{color:e.colorError},"&-success":{color:e.colorSuccess}},"&-text":{color:e.colorText}}})};function Bbe(t){return Qi("InlineErrorFormItem",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[jbe(n)]})}var zbe=["rules","name","children","popoverProps"],Hbe=["errorType","rules","name","popoverProps","children"],_9={marginBlockStart:-5,marginBlockEnd:-5,marginInlineStart:0,marginInlineEnd:0},Ube=function(e){var n=e.inputProps,r=e.input,i=e.extra,o=e.errorList,a=e.popoverProps,s=y.useState(!1),l=ht(s,2),u=l[0],c=l[1],d=y.useState([]),f=ht(d,2),h=f[0],v=f[1],m=y.useContext(Qn.ConfigContext),g=m.getPrefixCls,x=g(),_=Cy(),w=Bbe("".concat(x,"-form-item-with-help")),S=w.wrapSSR,C=w.hashId;y.useEffect(function(){n.validateStatus!=="validating"&&v(n.errors)},[n.errors,n.validateStatus]);var O=Wb(h.length<1?!1:u,function(N){N!==u&&c(N)}),T=n.validateStatus==="validating";return E.jsx(Dd,P(P(P({trigger:(a==null?void 0:a.trigger)||["click"],placement:(a==null?void 0:a.placement)||"topLeft"},O),{},{getPopupContainer:a==null?void 0:a.getPopupContainer,getTooltipContainer:a==null?void 0:a.getTooltipContainer,content:S(E.jsx("div",{className:"".concat(x,"-form-item ").concat(C," ").concat(_.hashId).trim(),style:{margin:0,padding:0},children:E.jsxs("div",{className:"".concat(x,"-form-item-with-help ").concat(C," ").concat(_.hashId).trim(),children:[T?E.jsx(mp,{}):null,o]})}))},a),{},{children:E.jsxs(E.Fragment,{children:[r,i]})}),"popover")},Gbe=function(e){var n=e.rules,r=e.name,i=e.children,o=e.popoverProps,a=Nn(e,zbe);return E.jsx(to.Item,P(P({name:r,rules:n,hasFeedback:!1,shouldUpdate:function(l,u){if(l===u)return!1;var c=[r].flat(1);c.length>1&&c.pop();try{return JSON.stringify(xo(l,c))!==JSON.stringify(xo(u,c))}catch{return!0}},_internalItemRender:{mark:"pro_table_render",render:function(l,u){return E.jsx(Ube,P({inputProps:l,popoverProps:o},u))}}},a),{},{style:P(P({},_9),a==null?void 0:a.style),children:i}))},Wbe=function(e){var n=e.errorType,r=e.rules,i=e.name,o=e.popoverProps,a=e.children,s=Nn(e,Hbe);return i&&r!==null&&r!==void 0&&r.length&&n==="popover"?E.jsx(Gbe,P(P({name:i,rules:r,popoverProps:o},s),{},{children:a})):E.jsx(to.Item,P(P({rules:r,shouldUpdate:i?function(l,u){if(l===u)return!1;var c=[i].flat(1);c.length>1&&c.pop();try{return JSON.stringify(xo(l,c))!==JSON.stringify(xo(u,c))}catch{return!0}}:void 0},s),{},{style:P(P({},_9),s.style),name:i,children:a}))},Vbe=function(e){return J({},e.componentCls,{display:"inline-flex",alignItems:"center",maxWidth:"100%","&-icon":{display:"block",marginInlineStart:"4px",cursor:"pointer","&:hover":{color:e.colorPrimary}},"&-title":{display:"inline-flex",flex:"1"},"&-subtitle ":{marginInlineStart:8,color:e.colorTextSecondary,fontWeight:"normal",fontSize:e.fontSize,whiteSpace:"nowrap"},"&-title-ellipsis":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",wordBreak:"keep-all"}})};function Xbe(t){return Qi("LabelIconTip",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[Vbe(n)]})}var Cp=je.memo(function(t){var e=t.label,n=t.tooltip,r=t.ellipsis,i=t.subTitle,o=y.useContext(Qn.ConfigContext),a=o.getPrefixCls,s=a("pro-core-label-tip"),l=Xbe(s),u=l.wrapSSR,c=l.hashId;if(!n&&!i)return E.jsx(E.Fragment,{children:e});var d=typeof n=="string"||je.isValidElement(n)?{title:n}:n,f=(d==null?void 0:d.icon)||E.jsx(kJ,{});return u(E.jsxs("div",{className:rt(s,c),onMouseDown:function(v){return v.stopPropagation()},onMouseLeave:function(v){return v.stopPropagation()},onMouseMove:function(v){return v.stopPropagation()},children:[E.jsx("div",{className:rt("".concat(s,"-title"),c,J({},"".concat(s,"-title-ellipsis"),r)),children:e}),i&&E.jsx("div",{className:"".concat(s,"-subtitle ").concat(c).trim(),children:i}),n&&E.jsx(wi,P(P({},d),{},{children:E.jsx("span",{className:"".concat(s,"-icon ").concat(c).trim(),children:f})}))]}))}),Vb=je.createContext({}),S9={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ra,function(){var n="month",r="quarter";return function(i,o){var a=o.prototype;a.quarter=function(u){return this.$utils().u(u)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(u-1))};var s=a.add;a.add=function(u,c){return u=Number(u),this.$utils().p(c)===r?this.add(3*u,n):s.bind(this)(u,c)};var l=a.startOf;a.startOf=function(u,c){var d=this.$utils(),f=!!d.u(c)||c;if(d.p(u)===r){var h=this.quarter()-1;return f?this.month(3*h).startOf(n).startOf("day"):this.month(3*h+2).endOf(n).endOf("day")}return l.bind(this)(u,c)}}})})(S9);var Kbe=S9.exports;const Ybe=Ua(Kbe);var Zf=function(e){return e==null};xi.extend(Ybe);var w9={time:"HH:mm:ss",timeRange:"HH:mm:ss",date:"YYYY-MM-DD",dateWeek:"YYYY-wo",dateMonth:"YYYY-MM",dateQuarter:"YYYY-[Q]Q",dateYear:"YYYY",dateRange:"YYYY-MM-DD",dateTime:"YYYY-MM-DD HH:mm:ss",dateTimeRange:"YYYY-MM-DD HH:mm:ss"};function a4(t){return Object.prototype.toString.call(t)==="[object Object]"}function qbe(t){if(a4(t)===!1)return!1;var e=t.constructor;if(e===void 0)return!0;var n=e.prototype;return!(a4(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}var FR=function(e){return!!(e!=null&&e._isAMomentObject)},s4=function(e,n,r){if(!n)return e;if(xi.isDayjs(e)||FR(e)){if(n==="number")return e.valueOf();if(n==="string")return e.format(w9[r]||"YYYY-MM-DD HH:mm:ss");if(typeof n=="string"&&n!=="string")return e.format(n);if(typeof n=="function")return n(e,r)}return e},Zbe=function t(e,n,r,i,o){var a={};return typeof window>"u"||ur(e)!=="object"||Zf(e)||e instanceof Blob||Array.isArray(e)?e:(Object.keys(e).forEach(function(s){var l=o?[o,s].flat(1):[s],u=xo(r,l)||"text",c="text",d;typeof u=="string"?c=u:u&&(c=u.valueType,d=u.dateFormat);var f=e[s];if(!(Zf(f)&&i)){if(qbe(f)&&!Array.isArray(f)&&!xi.isDayjs(f)&&!FR(f)){a[s]=t(f,n,r,i,l);return}if(Array.isArray(f)){a[s]=f.map(function(h,v){return xi.isDayjs(h)||FR(h)?s4(h,d||n,c):t(h,n,r,i,[s,"".concat(v)].flat(1))});return}a[s]=s4(f,d||n,c)}}),a)},l4=function(e,n){return typeof n=="function"?n(xi(e)):xi(e).format(n)},Jbe=function(e,n){var r=Array.isArray(e)?e:[],i=ht(r,2),o=i[0],a=i[1],s,l;Array.isArray(n)?(s=n[0],l=n[1]):ur(n)==="object"&&n.type==="mask"?(s=n.format,l=n.format):(s=n,l=n);var u=o?l4(o,s):"",c=a?l4(a,l):"",d=u&&c?"".concat(u," ~ ").concat(c):"";return d},Qbe=function(e){var n;return!!(e!=null&&(n=e.valueType)!==null&&n!==void 0&&n.toString().startsWith("date")||(e==null?void 0:e.valueType)==="select"||e!=null&&e.valueEnum)},e1e=function(e){var n;return((n=e.ellipsis)===null||n===void 0?void 0:n.showTitle)===!1?!1:e.ellipsis},t1e=function(e,n,r){if(n.copyable||n.ellipsis){var i=n.copyable&&r?{text:r,tooltips:["",""]}:void 0,o=Qbe(n),a=e1e(n)&&r?{tooltip:(n==null?void 0:n.tooltip)!==!1&&o?E.jsx("div",{className:"pro-table-tooltip-text",children:e}):r}:!1;return E.jsx(P$.Text,{style:{width:"100%",margin:0,padding:0},title:"",copyable:i,ellipsis:a,children:e})}return e};function za(t){if(typeof t=="function"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}return t}var jR=function(e,n,r){return n===void 0?e:za(e,n,r)},E9=function(e){var n=zp(b9(),"4.24.0")>-1?{menu:e}:{overlay:E.jsx(Cm,P({},e))};return No(n)},ci=function(e){var n=y.useRef(null);return n.current=e,y.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(r=n.current)===null||r===void 0?void 0:r.call.apply(r,[n].concat(_n(o)))},[])};function JA(t,e){var n=ci(t),r=y.useRef(),i=y.useCallback(function(){r.current&&(clearTimeout(r.current),r.current=null)},[]),o=y.useCallback(Ln(Pn().mark(function a(){var s,l,u,c=arguments;return Pn().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:for(s=c.length,l=new Array(s),u=0;u<s;u++)l[u]=c[u];if(!(e===0||e===void 0)){f.next=3;break}return f.abrupt("return",n.apply(void 0,l));case 3:return i(),f.abrupt("return",new Promise(function(h){r.current=setTimeout(Ln(Pn().mark(function v(){return Pn().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.t0=h,g.next=3,n.apply(void 0,l);case 3:return g.t1=g.sent,(0,g.t0)(g.t1),g.abrupt("return");case 6:case"end":return g.stop()}},v)})),e)}));case 5:case"end":return f.stop()}},a)})),[n,i,e]);return y.useEffect(function(){return i},[i]),{run:o,cancel:i}}var QA=function(e){var n=y.useRef(e);return n.current=e,n};function n1e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,n=arguments.length>2?arguments[2]:void 0,r=y.useState(t),i=ht(r,2),o=i[0],a=i[1],s=QA(t);return y.useEffect(function(){var l=setTimeout(function(){a(s.current)},e);return function(){return clearTimeout(l)}},n?[e].concat(_n(n)):void 0),o}function dc(t,e,n,r){if(t===e)return!0;if(t&&e&&ur(t)==="object"&&ur(e)==="object"){if(t.constructor!==e.constructor)return!1;var i,o,a;if(Array.isArray(t)){if(i=t.length,i!=e.length)return!1;for(o=i;o--!==0;)if(!dc(t[o],e[o],n,r))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;var s=p_(t.entries()),l;try{for(s.s();!(l=s.n()).done;)if(o=l.value,!e.has(o[0]))return!1}catch(v){s.e(v)}finally{s.f()}var u=p_(t.entries()),c;try{for(u.s();!(c=u.n()).done;)if(o=c.value,!dc(o[1],e.get(o[0]),n,r))return!1}catch(v){u.e(v)}finally{u.f()}return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;var d=p_(t.entries()),f;try{for(d.s();!(f=d.n()).done;)if(o=f.value,!e.has(o[0]))return!1}catch(v){d.e(v)}finally{d.f()}return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(i=t.length,i!=e.length)return!1;for(o=i;o--!==0;)if(t[o]!==e[o])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&t.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&t.toString)return t.toString()===e.toString();if(a=Object.keys(t),i=a.length,i!==Object.keys(e).length)return!1;for(o=i;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[o]))return!1;for(o=i;o--!==0;){var h=a[o];if(!(n!=null&&n.includes(h))&&!(h==="_owner"&&t.$$typeof)&&!dc(t[h],e[h],n,r))return!1}return!0}return t!==t&&e!==e}var r1e=function(e,n,r){return dc(e,n,r)};function eO(t,e){var n=y.useRef();return r1e(t,n.current,e)||(n.current=t),n.current}function TS(t,e,n){y.useEffect(t,eO(e||[],n))}function C9(t,e,n,r){var i=JA(Ln(Pn().mark(function o(){return Pn().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t();case 1:case"end":return s.stop()}},o)})),r||16);y.useEffect(function(){i.run()},eO(e||[],n))}function $a(t,e){return je.useMemo(t,eO(e))}var i1e=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,tO=function(){return typeof process<"u",typeof window<"u"&&typeof window.document<"u"&&typeof window.matchMedia<"u"&&!i1e},x2=0;function o1e(t){var e=y.useRef(null),n=y.useState(function(){return t.proFieldKey?t.proFieldKey.toString():(x2+=1,x2.toString())}),r=ht(n,1),i=r[0],o=y.useRef(i),a=function(){var c=Ln(Pn().mark(function d(){var f,h,v,m;return Pn().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return(f=e.current)===null||f===void 0||f.abort(),v=new AbortController,e.current=v,x.next=5,Promise.race([(h=t.request)===null||h===void 0?void 0:h.call(t,t.params,t),new Promise(function(_,w){var S;(S=e.current)===null||S===void 0||(S=S.signal)===null||S===void 0||S.addEventListener("abort",function(){w(new Error("aborted"))})})]);case 5:return m=x.sent,x.abrupt("return",m);case 7:case"end":return x.stop()}},d)}));return function(){return c.apply(this,arguments)}}();y.useEffect(function(){return function(){x2+=1}},[]);var s=v9([o.current,t.params],a,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),l=s.data,u=s.error;return[l||u]}var Ty=function(e){var n=y.useRef();return y.useEffect(function(){n.current=e}),n.current};function a1e(){var t=y.useState(!0),e=ht(t,2),n=e[1],r=y.useCallback(function(){return n(function(i){return!i})},[]);return r}function s1e(t,e){var n=y.useMemo(function(){var r={current:e};return new Proxy(r,{set:function(o,a,s){return Object.is(o[a],s)||(o[a]=s,t(n)),!0}})},[]);return n}function l1e(t){var e=a1e(),n=s1e(e,t);return n}var u1e=function(e){var n=!1;return(typeof e=="string"&&e.startsWith("date")&&!e.endsWith("Range")||e==="select"||e==="time")&&(n=!0),n},oE=function(){for(var e={},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o=r.length,a,s=0;s<o;s+=1)for(a in r[s])r[s].hasOwnProperty(a)&&(ur(e[a])==="object"&&ur(r[s][a])==="object"&&e[a]!==void 0&&e[a]!==null&&!Array.isArray(e[a])&&!Array.isArray(r[s][a])?e[a]=P(P({},e[a]),r[s][a]):e[a]=r[s][a]);return e},u4=0,c4=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21;if(typeof window>"u"||!window.crypto)return(u4+=1).toFixed(0);for(var n="",r=crypto.getRandomValues(new Uint8Array(e));e--;){var i=63&r[e];n+=i<36?i.toString(36):i<62?(i-26).toString(36).toUpperCase():i<63?"_":"-"}return n},db=function(){return typeof window>"u"?c4():window.crypto&&window.crypto.randomUUID&&typeof crypto.randomUUID=="function"?crypto.randomUUID():c4()},T9=function(e){if(e&&e!==!0)return e},c1e=function(e){var n={};return Object.keys(e||{}).forEach(function(r){var i;Array.isArray(e[r])&&((i=e[r])===null||i===void 0?void 0:i.length)===0||e[r]!==void 0&&(n[r]=e[r])}),n};xi.extend(tY);var d4=function(e){return!!(e!=null&&e._isAMomentObject)},Xb=function t(e,n){return Zf(e)||xi.isDayjs(e)||d4(e)?d4(e)?xi(e):e:Array.isArray(e)?e.map(function(r){return t(r,n)}):typeof e=="number"?xi(e):xi(e,n)},d1e=["colon","dependencies","extra","getValueFromEvent","getValueProps","hasFeedback","help","htmlFor","initialValue","noStyle","label","labelAlign","labelCol","name","preserve","normalize","required","rules","shouldUpdate","trigger","validateFirst","validateStatus","validateTrigger","valuePropName","wrapperCol","hidden","addonBefore","addonAfter","addonWarpStyle"];function f1e(t){var e={};return d1e.forEach(function(n){t[n]!==void 0&&(e[n]=t[n])}),e}var h1e="valueType request plain renderFormItem render text formItemProps valueEnum",p1e="fieldProps isDefaultDom groupProps contentRender submitterProps submitter";function R9(t){var e="".concat(h1e," ").concat(p1e).split(/[\s\n]+/),n={};return Object.keys(t||{}).forEach(function(r){e.includes(r)||(n[r]=t[r])}),n}function v1e(t){var e=Object.prototype.toString.call(t).match(/^\[object (.*)\]$/)[1].toLowerCase();return e==="string"&&ur(t)==="object"?"object":t===null?"null":t===void 0?"undefined":e}var m1e=function(e){var n=e.color,r=e.children;return E.jsx(Sl,{color:n,text:r})},Bd=function(e){return v1e(e)==="map"?e:new Map(Object.entries(e||{}))},g1e={Success:function(e){var n=e.children;return E.jsx(Sl,{status:"success",text:n})},Error:function(e){var n=e.children;return E.jsx(Sl,{status:"error",text:n})},Default:function(e){var n=e.children;return E.jsx(Sl,{status:"default",text:n})},Processing:function(e){var n=e.children;return E.jsx(Sl,{status:"processing",text:n})},Warning:function(e){var n=e.children;return E.jsx(Sl,{status:"warning",text:n})},success:function(e){var n=e.children;return E.jsx(Sl,{status:"success",text:n})},error:function(e){var n=e.children;return E.jsx(Sl,{status:"error",text:n})},default:function(e){var n=e.children;return E.jsx(Sl,{status:"default",text:n})},processing:function(e){var n=e.children;return E.jsx(Sl,{status:"processing",text:n})},warning:function(e){var n=e.children;return E.jsx(Sl,{status:"warning",text:n})}},wg=function t(e,n,r){if(Array.isArray(e))return E.jsx(Tu,{split:",",size:2,wrap:!0,children:e.map(function(u,c){return t(u,n,c)})},r);var i=Bd(n);if(!i.has(e)&&!i.has("".concat(e)))return(e==null?void 0:e.label)||e;var o=i.get(e)||i.get("".concat(e));if(!o)return E.jsx(je.Fragment,{children:(e==null?void 0:e.label)||e},r);var a=o.status,s=o.color,l=g1e[a||"Init"];return l?E.jsx(l,{children:o.text},r):s?E.jsx(m1e,{color:s,children:o.text},r):E.jsx(je.Fragment,{children:o.text||o},r)},BR={exports:{}};(function(t,e){const{hasOwnProperty:n}=Object.prototype,r=x();r.configure=x,r.stringify=r,r.default=r,e.stringify=r,e.configure=x,t.exports=r;const i=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function o(_){return _.length<5e3&&!i.test(_)?`"${_}"`:JSON.stringify(_)}function a(_,w){if(_.length>200||w)return _.sort(w);for(let S=1;S<_.length;S++){const C=_[S];let O=S;for(;O!==0&&_[O-1]>C;)_[O]=_[O-1],O--;_[O]=C}return _}const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function l(_){return s.call(_)!==void 0&&_.length!==0}function u(_,w,S){_.length<S&&(S=_.length);const C=w===","?"":" ";let O=`"0":${C}${_[0]}`;for(let T=1;T<S;T++)O+=`${w}"${T}":${C}${_[T]}`;return O}function c(_){if(n.call(_,"circularValue")){const w=_.circularValue;if(typeof w=="string")return`"${w}"`;if(w==null)return w;if(w===Error||w===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function d(_){let w;if(n.call(_,"deterministic")&&(w=_.deterministic,typeof w!="boolean"&&typeof w!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return w===void 0?!0:w}function f(_,w){let S;if(n.call(_,w)&&(S=_[w],typeof S!="boolean"))throw new TypeError(`The "${w}" argument must be of type boolean`);return S===void 0?!0:S}function h(_,w){let S;if(n.call(_,w)){if(S=_[w],typeof S!="number")throw new TypeError(`The "${w}" argument must be of type number`);if(!Number.isInteger(S))throw new TypeError(`The "${w}" argument must be an integer`);if(S<1)throw new RangeError(`The "${w}" argument must be >= 1`)}return S===void 0?1/0:S}function v(_){return _===1?"1 item":`${_} items`}function m(_){const w=new Set;for(const S of _)(typeof S=="string"||typeof S=="number")&&w.add(String(S));return w}function g(_){if(n.call(_,"strict")){const w=_.strict;if(typeof w!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(w)return S=>{let C=`Object can not safely be stringified. Received type ${typeof S}`;throw typeof S!="function"&&(C+=` (${S.toString()})`),new Error(C)}}}function x(_){_={..._};const w=g(_);w&&(_.bigint===void 0&&(_.bigint=!1),"circularValue"in _||(_.circularValue=Error));const S=c(_),C=f(_,"bigint"),O=d(_),T=typeof O=="function"?O:void 0,N=h(_,"maximumDepth"),M=h(_,"maximumBreadth");function D(L,k,B,q,X,z){let H=k[L];switch(typeof H=="object"&&H!==null&&typeof H.toJSON=="function"&&(H=H.toJSON(L)),H=q.call(k,L,H),typeof H){case"string":return o(H);case"object":{if(H===null)return"null";if(B.indexOf(H)!==-1)return S;let Q="",V=",";const W=z;if(Array.isArray(H)){if(H.length===0)return"[]";if(N<B.length+1)return'"[Array]"';B.push(H),X!==""&&(z+=X,Q+=`
${z}`,V=`,
${z}`);const ve=Math.min(H.length,M);let Ce=0;for(;Ce<ve-1;Ce++){const we=D(String(Ce),H,B,q,X,z);Q+=we!==void 0?we:"null",Q+=V}const ue=D(String(Ce),H,B,q,X,z);if(Q+=ue!==void 0?ue:"null",H.length-1>M){const we=H.length-M-1;Q+=`${V}"... ${v(we)} not stringified"`}return X!==""&&(Q+=`
${W}`),B.pop(),`[${Q}]`}let te=Object.keys(H);const K=te.length;if(K===0)return"{}";if(N<B.length+1)return'"[Object]"';let U="",ee="";X!==""&&(z+=X,V=`,
${z}`,U=" ");const fe=Math.min(K,M);O&&!l(H)&&(te=a(te,T)),B.push(H);for(let ve=0;ve<fe;ve++){const Ce=te[ve],ue=D(Ce,H,B,q,X,z);ue!==void 0&&(Q+=`${ee}${o(Ce)}:${U}${ue}`,ee=V)}if(K>M){const ve=K-M;Q+=`${ee}"...":${U}"${v(ve)} not stringified"`,ee=V}return X!==""&&ee.length>1&&(Q=`
${z}${Q}
${W}`),B.pop(),`{${Q}}`}case"number":return isFinite(H)?String(H):w?w(H):"null";case"boolean":return H===!0?"true":"false";case"undefined":return;case"bigint":if(C)return String(H);default:return w?w(H):void 0}}function F(L,k,B,q,X,z){switch(typeof k=="object"&&k!==null&&typeof k.toJSON=="function"&&(k=k.toJSON(L)),typeof k){case"string":return o(k);case"object":{if(k===null)return"null";if(B.indexOf(k)!==-1)return S;const H=z;let Q="",V=",";if(Array.isArray(k)){if(k.length===0)return"[]";if(N<B.length+1)return'"[Array]"';B.push(k),X!==""&&(z+=X,Q+=`
${z}`,V=`,
${z}`);const K=Math.min(k.length,M);let U=0;for(;U<K-1;U++){const fe=F(String(U),k[U],B,q,X,z);Q+=fe!==void 0?fe:"null",Q+=V}const ee=F(String(U),k[U],B,q,X,z);if(Q+=ee!==void 0?ee:"null",k.length-1>M){const fe=k.length-M-1;Q+=`${V}"... ${v(fe)} not stringified"`}return X!==""&&(Q+=`
${H}`),B.pop(),`[${Q}]`}B.push(k);let W="";X!==""&&(z+=X,V=`,
${z}`,W=" ");let te="";for(const K of q){const U=F(K,k[K],B,q,X,z);U!==void 0&&(Q+=`${te}${o(K)}:${W}${U}`,te=V)}return X!==""&&te.length>1&&(Q=`
${z}${Q}
${H}`),B.pop(),`{${Q}}`}case"number":return isFinite(k)?String(k):w?w(k):"null";case"boolean":return k===!0?"true":"false";case"undefined":return;case"bigint":if(C)return String(k);default:return w?w(k):void 0}}function j(L,k,B,q,X){switch(typeof k){case"string":return o(k);case"object":{if(k===null)return"null";if(typeof k.toJSON=="function"){if(k=k.toJSON(L),typeof k!="object")return j(L,k,B,q,X);if(k===null)return"null"}if(B.indexOf(k)!==-1)return S;const z=X;if(Array.isArray(k)){if(k.length===0)return"[]";if(N<B.length+1)return'"[Array]"';B.push(k),X+=q;let U=`
${X}`;const ee=`,
${X}`,fe=Math.min(k.length,M);let ve=0;for(;ve<fe-1;ve++){const ue=j(String(ve),k[ve],B,q,X);U+=ue!==void 0?ue:"null",U+=ee}const Ce=j(String(ve),k[ve],B,q,X);if(U+=Ce!==void 0?Ce:"null",k.length-1>M){const ue=k.length-M-1;U+=`${ee}"... ${v(ue)} not stringified"`}return U+=`
${z}`,B.pop(),`[${U}]`}let H=Object.keys(k);const Q=H.length;if(Q===0)return"{}";if(N<B.length+1)return'"[Object]"';X+=q;const V=`,
${X}`;let W="",te="",K=Math.min(Q,M);l(k)&&(W+=u(k,V,M),H=H.slice(k.length),K-=k.length,te=V),O&&(H=a(H,T)),B.push(k);for(let U=0;U<K;U++){const ee=H[U],fe=j(ee,k[ee],B,q,X);fe!==void 0&&(W+=`${te}${o(ee)}: ${fe}`,te=V)}if(Q>M){const U=Q-M;W+=`${te}"...": "${v(U)} not stringified"`,te=V}return te!==""&&(W=`
${X}${W}
${z}`),B.pop(),`{${W}}`}case"number":return isFinite(k)?String(k):w?w(k):"null";case"boolean":return k===!0?"true":"false";case"undefined":return;case"bigint":if(C)return String(k);default:return w?w(k):void 0}}function R(L,k,B){switch(typeof k){case"string":return o(k);case"object":{if(k===null)return"null";if(typeof k.toJSON=="function"){if(k=k.toJSON(L),typeof k!="object")return R(L,k,B);if(k===null)return"null"}if(B.indexOf(k)!==-1)return S;let q="";const X=k.length!==void 0;if(X&&Array.isArray(k)){if(k.length===0)return"[]";if(N<B.length+1)return'"[Array]"';B.push(k);const W=Math.min(k.length,M);let te=0;for(;te<W-1;te++){const U=R(String(te),k[te],B);q+=U!==void 0?U:"null",q+=","}const K=R(String(te),k[te],B);if(q+=K!==void 0?K:"null",k.length-1>M){const U=k.length-M-1;q+=`,"... ${v(U)} not stringified"`}return B.pop(),`[${q}]`}let z=Object.keys(k);const H=z.length;if(H===0)return"{}";if(N<B.length+1)return'"[Object]"';let Q="",V=Math.min(H,M);X&&l(k)&&(q+=u(k,",",M),z=z.slice(k.length),V-=k.length,Q=","),O&&(z=a(z,T)),B.push(k);for(let W=0;W<V;W++){const te=z[W],K=R(te,k[te],B);K!==void 0&&(q+=`${Q}${o(te)}:${K}`,Q=",")}if(H>M){const W=H-M;q+=`${Q}"...":"${v(W)} not stringified"`}return B.pop(),`{${q}}`}case"number":return isFinite(k)?String(k):w?w(k):"null";case"boolean":return k===!0?"true":"false";case"undefined":return;case"bigint":if(C)return String(k);default:return w?w(k):void 0}}function I(L,k,B){if(arguments.length>1){let q="";if(typeof B=="number"?q=" ".repeat(Math.min(B,10)):typeof B=="string"&&(q=B.slice(0,10)),k!=null){if(typeof k=="function")return D("",{"":L},[],k,q,"");if(Array.isArray(k))return F("",L,[],m(k),q,"")}if(q.length!==0)return j("",L,[],q,"")}return R("",L,[])}return I}})(BR,BR.exports);var y1e=BR.exports;const b1e=Ua(y1e),x1e=b1e.configure;var wd=x1e({bigint:!0,circularValue:"Magic circle!",deterministic:!1,maximumDepth:4});function _1e(t){return ur(t)!=="object"?!1:t===null?!0:!(je.isValidElement(t)||t.constructor===RegExp||t instanceof Map||t instanceof Set||t instanceof HTMLElement||t instanceof Blob||t instanceof File||Array.isArray(t))}var S1e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Object.keys(n).reduce(function(s,l){var u=n[l];return Zf(u)||(s[l]=u),s},{});if(Object.keys(i).length<1||typeof window>"u"||ur(e)!=="object"||Zf(e)||e instanceof Blob)return e;var o=Array.isArray(e)?[]:{},a=function s(l,u){var c=Array.isArray(l),d=c?[]:{};return l==null||l===void 0?d:(Object.keys(l).forEach(function(f){var h=function w(S,C){return Array.isArray(S)&&S.forEach(function(O,T){if(O){var N=C==null?void 0:C[T];typeof O=="function"&&(C[T]=O(C,f,l)),ur(O)==="object"&&!Array.isArray(O)&&Object.keys(O).forEach(function(M){var D=N==null?void 0:N[M];if(typeof O[M]=="function"&&D){var F=O[M](N[M],f,l);N[M]=ur(F)==="object"?F[M]:F}else ur(O[M])==="object"&&Array.isArray(O[M])&&D&&w(O[M],D)}),ur(O)==="object"&&Array.isArray(O)&&N&&w(O,N)}}),f},v=u?[u,f].flat(1):[f].flat(1),m=l[f],g=xo(i,v),x=function(){var S,C,O=!1;if(typeof g=="function"){C=g==null?void 0:g(m,f,l);var T=ur(C);T!=="object"&&T!=="undefined"?(S=f,O=!0):S=C}else S=h(g,m);if(Array.isArray(S)){d=Ha(d,S,m);return}ur(S)==="object"&&!Array.isArray(o)?o=Cu(o,S):ur(S)==="object"&&Array.isArray(o)?d=P(P({},d),S):(S!==null||S!==void 0)&&(d=Ha(d,[S],O?C:m))};if(g&&typeof g=="function"&&x(),!(typeof window>"u")){if(_1e(m)){var _=s(m,v);if(Object.keys(_).length<1)return;d=Ha(d,[f],_);return}x()}}),r?d:l)};return o=Array.isArray(e)&&Array.isArray(o)?_n(a(e)):oE({},a(e),o),o},il=function(e){return e===void 0?{}:zp(Uf,"5.13.0")<=0?{bordered:e}:{variant:e?void 0:"borderless"}},w1e=["map_row_parentKey"],E1e=["map_row_parentKey","map_row_key"],C1e=["map_row_key"],_2=function(e){return(xN.warn||xN.warning)(e)},_s=function(e){return Array.isArray(e)?e.join(","):e};function oy(t,e){var n,r=t.getRowKey,i=t.row,o=t.data,a=t.childrenColumnName,s=a===void 0?"children":a,l=(n=_s(t.key))===null||n===void 0?void 0:n.toString(),u=new Map;function c(f,h,v){f.forEach(function(m,g){var x=(v||0)*10+g,_=r(m,x).toString();m&&ur(m)==="object"&&s in m&&c(m[s]||[],_,x);var w=P(P({},m),{},{map_row_key:_,children:void 0,map_row_parentKey:h});delete w.children,h||delete w.map_row_parentKey,u.set(_,w)})}e==="top"&&u.set(l,P(P({},u.get(l)),i)),c(o),e==="update"&&u.set(l,P(P({},u.get(l)),i)),e==="delete"&&u.delete(l);var d=function(h){var v=new Map,m=[],g=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;h.forEach(function(w){if(w.map_row_parentKey&&!w.map_row_key){var S=w.map_row_parentKey,C=Nn(w,w1e);if(v.has(S)||v.set(S,[]),_){var O;(O=v.get(S))===null||O===void 0||O.push(C)}}})};return g(e==="top"),h.forEach(function(x){if(x.map_row_parentKey&&x.map_row_key){var _,w=x.map_row_parentKey,S=x.map_row_key,C=Nn(x,E1e);v.has(S)&&(C[s]=v.get(S)),v.has(w)||v.set(w,[]),(_=v.get(w))===null||_===void 0||_.push(C)}}),g(e==="update"),h.forEach(function(x){if(!x.map_row_parentKey){var _=x.map_row_key,w=Nn(x,C1e);if(_&&v.has(_)){var S=P(P({},w),{},J({},s,v.get(_)));m.push(S);return}m.push(w)}}),m};return d(u)}function T1e(t,e){var n=t.recordKey,r=t.onSave,i=t.row,o=t.children,a=t.newLineConfig,s=t.editorType,l=t.tableName,u=y.useContext(Vb),c=to.useFormInstance(),d=Gr(!1),f=ht(d,2),h=f[0],v=f[1],m=ci(Ln(Pn().mark(function g(){var x,_,w,S,C,O,T,N,M;return Pn().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,_=s==="Map",w=[l,Array.isArray(n)?n[0]:n].map(function(j){return j==null?void 0:j.toString()}).flat(1).filter(Boolean),v(!0),F.next=6,c.validateFields(w,{recursive:!0});case 6:return S=(u==null||(x=u.getFieldFormatValue)===null||x===void 0?void 0:x.call(u,w))||c.getFieldValue(w),Array.isArray(n)&&n.length>1&&(C=FX(n),O=C.slice(1),T=xo(S,O),Ha(S,O,T)),N=_?Ha({},w,S):S,F.next=11,r==null?void 0:r(n,oE({},i,N),i,a);case 11:return M=F.sent,v(!1),F.abrupt("return",M);case 16:throw F.prev=16,F.t0=F.catch(0),console.log(F.t0),v(!1),F.t0;case 21:case"end":return F.stop()}},g,null,[[0,16]])})));return y.useImperativeHandle(e,function(){return{save:m}},[m]),E.jsxs("a",{onClick:function(){var g=Ln(Pn().mark(function x(_){return Pn().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return _.stopPropagation(),_.preventDefault(),S.prev=2,S.next=5,m();case 5:S.next=9;break;case 7:S.prev=7,S.t0=S.catch(2);case 9:case"end":return S.stop()}},x,null,[[2,7]])}));return function(x){return g.apply(this,arguments)}}(),children:[h?E.jsx(mp,{style:{marginInlineEnd:8}}):null,o||"保存"]},"save")}var R1e=function(e){var n=e.recordKey,r=e.onDelete,i=e.preEditRowRef,o=e.row,a=e.children,s=e.deletePopconfirmMessage,l=Gr(function(){return!1}),u=ht(l,2),c=u[0],d=u[1],f=ci(Ln(Pn().mark(function h(){var v;return Pn().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,d(!0),g.next=4,r==null?void 0:r(n,o);case 4:return v=g.sent,d(!1),g.abrupt("return",v);case 9:return g.prev=9,g.t0=g.catch(0),console.log(g.t0),d(!1),g.abrupt("return",null);case 14:return g.prev=14,i&&(i.current=null),g.finish(14);case 17:case"end":return g.stop()}},h,null,[[0,9,14,17]])})));return a!==!1?E.jsx(ww,{title:s,onConfirm:function(){return f()},children:E.jsxs("a",{children:[c?E.jsx(mp,{style:{marginInlineEnd:8}}):null,a||"删除"]})},"delete"):null},P1e=function(e){var n=e.recordKey,r=e.tableName,i=e.newLineConfig,o=e.editorType,a=e.onCancel,s=e.cancelEditable,l=e.row,u=e.cancelText,c=e.preEditRowRef,d=y.useContext(Vb),f=to.useFormInstance();return E.jsx("a",{onClick:function(){var h=Ln(Pn().mark(function v(m){var g,x,_,w,S,C,O;return Pn().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return m.stopPropagation(),m.preventDefault(),x=o==="Map",_=[r,n].flat(1).filter(Boolean),w=(d==null||(g=d.getFieldFormatValue)===null||g===void 0?void 0:g.call(d,_))||(f==null?void 0:f.getFieldValue(_)),S=x?Ha({},_,w):w,N.next=8,a==null?void 0:a(n,S,l,i);case 8:return C=N.sent,N.next=11,s(n);case 11:if((c==null?void 0:c.current)===null){N.next=15;break}f.setFieldsValue(Ha({},_,c==null?void 0:c.current)),N.next=17;break;case 15:return N.next=17,(O=e.onDelete)===null||O===void 0?void 0:O.call(e,n,l);case 17:return c&&(c.current=null),N.abrupt("return",C);case 19:case"end":return N.stop()}},v)}));return function(v){return h.apply(this,arguments)}}(),children:u||"取消"},"cancel")};function A1e(t,e){var n=e.recordKey,r=e.newLineConfig,i=e.saveText,o=e.deleteText,a=y.forwardRef(T1e),s=y.createRef();return{save:E.jsx(a,P(P({},e),{},{row:t,ref:s,children:i}),"save"+n),saveRef:s,delete:(r==null?void 0:r.options.recordKey)!==n?E.jsx(R1e,P(P({},e),{},{row:t,children:o}),"delete"+n):void 0,cancel:E.jsx(P1e,P(P({},e),{},{row:t}),"cancel"+n)}}function O1e(t){var e=oi(),n=y.useRef(null),r=y.useState(void 0),i=ht(r,2),o=i[0],a=i[1],s=function(){var W=new Map,te=function K(U,ee){U==null||U.forEach(function(fe,ve){var Ce,ue=ee==null?ve.toString():ee+"_"+ve.toString();W.set(ue,_s(t.getRowKey(fe,-1))),W.set((Ce=_s(t.getRowKey(fe,-1)))===null||Ce===void 0?void 0:Ce.toString(),ue),t.childrenColumnName&&fe!==null&&fe!==void 0&&fe[t.childrenColumnName]&&K(fe[t.childrenColumnName],ue)})};return te(t.dataSource),W},l=y.useMemo(function(){return s()},[]),u=y.useRef(l),c=y.useRef(void 0);C9(function(){u.current=s()},[t.dataSource]),c.current=o;var d=t.type||"single",f=e7(t.dataSource,"children",t.getRowKey),h=ht(f,1),v=h[0],m=Gr([],{value:t.editableKeys,onChange:t.onChange?function(V){var W,te,K;t==null||(W=t.onChange)===null||W===void 0||W.call(t,(te=V==null?void 0:V.filter(function(U){return U!==void 0}))!==null&&te!==void 0?te:[],(K=V==null?void 0:V.map(function(U){return v(U)}).filter(function(U){return U!==void 0}))!==null&&K!==void 0?K:[])}:void 0}),g=ht(m,2),x=g[0],_=g[1],w=y.useMemo(function(){var V=d==="single"?x==null?void 0:x.slice(0,1):x;return new Set(V)},[(x||[]).join(","),d]),S=Ty(x),C=ci(function(V){var W,te,K,U,ee=(W=t.getRowKey(V,V.index))===null||W===void 0||(te=W.toString)===null||te===void 0?void 0:te.call(W),fe=(K=t.getRowKey(V,-1))===null||K===void 0||(U=K.toString)===null||U===void 0?void 0:U.call(K),ve=x==null?void 0:x.map(function(we){return we==null?void 0:we.toString()}),Ce=(S==null?void 0:S.map(function(we){return we==null?void 0:we.toString()}))||[],ue=t.tableName&&!!(Ce!=null&&Ce.includes(fe))||!!(Ce!=null&&Ce.includes(ee));return{recordKey:fe,isEditable:t.tableName&&(ve==null?void 0:ve.includes(fe))||(ve==null?void 0:ve.includes(ee)),preIsEditable:ue}}),O=ci(function(V,W){var te,K;return w.size>0&&d==="single"&&t.onlyOneLineEditorAlertMessage!==!1?(_2(t.onlyOneLineEditorAlertMessage||e.getMessage("editableTable.onlyOneLineEditor","只能同时编辑一行")),!1):(w.add(V),_(Array.from(w)),n.current=(te=W??((K=t.dataSource)===null||K===void 0?void 0:K.find(function(U,ee){return t.getRowKey(U,ee)===V})))!==null&&te!==void 0?te:null,!0)}),T=ci(function(){var V=Ln(Pn().mark(function W(te,K){var U,ee;return Pn().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(U=_s(te).toString(),ee=u.current.get(U),!(!w.has(U)&&ee&&(K??!0)&&t.tableName)){ve.next=5;break}return T(ee,!1),ve.abrupt("return");case 5:return o&&o.options.recordKey===te&&a(void 0),w.delete(U),w.delete(_s(te)),_(Array.from(w)),ve.abrupt("return",!0);case 10:case"end":return ve.stop()}},W)}));return function(W,te){return V.apply(this,arguments)}}()),N=JA(Ln(Pn().mark(function V(){var W,te,K,U,ee=arguments;return Pn().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:for(te=ee.length,K=new Array(te),U=0;U<te;U++)K[U]=ee[U];(W=t.onValuesChange)===null||W===void 0||W.call.apply(W,[t].concat(K));case 2:case"end":return ve.stop()}},V)})),64),M=ci(function(V,W){var te;if(t.onValuesChange){var K=t.dataSource;x==null||x.forEach(function(Ce){if((o==null?void 0:o.options.recordKey)!==Ce){var ue=Ce.toString(),we=xo(W,[t.tableName||"",ue].flat(1).filter(function(pe){return pe||pe===0}));we&&(K=oy({data:K,getRowKey:t.getRowKey,row:we,key:ue,childrenColumnName:t.childrenColumnName||"children"},"update"))}});var U=V,ee=(te=Object.keys(U||{}).pop())===null||te===void 0?void 0:te.toString(),fe=P(P({},o==null?void 0:o.defaultValue),xo(W,[t.tableName||"",ee.toString()].flat(1).filter(function(Ce){return Ce||Ce===0}))),ve=u.current.has(_s(ee))?K.find(function(Ce,ue){var we,pe=(we=t.getRowKey(Ce,ue))===null||we===void 0?void 0:we.toString();return pe===ee}):fe;N.run(ve||fe,K)}}),D=y.useRef(new Map);y.useEffect(function(){D.current.forEach(function(V,W){w.has(W)||D.current.delete(W)})},[D,w]);var F=ci(function(){var V=Ln(Pn().mark(function W(te,K){var U,ee,fe,ve;return Pn().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(U=_s(te),ee=u.current.get(te.toString()),!(!w.has(U)&&ee&&(K??!0)&&t.tableName)){ue.next=6;break}return ue.next=5,F(ee,!1);case 5:return ue.abrupt("return",ue.sent);case 6:return fe=D.current.get(U)||D.current.get(U.toString()),ue.prev=7,ue.next=10,fe==null||(ve=fe.current)===null||ve===void 0?void 0:ve.save();case 10:ue.next=15;break;case 12:return ue.prev=12,ue.t0=ue.catch(7),ue.abrupt("return",!1);case 15:return w.delete(U),w.delete(U.toString()),_(Array.from(w)),ue.abrupt("return",!0);case 19:case"end":return ue.stop()}},W,null,[[7,12]])}));return function(W,te){return V.apply(this,arguments)}}()),j=ci(function(V,W){if(W!=null&&W.parentKey&&!u.current.has(_s(W==null?void 0:W.parentKey).toString()))return console.warn("can't find record by key",W==null?void 0:W.parentKey),!1;if(c.current&&t.onlyAddOneLineAlertMessage!==!1)return _2(t.onlyAddOneLineAlertMessage||e.getMessage("editableTable.onlyAddOneLine","只能新增一行")),!1;if(w.size>0&&d==="single"&&t.onlyOneLineEditorAlertMessage!==!1)return _2(t.onlyOneLineEditorAlertMessage||e.getMessage("editableTable.onlyOneLineEditor","只能同时编辑一行")),!1;var te=t.getRowKey(V,-1);if(!te&&te!==0)throw As(!!te,`请设置 recordCreatorProps.record 并返回一个唯一的key  
  https://procomponents.ant.design/components/editable-table#editable-%E6%96%B0%E5%BB%BA%E8%A1%8C`),new Error("请设置 recordCreatorProps.record 并返回一个唯一的key");if(w.add(te),_(Array.from(w)),(W==null?void 0:W.newRecordType)==="dataSource"||t.tableName){var K,U={data:t.dataSource,getRowKey:t.getRowKey,row:P(P({},V),{},{map_row_parentKey:W!=null&&W.parentKey?(K=_s(W==null?void 0:W.parentKey))===null||K===void 0?void 0:K.toString():void 0}),key:te,childrenColumnName:t.childrenColumnName||"children"};t.setDataSource(oy(U,(W==null?void 0:W.position)==="top"?"top":"update"))}else a({defaultValue:V,options:P(P({},W),{},{recordKey:te})});return!0}),R=(t==null?void 0:t.saveText)||e.getMessage("editableTable.action.save","保存"),I=(t==null?void 0:t.deleteText)||e.getMessage("editableTable.action.delete","删除"),L=(t==null?void 0:t.cancelText)||e.getMessage("editableTable.action.cancel","取消"),k=ci(function(){var V=Ln(Pn().mark(function W(te,K,U,ee){var fe,ve,Ce,ue,we,pe,$e;return Pn().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,t==null||(fe=t.onSave)===null||fe===void 0?void 0:fe.call(t,te,K,U,ee);case 2:return ue=Le.sent,Le.next=5,T(te);case 5:if(we=ee||c.current||{},pe=we.options,!(!(pe!=null&&pe.parentKey)&&(pe==null?void 0:pe.recordKey)===te)){Le.next=9;break}return(pe==null?void 0:pe.position)==="top"?t.setDataSource([K].concat(_n(t.dataSource))):t.setDataSource([].concat(_n(t.dataSource),[K])),Le.abrupt("return",ue);case 9:return $e={data:t.dataSource,getRowKey:t.getRowKey,row:pe?P(P({},K),{},{map_row_parentKey:(ve=_s((Ce=pe==null?void 0:pe.parentKey)!==null&&Ce!==void 0?Ce:""))===null||ve===void 0?void 0:ve.toString()}):K,key:te,childrenColumnName:t.childrenColumnName||"children"},t.setDataSource(oy($e,(pe==null?void 0:pe.position)==="top"?"top":"update")),Le.next=13,T(te);case 13:return Le.abrupt("return",ue);case 14:case"end":return Le.stop()}},W)}));return function(W,te,K,U){return V.apply(this,arguments)}}()),B=ci(function(){var V=Ln(Pn().mark(function W(te,K){var U,ee,fe;return Pn().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return ee={data:t.dataSource,getRowKey:t.getRowKey,row:K,key:te,childrenColumnName:t.childrenColumnName||"children"},Ce.next=3,t==null||(U=t.onDelete)===null||U===void 0?void 0:U.call(t,te,K);case 3:return fe=Ce.sent,Ce.next=6,T(te,!1);case 6:return t.setDataSource(oy(ee,"delete")),Ce.abrupt("return",fe);case 8:case"end":return Ce.stop()}},W)}));return function(W,te){return V.apply(this,arguments)}}()),q=ci(function(){var V=Ln(Pn().mark(function W(te,K,U,ee){var fe,ve;return Pn().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,t==null||(fe=t.onCancel)===null||fe===void 0?void 0:fe.call(t,te,K,U,ee);case 2:return ve=ue.sent,ue.abrupt("return",ve);case 4:case"end":return ue.stop()}},W)}));return function(W,te,K,U){return V.apply(this,arguments)}}()),X=t.actionRender&&typeof t.actionRender=="function",z=X?t.actionRender:function(){},H=ci(z),Q=function(W){var te=t.getRowKey(W,W.index),K={saveText:R,cancelText:L,deleteText:I,addEditRecord:j,recordKey:te,cancelEditable:T,index:W.index,tableName:t.tableName,newLineConfig:o,onCancel:q,onDelete:B,onSave:k,editableKeys:x,setEditableRowKeys:_,preEditRowRef:n,deletePopconfirmMessage:t.deletePopconfirmMessage||"".concat(e.getMessage("deleteThisLine","删除此项"),"?")},U=A1e(W,K);return t.tableName?D.current.set(u.current.get(_s(te))||_s(te),U.saveRef):D.current.set(_s(te),U.saveRef),X?H(W,K,{save:U.save,delete:U.delete,cancel:U.cancel}):[U.save,U.delete,U.cancel]};return{editableKeys:x,setEditableRowKeys:_,isEditable:C,actionRender:Q,startEditable:O,cancelEditable:T,addEditRecord:j,saveEditable:F,newLineRecord:o,preEditableKeys:S,onValuesChange:M,getRealIndex:t.getRealIndex}}var N1e=function(e){var n=e.componentCls,r=e.antCls;return J({},"".concat(n,"-actions"),J(J({marginBlock:0,marginInline:0,paddingBlock:0,paddingInline:0,listStyle:"none",display:"flex",gap:e.marginXS,background:e.colorBgContainer,borderBlockStart:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit),minHeight:42},"& > *",{alignItems:"center",justifyContent:"center",flex:1,display:"flex",cursor:"pointer",color:e.colorTextSecondary,transition:"color 0.3s","&:hover":{color:e.colorPrimaryHover}}),"& > li > div",{flex:1,width:"100%",marginBlock:e.marginSM,marginInline:0,color:e.colorTextSecondary,textAlign:"center",a:{color:e.colorTextSecondary,transition:"color 0.3s","&:hover":{color:e.colorPrimaryHover}},div:J(J({position:"relative",display:"block",minWidth:32,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimaryHover,transition:"color 0.3s"}},"a:not(".concat(r,`-btn),
            > .anticon`),{display:"inline-block",width:"100%",color:e.colorTextSecondary,lineHeight:"22px",transition:"color 0.3s","&:hover":{color:e.colorPrimaryHover}}),".anticon",{fontSize:e.cardActionIconSize,lineHeight:"22px"}),"&:not(:last-child)":{borderInlineEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}}))};function M1e(t){return Qi("ProCardActions",function(e){var n=P(P({},e),{},{componentCls:".".concat(t),cardActionIconSize:16});return[N1e(n)]})}var I1e=function(e){var n=e.actions,r=e.prefixCls,i=M1e(r),o=i.wrapSSR,a=i.hashId;return Array.isArray(n)&&n!==null&&n!==void 0&&n.length?o(E.jsx("ul",{className:rt("".concat(r,"-actions"),a),children:n.map(function(s,l){return E.jsx("li",{style:{width:"".concat(100/n.length,"%"),padding:0,margin:0},className:rt("".concat(r,"-actions-item"),a),children:s},"action-".concat(l))})})):o(E.jsx("ul",{className:rt("".concat(r,"-actions"),a),children:n}))};function Co(t,e){for(var n=Object.assign({},t),r=0;r<e.length;r+=1){var i=e[r];delete n[i]}return n}var D1e=new th("card-loading",{"0%":{backgroundPosition:"0 50%"},"50%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),L1e=function(e){return J({},e.componentCls,J(J({"&-loading":{overflow:"hidden"},"&-loading &-body":{userSelect:"none"}},"".concat(e.componentCls,"-loading-content"),{width:"100%",p:{marginBlock:0,marginInline:0}}),"".concat(e.componentCls,"-loading-block"),{height:"14px",marginBlock:"4px",background:"linear-gradient(90deg, rgba(54, 61, 64, 0.2), rgba(54, 61, 64, 0.4), rgba(54, 61, 64, 0.2))",backgroundSize:"600% 600%",borderRadius:e.borderRadius,animationName:D1e,animationDuration:"1.4s",animationTimingFunction:"ease",animationIterationCount:"infinite"}))};function k1e(t){return Qi("ProCardLoading",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[L1e(n)]})}var $1e=function(e){var n=e.style,r=e.prefix,i=k1e(r||"ant-pro-card"),o=i.wrapSSR;return o(E.jsxs("div",{className:"".concat(r,"-loading-content"),style:n,children:[E.jsx(Rl,{gutter:8,children:E.jsx(Oo,{span:22,children:E.jsx("div",{className:"".concat(r,"-loading-block")})})}),E.jsxs(Rl,{gutter:8,children:[E.jsx(Oo,{span:8,children:E.jsx("div",{className:"".concat(r,"-loading-block")})}),E.jsx(Oo,{span:15,children:E.jsx("div",{className:"".concat(r,"-loading-block")})})]}),E.jsxs(Rl,{gutter:8,children:[E.jsx(Oo,{span:6,children:E.jsx("div",{className:"".concat(r,"-loading-block")})}),E.jsx(Oo,{span:18,children:E.jsx("div",{className:"".concat(r,"-loading-block")})})]}),E.jsxs(Rl,{gutter:8,children:[E.jsx(Oo,{span:13,children:E.jsx("div",{className:"".concat(r,"-loading-block")})}),E.jsx(Oo,{span:9,children:E.jsx("div",{className:"".concat(r,"-loading-block")})})]}),E.jsxs(Rl,{gutter:8,children:[E.jsx(Oo,{span:4,children:E.jsx("div",{className:"".concat(r,"-loading-block")})}),E.jsx(Oo,{span:3,children:E.jsx("div",{className:"".concat(r,"-loading-block")})}),E.jsx(Oo,{span:16,children:E.jsx("div",{className:"".concat(r,"-loading-block")})})]})]}))},F1e=["tab","children"],j1e=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"];function B1e(t){return t.filter(function(e){return e})}function z1e(t,e,n){if(t)return t.map(function(i){return P(P({},i),{},{children:E.jsx(fb,P(P({},n==null?void 0:n.cardProps),{},{children:i.children}))})});As(!n,"Tabs.TabPane is deprecated. Please use `items` directly.");var r=_c(e).map(function(i){if(je.isValidElement(i)){var o=i.key,a=i.props,s=a||{},l=s.tab,u=s.children,c=Nn(s,F1e),d=P(P({key:String(o)},c),{},{children:E.jsx(fb,P(P({},n==null?void 0:n.cardProps),{},{children:u})),label:l});return d}return null});return B1e(r)}var H1e=function(e){var n=y.useContext(Qn.ConfigContext),r=n.getPrefixCls;if(Uf.startsWith("5"))return E.jsx(E.Fragment,{});var i=e.key,o=e.tab,a=e.tabKey,s=e.disabled,l=e.destroyInactiveTabPane,u=e.children,c=e.className,d=e.style,f=e.cardProps,h=Nn(e,j1e),v=r("pro-card-tabpane"),m=rt(v,c);return E.jsx(Gf.TabPane,P(P({tabKey:a,tab:o,className:m,style:d,disabled:s,destroyInactiveTabPane:l},h),{},{children:E.jsx(fb,P(P({},f),{},{children:u}))}),i)};var f4=function(e){return{backgroundColor:e.controlItemBgActive,borderColor:e.controlOutline}},U1e=function(e){var n=e.componentCls;return J(J(J({},n,P(P({position:"relative",display:"flex",flexDirection:"column",boxSizing:"border-box",width:"100%",marginBlock:0,marginInline:0,paddingBlock:0,paddingInline:0,backgroundColor:e.colorBgContainer,borderRadius:e.borderRadius,transition:"all 0.3s"},y2==null?void 0:y2(e)),{},J(J(J(J(J(J(J(J(J(J({"&-box-shadow":{boxShadow:"0 1px 2px -2px #00000029, 0 3px 6px #0000001f, 0 5px 12px 4px #00000017",borderColor:"transparent"},"&-col":{width:"100%"},"&-border":{border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)},"&-hoverable":J({cursor:"pointer",transition:"box-shadow 0.3s, border-color 0.3s","&:hover":{borderColor:"transparent",boxShadow:"0 1px 2px -2px #00000029, 0 3px 6px #0000001f, 0 5px 12px 4px #00000017"}},"&".concat(n,"-checked:hover"),{borderColor:e.controlOutline}),"&-checked":P(P({},f4(e)),{},{"&::after":{visibility:"visible",position:"absolute",insetBlockStart:2,insetInlineEnd:2,opacity:1,width:0,height:0,border:"6px solid ".concat(e.colorPrimary),borderBlockEnd:"6px solid transparent",borderInlineStart:"6px solid transparent",borderStartEndRadius:2,content:'""'}}),"&:focus":P({},f4(e)),"&&-ghost":J({backgroundColor:"transparent"},"> ".concat(n),{"&-header":{paddingInlineEnd:0,paddingBlockEnd:e.padding,paddingInlineStart:0},"&-body":{paddingBlock:0,paddingInline:0,backgroundColor:"transparent"}}),"&&-split > &-body":{paddingBlock:0,paddingInline:0},"&&-contain-card > &-body":{display:"flex"}},"".concat(n,"-body-direction-column"),{flexDirection:"column"}),"".concat(n,"-body-wrap"),{flexWrap:"wrap"}),"&&-collapse",J({},"> ".concat(n),{"&-header":{paddingBlockEnd:e.padding,borderBlockEnd:0},"&-body":{display:"none"}})),"".concat(n,"-header"),{display:"flex",alignItems:"center",justifyContent:"space-between",paddingInline:e.paddingLG,paddingBlock:e.padding,paddingBlockEnd:0,"&-border":{"&":{paddingBlockEnd:e.padding},borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)},"&-collapsible":{cursor:"pointer"}}),"".concat(n,"-title"),{color:e.colorText,fontWeight:500,fontSize:e.fontSizeLG,lineHeight:e.lineHeight}),"".concat(n,"-extra"),{color:e.colorText}),"".concat(n,"-type-inner"),J({},"".concat(n,"-header"),{backgroundColor:e.colorFillAlter})),"".concat(n,"-collapsible-icon"),{marginInlineEnd:e.marginXS,color:e.colorIconHover,":hover":{color:e.colorPrimaryHover},"& svg":{transition:"transform ".concat(e.motionDurationMid)}}),"".concat(n,"-body"),{display:"block",boxSizing:"border-box",height:"100%",paddingInline:e.paddingLG,paddingBlock:e.padding,"&-center":{display:"flex",alignItems:"center",justifyContent:"center"}}),"&&-size-small",J(J({},n,{"&-header":{paddingInline:e.paddingSM,paddingBlock:e.paddingXS,paddingBlockEnd:0,"&-border":{paddingBlockEnd:e.paddingXS}},"&-title":{fontSize:e.fontSize},"&-body":{paddingInline:e.paddingSM,paddingBlock:e.paddingSM}}),"".concat(n,"-header").concat(n,"-header-collapsible"),{paddingBlock:e.paddingXS})))),"".concat(n,"-col"),J(J({},"&".concat(n,"-split-vertical"),{borderInlineEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}),"&".concat(n,"-split-horizontal"),{borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)})),"".concat(n,"-tabs"),J(J(J(J(J(J({},"".concat(e.antCls,"-tabs-top > ").concat(e.antCls,"-tabs-nav"),J({marginBlockEnd:0},"".concat(e.antCls,"-tabs-nav-list"),{marginBlockStart:e.marginXS,paddingInlineStart:e.padding})),"".concat(e.antCls,"-tabs-bottom > ").concat(e.antCls,"-tabs-nav"),J({marginBlockEnd:0},"".concat(e.antCls,"-tabs-nav-list"),{paddingInlineStart:e.padding})),"".concat(e.antCls,"-tabs-left"),J({},"".concat(e.antCls,"-tabs-content-holder"),J({},"".concat(e.antCls,"-tabs-content"),J({},"".concat(e.antCls,"-tabs-tabpane"),{paddingInlineStart:0})))),"".concat(e.antCls,"-tabs-left > ").concat(e.antCls,"-tabs-nav"),J({marginInlineEnd:0},"".concat(e.antCls,"-tabs-nav-list"),{paddingBlockStart:e.padding})),"".concat(e.antCls,"-tabs-right"),J({},"".concat(e.antCls,"-tabs-content-holder"),J({},"".concat(e.antCls,"-tabs-content"),J({},"".concat(e.antCls,"-tabs-tabpane"),{paddingInlineStart:0})))),"".concat(e.antCls,"-tabs-right > ").concat(e.antCls,"-tabs-nav"),J({},"".concat(e.antCls,"-tabs-nav-list"),{paddingBlockStart:e.padding})))},P9=24,G1e=function(e,n){var r=n.componentCls;return e===0?J({},"".concat(r,"-col-0"),{display:"none"}):J({},"".concat(r,"-col-").concat(e),{flexShrink:0,width:"".concat(e/P9*100,"%")})},W1e=function(e){return Array(P9+1).fill(1).map(function(n,r){return G1e(r,e)})};function V1e(t){return Qi("ProCard",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[U1e(n),W1e(n)]})}var X1e=["className","style","bodyStyle","headStyle","title","subTitle","extra","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","boxShadow","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","collapsibleIconRender","colStyle","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],fb=je.forwardRef(function(t,e){var n,r=t.className,i=t.style,o=t.bodyStyle,a=t.headStyle,s=t.title,l=t.subTitle,u=t.extra,c=t.wrap,d=c===void 0?!1:c,f=t.layout,h=t.loading,v=t.gutter,m=v===void 0?0:v,g=t.tooltip,x=t.split,_=t.headerBordered,w=_===void 0?!1:_,S=t.bordered,C=S===void 0?!1:S,O=t.boxShadow,T=O===void 0?!1:O,N=t.children,M=t.size,D=t.actions,F=t.ghost,j=F===void 0?!1:F,R=t.hoverable,I=R===void 0?!1:R,L=t.direction,k=t.collapsed,B=t.collapsible,q=B===void 0?!1:B,X=t.collapsibleIconRender,z=t.colStyle,H=t.defaultCollapsed,Q=H===void 0?!1:H,V=t.onCollapse,W=t.checked,te=t.onChecked,K=t.tabs,U=t.type,ee=Nn(t,X1e),fe=y.useContext(Qn.ConfigContext),ve=fe.getPrefixCls,Ce=Nb()||{lg:!0,md:!0,sm:!0,xl:!1,xs:!1,xxl:!1},ue=Gr(Q,{value:k,onChange:V}),we=ht(ue,2),pe=we[0],$e=we[1],Ne=["xxl","xl","lg","md","sm","xs"],Le=z1e(K==null?void 0:K.items,N,K),Ie=function(hn){var On=[0,0],Yn=Array.isArray(hn)?hn:[hn,0];return Yn.forEach(function(kn,bn){if(ur(kn)==="object")for(var Sn=0;Sn<Ne.length;Sn+=1){var qn=Ne[Sn];if(Ce[qn]&&kn[qn]!==void 0){On[bn]=kn[qn];break}}else On[bn]=kn||0}),On},Z=function(hn,On){return hn?On:{}},ie=function(hn){var On=hn;if(ur(hn)==="object")for(var Yn=0;Yn<Ne.length;Yn+=1){var kn=Ne[Yn];if(Ce!=null&&Ce[kn]&&(hn==null?void 0:hn[kn])!==void 0){On=hn[kn];break}}var bn=Z(typeof On=="string"&&/\d%|\dpx/i.test(On),{width:On,flexShrink:0});return{span:On,colSpanStyle:bn}},ne=ve("pro-card"),Te=V1e(ne),$=Te.wrapSSR,se=Te.hashId,re=Ie(m),oe=ht(re,2),ye=oe[0],xe=oe[1],He=!1,Fe=je.Children.toArray(N),Ve=Fe.map(function(Lt,hn){var On;if(Lt!=null&&(On=Lt.type)!==null&&On!==void 0&&On.isProCard){He=!0;var Yn=Lt.props.colSpan,kn=ie(Yn),bn=kn.span,Sn=kn.colSpanStyle,qn=rt(["".concat(ne,"-col")],se,J(J(J({},"".concat(ne,"-split-vertical"),x==="vertical"&&hn!==Fe.length-1),"".concat(ne,"-split-horizontal"),x==="horizontal"&&hn!==Fe.length-1),"".concat(ne,"-col-").concat(bn),typeof bn=="number"&&bn>=0&&bn<=24)),it=$(E.jsx("div",{style:P(P(P(P({},Sn),Z(ye>0,{paddingInlineEnd:ye/2,paddingInlineStart:ye/2})),Z(xe>0,{paddingBlockStart:xe/2,paddingBlockEnd:xe/2})),z),className:qn,children:je.cloneElement(Lt)}));return je.cloneElement(it,{key:"pro-card-col-".concat((Lt==null?void 0:Lt.key)||hn)})}return Lt}),qe=rt("".concat(ne),r,se,(n={},J(J(J(J(J(J(J(J(J(J(n,"".concat(ne,"-border"),C),"".concat(ne,"-box-shadow"),T),"".concat(ne,"-contain-card"),He),"".concat(ne,"-loading"),h),"".concat(ne,"-split"),x==="vertical"||x==="horizontal"),"".concat(ne,"-ghost"),j),"".concat(ne,"-hoverable"),I),"".concat(ne,"-size-").concat(M),M),"".concat(ne,"-type-").concat(U),U),"".concat(ne,"-collapse"),pe),J(n,"".concat(ne,"-checked"),W))),vt=rt("".concat(ne,"-body"),se,J(J(J({},"".concat(ne,"-body-center"),f==="center"),"".concat(ne,"-body-direction-column"),x==="horizontal"||L==="column"),"".concat(ne,"-body-wrap"),d&&He)),tt=o,pt=je.isValidElement(h)?h:E.jsx($1e,{prefix:ne,style:(o==null?void 0:o.padding)===0||(o==null?void 0:o.padding)==="0px"?{padding:24}:void 0}),Ht=q&&k===void 0&&(X?X({collapsed:pe}):E.jsx(Vy,{rotate:pe?void 0:90,className:"".concat(ne,"-collapsible-icon ").concat(se).trim()}));return $(E.jsxs("div",P(P({className:qe,style:i,ref:e,onClick:function(hn){var On;te==null||te(hn),ee==null||(On=ee.onClick)===null||On===void 0||On.call(ee,hn)}},Co(ee,["prefixCls","colSpan"])),{},{children:[(s||u||Ht)&&E.jsxs("div",{className:rt("".concat(ne,"-header"),se,J(J({},"".concat(ne,"-header-border"),w||U==="inner"),"".concat(ne,"-header-collapsible"),Ht)),style:a,onClick:function(){Ht&&$e(!pe)},children:[E.jsxs("div",{className:"".concat(ne,"-title ").concat(se).trim(),children:[Ht,E.jsx(Cp,{label:s,tooltip:g,subTitle:l})]}),u&&E.jsx("div",{className:"".concat(ne,"-extra ").concat(se).trim(),onClick:function(hn){return hn.stopPropagation()},children:u})]}),K?E.jsx("div",{className:"".concat(ne,"-tabs ").concat(se).trim(),children:E.jsx(Gf,P(P({onChange:K.onChange},Co(K,["cardProps"])),{},{items:Le,children:h?pt:N}))}):E.jsx("div",{className:vt,style:tt,children:h?pt:Ve}),D?E.jsx(I1e,{actions:D,prefixCls:ne}):null]})))}),K1e=function(e){var n=e.componentCls;return J({},n,{"&-divider":{flex:"none",width:e.lineWidth,marginInline:e.marginXS,marginBlock:e.marginLG,backgroundColor:e.colorSplit,"&-horizontal":{width:"initial",height:e.lineWidth,marginInline:e.marginLG,marginBlock:e.marginXS}},"&&-size-small &-divider":{marginBlock:e.marginLG,marginInline:e.marginXS,"&-horizontal":{marginBlock:e.marginXS,marginInline:e.marginLG}}})};function Y1e(t){return Qi("ProCardDivider",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[K1e(n)]})}var q1e=function(e){var n=y.useContext(Qn.ConfigContext),r=n.getPrefixCls,i=r("pro-card"),o="".concat(i,"-divider"),a=Y1e(i),s=a.wrapSSR,l=a.hashId,u=e.className,c=e.style,d=c===void 0?{}:c,f=e.type,h=rt(o,u,l,J({},"".concat(o,"-").concat(f),f));return s(E.jsx("div",{className:h,style:d}))},Z1e=function(e){return E.jsx(fb,P({bodyStyle:{padding:0}},e))},Kb=fb;Kb.isProCard=!0;Kb.Divider=q1e;Kb.TabPane=H1e;Kb.Group=Z1e;var Ry=function(){return Ry=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ry.apply(this,arguments)};function J1e(t){var e,n=(typeof window<"u"?window:{}).URL,r=new n((e=window==null?void 0:window.location)===null||e===void 0?void 0:e.href);return Object.keys(t).forEach(function(i){var o=t[i];o!=null?Array.isArray(o)?(r.searchParams.delete(i),o.forEach(function(a){r.searchParams.append(i,a)})):o instanceof Date?Number.isNaN(o.getTime())||r.searchParams.set(i,o.toISOString()):typeof o=="object"?r.searchParams.set(i,JSON.stringify(o)):r.searchParams.set(i,o):r.searchParams.delete(i)}),r}function Q1e(t,e){var n;t===void 0&&(t={}),e===void 0&&(e={disabled:!1});var r=y.useState(),i=r[1],o=typeof window<"u"&&((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.search),a=y.useMemo(function(){return e.disabled?{}:new URLSearchParams(o||{})},[e.disabled,o]),s=y.useMemo(function(){if(e.disabled)return{};if(typeof window>"u"||!window.URL)return{};var c=[];a.forEach(function(f,h){c.push({key:h,value:f})}),c=c.reduce(function(f,h){return(f[h.key]=f[h.key]||[]).push(h),f},{}),c=Object.keys(c).map(function(f){var h=c[f];return h.length===1?[f,h[0].value]:[f,h.map(function(v){var m=v.value;return m})]});var d=Ry({},t);return c.forEach(function(f){var h=f[0],v=f[1];d[h]=txe(h,v,{},t)}),d},[e.disabled,t,a]);function l(c){if(!(typeof window>"u"||!window.URL)){var d=J1e(c);window.location.search!==d.search&&window.history.replaceState({},"",d.toString()),a.toString()!==d.searchParams.toString()&&i({})}}y.useEffect(function(){e.disabled||typeof window>"u"||!window.URL||l(Ry(Ry({},t),s))},[e.disabled,s]);var u=function(c){l(c)};return y.useEffect(function(){if(e.disabled)return function(){};if(typeof window>"u"||!window.URL)return function(){};var c=function(){i({})};return window.addEventListener("popstate",c),function(){window.removeEventListener("popstate",c)}},[e.disabled]),[s,u]}var exe={true:!0,false:!1};function txe(t,e,n,r){if(!n)return e;var i=n[t],o=e===void 0?r[t]:e;return i===Number?Number(o):i===Boolean||e==="true"||e==="false"?exe[o]:Array.isArray(i)?i.find(function(a){return a==o})||r[t]:o}var Eg=je.createContext({}),nxe=["children","Wrapper"],rxe=["children","Wrapper"],nO=y.createContext({grid:!1,colProps:void 0,rowProps:void 0}),ixe=function(e){var n=e.grid,r=e.rowProps,i=e.colProps;return{grid:!!n,RowWrapper:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.children,l=a.Wrapper,u=Nn(a,nxe);return n?E.jsx(Rl,P(P(P({gutter:8},r),u),{},{children:s})):l?E.jsx(l,{children:s}):s},ColWrapper:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.children,l=a.Wrapper,u=Nn(a,rxe),c=y.useMemo(function(){var d=P(P({},i),u);return typeof d.span>"u"&&typeof d.xs>"u"&&(d.xs=24),d},[u]);return n?E.jsx(Oo,P(P({},c),{},{children:s})):l?E.jsx(l,{children:s}):s}}},Cg=function(e){var n=y.useMemo(function(){return ur(e)==="object"?e:{grid:e}},[e]),r=y.useContext(nO),i=r.grid,o=r.colProps;return y.useMemo(function(){return ixe({grid:!!(i||n.grid),rowProps:n==null?void 0:n.rowProps,colProps:(n==null?void 0:n.colProps)||o,Wrapper:n==null?void 0:n.Wrapper})},[n==null?void 0:n.Wrapper,n.grid,i,JSON.stringify([o,n==null?void 0:n.colProps,n==null?void 0:n.rowProps])])},oxe=["valueType","customLightMode","lightFilterLabelFormatter","valuePropName","ignoreWidth","defaultProps"],axe=["label","tooltip","placeholder","width","bordered","messageVariables","ignoreFormItem","transform","convertValue","readonly","allowClear","colSize","getFormItemProps","getFieldProps","filedConfig","cacheForSwr","proFieldProps"],h4={xs:104,s:216,sm:216,m:328,md:328,l:440,lg:440,xl:552},sxe=["switch","radioButton","radio","rate"];function A9(t,e){t.displayName="ProFormComponent";var n=function(o){var a=P(P({},o==null?void 0:o.filedConfig),e),s=a.valueType,l=a.customLightMode,u=a.lightFilterLabelFormatter,c=a.valuePropName,d=c===void 0?"value":c,f=a.ignoreWidth,h=a.defaultProps,v=Nn(a,oxe),m=P(P({},h),o),g=m.label,x=m.tooltip,_=m.placeholder,w=m.width,S=m.bordered,C=m.messageVariables,O=m.ignoreFormItem,T=m.transform,N=m.convertValue,M=m.readonly,D=m.allowClear;m.colSize;var F=m.getFormItemProps,j=m.getFieldProps;m.filedConfig;var R=m.cacheForSwr,I=m.proFieldProps,L=Nn(m,axe),k=s||L.valueType,B=y.useMemo(function(){return f||sxe.includes(k)},[f,k]),q=y.useState(),X=ht(q,2),z=X[1],H=y.useState(),Q=ht(H,2),V=Q[0],W=Q[1],te=je.useContext(Eg),K=$a(function(){return{formItemProps:F==null?void 0:F(),fieldProps:j==null?void 0:j()}},[j,F,L.dependenciesValues,V]),U=$a(function(){var $=P(P(P(P({},O?No({value:L.value}):{}),{},{placeholder:_,disabled:o.disabled},te.fieldProps),K.fieldProps),L.fieldProps);return $.style=No($==null?void 0:$.style),$},[O,L.value,L.fieldProps,_,o.disabled,te.fieldProps,K.fieldProps]),ee=f1e(L),fe=$a(function(){return P(P(P(P({},te.formItemProps),ee),K.formItemProps),L.formItemProps)},[K.formItemProps,te.formItemProps,L.formItemProps,ee]),ve=$a(function(){return P(P({messageVariables:C},v),fe)},[v,fe,C]);As(!L.defaultValue,"请不要在 Form 中使用 defaultXXX。如果需要默认值请使用 initialValues 和 initialValue。");var Ce=y.useContext(nY),ue=Ce.prefixName,we=$a(function(){var $,se=ve==null?void 0:ve.name;Array.isArray(se)&&(se=se.join("_")),Array.isArray(ue)&&se&&(se="".concat(ue.join("."),".").concat(se));var re=se&&"form-".concat(($=te.formKey)!==null&&$!==void 0?$:"","-field-").concat(se);return re},[wd(ve==null?void 0:ve.name),ue,te.formKey]),pe=ci(function(){var $;F||j?W([]):L.renderFormItem&&z([]);for(var se=arguments.length,re=new Array(se),oe=0;oe<se;oe++)re[oe]=arguments[oe];U==null||($=U.onChange)===null||$===void 0||$.call.apply($,[U].concat(re))}),$e=$a(function(){var $=P({width:w&&!h4[w]?w:te.grid?"100%":void 0},U==null?void 0:U.style);return B&&Reflect.deleteProperty($,"width"),No($)},[wd(U==null?void 0:U.style),te.grid,B,w]),Ne=$a(function(){var $=w&&h4[w];return rt(U==null?void 0:U.className,J({"pro-field":$},"pro-field-".concat(w),$&&!B))||void 0},[w,U==null?void 0:U.className,B]),Le=$a(function(){return No(P(P({},te.proFieldProps),{},{mode:L==null?void 0:L.mode,readonly:M,params:L.params,proFieldKey:we,cacheForSwr:R},I))},[te.proFieldProps,L==null?void 0:L.mode,L.params,M,we,R,I]),Ie=$a(function(){return P(P({onChange:pe,allowClear:D},U),{},{style:$e,className:Ne})},[D,Ne,pe,U,$e]),Z=$a(function(){return E.jsx(t,P(P({},L),{},{fieldProps:Ie,proFieldProps:Le,ref:o==null?void 0:o.fieldRef}),o.proFormFieldKey||o.name)},[Le,Ie,L]),ie=$a(function(){var $,se,re,oe;return E.jsx(K9,P(P({label:g&&(I==null?void 0:I.light)!==!0?g:void 0,tooltip:(I==null?void 0:I.light)!==!0&&x,valuePropName:d},ve),{},{ignoreFormItem:O,transform:T,dataFormat:U==null?void 0:U.format,valueType:k,messageVariables:P({label:g||""},ve==null?void 0:ve.messageVariables),convertValue:N,lightProps:No(P(P(P({},U),{},{valueType:k,bordered:S,allowClear:(se=Z==null||(re=Z.props)===null||re===void 0?void 0:re.allowClear)!==null&&se!==void 0?se:D,light:I==null?void 0:I.light,label:g,customLightMode:l,labelFormatter:u,valuePropName:d,footerRender:Z==null||(oe=Z.props)===null||oe===void 0?void 0:oe.footerRender},L.lightProps),ve.lightProps)),children:Z}),o.proFormFieldKey||(($=ve.name)===null||$===void 0?void 0:$.toString()))},[g,I==null?void 0:I.light,x,d,o.proFormFieldKey,ve,O,T,U,k,N,S,Z,D,l,u,L.lightProps]),ne=Cg(L),Te=ne.ColWrapper;return E.jsx(Te,{children:ie})},r=function(o){var a=o.dependencies;return a?E.jsx(qb,{name:a,originDependencies:o==null?void 0:o.originDependencies,children:function(l){return E.jsx(n,P({dependenciesValues:l,dependencies:a},o))}}):E.jsx(n,P({dependencies:a},o))};return r}var lxe=["label","prefixCls","onChange","value","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue","fieldNames","lightLabel","labelTrigger","optionFilterProp","optionLabelProp","valueMaxLength","fetchDataOnSearch","fetchData"],p4=function(e,n){return ur(n)!=="object"?e[n]||n:e[n==null?void 0:n.value]||n.label},uxe=function(e,n){var r=e.label,i=e.prefixCls,o=e.onChange,a=e.value,s=e.mode;e.children,e.defaultValue;var l=e.size,u=e.showSearch,c=e.disabled,d=e.style,f=e.className,h=e.bordered,v=e.options,m=e.onSearch,g=e.allowClear,x=e.labelInValue,_=e.fieldNames,w=e.lightLabel,S=e.labelTrigger,C=e.optionFilterProp,O=e.optionLabelProp,T=O===void 0?"":O,N=e.valueMaxLength,M=N===void 0?41:N,D=e.fetchDataOnSearch,F=D===void 0?!1:D,j=e.fetchData,R=Nn(e,lxe),I=e.placeholder,L=I===void 0?r:I,k=_||{},B=k.label,q=B===void 0?"label":B,X=k.value,z=X===void 0?"value":X,H=y.useContext(Qn.ConfigContext),Q=H.getPrefixCls,V=Q("pro-field-select-light-select"),W=y.useState(!1),te=ht(W,2),K=te[0],U=te[1],ee=y.useState(""),fe=ht(ee,2),ve=fe[0],Ce=fe[1],ue=Qi("LightSelect",function(Ie){return J({},".".concat(V),J(J({},"".concat(Ie.antCls,"-select"),{position:"absolute",width:"153px",height:"28px",visibility:"hidden","&-selector":{height:28}}),"&.".concat(V,"-searchable"),J({},"".concat(Ie.antCls,"-select"),{width:"200px","&-selector":{height:28}})))}),we=ue.wrapSSR,pe=ue.hashId,$e=y.useMemo(function(){var Ie={};return v==null||v.forEach(function(Z){var ie=Z[T]||Z[q],ne=Z[z];Ie[ne]=ie||ne}),Ie},[q,v,z,T]),Ne=y.useMemo(function(){return Reflect.has(R,"open")?R==null?void 0:R.open:K},[K,R]),Le=Array.isArray(a)?a.map(function(Ie){return p4($e,Ie)}):p4($e,a);return we(E.jsxs("div",{className:rt(V,pe,J({},"".concat(V,"-searchable"),u),"".concat(V,"-container-").concat(R.placement||"bottomLeft"),f),style:d,onClick:function(Z){var ie;if(!c){var ne=w==null||(ie=w.current)===null||ie===void 0||(ie=ie.labelRef)===null||ie===void 0||(ie=ie.current)===null||ie===void 0?void 0:ie.contains(Z.target);ne&&U(!K)}},children:[E.jsx(Ld,P(P(P({},R),{},{allowClear:g,value:a,mode:s,labelInValue:x,size:l,disabled:c,onChange:function(Z,ie){o==null||o(Z,ie),s!=="multiple"&&U(!1)}},il(h)),{},{showSearch:u,onSearch:u?function(Ie){F&&j&&j(Ie),m==null||m(Ie)}:void 0,style:d,dropdownRender:function(Z){return E.jsxs("div",{ref:n,children:[u&&E.jsx("div",{style:{margin:"4px 8px"},children:E.jsx(mo,{value:ve,allowClear:!!g,onChange:function(ne){Ce(ne.target.value),F&&j&&j(ne.target.value),m==null||m(ne.target.value)},onKeyDown:function(ne){if(ne.key==="Backspace"){ne.stopPropagation();return}(ne.key==="ArrowUp"||ne.key==="ArrowDown")&&ne.preventDefault()},style:{width:"100%"},prefix:E.jsx(c$,{})})}),Z]})},open:Ne,onDropdownVisibleChange:function(Z){var ie;Z||Ce(""),S||U(Z),R==null||(ie=R.onDropdownVisibleChange)===null||ie===void 0||ie.call(R,Z)},prefixCls:i,options:m||!ve?v:v==null?void 0:v.filter(function(Ie){var Z,ie;return C?_c(Ie[C]).join("").toLowerCase().includes(ve):((Z=String(Ie[q]))===null||Z===void 0||(Z=Z.toLowerCase())===null||Z===void 0?void 0:Z.includes(ve==null?void 0:ve.toLowerCase()))||((ie=Ie[z])===null||ie===void 0||(ie=ie.toString())===null||ie===void 0||(ie=ie.toLowerCase())===null||ie===void 0?void 0:ie.includes(ve==null?void 0:ve.toLowerCase()))})})),E.jsx(Cc,{ellipsis:!0,label:r,placeholder:L,disabled:c,bordered:h,allowClear:!!g,value:Le||(a==null?void 0:a.label)||a,onClear:function(){o==null||o(void 0,void 0)},ref:w,valueMaxLength:M})]}))};const cxe=je.forwardRef(uxe);var dxe=["optionItemRender","mode","onSearch","onFocus","onChange","autoClearSearchValue","searchOnFocus","resetAfterSelect","fetchDataOnSearch","optionFilterProp","optionLabelProp","className","disabled","options","fetchData","resetData","prefixCls","onClear","searchValue","showSearch","fieldNames","defaultSearchValue"],fxe=["className","optionType"],hxe=function(e,n){var r=e.optionItemRender,i=e.mode,o=e.onSearch,a=e.onFocus,s=e.onChange,l=e.autoClearSearchValue,u=l===void 0?!0:l,c=e.searchOnFocus,d=c===void 0?!1:c,f=e.resetAfterSelect,h=f===void 0?!1:f,v=e.fetchDataOnSearch,m=v===void 0?!0:v,g=e.optionFilterProp,x=g===void 0?"label":g,_=e.optionLabelProp,w=_===void 0?"label":_,S=e.className,C=e.disabled,O=e.options,T=e.fetchData,N=e.resetData,M=e.prefixCls,D=e.onClear,F=e.searchValue,j=e.showSearch,R=e.fieldNames,I=e.defaultSearchValue,L=Nn(e,dxe),k=R||{},B=k.label,q=B===void 0?"label":B,X=k.value,z=X===void 0?"value":X,H=k.options,Q=H===void 0?"options":H,V=y.useState(F??I),W=ht(V,2),te=W[0],K=W[1],U=y.useRef();y.useImperativeHandle(n,function(){return U.current}),y.useEffect(function(){if(L.autoFocus){var pe;U==null||(pe=U.current)===null||pe===void 0||pe.focus()}},[L.autoFocus]),y.useEffect(function(){K(F)},[F]);var ee=y.useContext(Qn.ConfigContext),fe=ee.getPrefixCls,ve=fe("pro-filed-search-select",M),Ce=rt(ve,S,J({},"".concat(ve,"-disabled"),C)),ue=function($e,Ne){return Array.isArray($e)&&Array.isArray(Ne)&&$e.length>0?$e.map(function(Le,Ie){var Z=Ne==null?void 0:Ne[Ie],ie=(Z==null?void 0:Z["data-item"])||{};return P(P({},ie),Le)}):[]},we=function pe($e){return $e.map(function(Ne,Le){var Ie,Z=Ne,ie=Z.className,ne=Z.optionType,Te=Nn(Z,fxe),$=Ne[q],se=Ne[z],re=(Ie=Ne[Q])!==null&&Ie!==void 0?Ie:[];return ne==="optGroup"||Ne.options?P(P({label:$},Te),{},{data_title:$,title:$,key:se??"".concat($==null?void 0:$.toString(),"-").concat(Le,"-").concat(db()),children:pe(re)}):P(P({title:$},Te),{},{data_title:$,value:se??Le,key:se??"".concat($==null?void 0:$.toString(),"-").concat(Le,"-").concat(db()),"data-item":Ne,className:"".concat(ve,"-option ").concat(ie||"").trim(),label:(r==null?void 0:r(Ne))||$})})};return E.jsx(Ld,P(P({ref:U,className:Ce,allowClear:!0,autoClearSearchValue:u,disabled:C,mode:i,showSearch:j,searchValue:te,optionFilterProp:x,optionLabelProp:w,onClear:function(){D==null||D(),T(void 0),j&&K(void 0)}},L),{},{filterOption:L.filterOption==!1?!1:function(pe,$e){var Ne,Le,Ie;return L.filterOption&&typeof L.filterOption=="function"?L.filterOption(pe,P(P({},$e),{},{label:$e==null?void 0:$e.data_title})):!!($e!=null&&(Ne=$e.data_title)!==null&&Ne!==void 0&&Ne.toString().toLowerCase().includes(pe.toLowerCase())||$e!=null&&(Le=$e.label)!==null&&Le!==void 0&&Le.toString().toLowerCase().includes(pe.toLowerCase())||$e!=null&&(Ie=$e.value)!==null&&Ie!==void 0&&Ie.toString().toLowerCase().includes(pe.toLowerCase()))},onSearch:j?function(pe){m&&T(pe),o==null||o(pe),K(pe)}:void 0,onChange:function($e,Ne){j&&u&&(T(void 0),o==null||o(""),K(void 0));for(var Le=arguments.length,Ie=new Array(Le>2?Le-2:0),Z=2;Z<Le;Z++)Ie[Z-2]=arguments[Z];if(!e.labelInValue){s==null||s.apply(void 0,[$e,Ne].concat(Ie));return}if(i!=="multiple"&&!Array.isArray(Ne)){var ie=Ne&&Ne["data-item"];!$e||!ie?s==null||s.apply(void 0,[$e,Ne].concat(Ie)):s==null||s.apply(void 0,[P(P({},$e),ie),Ne].concat(Ie));return}var ne=ue($e,Ne);s==null||s.apply(void 0,[ne,Ne].concat(Ie)),h&&N()},onFocus:function($e){d&&T(te),a==null||a($e)},options:we(O||[])}))};const pxe=je.forwardRef(hxe);var vxe=["value","text"],mxe=["mode","valueEnum","render","renderFormItem","request","fieldProps","plain","children","light","proFieldKey","params","label","bordered","id","lightLabel","labelTrigger"],gxe=function(e){for(var n=e.label,r=e.words,i=y.useContext(Qn.ConfigContext),o=i.getPrefixCls,a=o("pro-select-item-option-content-light"),s=o("pro-select-item-option-content"),l=Qi("Highlight",function(g){return J(J({},".".concat(a),{color:g.colorPrimary}),".".concat(s),{flex:"auto",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})}),u=l.wrapSSR,c=new RegExp(r.map(function(g){return g.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}).join("|"),"gi"),d=n,f=[];d.length;){var h=c.exec(d);if(!h){f.push(d);break}var v=h.index,m=h[0].length+v;f.push(d.slice(0,v),je.createElement("span",{className:a},d.slice(v,m))),d=d.slice(m)}return u(je.createElement.apply(je,["div",{title:n,className:s}].concat(f)))};function zR(t,e){var n,r;if(!e||t!=null&&(n=t.label)!==null&&n!==void 0&&n.toString().toLowerCase().includes(e.toLowerCase())||t!=null&&(r=t.value)!==null&&r!==void 0&&r.toString().toLowerCase().includes(e.toLowerCase()))return!0;if(t.children||t.options){var i=[].concat(_n(t.children||[]),[t.options||[]]).find(function(o){return zR(o,e)});if(i)return!0}return!1}var O9=function(e){var n=[],r=Bd(e);return r.forEach(function(i,o){var a=r.get(o)||r.get("".concat(o));if(a){if(ur(a)==="object"&&a!==null&&a!==void 0&&a.text){n.push({text:a==null?void 0:a.text,value:o,label:a==null?void 0:a.text,disabled:a.disabled});return}n.push({text:a,value:o})}}),n},Tg=function(e){var n,r,i,o,a=e.cacheForSwr,s=e.fieldProps,l=y.useState(e.defaultKeyWords),u=ht(l,2),c=u[0],d=u[1],f=y.useState(function(){return e.proFieldKey?e.proFieldKey.toString():e.request?db():"no-fetch"}),h=ht(f,1),v=h[0],m=y.useRef(v),g=ci(function(j){return O9(Bd(j)).map(function(R){var I=R.value,L=R.text,k=Nn(R,vxe);return P({label:L,value:I,key:I},k)})}),x=$a(function(){if(s){var j=(s==null?void 0:s.options)||(s==null?void 0:s.treeData);if(j){var R=s.fieldNames||{},I=R.children,L=R.label,k=R.value,B=function q(X,z){if(X!=null&&X.length)for(var H=X.length,Q=0;Q<H;){var V=X[Q++];(V[I]||V[L]||V[k])&&(V[z]=V[z==="children"?I:z==="label"?L:k],q(V[I],z))}};return I&&B(j,"children"),L&&B(j,"label"),k&&B(j,"value"),j}}},[s]),_=Gr(function(){return e.valueEnum?g(e.valueEnum):[]},{value:x}),w=ht(_,2),S=w[0],C=w[1];TS(function(){var j,R;!e.valueEnum||(j=e.fieldProps)!==null&&j!==void 0&&j.options||(R=e.fieldProps)!==null&&R!==void 0&&R.treeData||C(g(e.valueEnum))},[e.valueEnum]);var O=n1e([m.current,e.params,c],(n=(r=e.debounceTime)!==null&&r!==void 0?r:e==null||(i=e.fieldProps)===null||i===void 0?void 0:i.debounceTime)!==null&&n!==void 0?n:0,[e.params,c]),T=v9(function(){return e.request?O:null},function(j){var R=ht(j,3),I=R[1],L=R[2];return e.request(P(P({},I),{},{keyWords:L}),e)},{revalidateIfStale:!a,revalidateOnReconnect:a,shouldRetryOnError:!1,revalidateOnFocus:!1}),N=T.data,M=T.mutate,D=T.isValidating,F=y.useMemo(function(){var j,R,I=S==null?void 0:S.map(function(L){if(typeof L=="string")return{label:L,value:L};if(L.children||L.options){var k=[].concat(_n(L.children||[]),_n(L.options||[])).filter(function(B){return zR(B,c)});return P(P({},L),{},{children:k,options:k})}return L});return((j=e.fieldProps)===null||j===void 0?void 0:j.filterOption)===!0||((R=e.fieldProps)===null||R===void 0?void 0:R.filterOption)===void 0?I==null?void 0:I.filter(function(L){return L?c?zR(L,c):!0:!1}):I},[S,c,(o=e.fieldProps)===null||o===void 0?void 0:o.filterOption]);return[D,e.request?N:F,function(j){d(j)},function(){d(void 0),M([],!1)}]},yxe=function(e,n){var r,i=e.mode,o=e.valueEnum,a=e.render,s=e.renderFormItem;e.request;var l=e.fieldProps;e.plain,e.children;var u=e.light;e.proFieldKey,e.params;var c=e.label,d=e.bordered,f=e.id,h=e.lightLabel,v=e.labelTrigger,m=Nn(e,mxe),g=y.useRef(),x=oi(),_=y.useRef(""),w=l.fieldNames;y.useEffect(function(){_.current=l==null?void 0:l.searchValue},[l==null?void 0:l.searchValue]);var S=Tg(e),C=ht(S,4),O=C[0],T=C[1],N=C[2],M=C[3],D=(Qn===null||Qn===void 0||(r=Qn.useConfig)===null||r===void 0?void 0:r.call(Qn))||{componentSize:"middle"},F=D.componentSize;y.useImperativeHandle(n,function(){return P(P({},g.current||{}),{},{fetchData:function(X){return N(X)}})},[N]);var j=y.useMemo(function(){if(i==="read"){var q=w||{},X=q.label,z=X===void 0?"label":X,H=q.value,Q=H===void 0?"value":H,V=q.options,W=V===void 0?"options":V,te=new Map,K=function U(ee){if(!(ee!=null&&ee.length))return te;for(var fe=ee.length,ve=0;ve<fe;){var Ce=ee[ve++];te.set(Ce[Q],Ce[z]),U(Ce[W])}return te};return K(T)}},[w,i,T]);if(i==="read"){var R=E.jsx(E.Fragment,{children:wg(m.text,Bd(o||j))});if(a){var I;return(I=a(R,P({mode:i},l),R))!==null&&I!==void 0?I:null}return R}if(i==="edit"||i==="update"){var L=function(){return u?E.jsx(cxe,P(P({},il(d)),{},{id:f,loading:O,ref:g,allowClear:!0,size:F,options:T,label:c,placeholder:x.getMessage("tableForm.selectPlaceholder","请选择"),lightLabel:h,labelTrigger:v,fetchData:N},l)):E.jsx(pxe,P(P(P({className:m.className,style:P({minWidth:100},m.style)},il(d)),{},{id:f,loading:O,ref:g,allowClear:!0,defaultSearchValue:e.defaultKeyWords,notFoundContent:O?E.jsx(Ip,{size:"small"}):l==null?void 0:l.notFoundContent,fetchData:function(z){_.current=z??"",N(z)},resetData:M,optionItemRender:function(z){return typeof z.label=="string"&&_.current?E.jsx(gxe,{label:z.label,words:[_.current]}):z.label},placeholder:x.getMessage("tableForm.selectPlaceholder","请选择"),label:c},l),{},{options:T}),"SearchSelect")},k=L();if(s){var B;return(B=s(m.text,P(P({mode:i},l),{},{options:T,loading:O}),k))!==null&&B!==void 0?B:null}return k}return null};const bxe=je.forwardRef(yxe);var xxe=["radioType","renderFormItem","mode","render","label","light"],_xe=function(e,n){var r;e.radioType;var i=e.renderFormItem,o=e.mode,a=e.render,s=e.label,l=e.light,u=Nn(e,xxe),c=y.useContext(Qn.ConfigContext),d=c.getPrefixCls,f=d("pro-field-cascader"),h=Tg(u),v=ht(h,3),m=v[0],g=v[1],x=v[2],_=oi(),w=y.useRef(),S=y.useState(!1),C=ht(S,2),O=C[0],T=C[1];y.useImperativeHandle(n,function(){return P(P({},w.current||{}),{},{fetchData:function(z){return x(z)}})},[x]);var N=y.useMemo(function(){var X;if(o==="read"){var z=((X=u.fieldProps)===null||X===void 0?void 0:X.fieldNames)||{},H=z.value,Q=H===void 0?"value":H,V=z.label,W=V===void 0?"label":V,te=z.children,K=te===void 0?"children":te,U=new Map,ee=function fe(ve){if(!(ve!=null&&ve.length))return U;for(var Ce=ve.length,ue=0;ue<Ce;){var we=ve[ue++];U.set(we[Q],we[W]),fe(we[K])}return U};return ee(g)}},[o,g,(r=u.fieldProps)===null||r===void 0?void 0:r.fieldNames]);if(o==="read"){var M=E.jsx(E.Fragment,{children:wg(u.text,Bd(u.valueEnum||N))});if(a){var D;return(D=a(u.text,P({mode:o},u.fieldProps),M))!==null&&D!==void 0?D:null}return M}if(o==="edit"){var F,j,R=E.jsx(ag,P(P(P({},il(!l)),{},{ref:w,open:O,suffixIcon:m?E.jsx(mp,{}):void 0,placeholder:_.getMessage("tableForm.selectPlaceholder","请选择"),allowClear:((F=u.fieldProps)===null||F===void 0?void 0:F.allowClear)!==!1},u.fieldProps),{},{onDropdownVisibleChange:function(z){var H,Q;u==null||(H=u.fieldProps)===null||H===void 0||(Q=H.onDropdownVisibleChange)===null||Q===void 0||Q.call(H,z),T(z)},className:rt((j=u.fieldProps)===null||j===void 0?void 0:j.className,f),options:g}));if(i){var I;R=(I=i(u.text,P(P({mode:o},u.fieldProps),{},{options:g,loading:m}),R))!==null&&I!==void 0?I:null}if(l){var L=u.fieldProps,k=L.disabled,B=L.value,q=!!B&&(B==null?void 0:B.length)!==0;return E.jsx(Cc,{label:s,disabled:k,bordered:u.bordered,value:q||O?R:null,style:q?{paddingInlineEnd:0}:void 0,allowClear:!1,downIcon:q||O?!1:void 0,onClick:function(){var z,H;T(!0),u==null||(z=u.fieldProps)===null||z===void 0||(H=z.onDropdownVisibleChange)===null||H===void 0||H.call(z,!0)}})}return R}return null};const Sxe=je.forwardRef(_xe);var wxe=["layout","renderFormItem","mode","render"],Exe=["fieldNames"],Cxe=function(e,n){var r,i,o=e.layout,a=o===void 0?"horizontal":o,s=e.renderFormItem,l=e.mode,u=e.render,c=Nn(e,wxe),d=y.useContext(Qn.ConfigContext),f=d.getPrefixCls,h=f("pro-field-checkbox"),v=(r=to.Item)===null||r===void 0||(i=r.useStatus)===null||i===void 0?void 0:i.call(r),m=Tg(c),g=ht(m,3),x=g[0],_=g[1],w=g[2],S=Qi("Checkbox",function(q){return J({},".".concat(h),{"&-error":{span:{color:q.colorError}},"&-warning":{span:{color:q.colorWarning}},"&-vertical":J(J(J({},"&".concat(q.antCls,"-checkbox-group"),{display:"inline-block"}),"".concat(q.antCls,"-checkbox-wrapper+").concat(q.antCls,"-checkbox-wrapper"),{"margin-inline-start":"0  !important"}),"".concat(q.antCls,"-checkbox-group-item"),{display:"flex",marginInlineEnd:0})})}),C=S.wrapSSR,O=S.hashId,T=Cy==null?void 0:Cy(),N=T.token,M=y.useRef();if(y.useImperativeHandle(n,function(){return P(P({},M.current||{}),{},{fetchData:function(X){return w(X)}})},[w]),x)return E.jsx(Ip,{size:"small"});if(l==="read"){var D=_!=null&&_.length?_==null?void 0:_.reduce(function(q,X){var z;return P(P({},q),{},J({},(z=X.value)!==null&&z!==void 0?z:"",X.label))},{}):void 0,F=wg(c.text,Bd(c.valueEnum||D));if(u){var j;return(j=u(c.text,P({mode:l},c.fieldProps),E.jsx(E.Fragment,{children:F})))!==null&&j!==void 0?j:null}return E.jsx("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:N.marginSM},children:F})}if(l==="edit"){var R,I=c.fieldProps||{};I.fieldNames;var L=Nn(I,Exe),k=C(E.jsx(Em.Group,P(P({},L),{},{className:rt((R=c.fieldProps)===null||R===void 0?void 0:R.className,O,"".concat(h,"-").concat(a),J(J({},"".concat(h,"-error"),(v==null?void 0:v.status)==="error"),"".concat(h,"-warning"),(v==null?void 0:v.status)==="warning")),options:_})));if(s){var B;return(B=s(c.text,P(P({mode:l},c.fieldProps),{},{options:_,loading:x}),k))!==null&&B!==void 0?B:null}return k}return null};const Txe=je.forwardRef(Cxe);var Rxe=function(e,n){if(typeof e!="string")return e;try{if(n==="json")return JSON.stringify(JSON.parse(e),null,2)}catch{}return e},Pxe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.language,s=a===void 0?"text":a,l=e.renderFormItem,u=e.plain,c=e.fieldProps,d=Rxe(r,s),f=Ps.useToken(),h=f.token;if(i==="read"){var v=E.jsx("pre",P(P({ref:n},c),{},{style:P({padding:16,overflow:"auto",fontSize:"85%",lineHeight:1.45,color:h.colorTextSecondary,fontFamily:h.fontFamilyCode,backgroundColor:"rgba(150, 150, 150, 0.1)",borderRadius:3,width:"min-content"},c.style),children:E.jsx("code",{children:d})}));return o?o(d,P(P({mode:i},c),{},{ref:n}),v):v}if(i==="edit"||i==="update"){c.value=d;var m=E.jsx(mo.TextArea,P(P({rows:5},c),{},{ref:n}));if(u&&(m=E.jsx(mo,P(P({},c),{},{ref:n}))),l){var g;return(g=l(d,P(P({mode:i},c),{},{ref:n}),m))!==null&&g!==void 0?g:null}return m}return null};const v4=je.forwardRef(Pxe);var Axe=rY,Oxe=A$;function Nxe(t,e,n){(n!==void 0&&!Oxe(t[e],n)||n===void 0&&!(e in t))&&Axe(t,e,n)}var N9=Nxe,Mxe=O$,Ixe=iY;function Dxe(t){return Ixe(t)&&Mxe(t)}var Lxe=Dxe;function kxe(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var M9=kxe,$xe=oY,Fxe=N$;function jxe(t){return $xe(t,Fxe(t))}var Bxe=jxe,m4=N9,zxe=aY,Hxe=sY,Uxe=lY,Gxe=uY,g4=cY,y4=M$,Wxe=Lxe,Vxe=dY,Xxe=fY,Kxe=_w,Yxe=hY,qxe=pY,b4=M9,Zxe=Bxe;function Jxe(t,e,n,r,i,o,a){var s=b4(t,n),l=b4(e,n),u=a.get(l);if(u){m4(t,n,u);return}var c=o?o(s,l,n+"",t,e,a):void 0,d=c===void 0;if(d){var f=y4(l),h=!f&&Vxe(l),v=!f&&!h&&qxe(l);c=l,f||h||v?y4(s)?c=s:Wxe(s)?c=Uxe(s):h?(d=!1,c=zxe(l,!0)):v?(d=!1,c=Hxe(l,!0)):c=[]:Yxe(l)||g4(l)?(c=s,g4(s)?c=Zxe(s):(!Kxe(s)||Xxe(s))&&(c=Gxe(l))):d=!1}d&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),m4(t,n,c)}var Qxe=Jxe,e_e=vY,t_e=N9,n_e=mY,r_e=Qxe,i_e=_w,o_e=N$,a_e=M9;function I9(t,e,n,r,i){t!==e&&n_e(e,function(o,a){if(i||(i=new e_e),i_e(o))r_e(t,e,a,n,I9,r,i);else{var s=r?r(a_e(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),t_e(t,a,s)}},o_e)}var s_e=I9;function l_e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var u_e=l_e,c_e=u_e,x4=Math.max;function d_e(t,e,n){return e=x4(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=x4(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),c_e(t,this,s)}}var f_e=d_e;function h_e(t){return function(){return t}}var p_e=h_e,v_e=p_e,_4=gY,m_e=I$,g_e=_4?function(t,e){return _4(t,"toString",{configurable:!0,enumerable:!1,value:v_e(e),writable:!0})}:m_e,y_e=g_e,b_e=800,x_e=16,S_e=Date.now;function w_e(t){var e=0,n=0;return function(){var r=S_e(),i=x_e-(r-n);if(n=r,i>0){if(++e>=b_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var E_e=w_e,C_e=y_e,T_e=E_e,R_e=T_e(C_e),P_e=R_e,A_e=I$,O_e=f_e,N_e=P_e;function M_e(t,e){return N_e(O_e(t,e,A_e),t+"")}var I_e=M_e,D_e=A$,L_e=O$,k_e=yY,$_e=_w;function F_e(t,e,n){if(!$_e(n))return!1;var r=typeof e;return(r=="number"?L_e(n)&&k_e(e,n.length):r=="string"&&e in n)?D_e(n[e],t):!1}var j_e=F_e,B_e=I_e,z_e=j_e;function H_e(t){return B_e(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&z_e(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}var U_e=H_e,G_e=s_e,W_e=U_e,V_e=W_e(function(t,e,n){G_e(t,e,n)}),X_e=V_e;const K_e=Ua(X_e);var Y_e=function(e,n,r,i,o){var a=o.clientWidth,s=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(o.getBoundingClientRect().left+window.pageXOffset),d=u-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var f;if(d<0?f=0:d>s?f=1:f=Math.round(d*100/s)/100,n.a!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}else{var h;if(c<0?h=0:c>a?h=1:h=Math.round(c*100/a)/100,i!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}return null},S2={},q_e=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var a=o.getContext("2d");return a?(a.fillStyle=e,a.fillRect(0,0,o.width,o.height),a.fillStyle=n,a.fillRect(0,0,r,r),a.translate(r,r),a.fillRect(0,0,r,r),o.toDataURL()):null},Z_e=function(e,n,r,i){var o="".concat(e,"-").concat(n,"-").concat(r).concat(i?"-server":"");if(S2[o])return S2[o];var a=q_e(e,n,r,i);return S2[o]=a,a};function hb(t){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(t)}function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){J_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J_e(t,e,n){return e=Q_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q_e(t){var e=eSe(t,"string");return hb(e)==="symbol"?e:String(e)}function eSe(t,e){if(hb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aE=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,a=e.borderRadius,s=e.boxShadow,l=e.children,u=oh({default:{grid:{borderRadius:a,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url(".concat(Z_e(n,r,i,o.canvas),") center left")}}});return y.isValidElement(l)?je.cloneElement(l,kx(kx({},l.props),{},{style:kx(kx({},l.props.style),u.grid)})):je.createElement("div",{style:u.grid})};aE.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tSe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){nSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nSe(t,e,n){return e=D9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D9(r.key),r)}}function oSe(t,e,n){return e&&iSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D9(t){var e=aSe(t,"string");return Gm(e)==="symbol"?e:String(e)}function aSe(t,e){if(Gm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HR(t,e)}function HR(t,e){return HR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HR(t,e)}function lSe(t){var e=dSe();return function(){var r=RS(t),i;if(e){var o=RS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return uSe(this,i)}}function uSe(t,e){if(e&&(Gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cSe(t)}function cSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RS(t){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RS(t)}var fSe=function(t){sSe(n,t);var e=lSe(n);function n(){var r;rSe(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.handleChange=function(s){var l=Y_e(s,r.props.hsl,r.props.direction,r.props.a,r.container);l&&typeof r.props.onChange=="function"&&r.props.onChange(l,s)},r.handleMouseDown=function(s){r.handleChange(s),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},r}return oSe(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var i=this,o=this.props.rgb,a=oh({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba(".concat(o.r,",").concat(o.g,",").concat(o.b,`, 0) 0%,
           rgba(`).concat(o.r,",").concat(o.g,",").concat(o.b,", 1) 100%)"),boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:"".concat(o.a*100,"%")},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba(".concat(o.r,",").concat(o.g,",").concat(o.b,`, 0) 0%,
           rgba(`).concat(o.r,",").concat(o.g,",").concat(o.b,", 1) 100%)")},pointer:{left:0,top:"".concat(o.a*100,"%")}},overwrite:tSe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return je.createElement("div",{style:a.alpha},je.createElement("div",{style:a.checkboard},je.createElement(aE,{renderers:this.props.renderers})),je.createElement("div",{style:a.gradient}),je.createElement("div",{style:a.container,ref:function(l){return i.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},je.createElement("div",{style:a.pointer},this.props.pointer?je.createElement(this.props.pointer,this.props):je.createElement("div",{style:a.slider}))))}}]),n}(y.PureComponent||y.Component),hSe=function(e,n,r,i){var o=i.clientWidth,a=i.clientHeight,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d;if(c<0)d=359;else if(c>a)d=0;else{var f=-(c*100/a)+100;d=360*f/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var h;if(u<0)h=0;else if(u>o)h=359;else{var v=u*100/o;h=360*v/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null};function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function pSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gSe(r.key),r)}}function mSe(t,e,n){return e&&vSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gSe(t){var e=ySe(t,"string");return Wm(e)==="symbol"?e:String(e)}function ySe(t,e){if(Wm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UR(t,e)}function UR(t,e){return UR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UR(t,e)}function xSe(t){var e=wSe();return function(){var r=PS(t),i;if(e){var o=PS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _Se(this,i)}}function _Se(t,e){if(e&&(Wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SSe(t)}function SSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function PS(t){return PS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PS(t)}var ESe=function(t){bSe(n,t);var e=xSe(n);function n(){var r;pSe(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.handleChange=function(s){var l=hSe(s,r.props.direction,r.props.hsl,r.container);l&&typeof r.props.onChange=="function"&&r.props.onChange(l,s)},r.handleMouseDown=function(s){r.handleChange(s),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r}return mSe(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,o=this.props.direction,a=o===void 0?"horizontal":o,s=oh({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:"".concat(this.props.hsl.h*100/360,"%")},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:"".concat(-(this.props.hsl.h*100/360)+100,"%")}}},{vertical:a==="vertical"});return je.createElement("div",{style:s.hue},je.createElement("div",{className:"hue-".concat(a),style:s.container,ref:function(u){return i.container=u},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},je.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),je.createElement("div",{style:s.pointer},this.props.pointer?je.createElement(this.props.pointer,this.props):je.createElement("div",{style:s.slider}))))}}]),n}(y.PureComponent||y.Component),CSe=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,a=i.height,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o&&(u=o),c<0?c=0:c>a&&(c=a);var d=u/o,f=1-c/a;return{h:n.h,s:d,v:f,a:n.a,source:"hsv"}};function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function TSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ASe(r.key),r)}}function PSe(t,e,n){return e&&RSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ASe(t){var e=OSe(t,"string");return Vm(e)==="symbol"?e:String(e)}function OSe(t,e){if(Vm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GR(t,e)}function GR(t,e){return GR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GR(t,e)}function MSe(t){var e=LSe();return function(){var r=AS(t),i;if(e){var o=AS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ISe(this,i)}}function ISe(t,e){if(e&&(Vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DSe(t)}function DSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AS(t){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AS(t)}var kSe=function(t){NSe(n,t);var e=MSe(n);function n(r){var i;return TSe(this,n),i=e.call(this,r),i.handleChange=function(o){typeof i.props.onChange=="function"&&i.throttle(i.props.onChange,CSe(o,i.props.hsl,i.container),o)},i.handleMouseDown=function(o){i.handleChange(o);var a=i.getContainerRenderWindow();a.addEventListener("mousemove",i.handleChange),a.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.throttle=t9(function(o,a,s){o(a,s)},50),i}return PSe(n,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var i=this.container,o=window;!o.document.contains(i)&&o.parent!==o;)o=o.parent;return o}},{key:"unbindEventListeners",value:function(){var i=this.getContainerRenderWindow();i.removeEventListener("mousemove",this.handleChange),i.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,o=this.props.style||{},a=o.color,s=o.white,l=o.black,u=o.pointer,c=o.circle,d=oh({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl(".concat(this.props.hsl.h,",100%, 50%)"),borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:"".concat(-(this.props.hsv.v*100)+100,"%"),left:"".concat(this.props.hsv.s*100,"%"),cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:a,white:s,black:l,pointer:u,circle:c}},{custom:!!this.props.style});return je.createElement("div",{style:d.color,ref:function(h){return i.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},je.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),je.createElement("div",{style:d.white,className:"saturation-white"},je.createElement("div",{style:d.black,className:"saturation-black"}),je.createElement("div",{style:d.pointer},this.props.pointer?je.createElement(this.props.pointer,this.props):je.createElement("div",{style:d.circle}))))}}]),n}(y.PureComponent||y.Component),$Se=xY,FSe=_Y,jSe=bY,BSe=M$;function zSe(t,e){var n=BSe(t)?$Se:FSe;return n(t,jSe(e))}var HSe=zSe,USe=HSe;const GSe=Ua(USe);var E4=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return GSe(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var a=/^\d+%$/;a.test(e[o])&&(i+=1)}}),r===i?e:!1},$x=function(e,n){var r=e.hex?mT(e.hex):mT(e),i=r.toHsl(),o=r.toHsv(),a=r.toRgb(),s=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=s==="000000"&&a.a===0;return{hsl:i,hex:l?"transparent":"#".concat(s),rgb:a,hsv:o,oldHue:e.h||n||i.h,source:e.source}},WSe=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&mT(e).isValid()};function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function WR(){return WR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WR.apply(this,arguments)}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){VSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VSe(t,e,n){return e=L9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L9(r.key),r)}}function KSe(t,e,n){return e&&T4(t.prototype,e),n&&T4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L9(t){var e=YSe(t,"string");return Xm(e)==="symbol"?e:String(e)}function YSe(t,e){if(Xm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VR(t,e)}function VR(t,e){return VR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VR(t,e)}function ZSe(t){var e=ewe();return function(){var r=OS(t),i;if(e){var o=OS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return JSe(this,i)}}function JSe(t,e){if(e&&(Xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QSe(t)}function QSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ewe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function OS(t){return OS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OS(t)}var twe=function(e){var n=function(r){qSe(o,r);var i=ZSe(o);function o(a){var s;return XSe(this,o),s=i.call(this),s.handleChange=function(l,u){var c=E4(l);if(c){var d=$x(l,l.h||s.state.oldHue);s.setState(d),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,d,u),s.props.onChange&&s.props.onChange(d,u)}},s.handleSwatchHover=function(l,u){var c=E4(l);if(c){var d=$x(l,l.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(d,u)}},s.state=T0({},$x(a.color,0)),s.debounce=SY(function(l,u,c){l(u,c)},100),s}return KSe(o,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),je.createElement(e,WR({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,l){return T0({},$x(s.color,l.oldHue))}}]),o}(y.PureComponent||y.Component);return n.propTypes=T0({},e.propTypes),n.defaultProps=T0(T0({},e.defaultProps),{},{color:{h:250,s:.5,l:.2,a:1}}),n};function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function nwe(t,e,n){return e=k9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k9(r.key),r)}}function owe(t,e,n){return e&&iwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k9(t){var e=awe(t,"string");return Km(e)==="symbol"?e:String(e)}function awe(t,e){if(Km(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Km(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function swe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XR(t,e)}function XR(t,e){return XR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XR(t,e)}function lwe(t){var e=dwe();return function(){var r=NS(t),i;if(e){var o=NS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return uwe(this,i)}}function uwe(t,e){if(e&&(Km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cwe(t)}function cwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function NS(t){return NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},NS(t)}var fwe=1,$9=38,hwe=40,pwe=[$9,hwe],vwe=function(e){return pwe.indexOf(e)>-1},mwe=function(e){return Number(String(e).replace(/%/g,""))},gwe=1,R0=function(t){swe(n,t);var e=lwe(n);function n(r){var i;return rwe(this,n),i=e.call(this),i.handleBlur=function(){i.state.blurValue&&i.setState({value:i.state.blurValue,blurValue:null})},i.handleChange=function(o){i.setUpdatedValue(o.target.value,o)},i.handleKeyDown=function(o){var a=mwe(o.target.value);if(!isNaN(a)&&vwe(o.keyCode)){var s=i.getArrowOffset(),l=o.keyCode===$9?a+s:a-s;i.setUpdatedValue(l,o)}},i.handleDrag=function(o){if(i.props.dragLabel){var a=Math.round(i.props.value+o.movementX);a>=0&&a<=i.props.dragMax&&i.props.onChange&&i.props.onChange(i.getValueObjectWithLabel(a),o)}},i.handleMouseDown=function(o){i.props.dragLabel&&(o.preventDefault(),i.handleDrag(o),window.addEventListener("mousemove",i.handleDrag),window.addEventListener("mouseup",i.handleMouseUp))},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleDrag),window.removeEventListener("mouseup",i.handleMouseUp)},i.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},i.inputId="rc-editable-input-".concat(gwe++),i}return owe(n,[{key:"componentDidUpdate",value:function(i,o){this.props.value!==this.state.value&&(i.value!==this.props.value||o.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(i){return nwe({},this.props.label,i)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||fwe}},{key:"setUpdatedValue",value:function(i,o){var a=this.props.label?this.getValueObjectWithLabel(i):i;this.props.onChange&&this.props.onChange(a,o),this.setState({value:i})}},{key:"render",value:function(){var i=this,o=oh({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return je.createElement("div",{style:o.wrap},je.createElement("input",{id:this.inputId,style:o.input,ref:function(s){return i.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?je.createElement("label",{htmlFor:this.inputId,style:o.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),n}(y.PureComponent||y.Component);function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function KR(){return KR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KR.apply(this,arguments)}function ywe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_we(r.key),r)}}function xwe(t,e,n){return e&&bwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _we(t){var e=Swe(t,"string");return Ym(e)==="symbol"?e:String(e)}function Swe(t,e){if(Ym(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ym(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YR(t,e)}function YR(t,e){return YR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YR(t,e)}function Ewe(t){var e=Rwe();return function(){var r=MS(t),i;if(e){var o=MS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Cwe(this,i)}}function Cwe(t,e){if(e&&(Ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Twe(t)}function Twe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function MS(t){return MS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},MS(t)}var Pwe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){wwe(o,r);var i=Ewe(o);function o(){var a;ywe(this,o);for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=i.call.apply(i,[this].concat(l)),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},a}return xwe(o,[{key:"render",value:function(){return je.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},je.createElement(e,KR({},this.props,this.state)))}}]),o}(je.Component)};function pb(t){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(t)}function qR(){return qR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qR.apply(this,arguments)}function R4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(n),!0).forEach(function(r){Awe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Awe(t,e,n){return e=Owe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Owe(t){var e=Nwe(t,"string");return pb(e)==="symbol"?e:String(e)}function Nwe(t,e){if(pb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mwe=13,Iwe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,a=e.onHover,s=e.title,l=s===void 0?n:s,u=e.children,c=e.focus,d=e.focusStyle,f=d===void 0?{}:d,h=n==="transparent",v=oh({default:{swatch:P4(P4({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r),c?f:{})}}),m=function(S){return o(n,S)},g=function(S){return S.keyCode===Mwe&&o(n,S)},x=function(S){return a(n,S)},_={};return a&&(_.onMouseOver=x),je.createElement("div",qR({style:v.swatch,onClick:m,title:l,tabIndex:0,onKeyDown:g},_),u,h&&je.createElement(aE,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Dwe=Pwe(Iwe);var Lwe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,a=e.disableAlpha,s=oh({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),l=function(c,d){c.hex?WSe(c.hex)&&(n==null||n({hex:c.hex,source:"hex"},d)):c.r||c.g||c.b?n==null||n({r:c.r||(r==null?void 0:r.r),g:c.g||(r==null?void 0:r.g),b:c.b||(r==null?void 0:r.b),a:r==null?void 0:r.a,source:"rgb"},d):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n==null||n({h:i==null?void 0:i.h,s:i==null?void 0:i.s,l:i==null?void 0:i.l,a:c.a,source:"rgb"},d))};return je.createElement("div",{style:s.fields,className:"flexbox-fix"},je.createElement("div",{style:s.double},je.createElement(R0,{style:{input:s.input,label:s.label},label:"hex",value:o==null?void 0:o.replace("#",""),onChange:l})),je.createElement("div",{style:s.single},je.createElement(R0,{style:{input:s.input,label:s.label},label:"r",value:r==null?void 0:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),je.createElement("div",{style:s.single},je.createElement(R0,{style:{input:s.input,label:s.label},label:"g",value:r==null?void 0:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),je.createElement("div",{style:s.single},je.createElement(R0,{style:{input:s.input,label:s.label},label:"b",value:r==null?void 0:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),je.createElement("div",{style:s.alpha},je.createElement(R0,{style:{input:s.input,label:s.label},label:"a",value:Math.round(((r==null?void 0:r.a)||0)*100),onChange:l,dragLabel:"true",dragMax:"100"})))};function vb(t){"@babel/helpers - typeof";return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){kwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kwe(t,e,n){return e=$we(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $we(t){var e=Fwe(t,"string");return vb(e)==="symbol"?e:String(e)}function Fwe(t,e){if(vb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jwe=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,a={colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{msBorderRadius:"3px",MozBorderRadius:"3px",OBorderRadius:"3px",WebkitBorderRadius:"3px",borderRadius:"3px",msBoxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)",MozBoxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)",OBoxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)",WebkitBoxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},s=function(u,c){i==null||i({hex:u,source:"hex"},c)};return je.createElement("div",{style:a.colors,className:"flexbox-fix"},n==null?void 0:n.map(function(l){var u=typeof l=="string"?{color:l,title:void 0}:l,c="".concat(u.color).concat((u==null?void 0:u.title)||"");return je.createElement("div",{key:c,style:a.swatchWrap},je.createElement(Dwe,O4(O4({},u),{},{style:a.swatch,onClick:s,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px ".concat(u.color)}})))}))};function mb(t){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mb(t)}function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bwe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(r){zwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zwe(t,e,n){return e=Hwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hwe(t){var e=Uwe(t,"string");return mb(e)==="symbol"?e:String(e)}function Uwe(t,e){if(mb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F9=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,a=e.hsl,s=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,d=e.renderers,f=e.styles,h=f===void 0?{}:f,v=e.className,m=v===void 0?"":v,g=oh(K_e({default:Bwe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba(".concat(r.r,",").concat(r.g,",").concat(r.b,",").concat(r.a,")"),boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},h),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},h),{disableAlpha:u});return je.createElement("div",{style:g.picker,className:"sketch-picker ".concat(m)},je.createElement("div",{style:g.saturation},je.createElement(kSe,{style:g.Saturation,hsl:a,hsv:o,onChange:s})),je.createElement("div",{style:g.controls,className:"flexbox-fix"},je.createElement("div",{style:g.sliders},je.createElement("div",{style:g.hue},je.createElement(ESe,{style:g.Hue,hsl:a,onChange:s})),je.createElement("div",{style:g.alpha},je.createElement(fSe,{style:g.Alpha,rgb:r,hsl:a,renderers:d,onChange:s}))),je.createElement("div",{style:g.color},je.createElement(aE,null),je.createElement("div",{style:g.activeColor}))),je.createElement(Lwe,{rgb:r,hsl:a,hex:i,onChange:s,disableAlpha:u}),je.createElement(jwe,{colors:c,onClick:s,onSwatchHover:l}))};F9.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var Gwe=twe(F9),Wwe=["mode","popoverProps"],Vwe=["#FF9D4E","#5BD8A6","#5B8FF9","#F7664E","#FF86B7","#2B9E9D","#9270CA","#6DC8EC","#667796","#F6BD16"],Xwe=je.forwardRef(function(t,e){var n=t.mode,r=t.popoverProps,i=Nn(t,Wwe),o=y.useContext(Qn.ConfigContext),a=o.getPrefixCls,s=a("pro-field-color-picker"),l=Ps.useToken(),u=l.token,c=Gr("#1890ff",{value:i.value,onChange:i.onChange}),d=ht(c,2),f=d[0],h=d[1],v=Qi("ProFiledColorPicker"+f,function(){return J({},".".concat(s),{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",border:"1px solid ".concat(u.colorSplit),borderRadius:u.borderRadius,"&:hover":{borderColor:f}})}),m=v.wrapSSR,g=v.hashId,x=m(E.jsx("div",{className:"".concat(s," ").concat(g).trim(),style:{cursor:i.disabled?"not-allowed":"pointer",backgroundColor:i.disabled?u.colorBgContainerDisabled:u.colorBgContainer},children:E.jsx("div",{style:{backgroundColor:f,width:24,boxSizing:"border-box",height:24,borderRadius:u.borderRadius}})}));return y.useImperativeHandle(e,function(){}),n==="read"||i.disabled?x:E.jsx(Dd,P(P({trigger:"click",placement:"right"},r),{},{content:E.jsx("div",{style:{margin:"-12px -16px"},children:E.jsx(Gwe,P(P({},i),{},{presetColors:i.colors||i.presetColors||Vwe,color:f,onChange:function(w){var S=w.hex,C=w.rgb,O=C.r,T=C.g,N=C.b,M=C.a;if(M&&M<1){h("rgba(".concat(O,", ").concat(T,", ").concat(N,", ").concat(M,")"));return}h(S)}}))}),children:x}))}),Kwe={label:"Recommended",colors:["#F5222D","#FA8C16","#FADB14","#8BBB11","#52C41A","#13A8A8","#1677FF","#2F54EB","#722ED1","#EB2F96","#F5222D4D","#FA8C164D","#FADB144D","#8BBB114D","#52C41A4D","#13A8A84D","#1677FF4D","#2F54EB4D","#722ED14D","#EB2F964D"]};function j9(){return zp(Uf,"5.5.0")>-1}function Ywe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(typeof t>"u"||t===!1)&&j9()?wY:Xwe}var qwe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.renderFormItem,s=e.fieldProps,l=e.old,u=y.useContext(Qn.ConfigContext),c=u.getPrefixCls,d=je.useMemo(function(){return Ywe(l)},[l]),f=c("pro-field-color-picker"),h=y.useMemo(function(){return l?"":rt(J({},f,j9()))},[f,l]);if(i==="read"){var v=E.jsx(d,{value:r,mode:"read",ref:n,className:h,open:!1});return o?o(r,P({mode:i},s),v):v}if(i==="edit"||i==="update"){var m=P({display:"table-cell"},s.style),g=E.jsx(d,P(P({ref:n,presets:[Kwe]},s),{},{style:m,className:h}));return a?a(r,P(P({mode:i},s),{},{style:m}),g):g}return null};const Zwe=je.forwardRef(qwe);xi.extend(D$);var Jwe=function(e,n){return e?typeof n=="function"?n(xi(e)):xi(e).format((Array.isArray(n)?n[0]:n)||"YYYY-MM-DD"):"-"},Qwe=function(e,n){var r=e.text,i=e.mode,o=e.format,a=e.label,s=e.light,l=e.render,u=e.renderFormItem,c=e.plain,d=e.showTime,f=e.fieldProps,h=e.picker,v=e.bordered,m=e.lightLabel,g=oi(),x=y.useState(!1),_=ht(x,2),w=_[0],S=_[1];if(i==="read"){var C=Jwe(r,f.format||o);return l?l(r,P({mode:i},f),E.jsx(E.Fragment,{children:C})):E.jsx(E.Fragment,{children:C})}if(i==="edit"||i==="update"){var O,T=f.disabled,N=f.value,M=f.placeholder,D=M===void 0?g.getMessage("tableForm.selectPlaceholder","请选择"):M,F=Xb(N);return s?O=E.jsx(Cc,{label:a,onClick:function(){var R;f==null||(R=f.onOpenChange)===null||R===void 0||R.call(f,!0),S(!0)},style:F?{paddingInlineEnd:0}:void 0,disabled:T,value:F||w?E.jsx(Rm,P(P(P({picker:h,showTime:d,format:o,ref:n},f),{},{value:F,onOpenChange:function(R){var I;S(R),f==null||(I=f.onOpenChange)===null||I===void 0||I.call(f,R)}},il(!1)),{},{open:w})):void 0,allowClear:!1,downIcon:F||w?!1:void 0,bordered:v,ref:m}):O=E.jsx(Rm,P(P(P({picker:h,showTime:d,format:o,placeholder:D},il(c===void 0?!0:!c)),{},{ref:n},f),{},{value:F})),u?u(r,P({mode:i},f),O):O}return null};const Bv=je.forwardRef(Qwe);var eEe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.placeholder,s=e.renderFormItem,l=e.fieldProps,u=oi(),c=a||u.getMessage("tableForm.inputPlaceholder","请输入"),d=y.useCallback(function(x){var _=x??void 0;return!l.stringMode&&typeof _=="string"&&(_=Number(_)),typeof _=="number"&&!Zf(_)&&!Zf(l.precision)&&(_=Number(_.toFixed(l.precision))),_},[l]);if(i==="read"){var f,h={};l!=null&&l.precision&&(h={minimumFractionDigits:Number(l.precision),maximumFractionDigits:Number(l.precision)});var v=new Intl.NumberFormat(void 0,P(P({},h),(l==null?void 0:l.intlProps)||{})).format(Number(r)),m=l!=null&&l.stringMode?E.jsx("span",{children:r}):E.jsx("span",{ref:n,children:(l==null||(f=l.formatter)===null||f===void 0?void 0:f.call(l,v))||v});return o?o(r,P({mode:i},l),m):m}if(i==="edit"||i==="update"){var g=E.jsx(bp,P(P({ref:n,min:0,placeholder:c},Co(l,["onChange","onBlur"])),{},{onChange:function(_){var w;return l==null||(w=l.onChange)===null||w===void 0?void 0:w.call(l,d(_))},onBlur:function(_){var w;return l==null||(w=l.onBlur)===null||w===void 0?void 0:w.call(l,d(_.target.value))}}));return s?s(r,P({mode:i},l),g):g}return null};const tEe=je.forwardRef(eEe);var nEe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.placeholder,s=e.renderFormItem,l=e.fieldProps,u=e.separator,c=u===void 0?"~":u,d=e.separatorWidth,f=d===void 0?30:d,h=l.value,v=l.defaultValue,m=l.onChange,g=l.id,x=oi(),_=Ps.useToken(),w=_.token,S=Gr(function(){return v},{value:h,onChange:m}),C=ht(S,2),O=C[0],T=C[1];if(i==="read"){var N=function(q){var X,z=new Intl.NumberFormat(void 0,P({minimumSignificantDigits:2},(l==null?void 0:l.intlProps)||{})).format(Number(q));return(l==null||(X=l.formatter)===null||X===void 0?void 0:X.call(l,z))||z},M=E.jsxs("span",{ref:n,children:[N(r[0])," ",c," ",N(r[1])]});return o?o(r,P({mode:i},l),M):M}if(i==="edit"||i==="update"){var D=function(){if(Array.isArray(O)){var q=ht(O,2),X=q[0],z=q[1];typeof X=="number"&&typeof z=="number"&&X>z?T([z,X]):X===void 0&&z===void 0&&T(void 0)}},F=function(q,X){var z=_n(O||[]);z[q]=X===null?void 0:X,T(z)},j=(l==null?void 0:l.placeholder)||a||[x.getMessage("tableForm.inputPlaceholder","请输入"),x.getMessage("tableForm.inputPlaceholder","请输入")],R=function(q){return Array.isArray(j)?j[q]:j},I=Tu.Compact||mo.Group,L=Tu.Compact?{}:{compact:!0},k=E.jsxs(I,P(P({},L),{},{onBlur:D,children:[E.jsx(bp,P(P({},l),{},{placeholder:R(0),id:g??"".concat(g,"-0"),style:{width:"calc((100% - ".concat(f,"px) / 2)")},value:O==null?void 0:O[0],defaultValue:v==null?void 0:v[0],onChange:function(q){return F(0,q)}})),E.jsx(mo,{style:{width:f,textAlign:"center",borderInlineStart:0,borderInlineEnd:0,pointerEvents:"none",backgroundColor:w==null?void 0:w.colorBgContainer},placeholder:c,disabled:!0}),E.jsx(bp,P(P({},l),{},{placeholder:R(1),id:g??"".concat(g,"-1"),style:{width:"calc((100% - ".concat(f,"px) / 2)"),borderInlineStart:0},value:O==null?void 0:O[1],defaultValue:v==null?void 0:v[1],onChange:function(q){return F(1,q)}}))]}));return s?s(r,P({mode:i},l),k):k}return null};const rEe=je.forwardRef(nEe);var B9={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ra,function(){return function(n,r,i){n=n||{};var o=r.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(u,c,d,f){return o.fromToBase(u,c,d,f)}i.en.relativeTime=a,o.fromToBase=function(u,c,d,f,h){for(var v,m,g,x=d.$locale().relativeTime||a,_=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],w=_.length,S=0;S<w;S+=1){var C=_[S];C.d&&(v=f?i(u).diff(d,C.d,!0):d.diff(u,C.d,!0));var O=(n.rounding||Math.round)(Math.abs(v));if(g=v>0,O<=C.r||!C.r){O<=1&&S>0&&(C=_[S-1]);var T=x[C.l];h&&(O=h(""+O)),m=typeof T=="string"?T.replace("%d",O):T(O,c,C.l,g);break}}if(c)return m;var N=g?x.future:x.past;return typeof N=="function"?N(m):N.replace("%s",m)},o.to=function(u,c){return s(u,c,this,!0)},o.from=function(u,c){return s(u,c,this)};var l=function(u){return u.$u?i.utc():i()};o.toNow=function(u){return this.to(l(this),u)},o.fromNow=function(u){return this.from(l(this),u)}}})})(B9);var iEe=B9.exports;const oEe=Ua(iEe);xi.extend(oEe);var aEe=function(e,n){var r=e.text,i=e.mode,o=e.plain,a=e.render,s=e.renderFormItem,l=e.format,u=e.fieldProps,c=oi();if(i==="read"){var d=E.jsx(wi,{title:xi(r).format((u==null?void 0:u.format)||l||"YYYY-MM-DD HH:mm:ss"),children:xi(r).fromNow()});return a?a(r,P({mode:i},u),E.jsx(E.Fragment,{children:d})):E.jsx(E.Fragment,{children:d})}if(i==="edit"||i==="update"){var f=c.getMessage("tableForm.selectPlaceholder","请选择"),h=Xb(u.value),v=E.jsx(Rm,P(P(P({ref:n,placeholder:f,showTime:!0},il(o===void 0?!0:!o)),u),{},{value:h}));return s?s(r,P({mode:i},u),v):v}return null};const sEe=je.forwardRef(aEe);var z9=je.forwardRef(function(t,e){var n=t.text,r=t.mode,i=t.render,o=t.renderFormItem,a=t.fieldProps,s=t.placeholder,l=t.width,u=oi(),c=s||u.getMessage("tableForm.inputPlaceholder","请输入");if(r==="read"){var d=E.jsx(EY,P({ref:e,width:l||32,src:n},a));return i?i(n,P({mode:r},a),d):d}if(r==="edit"||r==="update"){var f=E.jsx(mo,P({ref:e,placeholder:c},a));return o?o(n,P({mode:r},a),f):f}return null}),lEe=function(e,n){var r=e.border,i=r===void 0?!1:r,o=e.children,a=y.useContext(Qn.ConfigContext),s=a.getPrefixCls,l=s("pro-field-index-column"),u=Qi("IndexColumn",function(){return J({},".".concat(l),{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"18px",height:"18px","&-border":{color:"#fff",fontSize:"12px",lineHeight:"12px",backgroundColor:"#314659",borderRadius:"9px","&.top-three":{backgroundColor:"#979797"}}})}),c=u.wrapSSR,d=u.hashId;return c(E.jsx("div",{ref:n,className:rt(l,d,J(J({},"".concat(l,"-border"),i),"top-three",o>3)),children:o}))};const M4=je.forwardRef(lEe);var uEe=["contentRender","numberFormatOptions","numberPopoverRender","open"],cEe=["text","mode","render","renderFormItem","fieldProps","proFieldKey","plain","valueEnum","placeholder","locale","customSymbol","numberFormatOptions","numberPopoverRender"],H9=new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY",style:"currency"}),dEe={style:"currency",currency:"USD"},fEe={style:"currency",currency:"RUB"},hEe={style:"currency",currency:"RSD"},pEe={style:"currency",currency:"MYR"},vEe={style:"currency",currency:"BRL"},mEe={default:H9,"zh-Hans-CN":{currency:"CNY",style:"currency"},"en-US":dEe,"ru-RU":fEe,"ms-MY":pEe,"sr-RS":hEe,"pt-BR":vEe},I4=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",a=n==null?void 0:n.toString().replaceAll(",","");if(typeof a=="string"){var s=Number(a);if(Number.isNaN(s))return a;a=s}if(!a&&a!==0)return"";var l=!1;try{l=e!==!1&&Intl.NumberFormat.supportedLocalesOf([e.replace("_","-")],{localeMatcher:"lookup"}).length>0}catch{}try{var u=new Intl.NumberFormat(l&&e!==!1&&(e==null?void 0:e.replace("_","-"))||"zh-Hans-CN",P(P({},mEe[e||"zh-Hans-CN"]||H9),{},{maximumFractionDigits:r},i)),c=u.format(a),d=function(x){var _=x.match(/\d+/);if(_){var w=_[0];return x.slice(x.indexOf(w))}else return x},f=d(c),h=c||"",v=ht(h,1),m=v[0];return["+","-"].includes(m)?"".concat(o||"").concat(m).concat(f):"".concat(o||"").concat(f)}catch{return a}},w2=2,gEe=je.forwardRef(function(t,e){var n=t.contentRender;t.numberFormatOptions,t.numberPopoverRender;var r=t.open,i=Nn(t,uEe),o=Gr(function(){return i.defaultValue},{value:i.value,onChange:i.onChange}),a=ht(o,2),s=a[0],l=a[1],u=n==null?void 0:n(P(P({},i),{},{value:s})),c=Wb(u?r:!1);return E.jsx(Dd,P(P({placement:"topLeft"},c),{},{trigger:["focus","click"],content:u,getPopupContainer:function(f){return(f==null?void 0:f.parentElement)||document.body},children:E.jsx(bp,P(P({ref:e},i),{},{value:s,onChange:l}))}))}),yEe=function(e,n){var r,i=e.text,o=e.mode,a=e.render,s=e.renderFormItem,l=e.fieldProps;e.proFieldKey,e.plain,e.valueEnum;var u=e.placeholder,c=e.locale,d=e.customSymbol,f=d===void 0?l.customSymbol:d,h=e.numberFormatOptions,v=h===void 0?l==null?void 0:l.numberFormatOptions:h,m=e.numberPopoverRender,g=m===void 0?(l==null?void 0:l.numberPopoverRender)||!1:m,x=Nn(e,cEe),_=(r=l==null?void 0:l.precision)!==null&&r!==void 0?r:w2,w=oi();c&&Ep[c]&&(w=Ep[c]);var S=u||w.getMessage("tableForm.inputPlaceholder","请输入"),C=y.useMemo(function(){if(f)return f;if(!(x.moneySymbol===!1||l.moneySymbol===!1))return w.getMessage("moneySymbol","¥")},[f,l.moneySymbol,w,x.moneySymbol]),O=y.useCallback(function(M){var D=new RegExp("\\B(?=(\\d{".concat(3+Math.max(_-w2,0),"})+(?!\\d))"),"g"),F=String(M).split("."),j=ht(F,2),R=j[0],I=j[1],L=R.replace(D,","),k="";return I&&_>0&&(k=".".concat(I.slice(0,_===void 0?w2:_))),"".concat(L).concat(k)},[_]);if(o==="read"){var T=E.jsx("span",{ref:n,children:I4(c||!1,i,_,v??l.numberFormatOptions,C)});return a?a(i,P({mode:o},l),T):T}if(o==="edit"||o==="update"){var N=E.jsx(gEe,P(P({contentRender:function(D){if(g===!1||!D.value)return null;var F=I4(C||c||!1,"".concat(O(D.value)),_,P(P({},v),{},{notation:"compact"}),C);return typeof g=="function"?g==null?void 0:g(D,F):F},ref:n,precision:_,formatter:function(D){return D&&C?"".concat(C," ").concat(O(D)):D==null?void 0:D.toString()},parser:function(D){return C&&D?D.replace(new RegExp("\\".concat(C,"\\s?|(,*)"),"g"),""):D},placeholder:S},Co(l,["numberFormatOptions","precision","numberPopoverRender","customSymbol","moneySymbol","visible","open"])),{},{onBlur:l.onBlur?function(M){var D,F=M.target.value;C&&F&&(F=F.replace(new RegExp("\\".concat(C,"\\s?|(,*)"),"g"),"")),(D=l.onBlur)===null||D===void 0||D.call(l,F)}:void 0}));return s?s(i,P({mode:o},l),N):N}return null};const U9=je.forwardRef(yEe);var D4=function(e){return e.map(function(n,r){var i;return je.isValidElement(n)?je.cloneElement(n,P(P({key:r},n==null?void 0:n.props),{},{style:P({},n==null||(i=n.props)===null||i===void 0?void 0:i.style)})):E.jsx(je.Fragment,{children:n},r)})},bEe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.fieldProps,s=y.useContext(Qn.ConfigContext),l=s.getPrefixCls,u=l("pro-field-option"),c=Ps.useToken(),d=c.token;if(y.useImperativeHandle(n,function(){return{}}),o){var f=o(r,P({mode:i},a),E.jsx(E.Fragment,{}));return!f||(f==null?void 0:f.length)<1||!Array.isArray(f)?null:E.jsx("div",{style:{display:"flex",gap:d.margin,alignItems:"center"},className:u,children:D4(f)})}return!r||!Array.isArray(r)?je.isValidElement(r)?r:null:E.jsx("div",{style:{display:"flex",gap:d.margin,alignItems:"center"},className:u,children:D4(r)})};const xEe=je.forwardRef(bEe);var _Ee=["text","mode","render","renderFormItem","fieldProps","proFieldKey"],SEe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.renderFormItem,s=e.fieldProps;e.proFieldKey;var l=Nn(e,_Ee),u=oi(),c=Gr(function(){return l.open||l.visible||!1},{value:l.open||l.visible,onChange:l.onOpenChange||l.onVisible}),d=ht(c,2),f=d[0],h=d[1];if(i==="read"){var v=E.jsx(E.Fragment,{children:"-"});return r&&(v=E.jsxs(Tu,{children:[E.jsx("span",{ref:n,children:f?r:"********"}),E.jsx("a",{onClick:function(){return h(!f)},children:f?E.jsx(CY,{}):E.jsx(TY,{})})]})),o?o(r,P({mode:i},s),v):v}if(i==="edit"||i==="update"){var m=E.jsx(mo.Password,P({placeholder:u.getMessage("tableForm.inputPlaceholder","请输入"),ref:n},s));return a?a(r,P({mode:i},s),m):m}return null};const wEe=je.forwardRef(SEe);function EEe(t){return t===0?null:t>0?"+":"-"}function CEe(t){return t===0?"#595959":t>0?"#ff4d4f":"#52c41a"}function TEe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return e>=0?t==null?void 0:t.toFixed(e):t}var REe=function(e,n){var r=e.text,i=e.prefix,o=e.precision,a=e.suffix,s=a===void 0?"%":a,l=e.mode,u=e.showColor,c=u===void 0?!1:u,d=e.render,f=e.renderFormItem,h=e.fieldProps,v=e.placeholder,m=e.showSymbol,g=oi(),x=v||g.getMessage("tableForm.inputPlaceholder","请输入"),_=y.useMemo(function(){return typeof r=="string"&&r.includes("%")?Ts(r.replace("%","")):Ts(r)},[r]),w=y.useMemo(function(){return typeof m=="function"?m==null?void 0:m(r):m},[m,r]);if(l==="read"){var S=c?{color:CEe(_)}:{},C=E.jsxs("span",{style:S,ref:n,children:[i&&E.jsx("span",{children:i}),w&&E.jsxs(y.Fragment,{children:[EEe(_)," "]}),TEe(Math.abs(_),o),s&&s]});return d?d(r,P(P({mode:l},h),{},{prefix:i,precision:o,showSymbol:w,suffix:s}),C):C}if(l==="edit"||l==="update"){var O=E.jsx(bp,P({ref:n,formatter:function(N){return N&&i?"".concat(i," ").concat(N).replace(/\B(?=(\d{3})+(?!\d)$)/g,","):N},parser:function(N){return N?N.replace(/.*\s|,/g,""):""},placeholder:x},h));return f?f(r,P({mode:l},h),O):O}return null};const G9=je.forwardRef(REe);function PEe(t){return t===100?"success":t<0?"exception":t<100?"active":"normal"}var AEe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.plain,s=e.renderFormItem,l=e.fieldProps,u=e.placeholder,c=oi(),d=u||c.getMessage("tableForm.inputPlaceholder","请输入"),f=y.useMemo(function(){return typeof r=="string"&&r.includes("%")?Ts(r.replace("%","")):Ts(r)},[r]);if(i==="read"){var h=E.jsx(u$,P({ref:n,size:"small",style:{minWidth:100,maxWidth:320},percent:f,steps:a?10:void 0,status:PEe(f)},l));return o?o(f,P({mode:i},l),h):h}if(i==="edit"||i==="update"){var v=E.jsx(bp,P({ref:n,placeholder:d},l));return s?s(r,P({mode:i},l),v):v}return null};const W9=je.forwardRef(AEe);var OEe=["radioType","renderFormItem","mode","render"],NEe=function(e,n){var r,i,o=e.radioType,a=e.renderFormItem,s=e.mode,l=e.render,u=Nn(e,OEe),c=y.useContext(Qn.ConfigContext),d=c.getPrefixCls,f=d("pro-field-radio"),h=Tg(u),v=ht(h,3),m=v[0],g=v[1],x=v[2],_=y.useRef(),w=(r=to.Item)===null||r===void 0||(i=r.useStatus)===null||i===void 0?void 0:i.call(r);y.useImperativeHandle(n,function(){return P(P({},_.current||{}),{},{fetchData:function(I){return x(I)}})},[x]);var S=Qi("FieldRadioRadio",function(R){return J(J(J({},".".concat(f,"-error"),{span:{color:R.colorError}}),".".concat(f,"-warning"),{span:{color:R.colorWarning}}),".".concat(f,"-vertical"),J({},"".concat(R.antCls,"-radio-wrapper"),{display:"flex",marginInlineEnd:0}))}),C=S.wrapSSR,O=S.hashId;if(m)return E.jsx(Ip,{size:"small"});if(s==="read"){var T=g!=null&&g.length?g==null?void 0:g.reduce(function(R,I){var L;return P(P({},R),{},J({},(L=I.value)!==null&&L!==void 0?L:"",I.label))},{}):void 0,N=E.jsx(E.Fragment,{children:wg(u.text,Bd(u.valueEnum||T))});if(l){var M;return(M=l(u.text,P({mode:s},u.fieldProps),N))!==null&&M!==void 0?M:null}return N}if(s==="edit"){var D,F=C(E.jsx(Sd.Group,P(P({ref:_,optionType:o},u.fieldProps),{},{className:rt((D=u.fieldProps)===null||D===void 0?void 0:D.className,J(J({},"".concat(f,"-error"),(w==null?void 0:w.status)==="error"),"".concat(f,"-warning"),(w==null?void 0:w.status)==="warning"),O,"".concat(f,"-").concat(u.fieldProps.layout||"horizontal")),options:g})));if(a){var j;return(j=a(u.text,P(P({mode:s},u.fieldProps),{},{options:g,loading:m}),F))!==null&&j!==void 0?j:null}return F}return null};const L4=je.forwardRef(NEe);var MEe=function(e,n){var r=e.text,i=e.mode,o=e.light,a=e.label,s=e.format,l=e.render,u=e.picker,c=e.renderFormItem,d=e.plain,f=e.showTime,h=e.lightLabel,v=e.bordered,m=e.fieldProps,g=oi(),x=Array.isArray(r)?r:[],_=ht(x,2),w=_[0],S=_[1],C=je.useState(!1),O=ht(C,2),T=O[0],N=O[1],M=y.useCallback(function(k){if(typeof(m==null?void 0:m.format)=="function"){var B;return m==null||(B=m.format)===null||B===void 0?void 0:B.call(m,k)}return(m==null?void 0:m.format)||s||"YYYY-MM-DD"},[m,s]),D=w?xi(w).format(M(xi(w))):"",F=S?xi(S).format(M(xi(S))):"";if(i==="read"){var j=E.jsxs("div",{ref:n,style:{display:"flex",flexWrap:"wrap",gap:8,alignItems:"center"},children:[E.jsx("div",{children:D||"-"}),E.jsx("div",{children:F||"-"})]});return l?l(r,P({mode:i},m),E.jsx("span",{children:j})):j}if(i==="edit"||i==="update"){var R=Xb(m.value),I;if(o){var L;I=E.jsx(Cc,{label:a,onClick:function(){var B;m==null||(B=m.onOpenChange)===null||B===void 0||B.call(m,!0),N(!0)},style:R?{paddingInlineEnd:0}:void 0,disabled:m.disabled,value:R||T?E.jsx(Rm.RangePicker,P(P(P({picker:u,showTime:f,format:s},il(!1)),m),{},{placeholder:(L=m.placeholder)!==null&&L!==void 0?L:[g.getMessage("tableForm.selectPlaceholder","请选择"),g.getMessage("tableForm.selectPlaceholder","请选择")],onClear:function(){var B;N(!1),m==null||(B=m.onClear)===null||B===void 0||B.call(m)},value:R,onOpenChange:function(B){var q;R&&N(B),m==null||(q=m.onOpenChange)===null||q===void 0||q.call(m,B)}})):null,allowClear:!1,bordered:v,ref:h,downIcon:R||T?!1:void 0})}else I=E.jsx(Rm.RangePicker,P(P(P({ref:n,format:s,showTime:f,placeholder:[g.getMessage("tableForm.selectPlaceholder","请选择"),g.getMessage("tableForm.selectPlaceholder","请选择")]},il(d===void 0?!0:!d)),m),{},{value:R}));return c?c(r,P({mode:i},m),I):I}return null};const zv=je.forwardRef(MEe);var IEe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.renderFormItem,s=e.fieldProps;if(i==="read"){var l=E.jsx($N,P(P({allowHalf:!0,disabled:!0,ref:n},s),{},{value:r}));return o?o(r,P({mode:i},s),E.jsx(E.Fragment,{children:l})):l}if(i==="edit"||i==="update"){var u=E.jsx($N,P({allowHalf:!0,ref:n},s));return a?a(r,P({mode:i},s),u):u}return null};const DEe=je.forwardRef(IEe);function LEe(t){var e=t,n="",r=!1;e<0&&(e=-e,r=!0);var i=Math.floor(e/(3600*24)),o=Math.floor(e/3600%24),a=Math.floor(e/60%60),s=Math.floor(e%60);return n="".concat(s,"秒"),a>0&&(n="".concat(a,"分钟").concat(n)),o>0&&(n="".concat(o,"小时").concat(n)),i>0&&(n="".concat(i,"天").concat(n)),r&&(n+="前"),n}var kEe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.renderFormItem,s=e.fieldProps,l=e.placeholder,u=oi(),c=l||u.getMessage("tableForm.inputPlaceholder","请输入");if(i==="read"){var d=LEe(Number(r)),f=E.jsx("span",{ref:n,children:d});return o?o(r,P({mode:i},s),f):f}if(i==="edit"||i==="update"){var h=E.jsx(bp,P({ref:n,min:0,style:{width:"100%"},placeholder:c},s));return a?a(r,P({mode:i},s),h):h}return null};const $Ee=je.forwardRef(kEe);var FEe=["mode","render","renderFormItem","fieldProps","emptyText"],jEe=function(e,n){var r=e.mode,i=e.render,o=e.renderFormItem,a=e.fieldProps,s=e.emptyText,l=s===void 0?"-":s,u=Nn(e,FEe),c=y.useRef(),d=Tg(e),f=ht(d,3),h=f[0],v=f[1],m=f[2];if(y.useImperativeHandle(n,function(){return P(P({},c.current||{}),{},{fetchData:function(C){return m(C)}})},[m]),h)return E.jsx(Ip,{size:"small"});if(r==="read"){var g=v!=null&&v.length?v==null?void 0:v.reduce(function(S,C){var O;return P(P({},S),{},J({},(O=C.value)!==null&&O!==void 0?O:"",C.label))},{}):void 0,x=E.jsx(E.Fragment,{children:wg(u.text,Bd(u.valueEnum||g))});if(i){var _;return(_=i(u.text,P({mode:r},a),E.jsx(E.Fragment,{children:x})))!==null&&_!==void 0?_:l}return x}if(r==="edit"||r==="update"){var w=E.jsx(RY,P(P({ref:c},Co(a||{},["allowClear"])),{},{options:v}));return o?o(u.text,P(P({mode:r},a),{},{options:v,loading:h}),w):w}return null};const BEe=je.forwardRef(jEe);var zEe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.renderFormItem,s=e.fieldProps;if(i==="read"){var l=r;return o?o(r,P({mode:i},s),E.jsx(E.Fragment,{children:l})):E.jsx(E.Fragment,{children:l})}if(i==="edit"||i==="update"){var u=E.jsx(PY,P(P({ref:n},s),{},{style:P({minWidth:120},s==null?void 0:s.style)}));return a?a(r,P({mode:i},s),u):u}return null};const HEe=je.forwardRef(zEe);var UEe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.light,s=e.label,l=e.renderFormItem,u=e.fieldProps,c=oi(),d=y.useMemo(function(){var g,x;return r==null||"".concat(r).length<1?"-":r?(g=u==null?void 0:u.checkedChildren)!==null&&g!==void 0?g:c.getMessage("switch.open","打开"):(x=u==null?void 0:u.unCheckedChildren)!==null&&x!==void 0?x:c.getMessage("switch.close","关闭")},[u==null?void 0:u.checkedChildren,u==null?void 0:u.unCheckedChildren,r]);if(i==="read")return o?o(r,P({mode:i},u),E.jsx(E.Fragment,{children:d})):d??"-";if(i==="edit"||i==="update"){var f,h=E.jsx(Fp,P(P({ref:n,size:a?"small":void 0},Co(u,["value"])),{},{checked:(f=u==null?void 0:u.checked)!==null&&f!==void 0?f:u==null?void 0:u.value}));if(a){var v=u.disabled,m=u.bordered;return E.jsx(Cc,{label:s,disabled:v,bordered:m,downIcon:!1,value:E.jsx("div",{style:{paddingLeft:8},children:h}),allowClear:!1})}return l?l(r,P({mode:i},u),h):h}return null};const GEe=je.forwardRef(UEe);var WEe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.renderFormItem,s=e.fieldProps,l=e.emptyText,u=l===void 0?"-":l,c=s||{},d=c.autoFocus,f=c.prefix,h=f===void 0?"":f,v=c.suffix,m=v===void 0?"":v,g=oi(),x=y.useRef();if(y.useImperativeHandle(n,function(){return x.current},[]),y.useEffect(function(){if(d){var O;(O=x.current)===null||O===void 0||O.focus()}},[d]),i==="read"){var _=E.jsxs(E.Fragment,{children:[h,r??u,m]});if(o){var w;return(w=o(r,P({mode:i},s),_))!==null&&w!==void 0?w:u}return _}if(i==="edit"||i==="update"){var S=g.getMessage("tableForm.inputPlaceholder","请输入"),C=E.jsx(mo,P({ref:x,placeholder:S,allowClear:!0},s));return a?a(r,P({mode:i},s),C):C}return null};const VEe=je.forwardRef(WEe);var XEe=function(e,n){var r=e.text,i=e.fieldProps,o=y.useContext(Qn.ConfigContext),a=o.getPrefixCls,s=a("pro-field-readonly"),l="".concat(s,"-textarea"),u=Qi("TextArea",function(){return J({},".".concat(l),{display:"inline-block",lineHeight:"1.5715",maxWidth:"100%",whiteSpace:"pre-wrap"})}),c=u.wrapSSR,d=u.hashId;return c(E.jsx("span",P(P({ref:n,className:rt(d,s,l)},R$(i,["autoSize","classNames","styles"])),{},{children:r??"-"})))};const KEe=je.forwardRef(XEe);var YEe=function(e,n){var r=e.text,i=e.mode,o=e.render,a=e.renderFormItem,s=e.fieldProps,l=oi();if(i==="read"){var u=E.jsx(KEe,P(P({},e),{},{ref:n}));return o?o(r,P({mode:i},Co(s,["showCount"])),u):u}if(i==="edit"||i==="update"){var c=E.jsx(mo.TextArea,P({ref:n,rows:3,onKeyPress:function(f){f.key==="Enter"&&f.stopPropagation()},placeholder:l.getMessage("tableForm.inputPlaceholder","请输入")},s));return a?a(r,P({mode:i},s),c):c}return null};const qEe=je.forwardRef(YEe);var ZEe=function(e,n){var r=e.text,i=e.mode,o=e.light,a=e.label,s=e.format,l=e.render,u=e.renderFormItem,c=e.plain,d=e.fieldProps,f=e.lightLabel,h=y.useState(!1),v=ht(h,2),m=v[0],g=v[1],x=oi(),_=(d==null?void 0:d.format)||s||"HH:mm:ss",w=xi.isDayjs(r)||typeof r=="number";if(i==="read"){var S=E.jsx("span",{ref:n,children:r?xi(r,w?void 0:_).format(_):"-"});return l?l(r,P({mode:i},d),E.jsx("span",{children:S})):S}if(i==="edit"||i==="update"){var C,O=d.disabled,T=d.value,N=Xb(T,_);if(o){var M;C=E.jsx(Cc,{onClick:function(){var F;d==null||(F=d.onOpenChange)===null||F===void 0||F.call(d,!0),g(!0)},style:N?{paddingInlineEnd:0}:void 0,label:a,disabled:O,value:N||m?E.jsx(gT,P(P(P({},il(!1)),{},{format:s,ref:n},d),{},{placeholder:(M=d.placeholder)!==null&&M!==void 0?M:x.getMessage("tableForm.selectPlaceholder","请选择"),value:N,onOpenChange:function(F){var j;g(F),d==null||(j=d.onOpenChange)===null||j===void 0||j.call(d,F)},open:m})):null,downIcon:N||m?!1:void 0,allowClear:!1,ref:f})}else C=E.jsx(Rm.TimePicker,P(P(P({ref:n,format:s},il(c===void 0?!0:!c)),d),{},{value:N}));return u?u(r,P({mode:i},d),C):C}return null},JEe=function(e,n){var r=e.text,i=e.light,o=e.label,a=e.mode,s=e.lightLabel,l=e.format,u=e.render,c=e.renderFormItem,d=e.plain,f=e.fieldProps,h=oi(),v=y.useState(!1),m=ht(v,2),g=m[0],x=m[1],_=(f==null?void 0:f.format)||l||"HH:mm:ss",w=Array.isArray(r)?r:[],S=ht(w,2),C=S[0],O=S[1],T=xi.isDayjs(C)||typeof C=="number",N=xi.isDayjs(O)||typeof O=="number",M=C?xi(C,T?void 0:_).format(_):"",D=O?xi(O,N?void 0:_).format(_):"";if(a==="read"){var F=E.jsxs("div",{ref:n,children:[E.jsx("div",{children:M||"-"}),E.jsx("div",{children:D||"-"})]});return u?u(r,P({mode:a},f),E.jsx("span",{children:F})):F}if(a==="edit"||a==="update"){var j=Xb(f.value,_),R;if(i){var I=f.disabled,L=f.placeholder,k=L===void 0?[h.getMessage("tableForm.selectPlaceholder","请选择"),h.getMessage("tableForm.selectPlaceholder","请选择")]:L;R=E.jsx(Cc,{onClick:function(){var q;f==null||(q=f.onOpenChange)===null||q===void 0||q.call(f,!0),x(!0)},style:j?{paddingInlineEnd:0}:void 0,label:o,disabled:I,placeholder:k,value:j||g?E.jsx(gT.RangePicker,P(P(P({},il(!1)),{},{format:l,ref:n},f),{},{placeholder:k,value:j,onOpenChange:function(q){var X;x(q),f==null||(X=f.onOpenChange)===null||X===void 0||X.call(f,q)},open:g})):null,downIcon:j||g?!1:void 0,allowClear:!1,ref:s})}else R=E.jsx(gT.RangePicker,P(P(P({ref:n,format:l},il(d===void 0?!0:!d)),f),{},{value:j}));return c?c(r,P({mode:a},f),R):R}return null},QEe=je.forwardRef(JEe);const eCe=je.forwardRef(ZEe);var tCe=["radioType","renderFormItem","mode","light","label","render"],nCe=["onSearch","onClear","onChange","onBlur","showSearch","autoClearSearchValue","treeData","fetchDataOnSearch","searchValue"],rCe=function(e,n){e.radioType;var r=e.renderFormItem,i=e.mode,o=e.light,a=e.label,s=e.render,l=Nn(e,tCe),u=y.useContext(Qn.ConfigContext),c=u.getPrefixCls,d=c("pro-field-tree-select"),f=y.useRef(null),h=y.useState(!1),v=ht(h,2),m=v[0],g=v[1],x=l.fieldProps,_=x.onSearch,w=x.onClear,S=x.onChange,C=x.onBlur,O=x.showSearch,T=x.autoClearSearchValue;x.treeData;var N=x.fetchDataOnSearch,M=x.searchValue,D=Nn(x,nCe),F=oi(),j=Tg(P(P({},l),{},{defaultKeyWords:M})),R=ht(j,3),I=R[0],L=R[1],k=R[2],B=Gr(void 0,{onChange:_,value:M}),q=ht(B,2),X=q[0],z=q[1];y.useImperativeHandle(n,function(){return P(P({},f.current||{}),{},{fetchData:function(pe){return k(pe)}})});var H=y.useMemo(function(){if(i==="read"){var we=(D==null?void 0:D.fieldNames)||{},pe=we.value,$e=pe===void 0?"value":pe,Ne=we.label,Le=Ne===void 0?"label":Ne,Ie=we.children,Z=Ie===void 0?"children":Ie,ie=new Map,ne=function Te($){if(!($!=null&&$.length))return ie;for(var se=$.length,re=0;re<se;){var oe=$[re++];ie.set(oe[$e],oe[Le]),Te(oe[Z])}return ie};return ne(L)}},[D==null?void 0:D.fieldNames,i,L]),Q=function(pe,$e,Ne){O&&T&&(k(void 0),z(void 0)),S==null||S(pe,$e,Ne)};if(i==="read"){var V=E.jsx(E.Fragment,{children:wg(l.text,Bd(l.valueEnum||H))});if(s){var W;return(W=s(l.text,P({mode:i},D),V))!==null&&W!==void 0?W:null}return V}if(i==="edit"){var te,K=Array.isArray(D==null?void 0:D.value)?D==null||(te=D.value)===null||te===void 0?void 0:te.length:0,U=E.jsx(Ip,{spinning:I,children:E.jsx(jp,P(P({open:m,onDropdownVisibleChange:function(pe){var $e;D==null||($e=D.onDropdownVisibleChange)===null||$e===void 0||$e.call(D,pe),g(pe)},ref:f,popupMatchSelectWidth:!o,placeholder:F.getMessage("tableForm.selectPlaceholder","请选择"),tagRender:o?function(we){var pe;if(K<2)return E.jsx(E.Fragment,{children:we.label});var $e=D==null||(pe=D.value)===null||pe===void 0?void 0:pe.findIndex(function(Ne){return Ne===we.value||Ne.value===we.value});return E.jsxs(E.Fragment,{children:[we.label," ",$e<K-1?",":""]})}:void 0,bordered:!o},D),{},{treeData:L,showSearch:O,style:P({minWidth:60},D.style),allowClear:D.allowClear!==!1,searchValue:X,autoClearSearchValue:T,onClear:function(){w==null||w(),k(void 0),O&&z(void 0)},onChange:Q,onSearch:function(pe){N&&l!==null&&l!==void 0&&l.request&&k(pe),z(pe)},onBlur:function(pe){z(void 0),k(void 0),C==null||C(pe)},className:rt(D==null?void 0:D.className,d)}))});if(r){var ee;U=(ee=r(l.text,P(P({mode:i},D),{},{options:L,loading:I}),U))!==null&&ee!==void 0?ee:null}if(o){var fe,ve=D.disabled,Ce=D.placeholder,ue=!!D.value&&((fe=D.value)===null||fe===void 0?void 0:fe.length)!==0;return E.jsx(Cc,{label:a,disabled:ve,placeholder:Ce,onClick:function(){var pe;g(!0),D==null||(pe=D.onDropdownVisibleChange)===null||pe===void 0||pe.call(D,!0)},bordered:l.bordered,value:ue||m?U:null,style:ue?{paddingInlineEnd:0}:void 0,allowClear:!1,downIcon:!1})}return U}return null};const iCe=je.forwardRef(rCe);function ys(t){var e=y.useState(!1),n=ht(e,2),r=n[0],i=n[1],o=y.useRef(null),a=y.useCallback(function(u){var c,d,f=(c=o.current)===null||c===void 0||(c=c.labelRef)===null||c===void 0||(c=c.current)===null||c===void 0?void 0:c.contains(u.target),h=(d=o.current)===null||d===void 0||(d=d.clearRef)===null||d===void 0||(d=d.current)===null||d===void 0?void 0:d.contains(u.target);return f&&!h},[o]),s=function(c){a(c)&&i(!0)},l=function(){i(!1)};return t.isLight?E.jsx("div",{onMouseDown:s,onMouseUp:l,children:je.cloneElement(t.children,{labelTrigger:r,lightLabel:o})}):E.jsx(E.Fragment,{children:t.children})}var V9={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ra,function(){var n="day";return function(r,i,o){var a=function(u){return u.add(4-u.isoWeekday(),n)},s=i.prototype;s.isoWeekYear=function(){return a(this).year()},s.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),n);var c,d,f,h,v=a(this),m=(c=this.isoWeekYear(),d=this.$u,f=(d?o.utc:o)().year(c).startOf("year"),h=4-f.isoWeekday(),f.isoWeekday()>4&&(h+=7),f.add(h,n));return v.diff(m,"week")+1},s.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=s.startOf;s.startOf=function(u,c){var d=this.$utils(),f=!!d.u(c)||c;return d.p(u)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,c)}}})})(V9);var oCe=V9.exports;const aCe=Ua(oCe);var X9={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ra,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,o){var a=i.prototype,s=a.format;o.en.formats=n,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(d,f){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,v,m){var g=m&&m.toUpperCase();return v||f[m]||n[m]||f[g].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,_,w){return _||w.slice(1)})})}(l,u===void 0?{}:u);return s.call(this,c)}}})})(X9);var sCe=X9.exports;const lCe=Ua(sCe);var uCe=["fieldProps"],cCe=["fieldProps"],dCe=["fieldProps"],fCe=["fieldProps"],hCe=["text","valueType","mode","onChange","renderFormItem","value","readonly","fieldProps"],pCe=["placeholder"];xi.extend(AY);xi.extend(OY);xi.extend(aCe);xi.extend(D$);xi.extend(NY);xi.extend(lCe);var vCe=function(e,n,r){var i=R9(r.fieldProps);return n.type==="progress"?E.jsx(W9,P(P({},r),{},{text:e,fieldProps:P({status:n.status?n.status:void 0},i)})):n.type==="money"?E.jsx(U9,P(P({locale:n.locale},r),{},{fieldProps:i,text:e,moneySymbol:n.moneySymbol})):n.type==="percent"?E.jsx(G9,P(P({},r),{},{text:e,showSymbol:n.showSymbol,precision:n.precision,fieldProps:i,showColor:n.showColor})):n.type==="image"?E.jsx(z9,P(P({},r),{},{text:e,width:n.width})):e},mCe=function(e,n,r,i){var o=r.mode,a=o===void 0?"read":o,s=r.emptyText,l=s===void 0?"-":s;if(l!==!1&&a==="read"&&n!=="option"&&n!=="switch"&&typeof e!="boolean"&&typeof e!="number"&&!e){var u=r.fieldProps,c=r.render;return c?c(e,P({mode:a},u),E.jsx(E.Fragment,{children:l})):E.jsx(E.Fragment,{children:l})}if(delete r.emptyText,ur(n)==="object")return vCe(e,n,r);var d=i&&i[n];if(d){if(delete r.ref,a==="read"){var f;return(f=d.render)===null||f===void 0?void 0:f.call(d,e,P(P({text:e},r),{},{mode:a||"read"}),E.jsx(E.Fragment,{children:e}))}if(a==="update"||a==="edit"){var h;return(h=d.renderFormItem)===null||h===void 0?void 0:h.call(d,e,P({text:e},r),E.jsx(E.Fragment,{children:e}))}}if(n==="money")return E.jsx(U9,P(P({},r),{},{text:e}));if(n==="date")return E.jsx(ys,{isLight:r.light,children:E.jsx(Bv,P({text:e,format:"YYYY-MM-DD"},r))});if(n==="dateWeek")return E.jsx(ys,{isLight:r.light,children:E.jsx(Bv,P({text:e,format:"YYYY-wo",picker:"week"},r))});if(n==="dateWeekRange"){var v=r.fieldProps,m=Nn(r,uCe);return E.jsx(ys,{isLight:r.light,children:E.jsx(zv,P({text:e,format:"YYYY-W",showTime:!0,fieldProps:P({picker:"week"},v)},m))})}if(n==="dateMonthRange"){var g=r.fieldProps,x=Nn(r,cCe);return E.jsx(ys,{isLight:r.light,children:E.jsx(zv,P({text:e,format:"YYYY-MM",showTime:!0,fieldProps:P({picker:"month"},g)},x))})}if(n==="dateQuarterRange"){var _=r.fieldProps,w=Nn(r,dCe);return E.jsx(ys,{isLight:r.light,children:E.jsx(zv,P({text:e,format:"YYYY-Q",showTime:!0,fieldProps:P({picker:"quarter"},_)},w))})}if(n==="dateYearRange"){var S=r.fieldProps,C=Nn(r,fCe);return E.jsx(ys,{isLight:r.light,children:E.jsx(zv,P({text:e,format:"YYYY",showTime:!0,fieldProps:P({picker:"year"},S)},C))})}return n==="dateMonth"?E.jsx(ys,{isLight:r.light,children:E.jsx(Bv,P({text:e,format:"YYYY-MM",picker:"month"},r))}):n==="dateQuarter"?E.jsx(ys,{isLight:r.light,children:E.jsx(Bv,P({text:e,format:"YYYY-[Q]Q",picker:"quarter"},r))}):n==="dateYear"?E.jsx(ys,{isLight:r.light,children:E.jsx(Bv,P({text:e,format:"YYYY",picker:"year"},r))}):n==="dateRange"?E.jsx(zv,P({text:e,format:"YYYY-MM-DD"},r)):n==="dateTime"?E.jsx(ys,{isLight:r.light,children:E.jsx(Bv,P({text:e,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},r))}):n==="dateTimeRange"?E.jsx(ys,{isLight:r.light,children:E.jsx(zv,P({text:e,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},r))}):n==="time"?E.jsx(ys,{isLight:r.light,children:E.jsx(eCe,P({text:e,format:"HH:mm:ss"},r))}):n==="timeRange"?E.jsx(ys,{isLight:r.light,children:E.jsx(QEe,P({text:e,format:"HH:mm:ss"},r))}):n==="fromNow"?E.jsx(sEe,P({text:e},r)):n==="index"?E.jsx(M4,{children:e+1}):n==="indexBorder"?E.jsx(M4,{border:!0,children:e+1}):n==="progress"?E.jsx(W9,P(P({},r),{},{text:e})):n==="percent"?E.jsx(G9,P({text:e},r)):n==="avatar"&&typeof e=="string"&&r.mode==="read"?E.jsx(z$,{src:e,size:22,shape:"circle"}):n==="code"?E.jsx(v4,P({text:e},r)):n==="jsonCode"?E.jsx(v4,P({text:e,language:"json"},r)):n==="textarea"?E.jsx(qEe,P({text:e},r)):n==="digit"?E.jsx(tEe,P({text:e},r)):n==="digitRange"?E.jsx(rEe,P({text:e},r)):n==="second"?E.jsx($Ee,P({text:e},r)):n==="select"||n==="text"&&(r.valueEnum||r.request)?E.jsx(ys,{isLight:r.light,children:E.jsx(bxe,P({text:e},r))}):n==="checkbox"?E.jsx(Txe,P({text:e},r)):n==="radio"?E.jsx(L4,P({text:e},r)):n==="radioButton"?E.jsx(L4,P({radioType:"button",text:e},r)):n==="rate"?E.jsx(DEe,P({text:e},r)):n==="slider"?E.jsx(HEe,P({text:e},r)):n==="switch"?E.jsx(GEe,P({text:e},r)):n==="option"?E.jsx(xEe,P({text:e},r)):n==="password"?E.jsx(wEe,P({text:e},r)):n==="image"?E.jsx(z9,P({text:e},r)):n==="cascader"?E.jsx(Sxe,P({text:e},r)):n==="treeSelect"?E.jsx(iCe,P({text:e},r)):n==="color"?E.jsx(Zwe,P({text:e},r)):n==="segmented"?E.jsx(BEe,P({text:e},r)):E.jsx(VEe,P({text:e},r))},gCe=function(e,n){var r,i,o,a,s,l=e.text,u=e.valueType,c=u===void 0?"text":u,d=e.mode,f=d===void 0?"read":d,h=e.onChange,v=e.renderFormItem,m=e.value,g=e.readonly,x=e.fieldProps,_=Nn(e,hCe),w=y.useContext(qf),S=ci(function(){for(var T,N=arguments.length,M=new Array(N),D=0;D<N;D++)M[D]=arguments[D];x==null||(T=x.onChange)===null||T===void 0||T.call.apply(T,[x].concat(M)),h==null||h.apply(void 0,M)}),C=$a(function(){return(m!==void 0||x)&&P(P({value:m},No(x)),{},{onChange:S})},[m,x,S]),O=mCe(f==="edit"?(r=(i=C==null?void 0:C.value)!==null&&i!==void 0?i:l)!==null&&r!==void 0?r:"":(o=l??(C==null?void 0:C.value))!==null&&o!==void 0?o:"",c||"text",No(P(P({ref:n},_),{},{mode:g?"read":f,renderFormItem:v?function(T,N,M){N.placeholder;var D=Nn(N,pCe),F=v(T,D,M);return je.isValidElement(F)?je.cloneElement(F,P(P({},C),F.props||{})):F}:void 0,placeholder:v?void 0:(a=_==null?void 0:_.placeholder)!==null&&a!==void 0?a:C==null?void 0:C.placeholder,fieldProps:R9(No(P(P({},C),{},{placeholder:v?void 0:(s=_==null?void 0:_.placeholder)!==null&&s!==void 0?s:C==null?void 0:C.placeholder})))})),w.valueTypeMap||{});return E.jsx(je.Fragment,{children:O})},yCe=je.forwardRef(gCe),Yb=je.createContext({mode:"edit"}),bCe=["fieldProps","children","labelCol","label","autoFocus","isDefaultDom","render","proFieldProps","renderFormItem","valueType","initialValue","onChange","valueEnum","params","name","dependenciesValues","cacheForSwr","valuePropName"],xCe=function(e){var n=e.fieldProps,r=e.children;e.labelCol,e.label;var i=e.autoFocus;e.isDefaultDom;var o=e.render,a=e.proFieldProps,s=e.renderFormItem,l=e.valueType;e.initialValue;var u=e.onChange,c=e.valueEnum,d=e.params;e.name;var f=e.dependenciesValues,h=e.cacheForSwr,v=h===void 0?!1:h,m=e.valuePropName,g=m===void 0?"value":m,x=Nn(e,bCe),_=y.useContext(Yb),w=y.useMemo(function(){return f&&x.request?P(P({},d),f||{}):d},[f,d,x.request]),S=ci(function(){if(n!=null&&n.onChange){for(var T,N=arguments.length,M=new Array(N),D=0;D<N;D++)M[D]=arguments[D];n==null||(T=n.onChange)===null||T===void 0||T.call.apply(T,[n].concat(M));return}}),C=y.useMemo(function(){return P(P({autoFocus:i},n),{},{onChange:S})},[i,n,S]),O=y.useMemo(function(){if(r)return je.isValidElement(r)?je.cloneElement(r,P(P({},x),{},{onChange:function(){for(var N=arguments.length,M=new Array(N),D=0;D<N;D++)M[D]=arguments[D];if(n!=null&&n.onChange){var F;n==null||(F=n.onChange)===null||F===void 0||F.call.apply(F,[n].concat(M));return}u==null||u.apply(void 0,M)}},(r==null?void 0:r.props)||{})):E.jsx(E.Fragment,{children:r})},[r,n==null?void 0:n.onChange,u,x]);return O||E.jsx(yCe,P(P(P({text:n==null?void 0:n[g],render:o,renderFormItem:s,valueType:l||"text",cacheForSwr:v,fieldProps:C,valueEnum:za(c)},a),x),{},{mode:(a==null?void 0:a.mode)||_.mode||"edit",params:w}))},IS=A9(y.memo(xCe,function(t,e){return dc(e,t,["onChange","onBlur"])})),_Ce=["creatorButtonProps","deleteIconProps","copyIconProps","itemContainerRender","itemRender","alwaysShowItemLabel","prefixCls","creatorRecord","action","actionGuard","children","actionRender","fields","meta","field","index","formInstance","originName","containerClassName","containerStyle","min","max","count"],SCe=function(e){return Array.isArray(e)?e:typeof e=="function"?[e]:_c(e)},wCe=function(e){var n,r;e.creatorButtonProps;var i=e.deleteIconProps,o=e.copyIconProps,a=e.itemContainerRender,s=e.itemRender,l=e.alwaysShowItemLabel,u=e.prefixCls;e.creatorRecord;var c=e.action;e.actionGuard;var d=e.children,f=e.actionRender,h=e.fields,v=e.meta,m=e.field,g=e.index,x=e.formInstance,_=e.originName,w=e.containerClassName,S=e.containerStyle,C=e.min,O=e.max,T=e.count,N=Nn(e,_Ce),M=y.useContext(Il),D=M.hashId,F=((n=Qn.useConfig)===null||n===void 0?void 0:n.call(Qn))||{componentSize:"middle"},j=F.componentSize,R=y.useContext(qm),I=y.useRef(!1),L=y.useContext(Yb),k=L.mode,B=y.useState(!1),q=ht(B,2),X=q[0],z=q[1],H=y.useState(!1),Q=ht(H,2),V=Q[0],W=Q[1];y.useEffect(function(){return function(){I.current=!0}},[]);var te=function(){return x.getFieldValue([R.listName,_,g==null?void 0:g.toString()].flat(1).filter(function(Z){return Z!=null}))},K={getCurrentRowData:te,setCurrentRowData:function(Z){var ie,ne=(x==null||(ie=x.getFieldsValue)===null||ie===void 0?void 0:ie.call(x))||{},Te=[R.listName,_,g==null?void 0:g.toString()].flat(1).filter(function(se){return se!=null}),$=Ha(ne,Te,P(P({},te()),Z||{}));return x.setFieldsValue($)}},U=SCe(d).map(function(Ie){return typeof Ie=="function"?Ie==null?void 0:Ie(m,g,P(P({},c),K),T):Ie}).map(function(Ie,Z){if(je.isValidElement(Ie)){var ie;return je.cloneElement(Ie,P({key:Ie.key||(Ie==null||(ie=Ie.props)===null||ie===void 0?void 0:ie.name)||Z},(Ie==null?void 0:Ie.props)||{}))}return Ie}),ee=y.useMemo(function(){if(k==="read"||o===!1||O===T)return null;var Ie=o,Z=Ie.Icon,ie=Z===void 0?L$:Z,ne=Ie.tooltipText;return E.jsx(wi,{title:ne,children:V?E.jsx(mp,{}):E.jsx(ie,{className:rt("".concat(u,"-action-icon action-copy"),D),onClick:Ln(Pn().mark(function Te(){var $;return Pn().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return W(!0),$=x==null?void 0:x.getFieldValue([R.listName,_,m.name].filter(function(oe){return oe!==void 0}).flat(1)),re.next=4,c.add($);case 4:W(!1);case 5:case"end":return re.stop()}},Te)}))})},"copy")},[o,O,T,V,u,D,x,R.listName,m.name,_,c]),fe=y.useMemo(function(){if(k==="read"||i===!1||C===T)return null;var Ie=i,Z=Ie.Icon,ie=Z===void 0?k$:Z,ne=Ie.tooltipText;return E.jsx(wi,{title:ne,children:X?E.jsx(mp,{}):E.jsx(ie,{className:rt("".concat(u,"-action-icon action-remove"),D),onClick:Ln(Pn().mark(function Te(){return Pn().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return z(!0),se.next=3,c.remove(m.name);case 3:I.current||z(!1);case 4:case"end":return se.stop()}},Te)}))})},"delete")},[i,C,T,X,u,D,c,m.name]),ve=y.useMemo(function(){return[ee,fe].filter(function(Ie){return Ie!=null})},[ee,fe]),Ce=(f==null?void 0:f(m,c,ve,T))||ve,ue=Ce.length>0&&k!=="read"?E.jsx("div",{className:rt("".concat(u,"-action"),J({},"".concat(u,"-action-small"),j==="small"),D),children:Ce}):null,we={name:N.name,field:m,index:g,record:x==null||(r=x.getFieldValue)===null||r===void 0?void 0:r.call(x,[R.listName,_,m.name].filter(function(Ie){return Ie!==void 0}).flat(1)),fields:h,operation:c,meta:v},pe=Cg(),$e=pe.grid,Ne=(a==null?void 0:a(U,we))||U,Le=(s==null?void 0:s({listDom:E.jsx("div",{className:rt("".concat(u,"-container"),w,D),style:P({width:$e?"100%":void 0},S),children:Ne}),action:ue},we))||E.jsxs("div",{className:rt("".concat(u,"-item"),D,J(J({},"".concat(u,"-item-default"),l===void 0),"".concat(u,"-item-show-label"),l)),style:{display:"flex",alignItems:"flex-end"},children:[E.jsx("div",{className:rt("".concat(u,"-container"),w,D),style:P({width:$e?"100%":void 0},S),children:Ne}),ue]});return E.jsx(qm.Provider,{value:P(P({},m),{},{listName:[R.listName,_,m.name].filter(function(Ie){return Ie!==void 0}).flat(1)}),children:Le})},ECe=function(e){var n=oi(),r=e.creatorButtonProps,i=e.prefixCls,o=e.children,a=e.creatorRecord,s=e.action,l=e.fields,u=e.actionGuard,c=e.max,d=e.fieldExtraRender,f=e.meta,h=e.containerClassName,v=e.containerStyle,m=e.onAfterAdd,g=e.onAfterRemove,x=y.useContext(Il),_=x.hashId,w=y.useRef(new Map),S=y.useState(!1),C=ht(S,2),O=C[0],T=C[1],N=y.useMemo(function(){return l.map(function(I){var L,k;if(!((L=w.current)!==null&&L!==void 0&&L.has(I.key.toString()))){var B;(B=w.current)===null||B===void 0||B.set(I.key.toString(),db())}var q=(k=w.current)===null||k===void 0?void 0:k.get(I.key.toString());return P(P({},I),{},{uuid:q})})},[l]),M=y.useMemo(function(){var I=P({},s),L=N.length;return u!=null&&u.beforeAddRow?I.add=Ln(Pn().mark(function k(){var B,q,X,z,H,Q=arguments;return Pn().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:for(B=Q.length,q=new Array(B),X=0;X<B;X++)q[X]=Q[X];return W.next=3,u.beforeAddRow.apply(u,q.concat([L]));case 3:if(z=W.sent,!z){W.next=8;break}return H=s.add.apply(s,q),m==null||m.apply(void 0,q.concat([L+1])),W.abrupt("return",H);case 8:return W.abrupt("return",!1);case 9:case"end":return W.stop()}},k)})):I.add=Ln(Pn().mark(function k(){var B,q,X,z,H=arguments;return Pn().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:for(B=H.length,q=new Array(B),X=0;X<B;X++)q[X]=H[X];return z=s.add.apply(s,q),m==null||m.apply(void 0,q.concat([L+1])),V.abrupt("return",z);case 4:case"end":return V.stop()}},k)})),u!=null&&u.beforeRemoveRow?I.remove=Ln(Pn().mark(function k(){var B,q,X,z,H,Q=arguments;return Pn().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:for(B=Q.length,q=new Array(B),X=0;X<B;X++)q[X]=Q[X];return W.next=3,u.beforeRemoveRow.apply(u,q.concat([L]));case 3:if(z=W.sent,!z){W.next=8;break}return H=s.remove.apply(s,q),g==null||g.apply(void 0,q.concat([L-1])),W.abrupt("return",H);case 8:return W.abrupt("return",!1);case 9:case"end":return W.stop()}},k)})):I.remove=Ln(Pn().mark(function k(){var B,q,X,z,H=arguments;return Pn().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:for(B=H.length,q=new Array(B),X=0;X<B;X++)q[X]=H[X];return z=s.remove.apply(s,q),g==null||g.apply(void 0,q.concat([L-1])),V.abrupt("return",z);case 4:case"end":return V.stop()}},k)})),I},[s,u==null?void 0:u.beforeAddRow,u==null?void 0:u.beforeRemoveRow,m,g,N.length]),D=y.useMemo(function(){if(r===!1||N.length===c)return null;var I=r||{},L=I.position,k=L===void 0?"bottom":L,B=I.creatorButtonText,q=B===void 0?n.getMessage("editableTable.action.add","添加一行数据"):B;return E.jsx(es,P(P({className:"".concat(i,"-creator-button-").concat(k," ").concat(_||"").trim(),type:"dashed",loading:O,block:!0,icon:E.jsx(PP,{})},Co(r||{},["position","creatorButtonText"])),{},{onClick:Ln(Pn().mark(function X(){var z,H;return Pn().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return T(!0),H=N.length,k==="top"&&(H=0),V.next=5,M.add((z=za(a))!==null&&z!==void 0?z:{},H);case 5:T(!1);case 6:case"end":return V.stop()}},X)})),children:q}))},[r,N.length,c,n,i,_,O,M,a]),F=y.useContext(Yb),j=P({width:"max-content",maxWidth:"100%",minWidth:"100%"},v),R=y.useMemo(function(){return N.map(function(I,L){return y.createElement(wCe,P(P({},e),{},{key:I.uuid,field:I,index:L,action:M,count:N.length}),o)})},[o,e,N,M]);return F.mode==="read"||e.readonly===!0?E.jsx(E.Fragment,{children:R}):E.jsxs("div",{style:j,className:h,children:[r!==!1&&(r==null?void 0:r.position)==="top"&&D,R,d&&d(M,f),r!==!1&&(r==null?void 0:r.position)!=="top"&&D]})},CCe=function(e){return J(J({},"".concat(e.antCls,"-pro"),J({},"".concat(e.antCls,"-form:not(").concat(e.antCls,"-form-horizontal)"),J({},e.componentCls,J({},"&-item:not(".concat(e.componentCls,"-item-show-label)"),J({},"".concat(e.antCls,"-form-item-label"),{display:"none"}))))),e.componentCls,J(J({maxWidth:"100%","&-item":{"&&-show-label":J({},"".concat(e.antCls,"-form-item-label"),{display:"inline-block"}),"&&-default:first-child":{"div:first-of-type":J({},"".concat(e.antCls,"-form-item"),J({},"".concat(e.antCls,"-form-item-label"),{display:"inline-block"}))},"&&-default:not(:first-child)":{"div:first-of-type":J({},"".concat(e.antCls,"-form-item"),J({},"".concat(e.antCls,"-form-item-label"),{display:"none"}))}},"&-action":{display:"flex",height:e.controlHeight,marginBlockEnd:e.marginLG,lineHeight:e.controlHeight+"px","&-small":{height:e.controlHeightSM,lineHeight:e.controlHeightSM}},"&-action-icon":{marginInlineStart:8,cursor:"pointer",transition:"color 0.3s ease-in-out","&:hover":{color:e.colorPrimaryTextHover}}},"".concat(e.proComponentsCls,"-card ").concat(e.proComponentsCls,"-card-extra"),J({},e.componentCls,{"&-action":{marginBlockEnd:0}})),"&-creator-button-top",{marginBlockEnd:24}))};function TCe(t){return Qi("ProFormList",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[CCe(n)]})}var RCe=["transform","actionRender","creatorButtonProps","label","alwaysShowItemLabel","tooltip","creatorRecord","itemRender","rules","itemContainerRender","fieldExtraRender","copyIconProps","children","deleteIconProps","actionRef","style","prefixCls","actionGuard","min","max","colProps","wrapperCol","rowProps","onAfterAdd","onAfterRemove","isValidateList","emptyListMessage","className","containerClassName","containerStyle","readonly"],qm=je.createContext({});function PCe(t){var e=y.useRef(),n=y.useContext(Qn.ConfigContext),r=y.useContext(qm),i=n.getPrefixCls("pro-form-list"),o=oi(),a=je.useContext(Eg),s=a.setFieldValueType,l=t.transform,u=t.actionRender,c=t.creatorButtonProps,d=t.label,f=t.alwaysShowItemLabel,h=t.tooltip,v=t.creatorRecord,m=t.itemRender,g=t.rules,x=t.itemContainerRender,_=t.fieldExtraRender,w=t.copyIconProps,S=w===void 0?{Icon:L$,tooltipText:o.getMessage("copyThisLine","复制此项")}:w,C=t.children,O=t.deleteIconProps,T=O===void 0?{Icon:k$,tooltipText:o.getMessage("deleteThisLine","删除此项")}:O,N=t.actionRef,M=t.style,D=t.prefixCls,F=t.actionGuard,j=t.min,R=t.max,I=t.colProps,L=t.wrapperCol,k=t.rowProps,B=t.onAfterAdd,q=t.onAfterRemove,X=t.isValidateList,z=X===void 0?!1:X,H=t.emptyListMessage,Q=H===void 0?"列表不能为空":H,V=t.className,W=t.containerClassName,te=t.containerStyle,K=t.readonly,U=Nn(t,RCe),ee=Cg({colProps:I,rowProps:k}),fe=ee.ColWrapper,ve=ee.RowWrapper,Ce=y.useContext(Vb),ue=y.useMemo(function(){return r.name===void 0?[U.name].flat(1):[r.name,U.name].flat(1)},[r.name,U.name]);y.useImperativeHandle(N,function(){return P(P({},e.current),{},{get:function(Le){return Ce.formRef.current.getFieldValue([].concat(_n(ue),[Le]))},getList:function(){return Ce.formRef.current.getFieldValue(_n(ue))}})},[ue,Ce.formRef]),y.useEffect(function(){As(!!Ce.formRef,"ProFormList 必须要放到 ProForm 中,否则会造成行为异常。"),As(!!Ce.formRef,"Proformlist must be placed in ProForm, otherwise it will cause abnormal behavior.")},[Ce.formRef]),y.useEffect(function(){!s||!t.name||s([t.name].flat(1).filter(function(Ne){return Ne!==void 0}),{valueType:"formList",transform:l})},[t.name,s,l]);var we=TCe(i),pe=we.wrapSSR,$e=we.hashId;return Ce.formRef?pe(E.jsx(fe,{children:E.jsx("div",{className:rt(i,$e),style:M,children:E.jsx(to.Item,P(P({label:d,prefixCls:D,tooltip:h,style:M,required:g==null?void 0:g.some(function(Ne){return Ne.required}),wrapperCol:L,className:V},U),{},{name:z?ue:void 0,rules:z?[{validator:function(Le,Ie){return!Ie||Ie.length===0?Promise.reject(new Error(Q)):Promise.resolve()},required:!0}]:void 0,children:E.jsx(to.List,P(P({rules:g},U),{},{name:ue,children:function(Le,Ie,Z){return e.current=Ie,E.jsxs(ve,{children:[E.jsx(ECe,{name:ue,readonly:!!K,originName:U.name,copyIconProps:S,deleteIconProps:T,formInstance:Ce.formRef.current,prefixCls:i,meta:Z,fields:Le,itemContainerRender:x,itemRender:m,fieldExtraRender:_,creatorButtonProps:c,creatorRecord:v,actionRender:u,action:Ie,actionGuard:F,alwaysShowItemLabel:f,min:j,max:R,count:Le.length,onAfterAdd:function(ne,Te,$){z&&Ce.formRef.current.validateFields([ue]),B==null||B(ne,Te,$)},onAfterRemove:function(ne,Te){z&&Te===0&&Ce.formRef.current.validateFields([ue]),q==null||q(ne,Te)},containerClassName:W,containerStyle:te,children:C}),E.jsx(to.ErrorList,{errors:Z.errors})]})}}))}))})})):null}var ACe=["name","originDependencies","children","ignoreFormListField"],qb=function(e){var n=e.name,r=e.originDependencies,i=r===void 0?n:r,o=e.children,a=e.ignoreFormListField,s=Nn(e,ACe),l=y.useContext(Vb),u=y.useContext(qm),c=y.useMemo(function(){return n.map(function(d){var f,h=[d];return!a&&u.name!==void 0&&(f=u.listName)!==null&&f!==void 0&&f.length&&h.unshift(u.listName),h.flat(1)})},[u.listName,u.name,a,n==null?void 0:n.toString()]);return E.jsx(to.Item,P(P({},s),{},{noStyle:!0,shouldUpdate:function(f,h,v){if(typeof s.shouldUpdate=="boolean")return s.shouldUpdate;if(typeof s.shouldUpdate=="function"){var m;return(m=s.shouldUpdate)===null||m===void 0?void 0:m.call(s,f,h,v)}return c.some(function(g){return!dc(xo(f,g),xo(h,g))})},children:function(f){for(var h={},v=0;v<n.length;v++){var m,g=c[v],x=i[v],_=[x].flat(1),w=(m=l.getFieldFormatValueObject)===null||m===void 0?void 0:m.call(l,g);if(w&&Object.keys(w).length)h=oE({},h,w),xo(w,g)&&(h=Ha(h,_,xo(w,g)));else{var S;w=(S=f.getFieldValue)===null||S===void 0?void 0:S.call(f,g),typeof w<"u"&&(h=Ha(h,_,w))}}return o==null?void 0:o(h,P(P({},f),l))}}))};qb.displayName="ProFormDependency";var OCe=["children","value","valuePropName","onChange","fieldProps","space","type","transform","convertValue","lightProps"],NCe=["children","space","valuePropName"],MCe={space:Tu,group:mo.Group};function ICe(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&t in e.target?e.target[t]:e}var DCe=function(e){var n=e.children,r=e.value,i=r===void 0?[]:r,o=e.valuePropName,a=e.onChange,s=e.fieldProps,l=e.space,u=e.type,c=u===void 0?"space":u;e.transform,e.convertValue,e.lightProps;var d=Nn(e,OCe),f=ci(function(S,C){var O,T=_n(i);T[C]=ICe(o||"value",S),a==null||a(T),s==null||(O=s.onChange)===null||O===void 0||O.call(s,T)}),h=-1,v=_c(za(n,i,e)).map(function(S){if(je.isValidElement(S)){var C,O,T;h+=1;var N=h,M=(S==null||(C=S.type)===null||C===void 0?void 0:C.displayName)==="ProFormComponent"||(S==null||(O=S.props)===null||O===void 0?void 0:O.readonly),D=M?P(P({key:N,ignoreFormItem:!0},S.props||{}),{},{fieldProps:P(P({},S==null||(T=S.props)===null||T===void 0?void 0:T.fieldProps),{},{onChange:function(){f(arguments.length<=0?void 0:arguments[0],N)}}),value:i==null?void 0:i[N],onChange:void 0}):P(P({key:N},S.props||{}),{},{value:i==null?void 0:i[N],onChange:function(j){var R,I;f(j,N),(R=(I=S.props).onChange)===null||R===void 0||R.call(I,j)}});return je.cloneElement(S,D)}return S}),m=MCe[c],g=Cg(d),x=g.RowWrapper,_=y.useMemo(function(){return P({},c==="group"?{compact:!0}:{})},[c]),w=y.useCallback(function(S){var C=S.children;return E.jsx(m,P(P(P({},_),l),{},{align:"start",wrap:!0,children:C}))},[m,l,_]);return E.jsx(x,{Wrapper:w,children:v})},LCe=je.forwardRef(function(t,e){var n=t.children,r=t.space,i=t.valuePropName,o=Nn(t,NCe);return y.useImperativeHandle(e,function(){return{}}),E.jsx(DCe,P(P(P({space:r,valuePropName:i},o.fieldProps),{},{onChange:void 0},o),{},{children:n}))}),kCe=A9(LCe),$Ce=["children","onChange","onBlur","ignoreFormItem","valuePropName"],FCe=["children","addonAfter","addonBefore","valuePropName","addonWarpStyle","convertValue","help"],jCe=["valueType","transform","dataFormat","ignoreFormItem","lightProps","children"],BCe=je.createContext({}),zCe=function(e){var n,r,i=e.children,o=e.onChange,a=e.onBlur;e.ignoreFormItem;var s=e.valuePropName,l=s===void 0?"value":s,u=Nn(e,$Ce),c=(i==null||(n=i.type)===null||n===void 0?void 0:n.displayName)!=="ProFormComponent",d=!je.isValidElement(i),f=ci(function(){for(var _,w,S,C,O=arguments.length,T=new Array(O),N=0;N<O;N++)T[N]=arguments[N];o==null||o.apply(void 0,T),!c&&(d||(i==null||(_=i.props)===null||_===void 0||(w=_.onChange)===null||w===void 0||w.call.apply(w,[_].concat(T)),i==null||(S=i.props)===null||S===void 0||(S=S.fieldProps)===null||S===void 0||(C=S.onChange)===null||C===void 0||C.call.apply(C,[S].concat(T))))}),h=ci(function(){var _,w,S,C;if(!c&&!d){for(var O=arguments.length,T=new Array(O),N=0;N<O;N++)T[N]=arguments[N];a==null||a.apply(void 0,T),i==null||(_=i.props)===null||_===void 0||(w=_.onBlur)===null||w===void 0||w.call.apply(w,[_].concat(T)),i==null||(S=i.props)===null||S===void 0||(S=S.fieldProps)===null||S===void 0||(C=S.onBlur)===null||C===void 0||C.call.apply(C,[S].concat(T))}}),v=$a(function(){var _;return Co((i==null||(_=i.props)===null||_===void 0?void 0:_.fieldProps)||{},["onBlur","onChange"])},[Co((i==null||(r=i.props)===null||r===void 0?void 0:r.fieldProps)||{},["onBlur","onChange"])]),m=e[l],g=y.useMemo(function(){if(!c&&!d)return No(P(P(J({id:u.id},l,m),v),{},{onBlur:h,onChange:f}))},[m,v,h,f,u.id,l]),x=y.useMemo(function(){if(!g&&je.isValidElement(i))return function(){for(var _,w,S=arguments.length,C=new Array(S),O=0;O<S;O++)C[O]=arguments[O];o==null||o.apply(void 0,C),i==null||(_=i.props)===null||_===void 0||(w=_.onChange)===null||w===void 0||w.call.apply(w,[_].concat(C))}},[g,i,o]);return je.isValidElement(i)?je.cloneElement(i,No(P(P(P({},u),{},J({},l,e[l]),i.props),{},{onChange:x,fieldProps:g,onBlur:c&&!d&&a}))):E.jsx(E.Fragment,{children:i})},k4=function(e){var n=e.children,r=e.addonAfter,i=e.addonBefore,o=e.valuePropName,a=e.addonWarpStyle,s=e.convertValue,l=e.help,u=Nn(e,FCe),c=y.useMemo(function(){var d=function(h){var v,m=(v=s==null?void 0:s(h,u.name))!==null&&v!==void 0?v:h;return u.getValueProps?u.getValueProps(m):J({},o||"value",m)};return!s&&!u.getValueProps&&(d=void 0),!r&&!i?E.jsx(to.Item,P(P({},u),{},{help:typeof l!="function"?l:void 0,valuePropName:o,getValueProps:d,_internalItemRender:{mark:"pro_table_render",render:function(h,v){return E.jsxs(E.Fragment,{children:[v.input,typeof l=="function"?l({errors:h.errors,warnings:h.warnings}):v.errorList,v.extra]})}},children:n})):E.jsx(to.Item,P(P(P({},u),{},{help:typeof l!="function"?l:void 0,valuePropName:o,_internalItemRender:{mark:"pro_table_render",render:function(h,v){return E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:P({display:"flex",alignItems:"center",flexWrap:"wrap"},a),children:[i?E.jsx("div",{style:{marginInlineEnd:8},children:i}):null,v.input,r?E.jsx("div",{style:{marginInlineStart:8},children:r}):null]}),typeof l=="function"?l({errors:h.errors,warnings:h.warnings}):v.errorList,v.extra]})}}},u),{},{getValueProps:d,children:n}))},[r,i,n,s==null?void 0:s.toString(),u]);return E.jsx(BCe.Provider,{value:{name:u.name,label:u.label},children:c})},K9=function(e){var n,r,i,o,a=(Qn===null||Qn===void 0||(n=Qn.useConfig)===null||n===void 0?void 0:n.call(Qn))||{componentSize:"middle"},s=a.componentSize,l=s,u=e.valueType,c=e.transform,d=e.dataFormat,f=e.ignoreFormItem,h=e.lightProps;e.children;var v=Nn(e,jCe),m=y.useContext(qm),g=y.useMemo(function(){return e.name===void 0?e.name:m.name!==void 0?[m.name,e.name].flat(1):e.name},[m.name,e.name]),x=je.useContext(Eg),_=x.setFieldValueType,w=x.formItemProps;y.useEffect(function(){!_||!e.name||_([m.listName,e.name].flat(1).filter(function(M){return M!==void 0}),{valueType:u||"text",dateFormat:d,transform:c})},[m.listName,g,d,e.name,_,c,u]);var S=je.isValidElement(e.children)&&u1e(u||e.children.props.valueType),C=y.useMemo(function(){return!!(!(h!=null&&h.light)||h!=null&&h.customLightMode||S)},[h==null?void 0:h.customLightMode,S,h==null?void 0:h.light]);if(typeof e.children=="function"){var O;return y.createElement(k4,P(P({},v),{},{name:g,key:v.proFormFieldKey||((O=v.name)===null||O===void 0?void 0:O.toString())}),e.children)}var T=E.jsx(zCe,{valuePropName:e.valuePropName,children:e.children},v.proFormFieldKey||((r=v.name)===null||r===void 0?void 0:r.toString())),N=C?T:y.createElement(j2e,P(P({},h),{},{key:v.proFormFieldKey||((i=v.name)===null||i===void 0?void 0:i.toString()),size:l}),T);return f?E.jsx(E.Fragment,{children:N}):E.jsx(k4,P(P(P({},w),v),{},{name:g,isListField:m.name!==void 0,children:N}),v.proFormFieldKey||((o=v.name)===null||o===void 0?void 0:o.toString()))},HCe=function(e){return J({},e.componentCls,{"&-title":{marginBlockEnd:e.marginXL,fontWeight:"bold"},"&-container":J({flexWrap:"wrap",maxWidth:"100%"},"> div".concat(e.antCls,"-space-item"),{maxWidth:"100%"}),"&-twoLine":J(J(J(J({display:"block",width:"100%"},"".concat(e.componentCls,"-title"),{width:"100%",margin:"8px 0"}),"".concat(e.componentCls,"-container"),{paddingInlineStart:16}),"".concat(e.antCls,"-space-item,").concat(e.antCls,"-form-item"),{width:"100%"}),"".concat(e.antCls,"-form-item"),{"&-control":{display:"flex",alignItems:"center",justifyContent:"flex-end","&-input":{alignItems:"center",justifyContent:"flex-end","&-content":{flex:"none"}}}})})};function UCe(t){return Qi("ProFormGroup",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[HCe(n)]})}var Y9=je.forwardRef(function(t,e){var n=je.useContext(Eg),r=n.groupProps,i=P(P({},r),t),o=i.children,a=i.collapsible,s=i.defaultCollapsed,l=i.style,u=i.labelLayout,c=i.title,d=c===void 0?t.label:c,f=i.tooltip,h=i.align,v=h===void 0?"start":h,m=i.direction,g=i.size,x=g===void 0?32:g,_=i.titleStyle,w=i.titleRender,S=i.spaceProps,C=i.extra,O=i.autoFocus,T=Gr(function(){return s||!1},{value:t.collapsed,onChange:t.onCollapse}),N=ht(T,2),M=N[0],D=N[1],F=y.useContext(Qn.ConfigContext),j=F.getPrefixCls,R=Cg(t),I=R.ColWrapper,L=R.RowWrapper,k=j("pro-form-group"),B=UCe(k),q=B.wrapSSR,X=B.hashId,z=a&&E.jsx(Vy,{style:{marginInlineEnd:8},rotate:M?void 0:90}),H=E.jsx(Cp,{label:z?E.jsxs("div",{children:[z,d]}):d,tooltip:f}),Q=y.useCallback(function(ee){var fe=ee.children;return E.jsx(Tu,P(P({},S),{},{className:rt("".concat(k,"-container ").concat(X),S==null?void 0:S.className),size:x,align:v,direction:m,style:P({rowGap:0},S==null?void 0:S.style),children:fe}))},[v,k,m,X,x,S]),V=w?w(H,t):H,W=y.useMemo(function(){var ee=[],fe=je.Children.toArray(o).map(function(ve,Ce){var ue;return je.isValidElement(ve)&&ve!==null&&ve!==void 0&&(ue=ve.props)!==null&&ue!==void 0&&ue.hidden?(ee.push(ve),null):Ce===0&&je.isValidElement(ve)&&O?je.cloneElement(ve,P(P({},ve.props),{},{autoFocus:O})):ve});return[E.jsx(L,{Wrapper:Q,children:fe},"children"),ee.length>0?E.jsx("div",{style:{display:"none"},children:ee}):null]},[o,L,Q,O]),te=ht(W,2),K=te[0],U=te[1];return q(E.jsx(I,{children:E.jsxs("div",{className:rt(k,X,J({},"".concat(k,"-twoLine"),u==="twoLine")),style:l,ref:e,children:[U,(d||f||C)&&E.jsx("div",{className:"".concat(k,"-title ").concat(X).trim(),style:_,onClick:function(){D(!M)},children:C?E.jsxs("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[V,E.jsx("span",{onClick:function(fe){return fe.stopPropagation()},children:C})]}):V}),E.jsx("div",{style:{display:a&&M?"none":void 0},children:K})]})}))});Y9.displayName="ProForm-Group";var GCe=function(e){return J({},e.componentCls,{"&-sidebar-dragger":{width:"5px",cursor:"ew-resize",padding:"4px 0 0",borderTop:"1px solid transparent",position:"absolute",top:0,left:0,bottom:0,zIndex:100,backgroundColor:"transparent","&-min-disabled":{cursor:"w-resize"},"&-max-disabled":{cursor:"e-resize"}}})};function WCe(t){return Qi("DrawerForm",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[GCe(n)]})}var VCe=["children","trigger","onVisibleChange","drawerProps","onFinish","submitTimeout","title","width","resize","onOpenChange","visible","open"];function XCe(t){var e,n,r=t.children,i=t.trigger,o=t.onVisibleChange,a=t.drawerProps,s=t.onFinish,l=t.submitTimeout,u=t.title,c=t.width,d=t.resize,f=t.onOpenChange,h=t.visible,v=t.open,m=Nn(t,VCe);As(!m.footer||!(a!=null&&a.footer),"DrawerForm 是一个 ProForm 的特殊布局，如果想自定义按钮，请使用 submit.render 自定义。");var g=je.useMemo(function(){var Le,Ie,Z,ie={onResize:function(){},maxWidth:tO()?window.innerWidth*.8:void 0,minWidth:300};return typeof d=="boolean"?d?ie:{}:No({onResize:(Le=d==null?void 0:d.onResize)!==null&&Le!==void 0?Le:ie.onResize,maxWidth:(Ie=d==null?void 0:d.maxWidth)!==null&&Ie!==void 0?Ie:ie.maxWidth,minWidth:(Z=d==null?void 0:d.minWidth)!==null&&Z!==void 0?Z:ie.minWidth})},[d]),x=y.useContext(Qn.ConfigContext),_=x.getPrefixCls("pro-form-drawer"),w=WCe(_),S=w.wrapSSR,C=w.hashId,O=function(Ie){return"".concat(_,"-").concat(Ie," ").concat(C)},T=y.useState([]),N=ht(T,2),M=N[1],D=y.useState(!1),F=ht(D,2),j=F[0],R=F[1],I=y.useState(!1),L=ht(I,2),k=L[0],B=L[1],q=y.useState(c||(d?g==null?void 0:g.minWidth:800)),X=ht(q,2),z=X[0],H=X[1],Q=Gr(!!h,{value:v||h,onChange:f||o}),V=ht(Q,2),W=V[0],te=V[1],K=y.useRef(null),U=y.useCallback(function(Le){K.current===null&&Le&&M([]),K.current=Le},[]),ee=y.useRef(),fe=y.useCallback(function(){var Le,Ie,Z,ie=(Le=(Ie=(Z=m.formRef)===null||Z===void 0?void 0:Z.current)!==null&&Ie!==void 0?Ie:m.form)!==null&&Le!==void 0?Le:ee.current;ie&&a!==null&&a!==void 0&&a.destroyOnClose&&ie.resetFields()},[a==null?void 0:a.destroyOnClose,m.form,m.formRef]);y.useEffect(function(){W&&(v||h)&&(f==null||f(!0),o==null||o(!0)),k&&H(g==null?void 0:g.minWidth)},[h,W,k]),y.useImperativeHandle(m.formRef,function(){return ee.current},[ee.current]);var ve=y.useMemo(function(){return i?je.cloneElement(i,P(P({key:"trigger"},i.props),{},{onClick:function(){var Le=Ln(Pn().mark(function Z(ie){var ne,Te;return Pn().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:te(!W),B(!Object.keys(g)),(ne=i.props)===null||ne===void 0||(Te=ne.onClick)===null||Te===void 0||Te.call(ne,ie);case 3:case"end":return se.stop()}},Z)}));function Ie(Z){return Le.apply(this,arguments)}return Ie}()})):null},[te,i,W,B,k]),Ce=y.useMemo(function(){var Le,Ie,Z,ie;return m.submitter===!1?!1:Cu({searchConfig:{submitText:(Le=(Ie=x.locale)===null||Ie===void 0||(Ie=Ie.Modal)===null||Ie===void 0?void 0:Ie.okText)!==null&&Le!==void 0?Le:"确认",resetText:(Z=(ie=x.locale)===null||ie===void 0||(ie=ie.Modal)===null||ie===void 0?void 0:ie.cancelText)!==null&&Z!==void 0?Z:"取消"},resetButtonProps:{preventDefault:!0,disabled:l?j:void 0,onClick:function(Te){var $;te(!1),a==null||($=a.onClose)===null||$===void 0||$.call(a,Te)}}},m.submitter)},[m.submitter,(e=x.locale)===null||e===void 0||(e=e.Modal)===null||e===void 0?void 0:e.okText,(n=x.locale)===null||n===void 0||(n=n.Modal)===null||n===void 0?void 0:n.cancelText,l,j,te,a]),ue=y.useCallback(function(Le,Ie){return E.jsxs(E.Fragment,{children:[Le,K.current&&Ie?E.jsx(je.Fragment,{children:Hf.createPortal(Ie,K.current)},"submitter"):Ie]})},[]),we=ci(function(){var Le=Ln(Pn().mark(function Ie(Z){var ie,ne,Te;return Pn().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return ie=s==null?void 0:s(Z),l&&ie instanceof Promise&&(R(!0),ne=setTimeout(function(){return R(!1)},l),ie.finally(function(){clearTimeout(ne),R(!1)})),se.next=4,ie;case 4:return Te=se.sent,Te&&te(!1),se.abrupt("return",Te);case 7:case"end":return se.stop()}},Ie)}));return function(Ie){return Le.apply(this,arguments)}}()),pe=Wb(W,o),$e=y.useCallback(function(Le){var Ie,Z,ie=(document.body.offsetWidth||1e3)-(Le.clientX-document.body.offsetLeft),ne=(Ie=g==null?void 0:g.minWidth)!==null&&Ie!==void 0?Ie:c||800,Te=(Z=g==null?void 0:g.maxWidth)!==null&&Z!==void 0?Z:window.innerWidth*.8;if(ie<ne){H(ne);return}if(ie>Te){H(Te);return}H(ie)},[g==null?void 0:g.maxWidth,g==null?void 0:g.minWidth,c]),Ne=y.useCallback(function(){document.removeEventListener("mousemove",$e),document.removeEventListener("mouseup",Ne)},[$e]);return S(E.jsxs(E.Fragment,{children:[E.jsxs(zP,P(P(P({title:u,width:z},a),pe),{},{afterOpenChange:function(Ie){var Z;Ie||fe(),a==null||(Z=a.afterOpenChange)===null||Z===void 0||Z.call(a,Ie)},onClose:function(Ie){var Z;l&&j||(te(!1),a==null||(Z=a.onClose)===null||Z===void 0||Z.call(a,Ie))},footer:m.submitter!==!1&&E.jsx("div",{ref:U,style:{display:"flex",justifyContent:"flex-end"}}),children:[d?E.jsx("div",{className:rt(O("sidebar-dragger"),C,J(J({},O("sidebar-dragger-min-disabled"),z===(g==null?void 0:g.minWidth)),O("sidebar-dragger-max-disabled"),z===(g==null?void 0:g.maxWidth))),onMouseDown:function(Ie){var Z;g==null||(Z=g.onResize)===null||Z===void 0||Z.call(g),Ie.stopPropagation(),Ie.preventDefault(),document.addEventListener("mousemove",$e),document.addEventListener("mouseup",Ne),B(!0)}}):null,E.jsx(E.Fragment,{children:E.jsx(Rg,P(P({formComponentType:"DrawerForm",layout:"vertical"},m),{},{formRef:ee,onInit:function(Ie,Z){var ie;m.formRef&&(m.formRef.current=Z),m==null||(ie=m.onInit)===null||ie===void 0||ie.call(m,Ie,Z),ee.current=Z},submitter:Ce,onFinish:function(){var Le=Ln(Pn().mark(function Ie(Z){var ie;return Pn().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.next=2,we(Z);case 2:return ie=Te.sent,Te.abrupt("return",ie);case 4:case"end":return Te.stop()}},Ie)}));return function(Ie){return Le.apply(this,arguments)}}(),contentRender:ue,children:r}))})]})),ve]}))}var KCe=function(e){return J({},e.componentCls,{lineHeight:"30px","&::before":{display:"block",height:0,visibility:"hidden",content:"'.'"},"&-small":{lineHeight:e.lineHeight},"&-container":{display:"flex",flexWrap:"wrap",gap:e.marginXS},"&-item":J({whiteSpace:"nowrap"},"".concat(e.antCls,"-form-item"),{marginBlock:0}),"&-line":{minWidth:"198px"},"&-line:not(:first-child)":{marginBlockStart:"16px",marginBlockEnd:8},"&-collapse-icon":{width:e.controlHeight,height:e.controlHeight,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},"&-effective":J({},"".concat(e.componentCls,"-collapse-icon"),{backgroundColor:e.colorBgTextHover})})};function YCe(t){return Qi("LightFilter",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[KCe(n)]})}var qCe=["size","collapse","collapseLabel","initialValues","onValuesChange","form","placement","formRef","bordered","ignoreRules","footerRender"],ZCe=function(e){var n=e.items,r=e.prefixCls,i=e.size,o=i===void 0?"middle":i,a=e.collapse,s=e.collapseLabel,l=e.onValuesChange,u=e.bordered,c=e.values,d=e.footerRender,f=e.placement,h=oi(),v="".concat(r,"-light-filter"),m=YCe(v),g=m.wrapSSR,x=m.hashId,_=y.useState(!1),w=ht(_,2),S=w[0],C=w[1],O=y.useState(function(){return P({},c)}),T=ht(O,2),N=T[0],M=T[1];y.useEffect(function(){M(P({},c))},[c]);var D=y.useMemo(function(){var I=[],L=[];return n.forEach(function(k){var B=k.props||{},q=B.secondary;q||a?I.push(k):L.push(k)}),{collapseItems:I,outsideItems:L}},[e.items]),F=D.collapseItems,j=D.outsideItems,R=function(){return s||(a?E.jsx(PJ,{className:"".concat(v,"-collapse-icon ").concat(x).trim()}):E.jsx(Cc,{size:o,label:h.getMessage("form.lightFilter.more","更多筛选")}))};return g(E.jsx("div",{className:rt(v,x,"".concat(v,"-").concat(o),J({},"".concat(v,"-effective"),Object.keys(c).some(function(I){return Array.isArray(c[I])?c[I].length>0:c[I]}))),children:E.jsxs("div",{className:"".concat(v,"-container ").concat(x).trim(),children:[j.map(function(I,L){var k=I.key,B=I.props.fieldProps,q=B!=null&&B.placement?B==null?void 0:B.placement:f;return E.jsx("div",{className:"".concat(v,"-item ").concat(x).trim(),children:je.cloneElement(I,{fieldProps:P(P({},I.props.fieldProps),{},{placement:q}),proFieldProps:P(P({},I.props.proFieldProps),{},{light:!0,label:I.props.label,bordered:u}),bordered:u})},k||L)}),F.length?E.jsx("div",{className:"".concat(v,"-item ").concat(x).trim(),children:E.jsx(x9,{padding:24,open:S,onOpenChange:function(L){C(L)},placement:f,label:R(),footerRender:d,footer:{onConfirm:function(){l(P({},N)),C(!1)},onClear:function(){var L={};F.forEach(function(k){var B=k.props.name;L[B]=void 0}),l(L)}},children:F.map(function(I){var L=I.key,k=I.props,B=k.name,q=k.fieldProps,X=P(P({},q),{},{onChange:function(Q){return M(P(P({},N),{},J({},B,Q!=null&&Q.target?Q.target.value:Q))),!1}});N.hasOwnProperty(B)&&(X[I.props.valuePropName||"value"]=N[B]);var z=q!=null&&q.placement?q==null?void 0:q.placement:f;return E.jsx("div",{className:"".concat(v,"-line ").concat(x).trim(),children:je.cloneElement(I,{fieldProps:P(P({},X),{},{placement:z})})},L)})})},"more"):null]})}))};function JCe(t){var e=t.size,n=t.collapse,r=t.collapseLabel,i=t.initialValues,o=t.onValuesChange,a=t.form,s=t.placement,l=t.formRef,u=t.bordered;t.ignoreRules;var c=t.footerRender,d=Nn(t,qCe),f=y.useContext(Qn.ConfigContext),h=f.getPrefixCls,v=h("pro-form"),m=y.useState(function(){return P({},i)}),g=ht(m,2),x=g[0],_=g[1],w=y.useRef();return y.useImperativeHandle(l,function(){return w.current},[w.current]),E.jsx(Rg,P(P({size:e,initialValues:i,form:a,contentRender:function(C){return E.jsx(ZCe,{prefixCls:v,items:C==null?void 0:C.flatMap(function(O){return(O==null?void 0:O.type.displayName)==="ProForm-Group"?O.props.children:O}),size:e,bordered:u,collapse:n,collapseLabel:r,placement:s,values:x||{},footerRender:c,onValuesChange:function(T){var N,M,D=P(P({},x),T);_(D),(N=w.current)===null||N===void 0||N.setFieldsValue(D),(M=w.current)===null||M===void 0||M.submit(),o&&o(T,D)}})},formRef:w,formItemProps:{colon:!1,labelAlign:"left"},fieldProps:{style:{width:void 0}}},Co(d,["labelWidth"])),{},{onValuesChange:function(C,O){var T;_(O),o==null||o(C,O),(T=w.current)===null||T===void 0||T.submit()}}))}var QCe=["children","trigger","onVisibleChange","onOpenChange","modalProps","onFinish","submitTimeout","title","width","visible","open"];function e2e(t){var e,n,r=t.children,i=t.trigger,o=t.onVisibleChange,a=t.onOpenChange,s=t.modalProps,l=t.onFinish,u=t.submitTimeout,c=t.title,d=t.width,f=t.visible,h=t.open,v=Nn(t,QCe);As(!v.footer||!(s!=null&&s.footer),"ModalForm 是一个 ProForm 的特殊布局，如果想自定义按钮，请使用 submit.render 自定义。");var m=y.useContext(Qn.ConfigContext),g=y.useState([]),x=ht(g,2),_=x[1],w=y.useState(!1),S=ht(w,2),C=S[0],O=S[1],T=Gr(!!f,{value:h||f,onChange:a||o}),N=ht(T,2),M=N[0],D=N[1],F=y.useRef(null),j=y.useCallback(function(z){F.current===null&&z&&_([]),F.current=z},[]),R=y.useRef(),I=y.useCallback(function(){var z,H,Q,V=(z=(H=v.form)!==null&&H!==void 0?H:(Q=v.formRef)===null||Q===void 0?void 0:Q.current)!==null&&z!==void 0?z:R.current;V&&s!==null&&s!==void 0&&s.destroyOnClose&&V.resetFields()},[s==null?void 0:s.destroyOnClose,v.form,v.formRef]);y.useImperativeHandle(v.formRef,function(){return R.current},[R.current]),y.useEffect(function(){(h||f)&&(a==null||a(!0),o==null||o(!0))},[f,h]);var L=y.useMemo(function(){return i?je.cloneElement(i,P(P({key:"trigger"},i.props),{},{onClick:function(){var z=Ln(Pn().mark(function Q(V){var W,te;return Pn().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:D(!M),(W=i.props)===null||W===void 0||(te=W.onClick)===null||te===void 0||te.call(W,V);case 2:case"end":return U.stop()}},Q)}));function H(Q){return z.apply(this,arguments)}return H}()})):null},[D,i,M]),k=y.useMemo(function(){var z,H,Q,V,W,te;return v.submitter===!1?!1:Cu({searchConfig:{submitText:(z=(H=s==null?void 0:s.okText)!==null&&H!==void 0?H:(Q=m.locale)===null||Q===void 0||(Q=Q.Modal)===null||Q===void 0?void 0:Q.okText)!==null&&z!==void 0?z:"确认",resetText:(V=(W=s==null?void 0:s.cancelText)!==null&&W!==void 0?W:(te=m.locale)===null||te===void 0||(te=te.Modal)===null||te===void 0?void 0:te.cancelText)!==null&&V!==void 0?V:"取消"},resetButtonProps:{preventDefault:!0,disabled:u?C:void 0,onClick:function(U){var ee;D(!1),s==null||(ee=s.onCancel)===null||ee===void 0||ee.call(s,U)}}},v.submitter)},[(e=m.locale)===null||e===void 0||(e=e.Modal)===null||e===void 0?void 0:e.cancelText,(n=m.locale)===null||n===void 0||(n=n.Modal)===null||n===void 0?void 0:n.okText,s,v.submitter,D,C,u]),B=y.useCallback(function(z,H){return E.jsxs(E.Fragment,{children:[z,F.current&&H?E.jsx(je.Fragment,{children:Hf.createPortal(H,F.current)},"submitter"):H]})},[]),q=y.useCallback(function(){var z=Ln(Pn().mark(function H(Q){var V,W,te;return Pn().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return V=l==null?void 0:l(Q),u&&V instanceof Promise&&(O(!0),W=setTimeout(function(){return O(!1)},u),V.finally(function(){clearTimeout(W),O(!1)})),U.next=4,V;case 4:return te=U.sent,te&&D(!1),U.abrupt("return",te);case 7:case"end":return U.stop()}},H)}));return function(H){return z.apply(this,arguments)}}(),[l,D,u]),X=Wb(M);return E.jsxs(E.Fragment,{children:[E.jsx(jP,P(P(P({title:c,width:d||800},s),X),{},{onCancel:function(H){var Q;u&&C||(D(!1),s==null||(Q=s.onCancel)===null||Q===void 0||Q.call(s,H))},afterClose:function(){var H;I(),M&&D(!1),s==null||(H=s.afterClose)===null||H===void 0||H.call(s)},footer:v.submitter!==!1?E.jsx("div",{ref:j,style:{display:"flex",justifyContent:"flex-end"}}):null,children:E.jsx(Rg,P(P({formComponentType:"ModalForm",layout:"vertical"},v),{},{onInit:function(H,Q){var V;v.formRef&&(v.formRef.current=Q),v==null||(V=v.onInit)===null||V===void 0||V.call(v,H,Q),R.current=Q},formRef:R,submitter:k,onFinish:function(){var z=Ln(Pn().mark(function H(Q){var V;return Pn().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,q(Q);case 2:return V=te.sent,te.abrupt("return",V);case 4:case"end":return te.stop()}},H)}));return function(H){return z.apply(this,arguments)}}(),contentRender:B,children:r}))})),L]})}var t2e=function(e,n,r,i){return e?E.jsxs(E.Fragment,{children:[r.getMessage("tableForm.collapsed","展开"),i&&"(".concat(i,")"),E.jsx(Xy,{style:{marginInlineStart:"0.5em",transition:"0.3s all",transform:"rotate(".concat(e?0:.5,"turn)")}})]}):E.jsxs(E.Fragment,{children:[r.getMessage("tableForm.expand","收起"),E.jsx(Xy,{style:{marginInlineStart:"0.5em",transition:"0.3s all",transform:"rotate(".concat(e?0:.5,"turn)")}})]})},n2e=function(e){var n=e.setCollapsed,r=e.collapsed,i=r===void 0?!1:r,o=e.submitter,a=e.style,s=e.hiddenNum,l=y.useContext(Qn.ConfigContext),u=l.getPrefixCls,c=oi(),d=y.useContext(Il),f=d.hashId,h=T9(e.collapseRender)||t2e;return E.jsxs(Tu,{style:a,size:16,children:[o,e.collapseRender!==!1&&E.jsx("a",{className:"".concat(u("pro-query-filter-collapse-button")," ").concat(f).trim(),onClick:function(){return n(!i)},children:h==null?void 0:h(i,e,c,s)})]})},r2e=function(e){return J({},e.componentCls,J(J(J(J({"&&":{padding:24}},"".concat(e.antCls,"-form-item"),{marginBlock:0}),"".concat(e.proComponentsCls,"-form-group-title"),{marginBlock:0}),"&-row",{rowGap:24,"&-split":J(J({},"".concat(e.proComponentsCls,"-form-group"),{display:"flex",alignItems:"center",gap:e.marginXS}),"&:last-child",{marginBlockEnd:12}),"&-split-line":{"&:after":{position:"absolute",width:"100%",content:'""',height:1,insetBlockEnd:-12,borderBlockEnd:"1px dashed ".concat(e.colorSplit)}}}),"&-collapse-button",{display:"flex",alignItems:"center",color:e.colorPrimary}))};function i2e(t){return Qi("QueryFilter",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[r2e(n)]})}var o2e=["collapsed","layout","defaultCollapsed","defaultColsNumber","span","searchGutter","searchText","resetText","optionRender","collapseRender","onReset","onCollapse","labelWidth","style","split","preserve","ignoreRules","showHiddenNum","submitterColSpanProps"],Hv,a2e={xs:513,sm:513,md:785,lg:992,xl:1057,xxl:1/0},$4={vertical:[[513,1,"vertical"],[785,2,"vertical"],[1057,3,"vertical"],[1/0,4,"vertical"]],default:[[513,1,"vertical"],[701,2,"vertical"],[1062,3,"horizontal"],[1352,3,"horizontal"],[1/0,4,"horizontal"]]},s2e=function(e,n,r){if(r&&typeof r=="number")return{span:r,layout:e};var i=r?["xs","sm","md","lg","xl","xxl"].map(function(a){return[a2e[a],24/r[a],"horizontal"]}):$4[e||"default"],o=(i||$4.default).find(function(a){return n<a[0]+16});return o?{span:24/o[1],layout:o==null?void 0:o[2]}:{span:8,layout:"horizontal"}},l2e=function(e,n){return e==null?void 0:e.flatMap(function(r){var i;if((r==null?void 0:r.type.displayName)==="ProForm-Group"&&!((i=r.props)!==null&&i!==void 0&&i.title))return r.props.children;if(n&&je.isValidElement(r)){var o;return je.cloneElement(r,P(P({},r.props),{},{formItemProps:P(P({},(o=r.props)===null||o===void 0?void 0:o.formItemProps),{},{rules:[]})}))}return r})},u2e=function(e){var n,r,i,o,a=oi(),s=y.useContext(Il),l=s.hashId,u=e.resetText||a.getMessage("tableForm.reset","重置"),c=e.searchText||a.getMessage("tableForm.search","搜索"),d=Gr(function(){return e.defaultCollapsed&&!!e.submitter},{value:e.collapsed,onChange:e.onCollapse}),f=ht(d,2),h=f[0],v=f[1],m=e.optionRender,g=e.collapseRender,x=e.split,_=e.items,w=e.spanSize,S=e.showLength,C=e.searchGutter,O=e.showHiddenNum,T=y.useMemo(function(){return!e.submitter||m===!1?null:je.cloneElement(e.submitter,P({searchConfig:{resetText:u,submitText:c},render:m&&function(z,H){return m(P(P({},e),{},{resetText:u,searchText:c}),e,H)}},e.submitter.props))},[e,u,c,m]),N=0,M=0,D=!1,F=0,j=0,R=l2e(_,e.ignoreRules).map(function(z,H){var Q,V,W,te,K=je.isValidElement(z)&&(Q=z==null||(V=z.props)===null||V===void 0?void 0:V.colSize)!==null&&Q!==void 0?Q:1,U=Math.min(w.span*(K||1),24);if(N+=U,F+=K,H===0){var ee;D=U===24&&!(z!=null&&(ee=z.props)!==null&&ee!==void 0&&ee.hidden)}var fe=(z==null||(W=z.props)===null||W===void 0?void 0:W.hidden)||h&&(D||F>S-1)&&!!H&&N>=24;M+=1;var ve=je.isValidElement(z)&&(z.key||"".concat((te=z.props)===null||te===void 0?void 0:te.name))||H;return je.isValidElement(z)&&fe?e.preserve?{itemDom:je.cloneElement(z,{hidden:!0,key:ve||H}),hidden:!0,colSpan:U}:{itemDom:null,colSpan:0,hidden:!0}:{itemDom:z,colSpan:U,hidden:!1}}),I=R.map(function(z,H){var Q,V,W=z.itemDom,te=z.colSpan,K=W==null||(Q=W.props)===null||Q===void 0?void 0:Q.hidden;if(K)return W;var U=je.isValidElement(W)&&(W.key||"".concat((V=W.props)===null||V===void 0?void 0:V.name))||H;return 24-j%24<te&&(N+=24-j%24,j+=24-j%24),j+=te,x&&j%24===0&&H<M-1?E.jsx(Oo,{span:te,className:"".concat(e.baseClassName,"-row-split-line ").concat(e.baseClassName,"-row-split ").concat(l).trim(),children:W},U):E.jsx(Oo,{className:"".concat(e.baseClassName,"-row-split ").concat(l).trim(),span:te,children:W},U)}),L=O&&R.filter(function(z){return z.hidden}).length,k=y.useMemo(function(){return!(N<24||F<=S)},[F,S,N]),B=y.useMemo(function(){var z,H,Q=j%24+((z=(H=e.submitterColSpanProps)===null||H===void 0?void 0:H.span)!==null&&z!==void 0?z:w.span);if(Q>24){var V,W;return 24-((V=(W=e.submitterColSpanProps)===null||W===void 0?void 0:W.span)!==null&&V!==void 0?V:w.span)}return 24-Q},[j,j%24+((n=(r=e.submitterColSpanProps)===null||r===void 0?void 0:r.span)!==null&&n!==void 0?n:w.span),(i=e.submitterColSpanProps)===null||i===void 0?void 0:i.span]),q=y.useContext(Qn.ConfigContext),X=q.getPrefixCls("pro-query-filter");return E.jsxs(Rl,{gutter:C,justify:"start",className:rt("".concat(X,"-row"),l),children:[I,T&&E.jsx(Oo,P(P({span:w.span,offset:B,className:rt((o=e.submitterColSpanProps)===null||o===void 0?void 0:o.className)},e.submitterColSpanProps),{},{style:{textAlign:"end"},children:E.jsx(to.Item,{label:" ",colon:!1,shouldUpdate:!1,className:"".concat(X,"-actions ").concat(l).trim(),children:E.jsx(n2e,{hiddenNum:L,collapsed:h,collapseRender:k?g:!1,submitter:T,setCollapsed:v},"pro-form-query-filter-actions")})}),"submitter")]},"resize-observer-row")},c2e=tO()?(Hv=document)===null||Hv===void 0||(Hv=Hv.body)===null||Hv===void 0?void 0:Hv.clientWidth:1024;function d2e(t){var e=t.collapsed,n=t.layout,r=t.defaultCollapsed,i=r===void 0?!0:r,o=t.defaultColsNumber,a=t.span,s=t.searchGutter,l=s===void 0?24:s;t.searchText,t.resetText;var u=t.optionRender,c=t.collapseRender,d=t.onReset,f=t.onCollapse,h=t.labelWidth,v=h===void 0?"80":h,m=t.style,g=t.split,x=t.preserve,_=x===void 0?!0:x,w=t.ignoreRules,S=t.showHiddenNum,C=S===void 0?!1:S,O=t.submitterColSpanProps,T=Nn(t,o2e),N=y.useContext(Qn.ConfigContext),M=N.getPrefixCls("pro-query-filter"),D=i2e(M),F=D.wrapSSR,j=D.hashId,R=Gr(function(){return typeof(m==null?void 0:m.width)=="number"?m==null?void 0:m.width:c2e}),I=ht(R,2),L=I[0],k=I[1],B=y.useMemo(function(){return s2e(n,L+16,a)},[n,L,a]),q=y.useMemo(function(){return o!==void 0?o-1:Math.max(1,24/B.span-1)},[o,B.span]),X=y.useMemo(function(){if(v&&B.layout!=="vertical"&&v!=="auto")return{labelCol:{flex:"0 0 ".concat(v,"px")},wrapperCol:{style:{maxWidth:"calc(100% - ".concat(v,"px)")}},style:{flexWrap:"nowrap"}}},[B.layout,v]);return F(E.jsx(Td,{onResize:function(H){L!==H.width&&H.width>17&&k(H.width)},children:E.jsx(Rg,P(P({isKeyPressSubmit:!0,preserve:_},T),{},{className:rt(M,j,T.className),onReset:d,style:m,layout:B.layout,fieldProps:{style:{width:"100%"}},formItemProps:X,groupProps:{titleStyle:{display:"inline-block",marginInlineEnd:16}},contentRender:function(H,Q,V){return E.jsx(u2e,{spanSize:B,collapsed:e,form:V,submitterColSpanProps:O,collapseRender:c,defaultCollapsed:i,onCollapse:f,optionRender:u,submitter:Q,items:H,split:g,baseClassName:M,resetText:t.resetText,searchText:t.searchText,searchGutter:l,preserve:_,ignoreRules:w,showLength:q,showHiddenNum:C})}}))},"resize-observer"))}var f2e=["onFinish","step","formRef","title","stepProps"];function h2e(t){var e=y.useRef(),n=y.useContext(q9),r=y.useContext(Z9),i=P(P({},t),r),o=i.onFinish,a=i.step,s=i.formRef;i.title,i.stepProps;var l=Nn(i,f2e);return As(!l.submitter,"StepForm 不包含提交按钮，请在 StepsForm 上"),y.useImperativeHandle(s,function(){return e.current},[s==null?void 0:s.current]),y.useEffect(function(){if(i.name||i.step){var u=(i.name||i.step).toString();return n==null||n.regForm(u,i),function(){n==null||n.unRegForm(u)}}},[]),n&&n!==null&&n!==void 0&&n.formArrayRef&&(n.formArrayRef.current[a||0]=e),E.jsx(Rg,P({formRef:e,onFinish:function(){var u=Ln(Pn().mark(function c(d){var f;return Pn().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(l.name&&(n==null||n.onFormFinish(l.name,d)),!o){v.next=9;break}return n==null||n.setLoading(!0),v.next=5,o==null?void 0:o(d);case 5:return f=v.sent,f&&(n==null||n.next()),n==null||n.setLoading(!1),v.abrupt("return");case 9:n!=null&&n.lastStep||n==null||n.next();case 10:case"end":return v.stop()}},c)}));return function(c){return u.apply(this,arguments)}}(),onInit:function(c,d){var f;e.current=d,n&&n!==null&&n!==void 0&&n.formArrayRef&&(n.formArrayRef.current[a||0]=e),l==null||(f=l.onInit)===null||f===void 0||f.call(l,c,d)},layout:"vertical"},Co(l,["layoutType","columns"])))}var p2e=function(e){return J({},e.componentCls,{"&-container":{width:"max-content",minWidth:"420px",maxWidth:"100%",margin:"auto"},"&-steps-container":J({maxWidth:"1160px",margin:"auto"},"".concat(e.antCls,"-steps-vertical"),{height:"100%"}),"&-step":{display:"none",marginBlockStart:"32px","&-active":{display:"block"},"> form":{maxWidth:"100%"}}})};function v2e(t){return Qi("StepsForm",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[p2e(n)]})}var m2e=["current","onCurrentChange","submitter","stepsFormRender","stepsRender","stepFormRender","stepsProps","onFinish","formProps","containerStyle","formRef","formMapRef","layoutRender"],q9=je.createContext(void 0),g2e={horizontal:function(e){var n=e.stepsDom,r=e.formDom;return E.jsxs(E.Fragment,{children:[E.jsx(Rl,{gutter:{xs:8,sm:16,md:24},children:E.jsx(Oo,{span:24,children:n})}),E.jsx(Rl,{gutter:{xs:8,sm:16,md:24},children:E.jsx(Oo,{span:24,children:r})})]})},vertical:function(e){var n=e.stepsDom,r=e.formDom;return E.jsxs(Rl,{align:"stretch",wrap:!0,gutter:{xs:8,sm:16,md:24},children:[E.jsx(Oo,{xxl:4,xl:6,lg:7,md:8,sm:10,xs:12,children:je.cloneElement(n,{style:{height:"100%"}})}),E.jsx(Oo,{children:E.jsx("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"100%"},children:r})})]})}},Z9=je.createContext(null);function y2e(t){var e=y.useContext(Qn.ConfigContext),n=e.getPrefixCls,r=n("pro-steps-form"),i=v2e(r),o=i.wrapSSR,a=i.hashId;t.current,t.onCurrentChange;var s=t.submitter,l=t.stepsFormRender,u=t.stepsRender,c=t.stepFormRender,d=t.stepsProps,f=t.onFinish,h=t.formProps,v=t.containerStyle,m=t.formRef,g=t.formMapRef,x=t.layoutRender,_=Nn(t,m2e),w=y.useRef(new Map),S=y.useRef(new Map),C=y.useRef([]),O=y.useState([]),T=ht(O,2),N=T[0],M=T[1],D=y.useState(!1),F=ht(D,2),j=F[0],R=F[1],I=oi(),L=Gr(0,{value:t.current,onChange:t.onCurrentChange}),k=ht(L,2),B=k[0],q=k[1],X=y.useMemo(function(){return g2e[(d==null?void 0:d.direction)||"horizontal"]},[d==null?void 0:d.direction]),z=y.useMemo(function(){return B===N.length-1},[N.length,B]),H=y.useCallback(function(Ne,Le){S.current.has(Ne)||M(function(Ie){return[].concat(_n(Ie),[Ne])}),S.current.set(Ne,Le)},[]),Q=y.useCallback(function(Ne){M(function(Le){return Le.filter(function(Ie){return Ie!==Ne})}),S.current.delete(Ne),w.current.delete(Ne)},[]);y.useImperativeHandle(g,function(){return C.current},[C.current]),y.useImperativeHandle(m,function(){var Ne;return(Ne=C.current[B||0])===null||Ne===void 0?void 0:Ne.current},[B,C.current]);var V=y.useCallback(function(){var Ne=Ln(Pn().mark(function Le(Ie,Z){var ie,ne;return Pn().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(w.current.set(Ie,Z),!(!z||!f)){$.next=3;break}return $.abrupt("return");case 3:return R(!0),ie=oE.apply(void 0,[{}].concat(_n(Array.from(w.current.values())))),$.prev=5,$.next=8,f(ie);case 8:ne=$.sent,ne&&(q(0),C.current.forEach(function(se){var re;return(re=se.current)===null||re===void 0?void 0:re.resetFields()})),$.next=15;break;case 12:$.prev=12,$.t0=$.catch(5),console.log($.t0);case 15:return $.prev=15,R(!1),$.finish(15);case 18:case"end":return $.stop()}},Le,null,[[5,12,15,18]])}));return function(Le,Ie){return Ne.apply(this,arguments)}}(),[z,f,R,q]),W=y.useMemo(function(){var Ne=zp(Uf,"4.24.0")>-1,Le=Ne?{items:N.map(function(Ie){var Z=S.current.get(Ie);return P({key:Ie,title:Z==null?void 0:Z.title},Z==null?void 0:Z.stepProps)})}:{};return E.jsx("div",{className:"".concat(r,"-steps-container ").concat(a).trim(),style:{maxWidth:Math.min(N.length*320,1160)},children:E.jsx(ST,P(P(P({},d),Le),{},{current:B,onChange:void 0,children:!Ne&&N.map(function(Ie){var Z=S.current.get(Ie);return E.jsx(ST.Step,P({title:Z==null?void 0:Z.title},Z==null?void 0:Z.stepProps),Ie)})}))})},[N,a,r,B,d]),te=ci(function(){var Ne,Le=C.current[B];(Ne=Le.current)===null||Ne===void 0||Ne.submit()}),K=ci(function(){B<1||q(B-1)}),U=y.useMemo(function(){return s!==!1&&E.jsx(es,P(P({type:"primary",loading:j},s==null?void 0:s.submitButtonProps),{},{onClick:function(){var Le;s==null||(Le=s.onSubmit)===null||Le===void 0||Le.call(s),te()},children:I.getMessage("stepsForm.next","下一步")}),"next")},[I,j,te,s]),ee=y.useMemo(function(){return s!==!1&&E.jsx(es,P(P({},s==null?void 0:s.resetButtonProps),{},{onClick:function(){var Le;K(),s==null||(Le=s.onReset)===null||Le===void 0||Le.call(s)},children:I.getMessage("stepsForm.prev","上一步")}),"pre")},[I,K,s]),fe=y.useMemo(function(){return s!==!1&&E.jsx(es,P(P({type:"primary",loading:j},s==null?void 0:s.submitButtonProps),{},{onClick:function(){var Le;s==null||(Le=s.onSubmit)===null||Le===void 0||Le.call(s),te()},children:I.getMessage("stepsForm.submit","提交")}),"submit")},[I,j,te,s]),ve=ci(function(){B>N.length-2||q(B+1)}),Ce=y.useMemo(function(){var Ne=[],Le=B||0;if(Le<1?N.length===1?Ne.push(fe):Ne.push(U):Le+1===N.length?Ne.push(ee,fe):Ne.push(ee,U),Ne=Ne.filter(je.isValidElement),s&&s.render){var Ie,Z={form:(Ie=C.current[B])===null||Ie===void 0?void 0:Ie.current,onSubmit:te,step:B,onPre:K};return s.render(Z,Ne)}return s&&(s==null?void 0:s.render)===!1?null:Ne},[N.length,U,te,ee,K,B,fe,s]),ue=y.useMemo(function(){return _c(t.children).map(function(Ne,Le){var Ie=Ne.props,Z=Ie.name||"".concat(Le),ie=B===Le,ne=ie?{contentRender:c,submitter:!1}:{};return E.jsx("div",{className:rt("".concat(r,"-step"),a,J({},"".concat(r,"-step-active"),ie)),children:E.jsx(Z9.Provider,{value:P(P(P(P({},ne),h),Ie),{},{name:Z,step:Le}),children:Ne})},Z)})},[h,a,r,t.children,B,c]),we=y.useMemo(function(){return u?u(N.map(function(Ne){var Le;return{key:Ne,title:(Le=S.current.get(Ne))===null||Le===void 0?void 0:Le.title}}),W):W},[N,W,u]),pe=y.useMemo(function(){return E.jsxs("div",{className:"".concat(r,"-container ").concat(a).trim(),style:v,children:[ue,l?null:E.jsx(Tu,{children:Ce})]})},[v,ue,a,r,l,Ce]),$e=y.useMemo(function(){var Ne={stepsDom:we,formDom:pe};return l?l(x?x(Ne):X(Ne),Ce):x?x(Ne):X(Ne)},[we,pe,X,l,Ce,x]);return o(E.jsx("div",{className:rt(r,a),children:E.jsx(to.Provider,P(P({},_),{},{children:E.jsx(q9.Provider,{value:{loading:j,setLoading:R,regForm:H,keyArray:N,next:ve,formArrayRef:C,formMapRef:S,lastStep:z,unRegForm:Q,onFormFinish:V},children:$e})}))}))}function sE(t){return E.jsx(ZA,{needDeps:!0,children:E.jsx(y2e,P({},t))})}sE.StepForm=h2e;sE.useForm=to.useForm;var b2e=function(e){var n=e.children;return E.jsx(E.Fragment,{children:n})},x2e=["steps","columns","forceUpdate","grid"],_2e=function(e){var n=e.steps,r=e.columns,i=e.forceUpdate,o=e.grid,a=Nn(e,x2e),s=QA(a),l=y.useCallback(function(c){var d,f;(d=(f=s.current).onCurrentChange)===null||d===void 0||d.call(f,c),i([])},[i,s]),u=y.useMemo(function(){return n==null?void 0:n.map(function(c,d){return y.createElement(J9,P(P({grid:o},c),{},{key:d,layoutType:"StepForm",columns:r[d]}))})},[r,o,n]);return E.jsx(sE,P(P({},a),{},{onCurrentChange:l,children:u}))},S2e=function(e,n){if(e.valueType==="dependency"){var r,i,o,a=(r=e.getFieldProps)===null||r===void 0?void 0:r.call(e);return As(Array.isArray((i=e.name)!==null&&i!==void 0?i:a==null?void 0:a.name),'SchemaForm: fieldProps.name should be NamePath[] when valueType is "dependency"'),As(typeof e.columns=="function",'SchemaForm: columns should be a function when valueType is "dependency"'),Array.isArray((o=e.name)!==null&&o!==void 0?o:a==null?void 0:a.name)?y.createElement(qb,P(P({name:e.name},a),{},{key:e.key}),function(s){return!e.columns||typeof e.columns!="function"?null:n.genItems(e.columns(s))}):null}return!0},w2e=function(e){if(e.valueType==="divider"){var n;return y.createElement(MY,P(P({},(n=e.getFieldProps)===null||n===void 0?void 0:n.call(e)),{},{key:e.key}))}return!0},E2e=function(e,n){var r=n.action,i=n.formRef,o=n.type,a=n.originItem,s=P(P({},Co(e,["dataIndex","width","render","renderFormItem","renderText","title"])),{},{name:e.name||e.key||e.dataIndex,width:e.width,render:e!=null&&e.render?function(d,f,h){var v,m,g,x;return e==null||(v=e.render)===null||v===void 0?void 0:v.call(e,d,f,h,r==null?void 0:r.current,P(P({type:o},e),{},{key:(m=e.key)===null||m===void 0?void 0:m.toString(),formItemProps:(g=e.getFormItemProps)===null||g===void 0?void 0:g.call(e),fieldProps:(x=e.getFieldProps)===null||x===void 0?void 0:x.call(e)}))}:void 0}),l=function(){return E.jsx(IS,P(P({},s),{},{ignoreFormItem:!0}))},u=e!=null&&e.renderFormItem?function(d,f){var h,v,m,g,x=No(P(P({},f),{},{onChange:void 0}));return e==null||(h=e.renderFormItem)===null||h===void 0?void 0:h.call(e,P(P({type:o},e),{},{key:(v=e.key)===null||v===void 0?void 0:v.toString(),formItemProps:(m=e.getFormItemProps)===null||m===void 0?void 0:m.call(e),fieldProps:(g=e.getFieldProps)===null||g===void 0?void 0:g.call(e),originProps:a}),P(P({},x),{},{defaultRender:l,type:o}),i.current)}:void 0,c=function(){if(e!=null&&e.renderFormItem){var f=u==null?void 0:u(null,{});if(!f||e.ignoreFormItem)return f}return y.createElement(IS,P(P({},s),{},{key:[e.key,e.index||0].join("-"),renderFormItem:u}))};return e.dependencies?E.jsx(qb,{name:e.dependencies||[],children:c},e.key):c()},C2e=function(e,n){var r=n.genItems;if(e.valueType==="formList"&&e.dataIndex){var i,o;return!e.columns||!Array.isArray(e.columns)?null:y.createElement(PCe,P(P({},(i=e.getFormItemProps)===null||i===void 0?void 0:i.call(e)),{},{key:e.key,name:e.dataIndex,label:e.label,initialValue:e.initialValue,colProps:e.colProps,rowProps:e.rowProps},(o=e.getFieldProps)===null||o===void 0?void 0:o.call(e)),r(e.columns))}return!0},T2e=function(e,n){var r=n.genItems;if(e.valueType==="formSet"&&e.dataIndex){var i,o;return!e.columns||!Array.isArray(e.columns)?null:y.createElement(kCe,P(P({},(i=e.getFormItemProps)===null||i===void 0?void 0:i.call(e)),{},{key:e.key,initialValue:e.initialValue,name:e.dataIndex,label:e.label,colProps:e.colProps,rowProps:e.rowProps},(o=e.getFieldProps)===null||o===void 0?void 0:o.call(e)),r(e.columns))}return!0},R2e=function(e,n){var r=n.genItems;if(e.valueType==="group"){var i;return!e.columns||!Array.isArray(e.columns)?null:E.jsx(B2e,P(P({label:e.label,colProps:e.colProps,rowProps:e.rowProps},(i=e.getFieldProps)===null||i===void 0?void 0:i.call(e)),{},{children:r(e.columns)}),e.key)}return!0},P2e=function(e){return e.valueType&&typeof e.valueType=="string"&&["index","indexBorder","option"].includes(e==null?void 0:e.valueType)?null:!0},F4=[P2e,R2e,C2e,T2e,w2e,S2e],A2e=function(e,n){for(var r=0;r<F4.length;r++){var i=F4[r],o=i(e,n);if(o!==!0)return o}return E2e(e,n)},O2e=["columns","layoutType","type","action","shouldUpdate","formRef"],N2e={DrawerForm:XCe,QueryFilter:d2e,LightFilter:JCe,StepForm:sE.StepForm,StepsForm:_2e,ModalForm:e2e,Embed:b2e,Form:Na};function J9(t){var e=t.columns,n=t.layoutType,r=n===void 0?"Form":n,i=t.type,o=i===void 0?"form":i,a=t.action,s=t.shouldUpdate,l=s===void 0?function(I,L){return wd(I)!==wd(L)}:s,u=t.formRef,c=Nn(t,O2e),d=N2e[r]||Na,f=to.useForm(),h=ht(f,1),v=h[0],m=to.useFormInstance(),g=y.useState([]),x=ht(g,2),_=x[1],w=y.useState(function(){return[]}),S=ht(w,2),C=S[0],O=S[1],T=l1e(t.form||m||v),N=y.useRef(),M=QA(t),D=ci(function(I){return I.filter(function(L){return!(L.hideInForm&&o==="form")}).sort(function(L,k){return k.order||L.order?(k.order||0)-(L.order||0):(k.index||0)-(L.index||0)}).map(function(L,k){var B=za(L.title,L,"form",E.jsx(Cp,{label:L.title,tooltip:L.tooltip||L.tip})),q=No({title:B,label:B,name:L.name,valueType:za(L.valueType,{}),key:L.key||L.dataIndex||k,columns:L.columns,valueEnum:L.valueEnum,dataIndex:L.dataIndex||L.key,initialValue:L.initialValue,width:L.width,index:L.index,readonly:L.readonly,colSize:L.colSize,colProps:L.colProps,rowProps:L.rowProps,className:L.className,tooltip:L.tooltip||L.tip,dependencies:L.dependencies,proFieldProps:L.proFieldProps,ignoreFormItem:L.ignoreFormItem,getFieldProps:L.fieldProps?function(){return za(L.fieldProps,T.current,L)}:void 0,getFormItemProps:L.formItemProps?function(){return za(L.formItemProps,T.current,L)}:void 0,render:L.render,renderFormItem:L.renderFormItem,renderText:L.renderText,request:L.request,params:L.params,transform:L.transform,convertValue:L.convertValue,debounceTime:L.debounceTime,defaultKeyWords:L.defaultKeyWords});return A2e(q,{action:a,type:o,originItem:L,formRef:T,genItems:D})}).filter(function(L){return!!L})}),F=y.useCallback(function(I,L){var k=M.current.onValuesChange;(l===!0||typeof l=="function"&&l(L,N.current))&&O([]),N.current=L,k==null||k(I,L)},[M,l]),j=$a(function(){if(T.current&&!(e.length&&Array.isArray(e[0])))return D(e)},[e,c==null?void 0:c.open,a,o,C,!!T.current]),R=$a(function(){return r==="StepsForm"?{forceUpdate:_,columns:e}:{}},[e,r]);return y.useImperativeHandle(u,function(){return T.current},[T.current]),E.jsx(d,P(P(P({},R),c),{},{onInit:function(L,k){var B;u&&(u.current=k),c==null||(B=c.onInit)===null||B===void 0||B.call(c,L,k),T.current=k},form:t.form||v,formRef:T,onValuesChange:F,children:j}))}var M2e=function(e){var n=oi(),r=to.useFormInstance();if(e.render===!1)return null;var i=e.onSubmit,o=e.render,a=e.onReset,s=e.searchConfig,l=s===void 0?{}:s,u=e.submitButtonProps,c=e.resetButtonProps,d=Ps.useToken(),f=d.token,h=function(){r.submit(),i==null||i()},v=function(){r.resetFields(),a==null||a()},m=l.submitText,g=m===void 0?n.getMessage("tableForm.submit","提交"):m,x=l.resetText,_=x===void 0?n.getMessage("tableForm.reset","重置"):x,w=[];c!==!1&&w.push(y.createElement(es,P(P({},Co(c,["preventDefault"])),{},{key:"rest",onClick:function(O){var T;c!=null&&c.preventDefault||v(),c==null||(T=c.onClick)===null||T===void 0||T.call(c,O)}}),_)),u!==!1&&w.push(y.createElement(es,P(P({type:"primary"},Co(u||{},["preventDefault"])),{},{key:"submit",onClick:function(O){var T;u!=null&&u.preventDefault||h(),u==null||(T=u.onClick)===null||T===void 0||T.call(u,O)}}),g));var S=o?o(P(P({},e),{},{form:r,submit:h,reset:v}),w):w;return S?Array.isArray(S)?(S==null?void 0:S.length)<1?null:(S==null?void 0:S.length)===1?S[0]:E.jsx("div",{style:{display:"flex",gap:f.marginXS,alignItems:"center"},children:S}):S:null},I2e=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","transformKey","formRef","onInit","form","loading","formComponentType","extraUrlParams","syncToUrl","onUrlSearchChange","onReset","omitNil","isKeyPressSubmit","autoFocusFirstInput","grid","rowProps","colProps"],D2e=["extraUrlParams","syncToUrl","isKeyPressSubmit","syncToUrlAsImportant","syncToInitialValues","children","contentRender","submitter","fieldProps","proFieldProps","formItemProps","groupProps","dateFormatter","formRef","onInit","form","formComponentType","onReset","grid","rowProps","colProps","omitNil","request","params","initialValues","formKey","readonly","onLoadingChange","loading"],w_=function(e,n,r){return e===!0?n:za(e,n,r)},j4=function(e){return!e||Array.isArray(e)?e:[e]};function L2e(t){var e,n=t.children,r=t.contentRender,i=t.submitter;t.fieldProps,t.formItemProps,t.groupProps;var o=t.transformKey,a=t.formRef,s=t.onInit,l=t.form,u=t.loading;t.formComponentType;var c=t.extraUrlParams,d=c===void 0?{}:c,f=t.syncToUrl,h=t.onUrlSearchChange,v=t.onReset,m=t.omitNil,g=m===void 0?!0:m;t.isKeyPressSubmit;var x=t.autoFocusFirstInput,_=x===void 0?!0:x,w=t.grid,S=t.rowProps,C=t.colProps,O=Nn(t,I2e),T=to.useFormInstance(),N=(Qn===null||Qn===void 0||(e=Qn.useConfig)===null||e===void 0?void 0:e.call(Qn))||{componentSize:"middle"},M=N.componentSize,D=y.useRef(l||T),F=Cg({grid:w,rowProps:S}),j=F.RowWrapper,R=ci(function(){return T}),I=y.useMemo(function(){return{getFieldsFormatValue:function(H){var Q;return o((Q=R())===null||Q===void 0?void 0:Q.getFieldsValue(H),g)},getFieldFormatValue:function(){var H,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],V=j4(Q);if(!V)throw new Error("nameList is require");var W=(H=R())===null||H===void 0?void 0:H.getFieldValue(V),te=V?Ha({},V,W):W;return xo(o(te,g,V),V)},getFieldFormatValueObject:function(H){var Q,V=j4(H),W=(Q=R())===null||Q===void 0?void 0:Q.getFieldValue(V),te=V?Ha({},V,W):W;return o(te,g,V)},validateFieldsReturnFormatValue:function(){var z=Ln(Pn().mark(function Q(V){var W,te,K;return Pn().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(!(!Array.isArray(V)&&V)){ee.next=2;break}throw new Error("nameList must be array");case 2:return ee.next=4,(W=R())===null||W===void 0?void 0:W.validateFields(V);case 4:return te=ee.sent,K=o(te,g),ee.abrupt("return",K||{});case 7:case"end":return ee.stop()}},Q)}));function H(Q){return z.apply(this,arguments)}return H}()}},[g,o]),L=y.useMemo(function(){return je.Children.toArray(n).map(function(z,H){return H===0&&je.isValidElement(z)&&_?je.cloneElement(z,P(P({},z.props),{},{autoFocus:_})):z})},[_,n]),k=y.useMemo(function(){return typeof i=="boolean"||!i?{}:i},[i]),B=y.useMemo(function(){if(i!==!1)return E.jsx(M2e,P(P({},k),{},{onReset:function(){var H,Q,V=o((H=D.current)===null||H===void 0?void 0:H.getFieldsValue(),g);if(k==null||(Q=k.onReset)===null||Q===void 0||Q.call(k,V),v==null||v(V),f){var W,te=Object.keys(o((W=D.current)===null||W===void 0?void 0:W.getFieldsValue(),!1)).reduce(function(K,U){return P(P({},K),{},J({},U,V[U]||void 0))},d);h(w_(f,te||{},"set"))}},submitButtonProps:P({loading:u},k.submitButtonProps)}),"submitter")},[i,k,u,o,g,v,f,d,h]),q=y.useMemo(function(){var z=w?E.jsx(j,{children:L}):L;return r?r(z,B,D.current):z},[w,j,L,r,B]),X=Ty(t.initialValues);return y.useEffect(function(){if(!(f||!t.initialValues||!X||O.request)){var z=dc(t.initialValues,X);As(z,"initialValues 只在 form 初始化时生效，如果你需要异步加载推荐使用 request，或者 initialValues ? <Form/> : null "),As(z,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[t.initialValues]),y.useImperativeHandle(a,function(){return P(P({},D.current),I)},[I,D.current]),y.useEffect(function(){var z,H,Q=o((z=D.current)===null||z===void 0||(H=z.getFieldsValue)===null||H===void 0?void 0:H.call(z,!0),g);s==null||s(Q,P(P({},D.current),I))},[]),E.jsx(Vb.Provider,{value:P(P({},I),{},{formRef:D}),children:E.jsx(Qn,{componentSize:O.size||M,children:E.jsxs(nO.Provider,{value:{grid:w,colProps:C},children:[O.component!==!1&&E.jsx("input",{type:"text",style:{display:"none"}}),q]})})})}var B4=0;function Rg(t){var e=t.extraUrlParams,n=e===void 0?{}:e,r=t.syncToUrl,i=t.isKeyPressSubmit,o=t.syncToUrlAsImportant,a=o===void 0?!1:o,s=t.syncToInitialValues,l=s===void 0?!0:s;t.children,t.contentRender,t.submitter;var u=t.fieldProps,c=t.proFieldProps,d=t.formItemProps,f=t.groupProps,h=t.dateFormatter,v=h===void 0?"string":h,m=t.formRef;t.onInit;var g=t.form,x=t.formComponentType;t.onReset,t.grid,t.rowProps,t.colProps;var _=t.omitNil,w=_===void 0?!0:_,S=t.request,C=t.params,O=t.initialValues,T=t.formKey,N=T===void 0?B4:T;t.readonly;var M=t.onLoadingChange,D=t.loading,F=Nn(t,D2e),j=y.useRef({}),R=Gr(!1,{onChange:M,value:D}),I=ht(R,2),L=I[0],k=I[1],B=Q1e({},{disabled:!r}),q=ht(B,2),X=q[0],z=q[1],H=y.useRef(db());y.useEffect(function(){B4+=0},[]);var Q=o1e({request:S,params:C,proFieldKey:N}),V=ht(Q,1),W=V[0],te=y.useContext(Qn.ConfigContext),K=te.getPrefixCls,U=K("pro-form"),ee=Qi("ProForm",function(ne){return J({},".".concat(U),J({},"> div:not(".concat(ne.proComponentsCls,"-form-light-filter)"),{".pro-field":{maxWidth:"100%","@media screen and (max-width: 575px)":{maxWidth:"calc(93vw - 48px)"},"&-xs":{width:104},"&-s":{width:216},"&-sm":{width:216},"&-m":{width:328},"&-md":{width:328},"&-l":{width:440},"&-lg":{width:440},"&-xl":{width:552}}}))}),fe=ee.wrapSSR,ve=ee.hashId,Ce=y.useState(function(){return r?w_(r,X,"get"):{}}),ue=ht(Ce,2),we=ue[0],pe=ue[1],$e=y.useRef({}),Ne=y.useRef({}),Le=ci(function(ne,Te,$){return S1e(Zbe(ne,v,Ne.current,Te,$),$e.current,Te)});y.useEffect(function(){l||pe({})},[l]);var Ie=ci(function(){return P(P({},X),n)});y.useEffect(function(){r&&z(w_(r,Ie(),"set"))},[n,Ie,r]);var Z=y.useMemo(function(){if(!(typeof window>"u")&&x&&["DrawerForm"].includes(x))return function(ne){return ne.parentNode||document.body}},[x]),ie=ci(Ln(Pn().mark(function ne(){var Te,$,se,re,oe,ye,xe;return Pn().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(F.onFinish){Fe.next=2;break}return Fe.abrupt("return");case 2:if(!L){Fe.next=4;break}return Fe.abrupt("return");case 4:return Fe.prev=4,se=j==null||(Te=j.current)===null||Te===void 0||($=Te.getFieldsFormatValue)===null||$===void 0?void 0:$.call(Te),re=F.onFinish(se),re instanceof Promise&&k(!0),Fe.next=10,re;case 10:r&&(xe=Object.keys(j==null||(oe=j.current)===null||oe===void 0||(ye=oe.getFieldsFormatValue)===null||ye===void 0?void 0:ye.call(oe,void 0,!1)).reduce(function(Ve,qe){var vt;return P(P({},Ve),{},J({},qe,(vt=se[qe])!==null&&vt!==void 0?vt:void 0))},n),Object.keys(X).forEach(function(Ve){xe[Ve]!==!1&&xe[Ve]!==0&&!xe[Ve]&&(xe[Ve]=void 0)}),z(w_(r,xe,"set"))),k(!1),Fe.next=18;break;case 14:Fe.prev=14,Fe.t0=Fe.catch(4),console.log(Fe.t0),k(!1);case 18:case"end":return Fe.stop()}},ne,null,[[4,14]])})));return y.useImperativeHandle(m,function(){return j.current},[!W]),!W&&t.request?E.jsx("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"},children:E.jsx(Ip,{})}):fe(E.jsx(Yb.Provider,{value:{mode:t.readonly?"read":"edit"},children:E.jsx(ZA,{needDeps:!0,children:E.jsx(Eg.Provider,{value:{formRef:j,fieldProps:u,proFieldProps:c,formItemProps:d,groupProps:f,formComponentType:x,getPopupContainer:Z,formKey:H.current,setFieldValueType:function(Te,$){var se=$.valueType,re=se===void 0?"text":se,oe=$.dateFormat,ye=$.transform;Array.isArray(Te)&&($e.current=Ha($e.current,Te,ye),Ne.current=Ha(Ne.current,Te,{valueType:re,dateFormat:oe}))}},children:E.jsx(qm.Provider,{value:{},children:E.jsx(to,P(P({onKeyPress:function(Te){if(i&&Te.key==="Enter"){var $;($=j.current)===null||$===void 0||$.submit()}},autoComplete:"off",form:g},Co(F,["ref","labelWidth","autoFocusFirstInput"])),{},{ref:function(Te){j.current&&(j.current.nativeElement=Te==null?void 0:Te.nativeElement)},initialValues:a?P(P(P({},O),W),we):P(P(P({},we),O),W),onValuesChange:function(Te,$){var se;F==null||(se=F.onValuesChange)===null||se===void 0||se.call(F,Le(Te,!!w),Le($,!!w))},className:rt(t.className,U,ve),onFinish:ie,children:E.jsx(L2e,P(P({transformKey:Le,autoComplete:"off",loading:L,onUrlSearchChange:z},t),{},{formRef:j,initialValues:P(P({},O),W)}))}))})})})}))}var k2e=function(e){return J(J({},"".concat(e.componentCls,"-collapse-label"),{paddingInline:1,paddingBlock:1}),"".concat(e.componentCls,"-container"),J({},"".concat(e.antCls,"-form-item"),{marginBlockEnd:0}))};function $2e(t){return Qi("LightWrapper",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[k2e(n)]})}var F2e=["label","size","disabled","onChange","className","style","children","valuePropName","placeholder","labelFormatter","bordered","footerRender","allowClear","otherFieldProps","valueType","placement"],j2e=function(e){var n=e.label,r=e.size,i=e.disabled,o=e.onChange,a=e.className,s=e.style,l=e.children,u=e.valuePropName,c=e.placeholder,d=e.labelFormatter,f=e.bordered,h=e.footerRender,v=e.allowClear,m=e.otherFieldProps,g=e.valueType,x=e.placement,_=Nn(e,F2e),w=y.useContext(Qn.ConfigContext),S=w.getPrefixCls,C=S("pro-field-light-wrapper"),O=$2e(C),T=O.wrapSSR,N=O.hashId,M=y.useState(e[u]),D=ht(M,2),F=D[0],j=D[1],R=Gr(!1),I=ht(R,2),L=I[0],k=I[1],B=function(){for(var H,Q=arguments.length,V=new Array(Q),W=0;W<Q;W++)V[W]=arguments[W];m==null||(H=m.onChange)===null||H===void 0||H.call.apply(H,[m].concat(V)),o==null||o.apply(void 0,V)},q=e[u],X=y.useMemo(function(){var z;return q&&(g!=null&&(z=g.toLowerCase())!==null&&z!==void 0&&z.endsWith("range")&&g!=="digitRange"&&!d?Jbe(q,w9[g]||"YYYY-MM-DD"):Array.isArray(q)?q.map(function(H){return ur(H)==="object"&&H.label&&H.value?H.label:H}):q)},[q,g,d]);return T(E.jsx(x9,{disabled:i,open:L,onOpenChange:k,placement:x,label:E.jsx(Cc,{ellipsis:!0,size:r,onClear:function(){B==null||B(),j(null)},bordered:f,style:s,className:a,label:n,placeholder:c,value:X,disabled:i,formatter:d,allowClear:v}),footer:{onClear:function(){return j(null)},onConfirm:function(){B==null||B(F),k(!1)}},footerRender:h,children:E.jsx("div",{className:rt("".concat(C,"-container"),N,a),style:s,children:je.cloneElement(l,P(P({},_),{},J(J({},u,F),"onChange",function(H){j(H!=null&&H.target?H.target.value:H)}),l.props))})}))};function Na(t){return E.jsx(Rg,P({layout:"vertical",contentRender:function(n,r){return E.jsxs(E.Fragment,{children:[n,r]})}},t))}Na.Group=Y9;Na.useForm=to.useForm;Na.Item=K9;Na.useWatch=to.useWatch;Na.ErrorList=to.ErrorList;Na.Provider=to.Provider;Na.useFormInstance=to.useFormInstance;Na.EditOrReadOnlyContext=Yb;var B2e=Na.Group,Q9={exports:{}};(function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Q9);var z2e=Q9.exports;function H2e(t,e,n){var r,i;if(t===!1)return!1;var o=e.total,a=e.current,s=e.pageSize,l=e.setPageInfo,u=ur(t)==="object"?t:{};return P(P({showTotal:function(d,f){return"".concat(n.getMessage("pagination.total.range","第")," ").concat(f[0],"-").concat(f[1]," ").concat(n.getMessage("pagination.total.total","条/总共")," ").concat(d," ").concat(n.getMessage("pagination.total.item","条"))},total:o},u),{},{current:t!==!0&&t&&(r=t.current)!==null&&r!==void 0?r:a,pageSize:t!==!0&&t&&(i=t.pageSize)!==null&&i!==void 0?i:s,onChange:function(d,f){var h=t,v=h.onChange;v==null||v(d,f||20),(f!==s||a!==d)&&l({pageSize:f,current:d})}})}function U2e(t,e,n){var r=P(P({},n.editableUtils),{},{pageInfo:e.pageInfo,reload:function(){var i=Ln(Pn().mark(function a(s){return Pn().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!s){u.next=3;break}return u.next=3,e.setPageInfo({current:1});case 3:return u.next=5,e==null?void 0:e.reload();case 5:case"end":return u.stop()}},a)}));function o(a){return i.apply(this,arguments)}return o}(),reloadAndRest:function(){var i=Ln(Pn().mark(function a(){return Pn().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n.onCleanSelected(),l.next=3,e.setPageInfo({current:1});case 3:return l.next=5,e==null?void 0:e.reload();case 5:case"end":return l.stop()}},a)}));function o(){return i.apply(this,arguments)}return o}(),reset:function(){var i=Ln(Pn().mark(function a(){var s;return Pn().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,n.resetAll();case 2:return u.next=4,e==null||(s=e.reset)===null||s===void 0?void 0:s.call(e);case 4:return u.next=6,e==null?void 0:e.reload();case 6:case"end":return u.stop()}},a)}));function o(){return i.apply(this,arguments)}return o}(),fullScreen:function(){return n.fullScreen()},clearSelected:function(){return n.onCleanSelected()},setPageInfo:function(o){return e.setPageInfo(o)}});t.current=r}function G2e(t,e){return e.filter(function(n){return n}).length<1?t:e.reduce(function(n,r){return r(n)},t)}var ez=function(e,n){return n===void 0?!1:typeof n=="boolean"?n:n[e]},W2e=function(e){var n;return e&&ur(e)==="object"&&(e==null||(n=e.props)===null||n===void 0?void 0:n.colSpan)},Pg=function(e,n){return e?Array.isArray(e)?e.join("-"):e.toString():"".concat(n)};function V2e(t){return Array.isArray(t)?t.join(","):t==null?void 0:t.toString()}function X2e(t){var e={},n={};return t.forEach(function(r){var i=V2e(r.dataIndex);if(i){if(r.filters){var o=r.defaultFilteredValue;o===void 0?e[i]=null:e[i]=r.defaultFilteredValue}r.sorter&&r.defaultSortOrder&&(n[i]=r.defaultSortOrder)}}),{sort:n,filter:e}}function K2e(){var t,e,n,r,i,o,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=y.useRef(),l=y.useRef(null),u=y.useRef(),c=y.useRef(),d=y.useState(""),f=ht(d,2),h=f[0],v=f[1],m=y.useRef([]),g=Gr(function(){return a.size||a.defaultSize||"middle"},{value:a.size,onChange:a.onSizeChange}),x=ht(g,2),_=x[0],w=x[1],S=y.useMemo(function(){var F,j;if(a!=null&&(F=a.columnsState)!==null&&F!==void 0&&F.defaultValue)return a.columnsState.defaultValue;var R={};return(j=a.columns)===null||j===void 0||j.forEach(function(I,L){var k=I.key,B=I.dataIndex,q=I.fixed,X=I.disable,z=Pg(k??B,L);z&&(R[z]={show:!0,fixed:q,disable:X})}),R},[a.columns]),C=Gr(function(){var F,j,R=a.columnsState||{},I=R.persistenceType,L=R.persistenceKey;if(L&&I&&typeof window<"u"){var k=window[I];try{var B=k==null?void 0:k.getItem(L);if(B){var q;if(a!=null&&(q=a.columnsState)!==null&&q!==void 0&&q.defaultValue){var X;return Cu({},a==null||(X=a.columnsState)===null||X===void 0?void 0:X.defaultValue,JSON.parse(B))}return JSON.parse(B)}}catch(z){console.warn(z)}}return a.columnsStateMap||((F=a.columnsState)===null||F===void 0?void 0:F.value)||((j=a.columnsState)===null||j===void 0?void 0:j.defaultValue)||S},{value:((t=a.columnsState)===null||t===void 0?void 0:t.value)||a.columnsStateMap,onChange:((e=a.columnsState)===null||e===void 0?void 0:e.onChange)||a.onColumnsStateChange}),O=ht(C,2),T=O[0],N=O[1];y.useEffect(function(){var F=a.columnsState||{},j=F.persistenceType,R=F.persistenceKey;if(R&&j&&typeof window<"u"){var I=window[j];try{var L=I==null?void 0:I.getItem(R);if(L){var k;if(a!=null&&(k=a.columnsState)!==null&&k!==void 0&&k.defaultValue){var B;N(Cu({},a==null||(B=a.columnsState)===null||B===void 0?void 0:B.defaultValue,JSON.parse(L)))}else N(JSON.parse(L))}else N(S)}catch(q){console.warn(q)}}},[(n=a.columnsState)===null||n===void 0?void 0:n.persistenceKey,(r=a.columnsState)===null||r===void 0?void 0:r.persistenceType,S]),As(!a.columnsStateMap,"columnsStateMap已经废弃，请使用 columnsState.value 替换"),As(!a.columnsStateMap,"columnsStateMap has been discarded, please use columnsState.value replacement");var M=y.useCallback(function(){var F=a.columnsState||{},j=F.persistenceType,R=F.persistenceKey;if(!(!R||!j||typeof window>"u")){var I=window[j];try{I==null||I.removeItem(R)}catch(L){console.warn(L)}}},[a.columnsState]);y.useEffect(function(){var F,j;if(!(!((F=a.columnsState)!==null&&F!==void 0&&F.persistenceKey)||!((j=a.columnsState)!==null&&j!==void 0&&j.persistenceType))&&!(typeof window>"u")){var R=a.columnsState,I=R.persistenceType,L=R.persistenceKey,k=window[I];try{k==null||k.setItem(L,JSON.stringify(T))}catch(B){console.warn(B),M()}}},[(i=a.columnsState)===null||i===void 0?void 0:i.persistenceKey,T,(o=a.columnsState)===null||o===void 0?void 0:o.persistenceType]);var D={action:s.current,setAction:function(j){s.current=j},sortKeyColumns:m.current,setSortKeyColumns:function(j){m.current=j},propsRef:c,columnsMap:T,keyWords:h,setKeyWords:function(j){return v(j)},setTableSize:w,tableSize:_,prefixName:u.current,setPrefixName:function(j){u.current=j},setColumnsMap:N,columns:a.columns,rootDomRef:l,clearPersistenceStorage:M,defaultColumnKeyMap:S};return Object.defineProperty(D,"prefixName",{get:function(){return u.current}}),Object.defineProperty(D,"sortKeyColumns",{get:function(){return m.current}}),Object.defineProperty(D,"action",{get:function(){return s.current}}),D}var ch=y.createContext({}),Y2e=function(e){var n=K2e(e.initValue);return E.jsx(ch.Provider,{value:n,children:e.children})},q2e=function(e){return J({},e.componentCls,{marginBlockEnd:16,backgroundColor:Zs(e.colorTextBase,.02),borderRadius:e.borderRadius,border:"none","&-container":{paddingBlock:e.paddingSM,paddingInline:e.paddingLG},"&-info":{display:"flex",alignItems:"center",transition:"all 0.3s",color:e.colorTextTertiary,"&-content":{flex:1},"&-option":{minWidth:48,paddingInlineStart:16}}})};function Z2e(t){return Qi("ProTableAlert",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[q2e(n)]})}var J2e=function(e){var n=e.intl,r=e.onCleanSelected;return[E.jsx("a",{onClick:r,children:n.getMessage("alert.clear","清空")},"0")]};function Q2e(t){var e=t.selectedRowKeys,n=e===void 0?[]:e,r=t.onCleanSelected,i=t.alwaysShowAlert,o=t.selectedRows,a=t.alertInfoRender,s=a===void 0?function(w){var S=w.intl;return E.jsxs(Tu,{children:[S.getMessage("alert.selected","已选择"),n.length,S.getMessage("alert.item","项"),"  "]})}:a,l=t.alertOptionRender,u=l===void 0?J2e:l,c=oi(),d=u&&u({onCleanSelected:r,selectedRowKeys:n,selectedRows:o,intl:c}),f=y.useContext(Qn.ConfigContext),h=f.getPrefixCls,v=h("pro-table-alert"),m=Z2e(v),g=m.wrapSSR,x=m.hashId;if(s===!1)return null;var _=s({intl:c,selectedRowKeys:n,selectedRows:o,onCleanSelected:r});return _===!1||n.length<1&&!i?null:g(E.jsx("div",{className:"".concat(v," ").concat(x).trim(),children:E.jsx("div",{className:"".concat(v,"-container ").concat(x).trim(),children:E.jsxs("div",{className:"".concat(v,"-info ").concat(x).trim(),children:[E.jsx("div",{className:"".concat(v,"-info-content ").concat(x).trim(),children:_}),d?E.jsx("div",{className:"".concat(v,"-info-option ").concat(x).trim(),children:d}):null]})})}))}function eTe(t){var e=t.replace(/[A-Z]/g,function(n){return"-".concat(n.toLowerCase())});return e.startsWith("-")&&(e=e.slice(1)),e}var tTe=function(e,n){return!e&&n!==!1?(n==null?void 0:n.filterType)==="light"?"LightFilter":"QueryFilter":"Form"},nTe=function(e,n,r){return!e&&r==="LightFilter"?Co(P({},n),["labelWidth","defaultCollapsed","filterType"]):e?{}:Co(P({labelWidth:n?n==null?void 0:n.labelWidth:void 0,defaultCollapsed:!0},n),["filterType"])},rTe=function(e,n){return e?Co(n,["ignoreRules"]):P({ignoreRules:!0},n)},iTe=function(e){var n=e.onSubmit,r=e.formRef,i=e.dateFormatter,o=i===void 0?"string":i,a=e.type,s=e.columns,l=e.action,u=e.ghost,c=e.manualRequest,d=e.onReset,f=e.submitButtonLoading,h=e.search,v=e.form,m=e.bordered,g=y.useContext(Il),x=g.hashId,_=a==="form",w=function(){var F=Ln(Pn().mark(function j(R,I){return Pn().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:n&&n(R,I);case 1:case"end":return k.stop()}},j)}));return function(R,I){return F.apply(this,arguments)}}(),S=y.useContext(Qn.ConfigContext),C=S.getPrefixCls,O=y.useMemo(function(){return s.filter(function(F){return!(F===Ba.EXPAND_COLUMN||F===Ba.SELECTION_COLUMN||(F.hideInSearch||F.search===!1)&&a!=="form"||a==="form"&&F.hideInForm)}).map(function(F){var j,R=!F.valueType||["textarea","jsonCode","code"].includes(F==null?void 0:F.valueType)&&a==="table"?"text":F==null?void 0:F.valueType,I=(F==null?void 0:F.key)||(F==null||(j=F.dataIndex)===null||j===void 0?void 0:j.toString());return P(P(P({},F),{},{width:void 0},F.search&&ur(F.search)==="object"?F.search:{}),{},{valueType:R,proFieldProps:P(P({},F.proFieldProps),{},{proFieldKey:I?"table-field-".concat(I):void 0})})})},[s,a]),T=C("pro-table-search"),N=C("pro-table-form"),M=y.useMemo(function(){return tTe(_,h)},[h,_]),D=y.useMemo(function(){return{submitter:{submitButtonProps:{loading:f}}}},[f]);return E.jsx("div",{className:rt(x,J(J(J(J(J(J(J(J(J({},C("pro-card"),!0),"".concat(C("pro-card"),"-border"),!!m),"".concat(C("pro-card"),"-bordered"),!!m),"".concat(C("pro-card"),"-ghost"),!!u),T,!0),N,_),C("pro-table-search-".concat(eTe(M))),!0),"".concat(T,"-ghost"),u),h==null?void 0:h.className,h!==!1&&(h==null?void 0:h.className))),children:E.jsx(J9,P(P(P(P({layoutType:M,columns:O,type:a},D),nTe(_,h,M)),rTe(_,v||{})),{},{formRef:r,action:l,dateFormatter:o,onInit:function(j,R){if(r.current=R,a!=="form"){var I,L,k,B=(I=l.current)===null||I===void 0?void 0:I.pageInfo,q=j,X=q.current,z=X===void 0?B==null?void 0:B.current:X,H=q.pageSize,Q=H===void 0?B==null?void 0:B.pageSize:H;if((L=l.current)===null||L===void 0||(k=L.setPageInfo)===null||k===void 0||k.call(L,P(P({},B),{},{current:parseInt(z,10),pageSize:parseInt(Q,10)})),c)return;w(j,!0)}},onReset:function(j){d==null||d(j)},onFinish:function(j){w(j,!1)},initialValues:v==null?void 0:v.initialValues}))})},oTe=function(t){ia(n,t);var e=RP(n);function n(){var r;Vn(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),J(Oi(r),"onSubmit",function(s,l){var u=r.props,c=u.pagination,d=u.beforeSearchSubmit,f=d===void 0?function(C){return C}:d,h=u.action,v=u.onSubmit,m=u.onFormSearchSubmit,g=c?No({current:c.current,pageSize:c.pageSize}):{},x=P(P({},s),{},{_timestamp:Date.now()},g),_=Co(f(x),Object.keys(g));if(m(_),!l){var w,S;(w=h.current)===null||w===void 0||(S=w.setPageInfo)===null||S===void 0||S.call(w,{current:1})}v&&!l&&(v==null||v(s))}),J(Oi(r),"onReset",function(s){var l,u,c=r.props,d=c.pagination,f=c.beforeSearchSubmit,h=f===void 0?function(w){return w}:f,v=c.action,m=c.onFormSearchSubmit,g=c.onReset,x=d?No({current:d.current,pageSize:d.pageSize}):{},_=Co(h(P(P({},s),x)),Object.keys(x));m(_),(l=v.current)===null||l===void 0||(u=l.setPageInfo)===null||u===void 0||u.call(l,{current:1}),g==null||g()}),J(Oi(r),"isEqual",function(s){var l=r.props,u=l.columns,c=l.loading,d=l.formRef,f=l.type,h=l.cardBordered,v=l.dateFormatter,m=l.form,g=l.search,x=l.manualRequest,_={columns:u,loading:c,formRef:d,type:f,cardBordered:h,dateFormatter:v,form:m,search:g,manualRequest:x};return!dc(_,{columns:s.columns,formRef:s.formRef,loading:s.loading,type:s.type,cardBordered:s.cardBordered,dateFormatter:s.dateFormatter,form:s.form,search:s.search,manualRequest:s.manualRequest})}),J(Oi(r),"shouldComponentUpdate",function(s){return r.isEqual(s)}),J(Oi(r),"render",function(){var s=r.props,l=s.columns,u=s.loading,c=s.formRef,d=s.type,f=s.action,h=s.cardBordered,v=s.dateFormatter,m=s.form,g=s.search,x=s.pagination,_=s.ghost,w=s.manualRequest,S=x?No({current:x.current,pageSize:x.pageSize}):{};return E.jsx(iTe,{submitButtonLoading:u,columns:l,type:d,ghost:_,formRef:c,onSubmit:r.onSubmit,manualRequest:w,onReset:r.onReset,dateFormatter:v,search:g,form:P(P({autoFocusFirstInput:!1},m),{},{extraUrlParams:P(P({},S),m==null?void 0:m.extraUrlParams)}),action:f,bordered:ez("search",h)})}),r}return dr(n)}(je.Component),aTe=function(e){return J(J(J({},e.componentCls,{width:"auto","&-title":{display:"flex",alignItems:"center",justifyContent:"space-between",height:"32px"},"&-overlay":J(J(J(J({},"".concat(e.antCls,"-popover-inner-content"),{width:"200px",paddingBlock:0,paddingInline:0,paddingBlockEnd:8}),"".concat(e.antCls,"-tree-node-content-wrapper:hover"),{backgroundColor:"transparent"}),"".concat(e.antCls,"-tree-draggable-icon"),{cursor:"grab"}),"".concat(e.antCls,"-tree-treenode"),J(J({alignItems:"center","&:hover":J({},"".concat(e.componentCls,"-list-item-option"),{display:"block"})},"".concat(e.antCls,"-tree-checkbox"),{marginInlineEnd:"4px"}),"".concat(e.antCls,"-tree-title"),{width:"100%"}))}),"".concat(e.componentCls,"-action-rest-button"),{color:e.colorPrimary}),"".concat(e.componentCls,"-list"),J(J(J({display:"flex",flexDirection:"column",width:"100%",paddingBlockStart:8},"&".concat(e.componentCls,"-list-group"),{paddingBlockStart:0}),"&-title",{marginBlockStart:"6px",marginBlockEnd:"6px",paddingInlineStart:"24px",color:e.colorTextSecondary,fontSize:"12px"}),"&-item",{display:"flex",alignItems:"center",maxHeight:24,justifyContent:"space-between","&-title":{flex:1,maxWidth:80,textOverflow:"ellipsis",overflow:"hidden",wordBreak:"break-all",whiteSpace:"nowrap"},"&-option":{display:"none",float:"right",cursor:"pointer","> span":{"> span.anticon":{color:e.colorPrimary}},"> span + span":{marginInlineStart:4}}}))};function sTe(t){return Qi("ColumnSetting",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[aTe(n)]})}var lTe=["key","dataIndex","children"],uTe=["disabled"],E2=function(e){var n=e.title,r=e.show,i=e.children,o=e.columnKey,a=e.fixed,s=y.useContext(ch),l=s.columnsMap,u=s.setColumnsMap;return r?E.jsx(wi,{title:n,children:E.jsx("span",{onClick:function(d){d.stopPropagation(),d.preventDefault();var f=l[o]||{},h=P(P({},l),{},J({},o,P(P({},f),{},{fixed:a})));u(h)},children:i})}):null},cTe=function(e){var n=e.columnKey,r=e.isLeaf,i=e.title,o=e.className,a=e.fixed,s=e.showListItemOption,l=oi(),u=y.useContext(Il),c=u.hashId,d=E.jsxs("span",{className:"".concat(o,"-list-item-option ").concat(c).trim(),children:[E.jsx(E2,{columnKey:n,fixed:"left",title:l.getMessage("tableToolBar.leftPin","固定在列首"),show:a!=="left",children:E.jsx(KY,{})}),E.jsx(E2,{columnKey:n,fixed:void 0,title:l.getMessage("tableToolBar.noPin","不固定"),show:!!a,children:E.jsx(ZJ,{})}),E.jsx(E2,{columnKey:n,fixed:"right",title:l.getMessage("tableToolBar.rightPin","固定在列尾"),show:a!=="right",children:E.jsx(OF,{})})]});return E.jsxs("span",{className:"".concat(o,"-list-item ").concat(c).trim(),children:[E.jsx("div",{className:"".concat(o,"-list-item-title ").concat(c).trim(),children:i}),s&&!r?d:null]},n)},C2=function(e){var n,r,i,o=e.list,a=e.draggable,s=e.checkable,l=e.showListItemOption,u=e.className,c=e.showTitle,d=c===void 0?!0:c,f=e.title,h=e.listHeight,v=h===void 0?280:h,m=y.useContext(Il),g=m.hashId,x=y.useContext(ch),_=x.columnsMap,w=x.setColumnsMap,S=x.sortKeyColumns,C=x.setSortKeyColumns,O=o&&o.length>0,T=y.useMemo(function(){if(!O)return{};var F=[],j=new Map,R=function I(L,k){return L.map(function(B){var q,X=B.key;B.dataIndex;var z=B.children,H=Nn(B,lTe),Q=Pg(X,[k==null?void 0:k.columnKey,H.index].filter(Boolean).join("-")),V=_[Q||"null"]||{show:!0};V.show!==!1&&!z&&F.push(Q);var W=P(P({key:Q},Co(H,["className"])),{},{selectable:!1,disabled:V.disable===!0,disableCheckbox:typeof V.disable=="boolean"?V.disable:(q=V.disable)===null||q===void 0?void 0:q.checkbox,isLeaf:k?!0:void 0});if(z){var te;W.children=I(z,P(P({},V),{},{columnKey:Q})),(te=W.children)!==null&&te!==void 0&&te.every(function(K){return F==null?void 0:F.includes(K.key)})&&F.push(Q)}return j.set(X,W),W})};return{list:R(o),keys:F,map:j}},[_,o,O]),N=ci(function(F,j,R){var I=P({},_),L=_n(S),k=L.findIndex(function(z){return z===F}),B=L.findIndex(function(z){return z===j}),q=R>=k;if(!(k<0)){var X=L[k];L.splice(k,1),R===0?L.unshift(X):L.splice(q?B:B+1,0,X),L.forEach(function(z,H){I[z]=P(P({},I[z]||{}),{},{order:H})}),w(I),C(L)}}),M=ci(function(F){var j=P({},_),R=function I(L){var k,B=P({},j[L]);if(B.show=F.checked,(k=T.map)!==null&&k!==void 0&&(k=k.get(L))!==null&&k!==void 0&&k.children){var q;(q=T.map.get(L))===null||q===void 0||(q=q.children)===null||q===void 0||q.forEach(function(X){return I(X.key)})}j[L]=B};R(F.node.key),w(P({},j))});if(!O)return null;var D=E.jsx(du,{itemHeight:24,draggable:a&&!!((n=T.list)!==null&&n!==void 0&&n.length)&&((r=T.list)===null||r===void 0?void 0:r.length)>1,checkable:s,onDrop:function(j){var R=j.node.key,I=j.dragNode.key,L=j.dropPosition,k=j.dropToGap,B=L===-1||!k?L+1:L;N(I,R,B)},blockNode:!0,onCheck:function(j,R){return M(R)},checkedKeys:T.keys,showLine:!1,titleRender:function(j){var R=P(P({},j),{},{children:void 0});if(!R.title)return null;var I=za(R.title,R),L=E.jsx(P$.Text,{style:{width:80},ellipsis:{tooltip:I},children:I});return E.jsx(cTe,P(P({className:u},Co(R,["key"])),{},{showListItemOption:l,title:L,columnKey:R.key}))},height:v,treeData:(i=T.list)===null||i===void 0?void 0:i.map(function(F){F.disabled;var j=Nn(F,uTe);return j})});return E.jsxs(E.Fragment,{children:[d&&E.jsx("span",{className:"".concat(u,"-list-title ").concat(g).trim(),children:f}),D]})},dTe=function(e){var n=e.localColumns,r=e.className,i=e.draggable,o=e.checkable,a=e.showListItemOption,s=e.listsHeight,l=y.useContext(Il),u=l.hashId,c=[],d=[],f=[],h=oi();n.forEach(function(g){if(!g.hideInSetting){var x=g.fixed;if(x==="left"){d.push(g);return}if(x==="right"){c.push(g);return}f.push(g)}});var v=c&&c.length>0,m=d&&d.length>0;return E.jsxs("div",{className:rt("".concat(r,"-list"),u,J({},"".concat(r,"-list-group"),v||m)),children:[E.jsx(C2,{title:h.getMessage("tableToolBar.leftFixedTitle","固定在左侧"),list:d,draggable:i,checkable:o,showListItemOption:a,className:r,listHeight:s}),E.jsx(C2,{list:f,draggable:i,checkable:o,showListItemOption:a,title:h.getMessage("tableToolBar.noFixedTitle","不固定"),showTitle:m||v,className:r,listHeight:s}),E.jsx(C2,{title:h.getMessage("tableToolBar.rightFixedTitle","固定在右侧"),list:c,draggable:i,checkable:o,showListItemOption:a,className:r,listHeight:s})]})};function fTe(t){var e,n,r,i,o=y.useRef(null),a=y.useContext(ch),s=t.columns,l=t.checkedReset,u=l===void 0?!0:l,c=a.columnsMap,d=a.setColumnsMap,f=a.clearPersistenceStorage;y.useEffect(function(){var M;if((M=a.propsRef.current)!==null&&M!==void 0&&(M=M.columnsState)!==null&&M!==void 0&&M.value){var D;o.current=JSON.parse(JSON.stringify(((D=a.propsRef.current)===null||D===void 0||(D=D.columnsState)===null||D===void 0?void 0:D.value)||{}))}},[]);var h=ci(function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,D={},F=function j(R){R.forEach(function(I){var L=I.key,k=I.fixed,B=I.index,q=I.children,X=I.disable,z=Pg(L,B);if(z){var H,Q;D[z]={show:X?(H=c[z])===null||H===void 0?void 0:H.show:M,fixed:k,disable:X,order:(Q=c[z])===null||Q===void 0?void 0:Q.order}}q&&j(q)})};F(s),d(D)}),v=ci(function(M){M.target.checked?h():h(!1)}),m=ci(function(){var M;f==null||f(),d(((M=a.propsRef.current)===null||M===void 0||(M=M.columnsState)===null||M===void 0?void 0:M.defaultValue)||o.current||a.defaultColumnKeyMap)}),g=Object.values(c).filter(function(M){return!M||M.show===!1}),x=g.length>0&&g.length!==s.length,_=oi(),w=y.useContext(Qn.ConfigContext),S=w.getPrefixCls,C=S("pro-table-column-setting"),O=sTe(C),T=O.wrapSSR,N=O.hashId;return T(E.jsx(Dd,{arrow:!1,title:E.jsxs("div",{className:"".concat(C,"-title ").concat(N).trim(),children:[t.checkable===!1?E.jsx("div",{}):E.jsx(Em,{indeterminate:x,checked:g.length===0&&g.length!==s.length,onChange:function(D){v(D)},children:_.getMessage("tableToolBar.columnDisplay","列展示")}),u?E.jsx("a",{onClick:m,className:"".concat(C,"-action-rest-button ").concat(N).trim(),children:_.getMessage("tableToolBar.reset","重置")}):null,t!=null&&t.extra?E.jsx(Tu,{size:12,align:"center",children:t.extra}):null]}),overlayClassName:"".concat(C,"-overlay ").concat(N).trim(),trigger:"click",placement:"bottomRight",content:E.jsx(dTe,{checkable:(e=t.checkable)!==null&&e!==void 0?e:!0,draggable:(n=t.draggable)!==null&&n!==void 0?n:!0,showListItemOption:(r=t.showListItemOption)!==null&&r!==void 0?r:!0,className:C,localColumns:s,listsHeight:t.listsHeight}),children:t.children||E.jsx(wi,{title:_.getMessage("tableToolBar.columnSetting","列设置"),children:(i=t.settingIcon)!==null&&i!==void 0?i:E.jsx(UJ,{})})}))}var hTe=function(e){var n=y.useContext(Il),r=n.hashId,i=e.items,o=i===void 0?[]:i,a=e.type,s=a===void 0?"inline":a,l=e.prefixCls,u=e.activeKey,c=e.defaultActiveKey,d=Gr(u||c,{value:u,onChange:e.onChange}),f=ht(d,2),h=f[0],v=f[1];if(o.length<1)return null;var m=o.find(function(x){return x.key===h})||o[0];if(s==="inline")return E.jsx("div",{className:rt("".concat(l,"-menu"),"".concat(l,"-inline-menu"),r),children:o.map(function(x,_){return E.jsx("div",{onClick:function(){v(x.key)},className:rt("".concat(l,"-inline-menu-item"),m.key===x.key?"".concat(l,"-inline-menu-item-active"):void 0,r),children:x.label},x.key||_)})});if(s==="tab")return E.jsx(Gf,{items:o.map(function(x){var _;return P(P({},x),{},{key:(_=x.key)===null||_===void 0?void 0:_.toString()})}),activeKey:m.key,onTabClick:function(_){return v(_)},children:zp(Uf,"4.23.0")<0?o==null?void 0:o.map(function(x,_){return y.createElement(Gf.TabPane,P(P({},x),{},{key:x.key||_,tab:x.label}))}):null});var g=E9({selectedKeys:[m.key],onClick:function(_){v(_.key)},items:o.map(function(x,_){return{key:x.key||_,disabled:x.disabled,label:x.label}})});return E.jsx("div",{className:rt("".concat(l,"-menu"),"".concat(l,"-dropdownmenu")),children:E.jsx(mw,P(P({trigger:["click"]},g),{},{children:E.jsxs(Tu,{className:"".concat(l,"-dropdownmenu-label"),children:[m.label,E.jsx(Xy,{})]})}))})},pTe=function(e){return J({},e.componentCls,J(J(J({lineHeight:"1","&-container":{display:"flex",justifyContent:"space-between",paddingBlock:e.padding,paddingInline:0,"&-mobile":{flexDirection:"column"}},"&-title":{display:"flex",alignItems:"center",justifyContent:"flex-start",color:e.colorTextHeading,fontWeight:"500",fontSize:e.fontSizeLG},"&-search:not(:last-child)":{display:"flex",alignItems:"center",justifyContent:"flex-start"},"&-setting-item":{marginBlock:0,marginInline:4,color:e.colorIconHover,fontSize:e.fontSizeLG,cursor:"pointer","> span":{display:"block",width:"100%",height:"100%"},"&:hover":{color:e.colorPrimary}},"&-left":J(J({display:"flex",flexWrap:"wrap",alignItems:"center",gap:e.marginXS,justifyContent:"flex-start",maxWidth:"calc(100% - 200px)"},"".concat(e.antCls,"-tabs"),{width:"100%"}),"&-has-tabs",{overflow:"hidden"}),"&-right":{flex:1,display:"flex",flexWrap:"wrap",justifyContent:"flex-end",gap:e.marginXS},"&-extra-line":{marginBlockEnd:e.margin},"&-setting-items":{display:"flex",gap:e.marginXS,lineHeight:"32px",alignItems:"center"},"&-filter":J({"&:not(:last-child)":{marginInlineEnd:e.margin},display:"flex",alignItems:"center"},"div$".concat(e.antCls,"-pro-table-search"),{marginBlock:0,marginInline:0,paddingBlock:0,paddingInline:0}),"&-inline-menu-item":{display:"inline-block",marginInlineEnd:e.marginLG,cursor:"pointer",opacity:"0.75","&-active":{fontWeight:"bold",opacity:"1"}}},"".concat(e.antCls,"-tabs-top > ").concat(e.antCls,"-tabs-nav"),J({marginBlockEnd:0,"&::before":{borderBlockEnd:0}},"".concat(e.antCls,"-tabs-nav-list"),{marginBlockStart:0,"${token.antCls}-tabs-tab":{paddingBlockStart:0}})),"&-dropdownmenu-label",{fontWeight:"bold",fontSize:e.fontSizeIcon,textAlign:"center",cursor:"pointer"}),"@media (max-width: 768px)",J({},e.componentCls,{"&-container":{display:"flex",flexWrap:"wrap",flexDirection:"column"},"&-left":{marginBlockEnd:"16px",maxWidth:"100%"}})))};function vTe(t){return Qi("ProTableListToolBar",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[pTe(n)]})}function mTe(t){if(je.isValidElement(t))return t;if(t){var e=t,n=e.icon,r=e.tooltip,i=e.onClick,o=e.key;return n&&r?E.jsx(wi,{title:r,children:E.jsx("span",{onClick:function(){i&&i(o)},children:n},o)}):E.jsx("span",{onClick:function(){i&&i(o)},children:n},o)}return null}var gTe=function(e){var n,r=e.prefixCls,i=e.tabs,o=e.multipleLine,a=e.filtersNode;return o?E.jsx("div",{className:"".concat(r,"-extra-line"),children:i!=null&&i.items&&i!==null&&i!==void 0&&i.items.length?E.jsx(Gf,{style:{width:"100%"},defaultActiveKey:i.defaultActiveKey,activeKey:i.activeKey,items:i.items.map(function(s,l){var u;return P(P({label:s.tab},s),{},{key:((u=s.key)===null||u===void 0?void 0:u.toString())||(l==null?void 0:l.toString())})}),onChange:i.onChange,tabBarExtraContent:a,children:(n=i.items)===null||n===void 0?void 0:n.map(function(s,l){return zp(Uf,"4.23.0")<0?y.createElement(Gf.TabPane,P(P({},s),{},{key:s.key||l,tab:s.tab})):null})}):a}):null},yTe=function(e){var n=e.prefixCls,r=e.title,i=e.subTitle,o=e.tooltip,a=e.className,s=e.style,l=e.search,u=e.onSearch,c=e.multipleLine,d=c===void 0?!1:c,f=e.filter,h=e.actions,v=h===void 0?[]:h,m=e.settings,g=m===void 0?[]:m,x=e.tabs,_=e.menu,w=y.useContext(Qn.ConfigContext),S=w.getPrefixCls,C=Ps.useToken(),O=C.token,T=S("pro-table-list-toolbar",n),N=vTe(T),M=N.wrapSSR,D=N.hashId,F=oi(),j=y.useState(!1),R=ht(j,2),I=R[0],L=R[1],k=F.getMessage("tableForm.inputPlaceholder","请输入"),B=y.useMemo(function(){return l?je.isValidElement(l)?l:E.jsx(mo.Search,P(P({style:{width:200},placeholder:k},l),{},{onSearch:Ln(Pn().mark(function K(){var U,ee,fe,ve,Ce,ue,we=arguments;return Pn().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:for(fe=we.length,ve=new Array(fe),Ce=0;Ce<fe;Ce++)ve[Ce]=we[Ce];return $e.next=3,(U=(ee=l).onSearch)===null||U===void 0?void 0:U.call.apply(U,[ee].concat(ve));case 3:ue=$e.sent,ue!==!1&&(u==null||u(ve==null?void 0:ve[0]));case 5:case"end":return $e.stop()}},K)}))})):null},[k,u,l]),q=y.useMemo(function(){return f?E.jsx("div",{className:"".concat(T,"-filter ").concat(D).trim(),children:f}):null},[f,D,T]),X=y.useMemo(function(){return _||r||i||o},[_,i,r,o]),z=y.useMemo(function(){return Array.isArray(v)?v.length<1?null:E.jsx("div",{style:{display:"flex",alignItems:"center",gap:O.marginXS},children:v.map(function(K,U){return je.isValidElement(K)?je.cloneElement(K,P({key:U},K==null?void 0:K.props)):E.jsx(je.Fragment,{children:K},U)})}):v},[v]),H=y.useMemo(function(){return!!(X&&B||!d&&q||z||g!=null&&g.length)},[z,q,X,d,B,g==null?void 0:g.length]),Q=y.useMemo(function(){return o||r||i||_||!X&&B},[X,_,B,i,r,o]),V=y.useMemo(function(){return!Q&&H?E.jsx("div",{className:"".concat(T,"-left ").concat(D).trim()}):!_&&(X||!B)?E.jsx("div",{className:"".concat(T,"-left ").concat(D).trim(),children:E.jsx("div",{className:"".concat(T,"-title ").concat(D).trim(),children:E.jsx(Cp,{tooltip:o,label:r,subTitle:i})})}):E.jsxs("div",{className:rt("".concat(T,"-left"),D,J(J(J({},"".concat(T,"-left-has-tabs"),(_==null?void 0:_.type)==="tab"),"".concat(T,"-left-has-dropdown"),(_==null?void 0:_.type)==="dropdown"),"".concat(T,"-left-has-inline-menu"),(_==null?void 0:_.type)==="inline")),children:[X&&!_&&E.jsx("div",{className:"".concat(T,"-title ").concat(D).trim(),children:E.jsx(Cp,{tooltip:o,label:r,subTitle:i})}),_&&E.jsx(hTe,P(P({},_),{},{prefixCls:T})),!X&&B?E.jsx("div",{className:"".concat(T,"-search ").concat(D).trim(),children:B}):null]})},[Q,H,X,D,_,T,B,i,r,o]),W=y.useMemo(function(){return H?E.jsxs("div",{className:"".concat(T,"-right ").concat(D).trim(),style:I?{}:{alignItems:"center"},children:[d?null:q,X&&B?E.jsx("div",{className:"".concat(T,"-search ").concat(D).trim(),children:B}):null,z,g!=null&&g.length?E.jsx("div",{className:"".concat(T,"-setting-items ").concat(D).trim(),children:g.map(function(K,U){var ee=mTe(K);return E.jsx("div",{className:"".concat(T,"-setting-item ").concat(D).trim(),children:ee},U)})}):null]}):null},[H,T,D,I,X,B,d,q,z,g]),te=y.useMemo(function(){if(!H&&!Q)return null;var K=rt("".concat(T,"-container"),D,J({},"".concat(T,"-container-mobile"),I));return E.jsxs("div",{className:K,children:[V,W]})},[Q,H,D,I,V,T,W]);return M(E.jsx(Td,{onResize:function(U){U.width<375!==I&&L(U.width<375)},children:E.jsxs("div",{style:s,className:rt(T,D,a),children:[te,E.jsx(gTe,{filtersNode:q,prefixCls:T,tabs:x,multipleLine:d})]})}))},bTe=function(e){var n=e.icon,r=n===void 0?E.jsx(mJ,{}):n,i=y.useContext(ch),o=oi(),a=E9({selectedKeys:[i.tableSize],onClick:function(l){var u,c=l.key;(u=i.setTableSize)===null||u===void 0||u.call(i,c)},style:{width:80},items:[{key:"large",label:o.getMessage("tableToolBar.densityLarger","宽松")},{key:"middle",label:o.getMessage("tableToolBar.densityMiddle","中等")},{key:"small",label:o.getMessage("tableToolBar.densitySmall","紧凑")}]});return E.jsx(mw,P(P({},a),{},{trigger:["click"],children:E.jsx(wi,{title:o.getMessage("tableToolBar.density","表格密度"),children:r})}))};const xTe=je.memo(bTe);var _Te=function(){var e=oi(),n=y.useState(!1),r=ht(n,2),i=r[0],o=r[1];return y.useEffect(function(){tO()&&(document.onfullscreenchange=function(){o(!!document.fullscreenElement)})},[]),i?E.jsx(wi,{title:e.getMessage("tableToolBar.exitFullScreen","全屏"),children:E.jsx(RF,{})}):E.jsx(wi,{title:e.getMessage("tableToolBar.fullScreen","全屏"),children:E.jsx(IJ,{})})};const tz=je.memo(_Te);var STe=["headerTitle","tooltip","toolBarRender","action","options","selectedRowKeys","selectedRows","toolbar","onSearch","columns","optionsRender"];function wTe(t,e){var n,r=t.intl;return{reload:{text:r.getMessage("tableToolBar.reload","刷新"),icon:(n=e.reloadIcon)!==null&&n!==void 0?n:E.jsx(AF,{})},density:{text:r.getMessage("tableToolBar.density","表格密度"),icon:E.jsx(xTe,{icon:e.densityIcon})},fullScreen:{text:r.getMessage("tableToolBar.fullScreen","全屏"),icon:E.jsx(tz,{})}}}function ETe(t,e,n,r){return Object.keys(t).filter(function(i){return i}).map(function(i){var o=t[i];if(!o)return null;var a=o===!0?e[i]:function(l){o==null||o(l,n.current)};if(typeof a!="function"&&(a=function(){}),i==="setting")return y.createElement(fTe,P(P({},t[i]),{},{columns:r,key:i}));if(i==="fullScreen")return E.jsx("span",{onClick:a,children:E.jsx(tz,{})},i);var s=wTe(e,t)[i];return s?E.jsx("span",{onClick:a,children:E.jsx(wi,{title:s.text,children:s.icon})},i):null}).filter(function(i){return i})}function CTe(t){var e=t.headerTitle,n=t.tooltip,r=t.toolBarRender,i=t.action,o=t.options,a=t.selectedRowKeys,s=t.selectedRows,l=t.toolbar,u=t.onSearch,c=t.columns,d=t.optionsRender,f=Nn(t,STe),h=y.useContext(ch),v=oi(),m=y.useMemo(function(){var _={reload:function(){var O;return i==null||(O=i.current)===null||O===void 0?void 0:O.reload()},density:!0,setting:!0,search:!1,fullScreen:function(){var O,T;return i==null||(O=i.current)===null||O===void 0||(T=O.fullScreen)===null||T===void 0?void 0:T.call(O)}};if(o===!1)return[];var w=P(P({},_),{},{fullScreen:!1},o),S=ETe(w,P(P({},_),{},{intl:v}),i,c);return d?d(P({headerTitle:e,tooltip:n,toolBarRender:r,action:i,options:o,selectedRowKeys:a,selectedRows:s,toolbar:l,onSearch:u,columns:c,optionsRender:d},f),S):S},[i,c,e,v,u,d,o,f,a,s,r,l,n]),g=r?r(i==null?void 0:i.current,{selectedRowKeys:a,selectedRows:s}):[],x=y.useMemo(function(){if(!o||!o.search)return!1;var _={value:h.keyWords,onChange:function(S){return h.setKeyWords(S.target.value)}};return o.search===!0?_:P(P({},_),o.search)},[h,o]);return y.useEffect(function(){h.keyWords===void 0&&(u==null||u(""))},[h.keyWords,u]),E.jsx(yTe,P({title:e,tooltip:n||f.tip,search:x,onSearch:u,actions:g,settings:m},l))}var TTe=function(t){ia(n,t);var e=RP(n);function n(){var r;Vn(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),J(Oi(r),"onSearch",function(s){var l,u,c,d,f=r.props,h=f.options,v=f.onFormSearchSubmit,m=f.actionRef;if(!(!h||!h.search)){var g=h.search===!0?{}:h.search,x=g.name,_=x===void 0?"keyword":x,w=(l=h.search)===null||l===void 0||(u=l.onSearch)===null||u===void 0?void 0:u.call(l,s);w!==!1&&(m==null||(c=m.current)===null||c===void 0||(d=c.setPageInfo)===null||d===void 0||d.call(c,{current:1}),v(No(J({_timestamp:Date.now()},_,s))))}}),J(Oi(r),"isEquals",function(s){var l=r.props,u=l.hideToolbar,c=l.tableColumn,d=l.options,f=l.tooltip,h=l.toolbar,v=l.selectedRows,m=l.selectedRowKeys,g=l.headerTitle,x=l.actionRef,_=l.toolBarRender;return dc({hideToolbar:u,tableColumn:c,options:d,tooltip:f,toolbar:h,selectedRows:v,selectedRowKeys:m,headerTitle:g,actionRef:x,toolBarRender:_},{hideToolbar:s.hideToolbar,tableColumn:s.tableColumn,options:s.options,tooltip:s.tooltip,toolbar:s.toolbar,selectedRows:s.selectedRows,selectedRowKeys:s.selectedRowKeys,headerTitle:s.headerTitle,actionRef:s.actionRef,toolBarRender:s.toolBarRender},["render","renderFormItem"])}),J(Oi(r),"shouldComponentUpdate",function(s){return s.searchNode?!0:!r.isEquals(s)}),J(Oi(r),"render",function(){var s=r.props,l=s.hideToolbar,u=s.tableColumn,c=s.options,d=s.searchNode,f=s.tooltip,h=s.toolbar,v=s.selectedRows,m=s.selectedRowKeys,g=s.headerTitle,x=s.actionRef,_=s.toolBarRender,w=s.optionsRender;return l?null:E.jsx(CTe,{tooltip:f,columns:u,options:c,headerTitle:g,action:x,onSearch:r.onSearch,selectedRows:v,selectedRowKeys:m,toolBarRender:_,toolbar:P({filter:d},h),optionsRender:w})}),r}return dr(n)}(je.Component),RTe=new th("turn",{"0%":{transform:"rotate(0deg)"},"25%":{transform:"rotate(90deg)"},"50%":{transform:"rotate(180deg)"},"75%":{transform:"rotate(270deg)"},"100%":{transform:"rotate(360deg)"}}),PTe=function(e){return J(J(J({},e.componentCls,J(J(J(J(J(J(J(J(J({zIndex:1},"".concat(e.antCls,"-table-wrapper ").concat(e.antCls,"-table-pagination").concat(e.antCls,"-pagination"),{marginBlockEnd:0}),"&:not(:root):fullscreen",{minHeight:"100vh",overflow:"auto",background:e.colorBgContainer}),"&-extra",{marginBlockEnd:16}),"&-polling",J({},"".concat(e.componentCls,"-list-toolbar-setting-item"),{".anticon.anticon-reload":{transform:"rotate(0deg)",animationName:RTe,animationDuration:"1s",animationTimingFunction:"linear",animationIterationCount:"infinite"}})),"td".concat(e.antCls,"-table-cell"),{">a":{fontSize:e.fontSize}}),"".concat(e.antCls,"-table").concat(e.antCls,"-table-tbody").concat(e.antCls,"-table-wrapper:only-child").concat(e.antCls,"-table"),{marginBlock:0,marginInline:0}),"".concat(e.antCls,"-table").concat(e.antCls,"-table-middle ").concat(e.componentCls),J({marginBlock:0,marginInline:-8},"".concat(e.proComponentsCls,"-card"),{backgroundColor:"initial"})),"& &-search",J(J(J(J({marginBlockEnd:"16px",background:e.colorBgContainer,"&-ghost":{background:"transparent"}},"&".concat(e.componentCls,"-form"),{marginBlock:0,marginInline:0,paddingBlock:0,paddingInline:16,overflow:"unset"}),"&-light-filter",{marginBlockEnd:0,paddingBlock:0,paddingInline:0}),"&-form-option",J(J(J({},"".concat(e.antCls,"-form-item"),{}),"".concat(e.antCls,"-form-item-label"),{}),"".concat(e.antCls,"-form-item-control-input"),{})),"@media (max-width: 575px)",J({},e.componentCls,J({height:"auto !important",paddingBlockEnd:"24px"},"".concat(e.antCls,"-form-item-label"),{minWidth:"80px",textAlign:"start"})))),"&-toolbar",{display:"flex",alignItems:"center",justifyContent:"space-between",height:"64px",paddingInline:24,paddingBlock:0,"&-option":{display:"flex",alignItems:"center",justifyContent:"flex-end"},"&-title":{flex:"1",color:e.colorTextLabel,fontWeight:"500",fontSize:"16px",lineHeight:"24px",opacity:"0.85"}})),"@media (max-width: ".concat(e.screenXS,")px"),J({},e.componentCls,J({},"".concat(e.antCls,"-table"),{width:"100%",overflowX:"auto","&-thead > tr,&-tbody > tr":{"> th,> td":{whiteSpace:"pre",">span":{display:"block"}}}}))),"@media (max-width: 575px)",J({},"".concat(e.componentCls,"-toolbar"),{flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",height:"auto",marginBlockEnd:"16px",marginInlineStart:"16px",paddingBlock:8,paddingInline:8,paddingBlockStart:"16px",lineHeight:"normal","&-title":{marginBlockEnd:16},"&-option":{display:"flex",justifyContent:"space-between",width:"100%"},"&-default-option":{display:"flex",flex:"1",alignItems:"center",justifyContent:"flex-end"}}))};function ATe(t){return Qi("ProTable",function(e){var n=P(P({},e),{},{componentCls:".".concat(t)});return[PTe(n)]})}var OTe=["data","success","total"],NTe=function(e){var n=e.pageInfo;if(n){var r=n.current,i=n.defaultCurrent,o=n.pageSize,a=n.defaultPageSize;return{current:r||i||1,total:0,pageSize:o||a||20}}return{current:1,total:0,pageSize:20}},MTe=function(e,n,r){var i,o=y.useRef(!1),a=y.useRef(null),s=r||{},l=s.onLoad,u=s.manual,c=s.polling,d=s.onRequestError,f=s.debounceTime,h=f===void 0?20:f,v=s.effects,m=v===void 0?[]:v,g=y.useRef(u),x=y.useRef(),_=Gr(n,{value:r==null?void 0:r.dataSource,onChange:r==null?void 0:r.onDataSourceChange}),w=ht(_,2),S=w[0],C=w[1],O=Gr(!1,{value:ur(r==null?void 0:r.loading)==="object"?r==null||(i=r.loading)===null||i===void 0?void 0:i.spinning:r==null?void 0:r.loading,onChange:r==null?void 0:r.onLoadingChange}),T=ht(O,2),N=T[0],M=T[1],D=Gr(function(){return NTe(r)},{onChange:r==null?void 0:r.onPageInfoChange}),F=ht(D,2),j=F[0],R=F[1],I=ci(function(U){(U.current!==j.current||U.pageSize!==j.pageSize||U.total!==j.total)&&R(U)}),L=Gr(!1),k=ht(L,2),B=k[0],q=k[1],X=function(ee,fe){Hf.unstable_batchedUpdates(function(){C(ee),(j==null?void 0:j.total)!==fe&&I(P(P({},j),{},{total:fe||ee.length}))})},z=Ty(j==null?void 0:j.current),H=Ty(j==null?void 0:j.pageSize),Q=Ty(c),V=ci(function(){Hf.unstable_batchedUpdates(function(){M(!1),q(!1)})}),W=function(){var U=Ln(Pn().mark(function ee(fe){var ve,Ce,ue,we,pe,$e,Ne,Le,Ie,Z,ie,ne;return Pn().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!g.current){$.next=3;break}return g.current=!1,$.abrupt("return");case 3:return fe?q(!0):M(!0),ve=j||{},Ce=ve.pageSize,ue=ve.current,$.prev=5,we=(r==null?void 0:r.pageInfo)!==!1?{current:ue,pageSize:Ce}:void 0,$.next=9,e==null?void 0:e(we);case 9:if($.t0=$.sent,$.t0){$.next=12;break}$.t0={};case 12:if(pe=$.t0,$e=pe.data,Ne=$e===void 0?[]:$e,Le=pe.success,Ie=pe.total,Z=Ie===void 0?0:Ie,ie=Nn(pe,OTe),Le!==!1){$.next=21;break}return $.abrupt("return",[]);case 21:return ne=G2e(Ne,[r.postData].filter(function(se){return se})),X(ne,Z),l==null||l(ne,ie),$.abrupt("return",ne);case 27:if($.prev=27,$.t1=$.catch(5),d!==void 0){$.next=31;break}throw new Error($.t1);case 31:S===void 0&&C([]),d($.t1);case 33:return $.prev=33,V(),$.finish(33);case 36:return $.abrupt("return",[]);case 37:case"end":return $.stop()}},ee,null,[[5,27,33,36]])}));return function(fe){return U.apply(this,arguments)}}(),te=JA(function(){var U=Ln(Pn().mark(function ee(fe){var ve,Ce,ue;return Pn().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(x.current&&clearTimeout(x.current),e){pe.next=3;break}return pe.abrupt("return");case 3:return ve=new AbortController,a.current=ve,pe.prev=5,pe.next=8,Promise.race([W(fe),new Promise(function($e,Ne){var Le,Ie;(Le=a.current)===null||Le===void 0||(Le=Le.signal)===null||Le===void 0||(Ie=Le.addEventListener)===null||Ie===void 0||Ie.call(Le,"abort",function(){Ne("aborted"),te.cancel(),V()})})]);case 8:if(Ce=pe.sent,!ve.signal.aborted){pe.next=11;break}return pe.abrupt("return");case 11:return ue=za(c,Ce),ue&&!o.current&&(x.current=setTimeout(function(){te.run(ue)},Math.max(ue,2e3))),pe.abrupt("return",Ce);case 16:if(pe.prev=16,pe.t0=pe.catch(5),pe.t0!=="aborted"){pe.next=20;break}return pe.abrupt("return");case 20:throw pe.t0;case 21:case"end":return pe.stop()}},ee,null,[[5,16]])}));return function(ee){return U.apply(this,arguments)}}(),h||30),K=function(){var ee;(ee=a.current)===null||ee===void 0||ee.abort(),te.cancel(),V()};return y.useEffect(function(){return c||clearTimeout(x.current),!Q&&c&&te.run(!0),function(){clearTimeout(x.current)}},[c]),y.useEffect(function(){return o.current=!1,function(){o.current=!0}},[]),y.useEffect(function(){var U=j||{},ee=U.current,fe=U.pageSize;(!z||z===ee)&&(!H||H===fe)||r.pageInfo&&S&&(S==null?void 0:S.length)>fe||ee!==void 0&&S&&S.length<=fe&&(K(),te.run(!1))},[j==null?void 0:j.current]),y.useEffect(function(){H&&(K(),te.run(!1))},[j==null?void 0:j.pageSize]),TS(function(){return K(),te.run(!1),u||(g.current=!1),function(){K()}},[].concat(_n(m),[u])),{dataSource:S,setDataSource:C,loading:ur(r==null?void 0:r.loading)==="object"?P(P({},r==null?void 0:r.loading),{},{spinning:N}):N,reload:function(){var U=Ln(Pn().mark(function fe(){return Pn().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return K(),Ce.abrupt("return",te.run(!1));case 2:case"end":return Ce.stop()}},fe)}));function ee(){return U.apply(this,arguments)}return ee}(),pageInfo:j,pollingLoading:B,reset:function(){var U=Ln(Pn().mark(function fe(){var ve,Ce,ue,we,pe,$e,Ne,Le;return Pn().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:ve=r||{},Ce=ve.pageInfo,ue=Ce||{},we=ue.defaultCurrent,pe=we===void 0?1:we,$e=ue.defaultPageSize,Ne=$e===void 0?20:$e,Le={current:pe,total:0,pageSize:Ne},I(Le);case 4:case"end":return Z.stop()}},fe)}));function ee(){return U.apply(this,arguments)}return ee}(),setPageInfo:function(){var U=Ln(Pn().mark(function fe(ve){return Pn().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:I(P(P({},j),ve));case 1:case"end":return ue.stop()}},fe)}));function ee(fe){return U.apply(this,arguments)}return ee}()}},ITe=function(e){return function(n,r){var i,o,a=n.fixed,s=n.index,l=r.fixed,u=r.index;if(a==="left"&&l!=="left"||l==="right"&&a!=="right")return-2;if(l==="left"&&a!=="left"||a==="right"&&l!=="right")return 2;var c=n.key||"".concat(s),d=r.key||"".concat(u);if((i=e[c])!==null&&i!==void 0&&i.order||(o=e[d])!==null&&o!==void 0&&o.order){var f,h;return(((f=e[c])===null||f===void 0?void 0:f.order)||0)-(((h=e[d])===null||h===void 0?void 0:h.order)||0)}return(n.index||0)-(r.index||0)}},DTe=["children"],LTe=["",null,void 0],z4=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.filter(function(i){return i!==void 0}).map(function(i){return typeof i=="number"?i.toString():i}).flat(1)},kTe=function(e){var n=y.useContext(Eg),r=e.columnProps,i=e.prefixName,o=e.text,a=e.counter,s=e.rowData,l=e.index,u=e.recordKey,c=e.subName,d=e.proFieldProps,f=e.editableUtils,h=Na.useFormInstance(),v=u||l,m=y.useMemo(function(){var N,M;return(N=f==null||(M=f.getRealIndex)===null||M===void 0?void 0:M.call(f,s))!==null&&N!==void 0?N:l},[f,l,s]),g=y.useState(function(){var N,M;return z4(i,i?c:[],i?m:v,(N=(M=r==null?void 0:r.key)!==null&&M!==void 0?M:r==null?void 0:r.dataIndex)!==null&&N!==void 0?N:l)}),x=ht(g,2),_=x[0],w=x[1],S=y.useMemo(function(){return _.slice(0,-1)},[_]);y.useEffect(function(){var N,M,D=z4(i,i?c:[],i?m:v,(N=(M=r==null?void 0:r.key)!==null&&M!==void 0?M:r==null?void 0:r.dataIndex)!==null&&N!==void 0?N:l);D.join("-")!==_.join("-")&&w(D)},[r==null?void 0:r.dataIndex,r==null?void 0:r.key,l,u,i,v,c,_,m]);var C=y.useMemo(function(){return[h,P(P({},r),{},{rowKey:S,rowIndex:l,isEditable:!0})]},[r,h,l,S]),O=y.useCallback(function(N){var M=N.children,D=Nn(N,DTe);return E.jsx(Wbe,P(P({popoverProps:{getPopupContainer:n.getPopupContainer||function(){return a.rootDomRef.current||document.body}},errorType:"popover",name:_},D),{},{children:M}),v)},[v,_]),T=y.useCallback(function(){var N,M,D=P({},jR.apply(void 0,[r==null?void 0:r.formItemProps].concat(_n(C))));D.messageVariables=P({label:(r==null?void 0:r.title)||"此项",type:(r==null?void 0:r.valueType)||"文本"},D==null?void 0:D.messageVariables),D.initialValue=(N=(M=i?null:o)!==null&&M!==void 0?M:D==null?void 0:D.initialValue)!==null&&N!==void 0?N:r==null?void 0:r.initialValue;var F=E.jsx(IS,P({cacheForSwr:!0,name:_,proFormFieldKey:v,ignoreFormItem:!0,fieldProps:jR.apply(void 0,[r==null?void 0:r.fieldProps].concat(_n(C)))},d),_.join("-"));return r!=null&&r.renderFormItem&&(F=r.renderFormItem(P(P({},r),{},{index:l,isEditable:!0,type:"table"}),{defaultRender:function(){return E.jsx(E.Fragment,{children:F})},type:"form",recordKey:u,record:P(P({},s),h==null?void 0:h.getFieldValue([v])),isEditable:!0},h,e.editableUtils),r.ignoreFormItem)?E.jsx(E.Fragment,{children:F}):E.jsx(O,P(P({},D),{},{children:F}),_.join("-"))},[r,C,i,o,v,_,d,O,l,u,s,h,e.editableUtils]);return _.length===0?null:typeof(r==null?void 0:r.renderFormItem)=="function"||typeof(r==null?void 0:r.fieldProps)=="function"||typeof(r==null?void 0:r.formItemProps)=="function"?E.jsx(to.Item,{noStyle:!0,shouldUpdate:function(M,D){if(M===D)return!1;var F=[S].flat(1);try{return JSON.stringify(xo(M,F))!==JSON.stringify(xo(D,F))}catch{return!0}},children:function(){return T()}}):T()};function nz(t){var e,n,r=t.text,i=t.valueType,o=t.rowData,a=t.columnProps,s=t.index;if((!i||["textarea","text"].includes(i.toString()))&&!(a!=null&&a.valueEnum)&&t.mode==="read")return LTe.includes(r)?t.columnEmptyText:r;if(typeof i=="function"&&o)return nz(P(P({},t),{},{valueType:i(o,t.type)||"text"}));var l=(a==null?void 0:a.key)||(a==null||(e=a.dataIndex)===null||e===void 0?void 0:e.toString()),u=a!=null&&a.dependencies?[t.prefixName,t.prefixName?s==null?void 0:s.toString():(n=t.recordKey)===null||n===void 0?void 0:n.toString(),a==null?void 0:a.dependencies].filter(Boolean).flat(1):[],c={valueEnum:za(a==null?void 0:a.valueEnum,o),request:a==null?void 0:a.request,dependencies:a!=null&&a.dependencies?[u]:void 0,originDependencies:a!=null&&a.dependencies?[a==null?void 0:a.dependencies]:void 0,params:za(a==null?void 0:a.params,o,a),readonly:a==null?void 0:a.readonly,text:i==="index"||i==="indexBorder"?t.index:r,mode:t.mode,renderFormItem:void 0,valueType:i,record:o,proFieldProps:{emptyText:t.columnEmptyText,proFieldKey:l?"table-field-".concat(l):void 0}};return t.mode!=="edit"?E.jsx(IS,P({mode:"read",ignoreFormItem:!0,fieldProps:jR(a==null?void 0:a.fieldProps,null,a)},c)):E.jsx(kTe,P(P({},t),{},{proFieldProps:c}),t.recordKey)}var $Te=function(e){var n,r=e.title,i=typeof(e==null?void 0:e.ellipsis)=="boolean"?e==null?void 0:e.ellipsis:e==null||(n=e.ellipsis)===null||n===void 0?void 0:n.showTitle;return r&&typeof r=="function"?r(e,"table",E.jsx(Cp,{label:null,tooltip:e.tooltip||e.tip})):E.jsx(Cp,{label:r,tooltip:e.tooltip||e.tip,ellipsis:i})};function FTe(t,e,n,r){return typeof r=="boolean"?r===!1:(r==null?void 0:r(t,e,n))===!1}var jTe=function(e,n,r){var i=Array.isArray(r)?xo(n,r):n[r],o=String(i);return String(o)===String(e)};function BTe(t){var e=t.columnProps,n=t.text,r=t.rowData,i=t.index,o=t.columnEmptyText,a=t.counter,s=t.type,l=t.subName,u=t.marginSM,c=t.editableUtils,d=a.action,f=a.prefixName,h=c.isEditable(P(P({},r),{},{index:i})),v=h.isEditable,m=h.recordKey,g=e.renderText,x=g===void 0?function(N){return N}:g,_=x(n,r,i,d),w=v&&!FTe(n,r,i,e==null?void 0:e.editable)?"edit":"read",S=nz({text:_,valueType:e.valueType||"text",index:i,rowData:r,subName:l,columnProps:P(P({},e),{},{entry:r,entity:r}),counter:a,columnEmptyText:o,type:s,recordKey:m,mode:w,prefixName:f,editableUtils:c}),C=w==="edit"?S:t1e(S,e,_);if(w==="edit")return e.valueType==="option"?E.jsx("div",{style:{display:"flex",alignItems:"center",gap:u,justifyContent:e.align==="center"?"center":"flex-start"},children:c.actionRender(P(P({},r),{},{index:e.index||i}))}):C;if(!e.render){var O=je.isValidElement(C)||["string","number"].includes(ur(C));return!Zf(C)&&O?C:null}var T=e.render(C,r,i,P(P({},d),c),P(P({},e),{},{isEditable:v,type:"table"}));return W2e(T)?T:T&&e.valueType==="option"&&Array.isArray(T)?E.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:8},children:T}):T}function rz(t,e){var n,r=t.columns,i=t.counter,o=t.columnEmptyText,a=t.type,s=t.editableUtils,l=t.marginSM,u=t.rowKey,c=u===void 0?"id":u,d=t.childrenColumnName,f=d===void 0?"children":d,h=new Map;return r==null||(n=r.map(function(v,m){if(v===Ba.EXPAND_COLUMN||v===Ba.SELECTION_COLUMN)return v;var g=v,x=g.key,_=g.dataIndex,w=g.valueEnum,S=g.valueType,C=S===void 0?"text":S,O=g.children,T=g.onFilter,N=g.filters,M=N===void 0?[]:N,D=Pg(x||(_==null?void 0:_.toString()),[e==null?void 0:e.key,m].filter(Boolean).join("-")),F=!w&&!C&&!O;if(F)return P({index:m},v);var j=v===Ba.EXPAND_COLUMN||v===Ba.SELECTION_COLUMN;if(j)return{index:m,isExtraColumns:!0,hideInSearch:!0,hideInTable:!1,hideInForm:!0,hideInSetting:!0,extraColumn:v};var R=i.columnsMap[D]||{fixed:v.fixed},I=function(){return T===!0?function(q,X){return jTe(q,X,_)}:T9(T)},L=c,k=P(P({index:m,key:D},v),{},{title:$Te(v),valueEnum:w,filters:M===!0?O9(za(w,void 0)).filter(function(B){return B&&B.value!=="all"}):M,onFilter:I(),fixed:R.fixed,width:v.width||(v.fixed?200:void 0),children:v.children?rz(P(P({},t),{},{columns:(v==null?void 0:v.children)||[]}),P(P({},v),{},{key:D})):void 0,render:function(q,X,z){typeof c=="function"&&(L=c(X,z));var H;if(ur(X)==="object"&&X!==null&&Reflect.has(X,L)){var Q;H=X[L];var V=h.get(H)||[];(Q=X[f])===null||Q===void 0||Q.forEach(function(te){var K=te[L];h.has(K)||h.set(K,V.concat([z,f]))})}var W={columnProps:v,text:q,rowData:X,index:z,columnEmptyText:o,counter:i,type:a,marginSM:l,subName:h.get(H),editableUtils:s};return BTe(W)}});return c1e(k)}))===null||n===void 0?void 0:n.filter(function(v){return!v.hideInTable})}var zTe=["rowKey","tableClassName","defaultClassName","action","tableColumn","type","pagination","rowSelection","size","defaultSize","tableStyle","toolbarDom","hideToolbar","searchNode","style","cardProps","alertDom","name","onSortChange","onFilterChange","options","isLightFilter","className","cardBordered","editableUtils","getRowKey"],HTe=["cardBordered","request","className","params","defaultData","headerTitle","postData","ghost","pagination","actionRef","columns","toolBarRender","optionsRender","onLoad","onRequestError","style","cardProps","tableStyle","tableClassName","columnsStateMap","onColumnsStateChange","options","search","name","onLoadingChange","rowSelection","beforeSearchSubmit","tableAlertRender","defaultClassName","formRef","type","columnEmptyText","toolbar","rowKey","manualRequest","polling","tooltip","revalidateOnFocus","searchFormRender"];function UTe(t){var e=t.rowKey,n=t.tableClassName,r=t.defaultClassName,i=t.action,o=t.tableColumn,a=t.type,s=t.pagination,l=t.rowSelection,u=t.size;t.defaultSize;var c=t.tableStyle,d=t.toolbarDom,f=t.hideToolbar,h=t.searchNode,v=t.style,m=t.cardProps,g=t.alertDom;t.name;var x=t.onSortChange,_=t.onFilterChange,w=t.options,S=t.isLightFilter,C=t.className,O=t.cardBordered,T=t.editableUtils,N=t.getRowKey,M=Nn(t,zTe),D=y.useContext(ch),F=y.useMemo(function(){var V=function W(te){return te.map(function(K){var U=Pg(K.key,K.index),ee=D.columnsMap[U];return ee&&ee.show===!1?!1:K.children?P(P({},K),{},{children:W(K.children)}):K}).filter(Boolean)};return V(o)},[D.columnsMap,o]),j=y.useMemo(function(){var V=[],W=function te(K){for(var U=0;U<K.length;U++){var ee=K[U];ee.children?te(ee.children):V.push(ee)}};return W(F),V==null?void 0:V.every(function(te){return!!te.filters&&!!te.onFilter||te.filters===void 0&&te.onFilter===void 0})},[F]),R=function(W){var te=T.newLineRecord||{},K=te.options,U=te.defaultValue,ee=(K==null?void 0:K.position)==="top";if(K!=null&&K.parentKey){var fe,ve,Ce={data:W,getRowKey:N,row:P(P({},U),{},{map_row_parentKey:(fe=_s(K.parentKey))===null||fe===void 0?void 0:fe.toString()}),key:K==null?void 0:K.recordKey,childrenColumnName:((ve=t.expandable)===null||ve===void 0?void 0:ve.childrenColumnName)||"children"};return oy(Ce,ee?"top":"update")}if(ee)return[U].concat(_n(i.dataSource));if(s&&s!==null&&s!==void 0&&s.current&&s!==null&&s!==void 0&&s.pageSize){var ue=_n(i.dataSource);return(s==null?void 0:s.pageSize)>ue.length?(ue.push(U),ue):(ue.splice((s==null?void 0:s.current)*(s==null?void 0:s.pageSize)-1,0,U),ue)}return[].concat(_n(i.dataSource),[U])},I=function(){return P(P({},M),{},{size:u,rowSelection:l===!1?void 0:l,className:n,style:c,columns:F.map(function(W){return W.isExtraColumns?W.extraColumn:W}),loading:i.loading,dataSource:T.newLineRecord?R(i.dataSource):i.dataSource,pagination:s,onChange:function(te,K,U,ee){var fe;if((fe=M.onChange)===null||fe===void 0||fe.call(M,te,K,U,ee),j||_(No(K)),Array.isArray(U)){var ve=U.reduce(function(pe,$e){return P(P({},pe),{},J({},"".concat($e.field),$e.order))},{});x(No(ve))}else{var Ce,ue=(Ce=U.column)===null||Ce===void 0?void 0:Ce.sorter,we=(ue==null?void 0:ue.toString())===ue;x(No(J({},"".concat(we?ue:U.field),U.order)))}}})},L=y.useMemo(function(){return t.search===!1&&!t.headerTitle&&t.toolBarRender===!1},[]),k=E.jsx(nO.Provider,{value:{grid:!1,colProps:void 0,rowProps:void 0},children:E.jsx(Ba,P(P({},I()),{},{rowKey:e}))}),B=t.tableViewRender?t.tableViewRender(P(P({},I()),{},{rowSelection:l!==!1?l:void 0}),k):k,q=y.useMemo(function(){if(t.editable&&!t.name){var V,W,te;return E.jsxs(E.Fragment,{children:[d,g,y.createElement(Na,P(P({},(V=t.editable)===null||V===void 0?void 0:V.formProps),{},{formRef:(W=t.editable)===null||W===void 0||(W=W.formProps)===null||W===void 0?void 0:W.formRef,component:!1,form:(te=t.editable)===null||te===void 0?void 0:te.form,onValuesChange:T.onValuesChange,key:"table",submitter:!1,omitNil:!1,dateFormatter:t.dateFormatter}),B)]})}return E.jsxs(E.Fragment,{children:[d,g,B]})},[g,t.loading,!!t.editable,B,d]),X=y.useMemo(function(){return m===!1||L===!0||t.name?{}:f?{padding:0}:d?{paddingBlockStart:0}:d&&s===!1?{paddingBlockStart:0}:{padding:0}},[L,s,t.name,m,d,f]),z=m===!1||L===!0||t.name?q:E.jsx(Kb,P(P({ghost:t.ghost,bordered:ez("table",O),bodyStyle:X},m),{},{children:q})),H=function(){return t.tableRender?t.tableRender(t,z,{toolbar:d||void 0,alert:g||void 0,table:B||void 0}):z},Q=E.jsxs("div",{className:rt(C,J({},"".concat(r,"-polling"),i.pollingLoading)),style:v,ref:D.rootDomRef,children:[S?null:h,a!=="form"&&t.tableExtraRender&&E.jsx("div",{className:rt(C,"".concat(r,"-extra")),children:t.tableExtraRender(t,i.dataSource||[])}),a!=="form"&&H()]});return!w||!(w!=null&&w.fullScreen)?Q:E.jsx(Qn,{getPopupContainer:function(){return D.rootDomRef.current||document.body},children:Q})}var GTe={},WTe=function(e){var n;e.cardBordered;var r=e.request,i=e.className,o=e.params,a=o===void 0?GTe:o,s=e.defaultData,l=e.headerTitle,u=e.postData,c=e.ghost,d=e.pagination,f=e.actionRef,h=e.columns,v=h===void 0?[]:h,m=e.toolBarRender,g=e.optionsRender,x=e.onLoad,_=e.onRequestError;e.style,e.cardProps,e.tableStyle,e.tableClassName,e.columnsStateMap,e.onColumnsStateChange;var w=e.options,S=e.search,C=e.name,O=e.onLoadingChange,T=e.rowSelection,N=T===void 0?!1:T,M=e.beforeSearchSubmit,D=e.tableAlertRender,F=e.defaultClassName,j=e.formRef,R=e.type,I=R===void 0?"table":R,L=e.columnEmptyText,k=L===void 0?"-":L,B=e.toolbar,q=e.rowKey,X=e.manualRequest,z=e.polling,H=e.tooltip,Q=e.revalidateOnFocus,V=Q===void 0?!1:Q,W=e.searchFormRender,te=Nn(e,HTe),K=ATe(e.defaultClassName),U=K.wrapSSR,ee=K.hashId,fe=rt(F,i,ee),ve=y.useRef(),Ce=y.useRef(),ue=j||Ce;y.useImperativeHandle(f,function(){return ve.current});var we=Gr(N?(N==null?void 0:N.defaultSelectedRowKeys)||[]:void 0,{value:N?N.selectedRowKeys:void 0}),pe=ht(we,2),$e=pe[0],Ne=pe[1],Le=Gr(function(){if(!(X||S!==!1))return{}}),Ie=ht(Le,2),Z=Ie[0],ie=Ie[1],ne=Gr({}),Te=ht(ne,2),$=Te[0],se=Te[1],re=Gr({}),oe=ht(re,2),ye=oe[0],xe=oe[1];y.useEffect(function(){var kt=X2e(v),Yt=kt.sort,An=kt.filter;se(An),xe(Yt)},[]);var He=oi(),Fe=ur(d)==="object"?d:{defaultCurrent:1,defaultPageSize:20,pageSize:20,current:1},Ve=y.useContext(ch),qe=y.useMemo(function(){if(r)return function(){var kt=Ln(Pn().mark(function Yt(An){var Sr,ai;return Pn().wrap(function(si){for(;;)switch(si.prev=si.next){case 0:return Sr=P(P(P({},An||{}),Z),a),delete Sr._timestamp,si.next=4,r(Sr,ye,$);case 4:return ai=si.sent,si.abrupt("return",ai);case 6:case"end":return si.stop()}},Yt)}));return function(Yt){return kt.apply(this,arguments)}}()},[Z,a,$,ye,r]),vt=MTe(qe,s,{pageInfo:d===!1?!1:Fe,loading:e.loading,dataSource:e.dataSource,onDataSourceChange:e.onDataSourceChange,onLoad:x,onLoadingChange:O,onRequestError:_,postData:u,revalidateOnFocus:V,manual:Z===void 0,polling:z,effects:[wd(a),wd(Z),wd($),wd(ye)],debounceTime:e.debounceTime,onPageInfoChange:function(Yt){var An,Sr;!d||!qe||(d==null||(An=d.onChange)===null||An===void 0||An.call(d,Yt.current,Yt.pageSize),d==null||(Sr=d.onShowSizeChange)===null||Sr===void 0||Sr.call(d,Yt.current,Yt.pageSize))}});y.useEffect(function(){var kt;if(!(e.manualRequest||!e.request||!V||(kt=e.form)!==null&&kt!==void 0&&kt.ignoreRules)){var Yt=function(){document.visibilityState==="visible"&&vt.reload()};return document.addEventListener("visibilitychange",Yt),function(){return document.removeEventListener("visibilitychange",Yt)}}},[]);var tt=je.useRef(new Map),pt=je.useMemo(function(){return typeof q=="function"?q:function(kt,Yt){var An;return Yt===-1?kt==null?void 0:kt[q]:e.name?Yt==null?void 0:Yt.toString():(An=kt==null?void 0:kt[q])!==null&&An!==void 0?An:Yt==null?void 0:Yt.toString()}},[e.name,q]);y.useMemo(function(){var kt;if((kt=vt.dataSource)!==null&&kt!==void 0&&kt.length){var Yt=vt.dataSource.map(function(An){var Sr=pt(An,-1);return tt.current.set(Sr,An),Sr});return Yt}return[]},[vt.dataSource,pt]);var Ht=y.useMemo(function(){var kt=d===!1?!1:P({},d),Yt=P(P({},vt.pageInfo),{},{setPageInfo:function(Sr){var ai=Sr.pageSize,tr=Sr.current,si=vt.pageInfo;if(ai===si.pageSize||si.current===1){vt.setPageInfo({pageSize:ai,current:tr});return}r&&vt.setDataSource([]),vt.setPageInfo({pageSize:ai,current:I==="list"?tr:1})}});return r&&kt&&(delete kt.onChange,delete kt.onShowSizeChange),H2e(kt,Yt,He)},[d,vt,He]);TS(function(){var kt;e.request&&!Bw(a)&&vt.dataSource&&!Yy(vt.dataSource,s)&&(vt==null||(kt=vt.pageInfo)===null||kt===void 0?void 0:kt.current)!==1&&vt.setPageInfo({current:1})},[a]),Ve.setPrefixName(e.name);var Lt=y.useCallback(function(){N&&N.onChange&&N.onChange([],[],{type:"none"}),Ne([])},[N,Ne]);Ve.propsRef.current=e;var hn=O1e(P(P({},e.editable),{},{tableName:e.name,getRowKey:pt,childrenColumnName:((n=e.expandable)===null||n===void 0?void 0:n.childrenColumnName)||"children",dataSource:vt.dataSource||[],setDataSource:function(Yt){var An,Sr;(An=e.editable)===null||An===void 0||(Sr=An.onValuesChange)===null||Sr===void 0||Sr.call(An,void 0,Yt),vt.setDataSource(Yt)}})),On=Ps==null?void 0:Ps.useToken(),Yn=On.token;U2e(ve,vt,{fullScreen:function(){var Yt;if(!(!((Yt=Ve.rootDomRef)!==null&&Yt!==void 0&&Yt.current)||!document.fullscreenEnabled))if(document.fullscreenElement)document.exitFullscreen();else{var An;(An=Ve.rootDomRef)===null||An===void 0||An.current.requestFullscreen()}},onCleanSelected:function(){Lt()},resetAll:function(){var Yt;Lt(),se({}),xe({}),Ve.setKeyWords(void 0),vt.setPageInfo({current:1}),ue==null||(Yt=ue.current)===null||Yt===void 0||Yt.resetFields(),ie({})},editableUtils:hn}),Ve.setAction(ve.current);var kn=y.useMemo(function(){var kt;return rz({columns:v,counter:Ve,columnEmptyText:k,type:I,marginSM:Yn.marginSM,editableUtils:hn,rowKey:q,childrenColumnName:(kt=e.expandable)===null||kt===void 0?void 0:kt.childrenColumnName}).sort(ITe(Ve.columnsMap))},[v,Ve==null?void 0:Ve.sortKeyColumns,Ve==null?void 0:Ve.columnsMap,k,I,hn.editableKeys&&hn.editableKeys.join(",")]);C9(function(){if(kn&&kn.length>0){var kt=kn.map(function(Yt){return Pg(Yt.key,Yt.index)});Ve.setSortKeyColumns(kt)}},[kn],["render","renderFormItem"],100),TS(function(){var kt=vt.pageInfo,Yt=d||{},An=Yt.current,Sr=An===void 0?kt==null?void 0:kt.current:An,ai=Yt.pageSize,tr=ai===void 0?kt==null?void 0:kt.pageSize:ai;d&&(Sr||tr)&&(tr!==(kt==null?void 0:kt.pageSize)||Sr!==(kt==null?void 0:kt.current))&&vt.setPageInfo({pageSize:tr||kt.pageSize,current:Sr||kt.current})},[d&&d.pageSize,d&&d.current]);var bn=P(P({selectedRowKeys:$e},N),{},{onChange:function(Yt,An,Sr){N&&N.onChange&&N.onChange(Yt,An,Sr),Ne(Yt)}}),Sn=S!==!1&&(S==null?void 0:S.filterType)==="light",qn=y.useCallback(function(kt){if(w&&w.search){var Yt,An,Sr=w.search===!0?{}:w.search,ai=Sr.name,tr=ai===void 0?"keyword":ai,si=(Yt=w.search)===null||Yt===void 0||(An=Yt.onSearch)===null||An===void 0?void 0:An.call(Yt,Ve.keyWords);if(si!==!1){ie(P(P({},kt),{},J({},tr,Ve.keyWords)));return}}ie(kt)},[Ve.keyWords,w,ie]),it=y.useMemo(function(){if(ur(vt.loading)==="object"){var kt;return((kt=vt.loading)===null||kt===void 0?void 0:kt.spinning)||!1}return vt.loading},[vt.loading]),It=y.useMemo(function(){var kt=S===!1&&I!=="form"?null:E.jsx(oTe,{pagination:Ht,beforeSearchSubmit:M,action:ve,columns:v,onFormSearchSubmit:function(An){qn(An)},ghost:c,onReset:e.onReset,onSubmit:e.onSubmit,loading:!!it,manualRequest:X,search:S,form:e.form,formRef:ue,type:e.type||"table",cardBordered:e.cardBordered,dateFormatter:e.dateFormatter});return W&&kt?E.jsx(E.Fragment,{children:W(e,kt)}):kt},[M,ue,c,it,X,qn,Ht,e,v,S,W,I]),Jt=y.useMemo(function(){return $e==null?void 0:$e.map(function(kt){var Yt;return(Yt=tt.current)===null||Yt===void 0?void 0:Yt.get(kt)})},[vt.dataSource,$e]),dn=y.useMemo(function(){return w===!1&&!l&&!m&&!B&&!Sn},[w,l,m,B,Sn]),Hn=m===!1?null:E.jsx(TTe,{headerTitle:l,hideToolbar:dn,selectedRows:Jt,selectedRowKeys:$e,tableColumn:kn,tooltip:H,toolbar:B,onFormSearchSubmit:function(Yt){ie(P(P({},Z),Yt))},searchNode:Sn?It:null,options:w,optionsRender:g,actionRef:ve,toolBarRender:m}),Bn=N!==!1?E.jsx(Q2e,{selectedRowKeys:$e,selectedRows:Jt,onCleanSelected:Lt,alertOptionRender:te.tableAlertOptionRender,alertInfoRender:D,alwaysShowAlert:N==null?void 0:N.alwaysShowAlert}):null;return U(E.jsx(UTe,P(P({},e),{},{name:C,defaultClassName:F,size:Ve.tableSize,onSizeChange:Ve.setTableSize,pagination:Ht,searchNode:It,rowSelection:N!==!1?bn:void 0,className:fe,tableColumn:kn,isLightFilter:Sn,action:vt,alertDom:Bn,toolbarDom:Hn,hideToolbar:dn,onSortChange:function(Yt){ye!==Yt&&xe(Yt??{})},onFilterChange:function(Yt){Yt!==$&&se(Yt)},editableUtils:hn,getRowKey:pt})))},iz=function(e){var n=y.useContext(Qn.ConfigContext),r=n.getPrefixCls,i=e.ErrorBoundary===!1?je.Fragment:e.ErrorBoundary||Abe;return E.jsx(Y2e,{initValue:e,children:E.jsx(ZA,{needDeps:!0,children:E.jsx(i,{children:E.jsx(WTe,P({defaultClassName:"".concat(r("pro-table"))},e))})})})};iz.Summary=Ba.Summary;var VTe=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],XTe=["record","position","creatorButtonText","newRecordType","parentKey","style"],oz=je.createContext(void 0);function az(t){var e=t.children,n=t.record,r=t.position,i=t.newRecordType,o=t.parentKey,a=y.useContext(oz);return je.cloneElement(e,P(P({},e.props),{},{onClick:function(){var s=Ln(Pn().mark(function u(c){var d,f,h,v;return Pn().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(d=(f=e.props).onClick)===null||d===void 0?void 0:d.call(f,c);case 2:if(v=g.sent,v!==!1){g.next=5;break}return g.abrupt("return");case 5:a==null||(h=a.current)===null||h===void 0||h.addEditRecord(n,{position:r,newRecordType:i,parentKey:o});case 6:case"end":return g.stop()}},u)}));function l(u){return s.apply(this,arguments)}return l}()}))}function H4(t){var e,n,r=oi(),i=t.onTableChange,o=t.maxLength;t.formItemProps;var a=t.recordCreatorProps,s=t.rowKey;t.controlled;var l=t.defaultValue;t.onChange;var u=t.editableFormRef,c=Nn(t,VTe),d=y.useRef(void 0),f=y.useRef(),h=y.useRef();y.useImperativeHandle(c.actionRef,function(){return f.current},[f.current]);var v=Gr(function(){return t.value||l||[]},{value:t.value,onChange:t.onChange}),m=ht(v,2),g=m[0],x=m[1],_=je.useMemo(function(){return typeof s=="function"?s:function(B,q){return B[s]||q}},[s]),w=ci(function(B){if(typeof B=="number"&&!t.name){if(B>=g.length)return B;var q=g&&g[B];return _==null?void 0:_(q,B)}if((typeof B=="string"||B>=g.length)&&t.name){var X=g.findIndex(function(z,H){var Q;return(_==null||(Q=_(z,H))===null||Q===void 0?void 0:Q.toString())===(B==null?void 0:B.toString())});if(X!==-1)return X}return B});y.useImperativeHandle(u,function(){var B=function(z){var H,Q;if(z==null)throw new Error("rowIndex is required");var V=w(z),W=[t.name,(H=V==null?void 0:V.toString())!==null&&H!==void 0?H:""].flat(1).filter(Boolean);return(Q=h.current)===null||Q===void 0?void 0:Q.getFieldValue(W)},q=function(){var z,H=[t.name].flat(1).filter(Boolean);if(Array.isArray(H)&&H.length===0){var Q,V=(Q=h.current)===null||Q===void 0?void 0:Q.getFieldsValue();return Array.isArray(V)?V:Object.keys(V).map(function(W){return V[W]})}return(z=h.current)===null||z===void 0?void 0:z.getFieldValue(H)};return P(P({},h.current),{},{getRowData:B,getRowsData:q,setRowData:function(z,H){var Q,V;if(z==null)throw new Error("rowIndex is required");var W=w(z),te=[t.name,(Q=W==null?void 0:W.toString())!==null&&Q!==void 0?Q:""].flat(1).filter(Boolean),K=Object.assign({},P(P({},B(z)),H||{})),U=Ha({},te,K);return(V=h.current)===null||V===void 0||V.setFieldsValue(U),!0}})},[w,t.name,h.current]),y.useEffect(function(){t.controlled&&(g||[]).forEach(function(B,q){var X;(X=h.current)===null||X===void 0||X.setFieldsValue(J({},"".concat(_(B,q)),B))},{})},[wd(g),t.controlled]),y.useEffect(function(){if(t.name){var B;h.current=t==null||(B=t.editable)===null||B===void 0?void 0:B.form}},[(e=t.editable)===null||e===void 0?void 0:e.form,t.name]);var S=a||{},C=S.record,O=S.position,T=S.creatorButtonText,N=S.newRecordType,M=S.parentKey,D=S.style,F=Nn(S,XTe),j=O==="top",R=y.useMemo(function(){return typeof o=="number"&&o<=(g==null?void 0:g.length)?!1:a!==!1&&E.jsx(az,{record:za(C,g==null?void 0:g.length,g)||{},position:O,parentKey:za(M,g==null?void 0:g.length,g),newRecordType:N,children:E.jsx(es,P(P({type:"dashed",style:P({display:"block",margin:"10px 0",width:"100%"},D),icon:E.jsx(PP,{})},F),{},{children:T||r.getMessage("editableTable.action.add","添加一行数据")}))})},[a,o,g==null?void 0:g.length]),I=y.useMemo(function(){return R?j?{components:{header:{wrapper:function(q){var X,z=q.className,H=q.children;return E.jsxs("thead",{className:z,children:[H,E.jsxs("tr",{style:{position:"relative"},children:[E.jsx("td",{colSpan:0,style:{visibility:"hidden"},children:R}),E.jsx("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(X=c.columns)===null||X===void 0?void 0:X.length,children:R})]})]})}}}}:{tableViewRender:function(q,X){var z,H;return E.jsxs(E.Fragment,{children:[(z=(H=t.tableViewRender)===null||H===void 0?void 0:H.call(t,q,X))!==null&&z!==void 0?z:X,R]})}}:{}},[j,R]),L=P({},t.editable),k=ci(function(B,q){var X,z,H;if((X=t.editable)===null||X===void 0||(z=X.onValuesChange)===null||z===void 0||z.call(X,B,q),(H=t.onValuesChange)===null||H===void 0||H.call(t,q,B),t.controlled){var Q;t==null||(Q=t.onChange)===null||Q===void 0||Q.call(t,q)}});return(t!=null&&t.onValuesChange||(n=t.editable)!==null&&n!==void 0&&n.onValuesChange||t.controlled&&t!==null&&t!==void 0&&t.onChange)&&(L.onValuesChange=k),E.jsxs(E.Fragment,{children:[E.jsx(oz.Provider,{value:f,children:E.jsx(iz,P(P(P({search:!1,options:!1,pagination:!1,rowKey:s,revalidateOnFocus:!1},c),I),{},{tableLayout:"fixed",actionRef:f,onChange:i,editable:P(P({},L),{},{formProps:P({formRef:h},L.formProps)}),dataSource:g,onDataSourceChange:function(q){if(x(q),t.name&&O==="top"){var X,z=Ha({},[t.name].flat(1).filter(Boolean),q);(X=h.current)===null||X===void 0||X.setFieldsValue(z)}}}))}),t.name?E.jsx(qb,{name:[t.name],children:function(q){var X,z;if(!d.current)return d.current=g,null;var H=xo(q,[t.name].flat(1)),Q=H==null?void 0:H.find(function(V,W){var te;return!dc(V,(te=d.current)===null||te===void 0?void 0:te[W])});return d.current=g,Q&&(t==null||(X=t.editable)===null||X===void 0||(z=X.onValuesChange)===null||z===void 0||z.call(X,Q,H)),null}}):null]})}function lE(t){var e=Na.useFormInstance();return t.name?E.jsx(to.Item,P(P({style:{maxWidth:"100%"}},t==null?void 0:t.formItemProps),{},{name:t.name,shouldUpdate:function(r,i){var o=[t.name].flat(1);try{return JSON.stringify(xo(r,o))!==JSON.stringify(xo(i,o))}catch{return!0}},children:E.jsx(H4,P(P({tableLayout:"fixed",scroll:{x:"max-content"}},t),{},{editable:P(P({},t.editable),{},{form:e})}))})):E.jsx(H4,P({tableLayout:"fixed",scroll:{x:"max-content"}},t))}lE.RecordCreator=az;var uE={exports:{}},sz={};function lz(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=lz(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function U4(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=lz(t))&&(r&&(r+=" "),r+=e);return r}const KTe=Object.freeze(Object.defineProperty({__proto__:null,clsx:U4,default:U4},Symbol.toStringTag,{value:"Module"})),YTe=jX(KTe);var Io={},Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});Tc.dontSetMe=eRe;Tc.findInArray=qTe;Tc.int=QTe;Tc.isFunction=ZTe;Tc.isNum=JTe;function qTe(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function ZTe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function JTe(t){return typeof t=="number"&&!isNaN(t)}function QTe(t){return parseInt(t,10)}function eRe(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Hp={};Object.defineProperty(Hp,"__esModule",{value:!0});Hp.browserPrefixToKey=cz;Hp.browserPrefixToStyle=tRe;Hp.default=void 0;Hp.getPrefix=uz;const T2=["Moz","Webkit","O","ms"];function uz(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<T2.length;r++)if(cz(e,T2[r])in n)return T2[r];return""}function cz(t,e){return e?"".concat(e).concat(nRe(t)):t}function tRe(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function nRe(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Hp.default=uz();Object.defineProperty(Io,"__esModule",{value:!0});Io.addClassName=hz;Io.addEvent=oRe;Io.addUserSelectStyles=mRe;Io.createCSSTransform=fRe;Io.createSVGTransform=hRe;Io.getTouch=pRe;Io.getTouchIdentifier=vRe;Io.getTranslation=rO;Io.innerHeight=uRe;Io.innerWidth=cRe;Io.matchesSelector=fz;Io.matchesSelectorAndParentsTo=iRe;Io.offsetXYFromParent=dRe;Io.outerHeight=sRe;Io.outerWidth=lRe;Io.removeClassName=pz;Io.removeEvent=aRe;Io.removeUserSelectStyles=gRe;var el=Tc,G4=rRe(Hp);function dz(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(dz=function(r){return r?n:e})(t)}function rRe(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=dz(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let Fx="";function fz(t,e){return Fx||(Fx=(0,el.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,el.isFunction)(t[n])})),(0,el.isFunction)(t[Fx])?t[Fx](e):!1}function iRe(t,e,n){let r=t;do{if(fz(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function oRe(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function aRe(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function sRe(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,el.int)(n.borderTopWidth),e+=(0,el.int)(n.borderBottomWidth),e}function lRe(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,el.int)(n.borderLeftWidth),e+=(0,el.int)(n.borderRightWidth),e}function uRe(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,el.int)(n.paddingTop),e-=(0,el.int)(n.paddingBottom),e}function cRe(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,el.int)(n.paddingLeft),e-=(0,el.int)(n.paddingRight),e}function dRe(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,a=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:a}}function fRe(t,e){const n=rO(t,e,"px");return{[(0,G4.browserPrefixToKey)("transform",G4.default)]:n}}function hRe(t,e){return rO(t,e,"")}function rO(t,e,n){let{x:r,y:i}=t,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const a="".concat(typeof e.x=="string"?e.x:e.x+n),s="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function pRe(t,e){return t.targetTouches&&(0,el.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,el.findInArray)(t.changedTouches,n=>e===n.identifier)}function vRe(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function mRe(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&hz(t.body,"react-draggable-transparent-selection")}function gRe(t){if(t)try{if(t.body&&pz(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function hz(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function pz(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.canDragX=xRe;Rc.canDragY=_Re;Rc.createCoreData=wRe;Rc.createDraggableData=ERe;Rc.getBoundPosition=yRe;Rc.getControlPosition=SRe;Rc.snapToGrid=bRe;var Js=Tc,um=Io;function yRe(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:CRe(r);const i=iO(t);if(typeof r=="string"){const{ownerDocument:o}=i,a=o.defaultView;let s;if(r==="parent"?s=i.parentNode:s=o.querySelector(r),!(s instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=s,u=a.getComputedStyle(i),c=a.getComputedStyle(l);r={left:-i.offsetLeft+(0,Js.int)(c.paddingLeft)+(0,Js.int)(u.marginLeft),top:-i.offsetTop+(0,Js.int)(c.paddingTop)+(0,Js.int)(u.marginTop),right:(0,um.innerWidth)(l)-(0,um.outerWidth)(i)-i.offsetLeft+(0,Js.int)(c.paddingRight)-(0,Js.int)(u.marginRight),bottom:(0,um.innerHeight)(l)-(0,um.outerHeight)(i)-i.offsetTop+(0,Js.int)(c.paddingBottom)-(0,Js.int)(u.marginBottom)}}return(0,Js.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Js.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Js.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Js.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function bRe(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function xRe(t){return t.props.axis==="both"||t.props.axis==="x"}function _Re(t){return t.props.axis==="both"||t.props.axis==="y"}function SRe(t,e,n){const r=typeof e=="number"?(0,um.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=iO(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,um.offsetXYFromParent)(r||t,o,n.props.scale)}function wRe(t,e,n){const r=!(0,Js.isNum)(t.lastX),i=iO(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function ERe(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function CRe(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function iO(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var cE={},dE={};Object.defineProperty(dE,"__esModule",{value:!0});dE.default=TRe;function TRe(){}Object.defineProperty(cE,"__esModule",{value:!0});cE.default=void 0;var R2=PRe(y),bs=oO($$),RRe=oO(Hf),ka=Io,gf=Rc,P2=Tc,P0=oO(dE);function oO(t){return t&&t.__esModule?t:{default:t}}function vz(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(vz=function(r){return r?n:e})(t)}function PRe(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=vz(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function qa(t,e,n){return e=ARe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ARe(t){var e=ORe(t,"string");return typeof e=="symbol"?e:String(e)}function ORe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const au={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let yf=au.mouse,fE=class extends R2.Component{constructor(){super(...arguments),qa(this,"dragging",!1),qa(this,"lastX",NaN),qa(this,"lastY",NaN),qa(this,"touchIdentifier",null),qa(this,"mounted",!1),qa(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,ka.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,ka.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,ka.getTouchIdentifier)(e);this.touchIdentifier=i;const o=(0,gf.getControlPosition)(e,i,this);if(o==null)return;const{x:a,y:s}=o,l=(0,gf.createCoreData)(this,a,s);(0,P0.default)("DraggableCore: handleDragStart: %j",l),(0,P0.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,ka.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=s,(0,ka.addEvent)(r,yf.move,this.handleDrag),(0,ka.addEvent)(r,yf.stop,this.handleDragStop))}),qa(this,"handleDrag",e=>{const n=(0,gf.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let s=r-this.lastX,l=i-this.lastY;if([s,l]=(0,gf.snapToGrid)(this.props.grid,s,l),!s&&!l)return;r=this.lastX+s,i=this.lastY+l}const o=(0,gf.createCoreData)(this,r,i);if((0,P0.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),qa(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,gf.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,u=i-this.lastY||0;[l,u]=(0,gf.snapToGrid)(this.props.grid,l,u),r=this.lastX+l,i=this.lastY+u}const o=(0,gf.createCoreData)(this,r,i);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,ka.removeUserSelectStyles)(s.ownerDocument),(0,P0.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,P0.default)("DraggableCore: Removing handlers"),(0,ka.removeEvent)(s.ownerDocument,yf.move,this.handleDrag),(0,ka.removeEvent)(s.ownerDocument,yf.stop,this.handleDragStop))}),qa(this,"onMouseDown",e=>(yf=au.mouse,this.handleDragStart(e))),qa(this,"onMouseUp",e=>(yf=au.mouse,this.handleDragStop(e))),qa(this,"onTouchStart",e=>(yf=au.touch,this.handleDragStart(e))),qa(this,"onTouchEnd",e=>(yf=au.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,ka.addEvent)(e,au.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,ka.removeEvent)(n,au.mouse.move,this.handleDrag),(0,ka.removeEvent)(n,au.touch.move,this.handleDrag),(0,ka.removeEvent)(n,au.mouse.stop,this.handleDragStop),(0,ka.removeEvent)(n,au.touch.stop,this.handleDragStop),(0,ka.removeEvent)(e,au.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,ka.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:RRe.default.findDOMNode(this)}render(){return R2.cloneElement(R2.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};cE.default=fE;qa(fE,"displayName","DraggableCore");qa(fE,"propTypes",{allowAnyClick:bs.default.bool,children:bs.default.node.isRequired,disabled:bs.default.bool,enableUserSelectHack:bs.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:bs.default.arrayOf(bs.default.number),handle:bs.default.string,cancel:bs.default.string,nodeRef:bs.default.object,onStart:bs.default.func,onDrag:bs.default.func,onStop:bs.default.func,onMouseDown:bs.default.func,scale:bs.default.number,className:P2.dontSetMe,style:P2.dontSetMe,transform:P2.dontSetMe});qa(fE,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=f(y),n=c($$),r=c(Hf),i=c(YTe),o=Io,a=Rc,s=Tc,l=c(cE),u=c(dE);function c(_){return _&&_.__esModule?_:{default:_}}function d(_){if(typeof WeakMap!="function")return null;var w=new WeakMap,S=new WeakMap;return(d=function(C){return C?S:w})(_)}function f(_,w){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var S=d(w);if(S&&S.has(_))return S.get(_);var C={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in _)if(T!=="default"&&Object.prototype.hasOwnProperty.call(_,T)){var N=O?Object.getOwnPropertyDescriptor(_,T):null;N&&(N.get||N.set)?Object.defineProperty(C,T,N):C[T]=_[T]}return C.default=_,S&&S.set(_,C),C}function h(){return h=Object.assign?Object.assign.bind():function(_){for(var w=1;w<arguments.length;w++){var S=arguments[w];for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(_[C]=S[C])}return _},h.apply(this,arguments)}function v(_,w,S){return w=m(w),w in _?Object.defineProperty(_,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):_[w]=S,_}function m(_){var w=g(_,"string");return typeof w=="symbol"?w:String(w)}function g(_,w){if(typeof _!="object"||_===null)return _;var S=_[Symbol.toPrimitive];if(S!==void 0){var C=S.call(_,w||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(_)}class x extends e.Component{static getDerivedStateFromProps(w,S){let{position:C}=w,{prevPropsPosition:O}=S;return C&&(!O||C.x!==O.x||C.y!==O.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:C,prevPropsPosition:O}),{x:C.x,y:C.y,prevPropsPosition:{...C}}):null}constructor(w){super(w),v(this,"onDragStart",(S,C)=>{if((0,u.default)("Draggable: onDragStart: %j",C),this.props.onStart(S,(0,a.createDraggableData)(this,C))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(S,C)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",C);const O=(0,a.createDraggableData)(this,C),T={x:O.x,y:O.y,slackX:0,slackY:0};if(this.props.bounds){const{x:M,y:D}=T;T.x+=this.state.slackX,T.y+=this.state.slackY;const[F,j]=(0,a.getBoundPosition)(this,T.x,T.y);T.x=F,T.y=j,T.slackX=this.state.slackX+(M-T.x),T.slackY=this.state.slackY+(D-T.y),O.x=T.x,O.y=T.y,O.deltaX=T.x-this.state.x,O.deltaY=T.y-this.state.y}if(this.props.onDrag(S,O)===!1)return!1;this.setState(T)}),v(this,"onDragStop",(S,C)=>{if(!this.state.dragging||this.props.onStop(S,(0,a.createDraggableData)(this,C))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",C);const T={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:M,y:D}=this.props.position;T.x=M,T.y=D}this.setState(T)}),this.state={dragging:!1,dragged:!1,x:w.position?w.position.x:w.defaultPosition.x,y:w.position?w.position.y:w.defaultPosition.y,prevPropsPosition:{...w.position},slackX:0,slackY:0,isElementSVG:!1},w.position&&!(w.onDrag||w.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var w,S;return(w=(S=this.props)===null||S===void 0||(S=S.nodeRef)===null||S===void 0?void 0:S.current)!==null&&w!==void 0?w:r.default.findDOMNode(this)}render(){const{axis:w,bounds:S,children:C,defaultPosition:O,defaultClassName:T,defaultClassNameDragging:N,defaultClassNameDragged:M,position:D,positionOffset:F,scale:j,...R}=this.props;let I={},L=null;const B=!!!D||this.state.dragging,q=D||O,X={x:(0,a.canDragX)(this)&&B?this.state.x:q.x,y:(0,a.canDragY)(this)&&B?this.state.y:q.y};this.state.isElementSVG?L=(0,o.createSVGTransform)(X,F):I=(0,o.createCSSTransform)(X,F);const z=(0,i.default)(C.props.className||"",T,{[N]:this.state.dragging,[M]:this.state.dragged});return e.createElement(l.default,h({},R,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(C),{className:z,style:{...C.props.style,...I},transform:L}))}}t.default=x,v(x,"displayName","Draggable"),v(x,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),v(x,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(sz);const{default:mz,DraggableCore:NRe}=sz;uE.exports=mz;uE.exports.default=mz;uE.exports.DraggableCore=NRe;var MRe=uE.exports;const IRe=Ua(MRe),DRe="index-module__modalContainer___pco1P",LRe="index-module__container___X8TW-",kRe="index-module__span___UuaDz",$Re="index-module__content___via-5",FRe="index-module__dataTreeList___gDYYu",jRe="index-module__collapse___dhfCY",BRe="index-module__node___x0Pxo",zRe="index-module__dataEditor___AKVvO",HRe="index-module__overNormal___J2ZRy",URe="index-module__overScroll___-U2Zf",GRe="index-module__runCodeResult___mSNiL",WRe="index-module__resultTip___NoU0E",VRe="index-module__resultType___u8SZ-",XRe="index-module__resultValue___PLV9q",KRe="index-module__resultErrValue___Ki-9d",zi={modalContainer:DRe,container:LRe,"popout-header":"index-module__popout-header___PI-6T","close-view":"index-module__close-view___lOQLk","title-view":"index-module__title-view___cTKJK",span:kRe,content:$Re,dataTreeList:FRe,collapse:jRe,node:BRe,"node-icon":"index-module__node-icon___602-P","node-name":"index-module__node-name___FgBRF",dataEditor:zRe,"line-vertical":"index-module__line-vertical___wwiBV",overNormal:HRe,overScroll:URe,runCodeResult:GRe,resultTip:WRe,resultType:VRe,resultValue:XRe,resultErrValue:KRe},{createElement:Zm,createContext:YRe,createRef:G$e,forwardRef:gz,useCallback:xs,useContext:yz,useEffect:fp,useImperativeHandle:bz,useLayoutEffect:qRe,useMemo:ZRe,useRef:ws,useState:xm}=Hk,W4=Hk[`useId${Math.random()}`.slice(0,5)],JRe=qRe,hE=YRe(null);hE.displayName="PanelGroupContext";const hp=JRe,QRe=typeof W4=="function"?W4:()=>null;let ePe=0;function aO(t=null){const e=QRe(),n=ws(t||e||null);return n.current===null&&(n.current=""+ePe++),t??n.current}function xz({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:o,id:a,maxSize:s,minSize:l,onCollapse:u,onExpand:c,onResize:d,order:f,style:h,tagName:v="div",...m}){const g=yz(hE);if(g===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:x,expandPanel:_,getPanelSize:w,getPanelStyle:S,groupId:C,isPanelCollapsed:O,reevaluatePanelConstraints:T,registerPanel:N,resizePanel:M,unregisterPanel:D}=g,F=aO(a),j=ws({callbacks:{onCollapse:u,onExpand:c,onResize:d},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:s,minSize:l},id:F,idIsFromProps:a!==void 0,order:f});ws({didLogMissingDefaultSizeWarning:!1}),hp(()=>{const{callbacks:I,constraints:L}=j.current,k={...L};j.current.id=F,j.current.idIsFromProps=a!==void 0,j.current.order=f,I.onCollapse=u,I.onExpand=c,I.onResize=d,L.collapsedSize=n,L.collapsible=r,L.defaultSize=i,L.maxSize=s,L.minSize=l,(k.collapsedSize!==L.collapsedSize||k.collapsible!==L.collapsible||k.maxSize!==L.maxSize||k.minSize!==L.minSize)&&T(j.current,k)}),hp(()=>{const I=j.current;return N(I),()=>{D(I)}},[f,F,N,D]),bz(o,()=>({collapse:()=>{x(j.current)},expand:I=>{_(j.current,I)},getId(){return F},getSize(){return w(j.current)},isCollapsed(){return O(j.current)},isExpanded(){return!O(j.current)},resize:I=>{M(j.current,I)}}),[x,_,w,O,F,M]);const R=S(j.current,i);return Zm(v,{...m,children:t,className:e,id:a,style:{...R,...h},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":C,"data-panel-id":F,"data-panel-size":parseFloat(""+R.flexGrow).toFixed(1)})}const ZR=gz((t,e)=>Zm(xz,{...t,forwardedRef:e}));xz.displayName="Panel";ZR.displayName="forwardRef(Panel)";let JR=null,sp=null;function tPe(t,e){if(e){const n=(e&Cz)!==0,r=(e&Tz)!==0,i=(e&Rz)!==0,o=(e&Pz)!==0;if(n)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function nPe(){sp!==null&&(document.head.removeChild(sp),JR=null,sp=null)}function A2(t,e){const n=tPe(t,e);JR!==n&&(JR=n,sp===null&&(sp=document.createElement("style"),document.head.appendChild(sp)),sp.innerHTML=`*{cursor: ${n}!important;}`)}function _z(t){return t.type==="keydown"}function Sz(t){return t.type.startsWith("pointer")}function wz(t){return t.type.startsWith("mouse")}function pE(t){if(Sz(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(wz(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function rPe(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function iPe(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function oPe(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:K4(t),b:K4(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;ei(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:X4(V4(n.a)),b:X4(V4(n.b))};if(i.a===i.b){const o=r.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let s=o.length;for(;s--;){const l=o[s];if(l===a.a)return 1;if(l===a.b)return-1}}return Math.sign(i.a-i.b)}const aPe=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function sPe(t){var e;const n=getComputedStyle((e=Ez(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function lPe(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||sPe(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||aPe.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function V4(t){let e=t.length;for(;e--;){const n=t[e];if(ei(n,"Missing node"),lPe(n))return n}return null}function X4(t){return t&&Number(getComputedStyle(t).zIndex)||0}function K4(t){const e=[];for(;t;)e.push(t),t=Ez(t);return e}function Ez(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const Cz=1,Tz=2,Rz=4,Pz=8,uPe=rPe()==="coarse";let Su=[],_m=!1,Of=new Map,vE=new Map;const gb=new Set;function cPe(t,e,n,r,i){var o;const{ownerDocument:a}=e,s={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:i},l=(o=Of.get(a))!==null&&o!==void 0?o:0;return Of.set(a,l+1),gb.add(s),DS(),function(){var c;vE.delete(t),gb.delete(s);const d=(c=Of.get(a))!==null&&c!==void 0?c:1;if(Of.set(a,d-1),DS(),d===1&&Of.delete(a),Su.includes(s)){const f=Su.indexOf(s);f>=0&&Su.splice(f,1),lO(),i("up",!0,null)}}}function Y4(t){const{target:e}=t,{x:n,y:r}=pE(t);_m=!0,sO({target:e,x:n,y:r}),DS(),Su.length>0&&(LS("down",t),t.preventDefault(),t.stopPropagation())}function A0(t){const{x:e,y:n}=pE(t);if(_m&&t.buttons===0&&(_m=!1,LS("up",t)),!_m){const{target:r}=t;sO({target:r,x:e,y:n})}LS("move",t),lO(),Su.length>0&&t.preventDefault()}function Uv(t){const{target:e}=t,{x:n,y:r}=pE(t);vE.clear(),_m=!1,Su.length>0&&t.preventDefault(),LS("up",t),sO({target:e,x:n,y:r}),lO(),DS()}function sO({target:t,x:e,y:n}){Su.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),gb.forEach(i=>{const{element:o,hitAreaMargins:a}=i,s=o.getBoundingClientRect(),{bottom:l,left:u,right:c,top:d}=s,f=uPe?a.coarse:a.fine;if(e>=u-f&&e<=c+f&&n>=d-f&&n<=l+f){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&oPe(r,o)>0){let v=r,m=!1;for(;v&&!v.contains(o);){if(iPe(v.getBoundingClientRect(),s)){m=!0;break}v=v.parentElement}if(m)return}Su.push(i)}})}function O2(t,e){vE.set(t,e)}function lO(){let t=!1,e=!1;Su.forEach(r=>{const{direction:i}=r;i==="horizontal"?t=!0:e=!0});let n=0;vE.forEach(r=>{n|=r}),t&&e?A2("intersection",n):t?A2("horizontal",n):e?A2("vertical",n):nPe()}function DS(){Of.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",Uv),n.removeEventListener("pointerdown",Y4),n.removeEventListener("pointerleave",A0),n.removeEventListener("pointermove",A0)}),window.removeEventListener("pointerup",Uv),window.removeEventListener("pointercancel",Uv),gb.size>0&&(_m?(Su.length>0&&Of.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",Uv),n.addEventListener("pointerleave",A0),n.addEventListener("pointermove",A0))}),window.addEventListener("pointerup",Uv),window.addEventListener("pointercancel",Uv)):Of.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("pointerdown",Y4,{capture:!0}),n.addEventListener("pointermove",A0))}))}function LS(t,e){gb.forEach(n=>{const{setResizeHandlerState:r}=n,i=Su.includes(n);r(t,i,e)})}function dPe(){const[t,e]=xm(0);return xs(()=>e(n=>n+1),[])}function ei(t,e){if(!t)throw console.error(e),Error(e)}const uO=10;function Tp(t,e,n=uO){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function _d(t,e,n=uO){return Tp(t,e,n)===0}function Qs(t,e,n){return Tp(t,e,n)===0}function fPe(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const i=t[r],o=e[r];if(!Qs(i,o,n))return!1}return!0}function cm({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];ei(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:o,maxSize:a=100,minSize:s=0}=r;if(Tp(n,s)<0)if(o){const l=(i+s)/2;Tp(n,l)<0?n=i:n=s}else n=s;return n=Math.min(a,n),n=parseFloat(n.toFixed(uO)),n}function ay({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:o}){if(Qs(t,0))return e;const a=[...e],[s,l]=r;ei(s!=null,"Invalid first pivot index"),ei(l!=null,"Invalid second pivot index");let u=0;if(o==="keyboard"){{const d=t<0?l:s,f=n[d];ei(f,`Panel constraints not found for index ${d}`);const{collapsedSize:h=0,collapsible:v,minSize:m=0}=f;if(v){const g=e[d];if(ei(g!=null,`Previous layout not found for panel index ${d}`),Qs(g,h)){const x=m-g;Tp(x,Math.abs(t))>0&&(t=t<0?0-x:x)}}}{const d=t<0?s:l,f=n[d];ei(f,`No panel constraints found for index ${d}`);const{collapsedSize:h=0,collapsible:v,minSize:m=0}=f;if(v){const g=e[d];if(ei(g!=null,`Previous layout not found for panel index ${d}`),Qs(g,m)){const x=g-h;Tp(x,Math.abs(t))>0&&(t=t<0?0-x:x)}}}}{const d=t<0?1:-1;let f=t<0?l:s,h=0;for(;;){const m=e[f];ei(m!=null,`Previous layout not found for panel index ${f}`);const x=cm({panelConstraints:n,panelIndex:f,size:100})-m;if(h+=x,f+=d,f<0||f>=n.length)break}const v=Math.min(Math.abs(t),Math.abs(h));t=t<0?0-v:v}{let f=t<0?s:l;for(;f>=0&&f<n.length;){const h=Math.abs(t)-Math.abs(u),v=e[f];ei(v!=null,`Previous layout not found for panel index ${f}`);const m=v-h,g=cm({panelConstraints:n,panelIndex:f,size:m});if(!Qs(v,g)&&(u+=v-g,a[f]=g,u.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?f--:f++}}if(fPe(i,a))return i;{const d=t<0?l:s,f=e[d];ei(f!=null,`Previous layout not found for panel index ${d}`);const h=f+u,v=cm({panelConstraints:n,panelIndex:d,size:h});if(a[d]=v,!Qs(v,h)){let m=h-v,x=t<0?l:s;for(;x>=0&&x<n.length;){const _=a[x];ei(_!=null,`Previous layout not found for panel index ${x}`);const w=_+m,S=cm({panelConstraints:n,panelIndex:x,size:w});if(Qs(_,S)||(m-=S-_,a[x]=S),Qs(m,0))break;t>0?x--:x++}}}const c=a.reduce((d,f)=>f+d,0);return Qs(c,100)?a:i}function hPe({layout:t,panelsArray:e,pivotIndices:n}){let r=0,i=100,o=0,a=0;const s=n[0];ei(s!=null,"No pivot index found"),e.forEach((d,f)=>{const{constraints:h}=d,{maxSize:v=100,minSize:m=0}=h;f===s?(r=m,i=v):(o+=m,a+=v)});const l=Math.min(i,100-o),u=Math.max(r,100-a),c=t[s];return{valueMax:l,valueMin:u,valueNow:c}}function yb(t,e=document){return Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`))}function Az(t,e,n=document){const i=yb(t,n).findIndex(o=>o.getAttribute("data-panel-resize-handle-id")===e);return i??null}function Oz(t,e,n){const r=Az(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function Nz(t,e=document){var n;if(e instanceof HTMLElement&&(e==null||(n=e.dataset)===null||n===void 0?void 0:n.panelGroupId)==t)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return r||null}function mE(t,e=document){const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function pPe(t,e,n,r=document){var i,o,a,s;const l=mE(e,r),u=yb(t,r),c=l?u.indexOf(l):-1,d=(i=(o=n[c])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,f=(a=(s=n[c+1])===null||s===void 0?void 0:s.id)!==null&&a!==void 0?a:null;return[d,f]}function vPe({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:a}){ws({didWarnAboutMissingResizeHandle:!1}),hp(()=>{if(!o)return;const s=yb(n,o);for(let l=0;l<i.length-1;l++){const{valueMax:u,valueMin:c,valueNow:d}=hPe({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),f=s[l];if(f!=null){const h=i[l];ei(h,`No panel data found for index "${l}"`),f.setAttribute("aria-controls",h.id),f.setAttribute("aria-valuemax",""+Math.round(u)),f.setAttribute("aria-valuemin",""+Math.round(c)),f.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{s.forEach((l,u)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,o]),fp(()=>{if(!o)return;const s=e.current;ei(s,"Eager values not found");const{panelDataArray:l}=s,u=Nz(n,o);ei(u!=null,`No group found for id "${n}"`);const c=yb(n,o);ei(c,`No resize handles found for group id "${n}"`);const d=c.map(f=>{const h=f.getAttribute("data-panel-resize-handle-id");ei(h,"Resize handle element has no handle id attribute");const[v,m]=pPe(n,h,l,o);if(v==null||m==null)return()=>{};const g=x=>{if(!x.defaultPrevented)switch(x.key){case"Enter":{x.preventDefault();const _=l.findIndex(w=>w.id===v);if(_>=0){const w=l[_];ei(w,`No panel data found for index ${_}`);const S=r[_],{collapsedSize:C=0,collapsible:O,minSize:T=0}=w.constraints;if(S!=null&&O){const N=ay({delta:Qs(S,C)?T-C:C-S,initialLayout:r,panelConstraints:l.map(M=>M.constraints),pivotIndices:Oz(n,h,o),prevLayout:r,trigger:"keyboard"});r!==N&&a(N)}}break}}};return f.addEventListener("keydown",g),()=>{f.removeEventListener("keydown",g)}});return()=>{d.forEach(f=>f())}},[o,t,e,n,r,i,a])}function q4(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Mz(t,e){const n=t==="horizontal",{x:r,y:i}=pE(e);return n?r:i}function mPe(t,e,n,r,i){const o=n==="horizontal",a=mE(e,i);ei(a,`No resize handle element found for id "${e}"`);const s=a.getAttribute("data-panel-group-id");ei(s,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const u=Mz(n,t),c=Nz(s,i);ei(c,`No group element found for id "${s}"`);const d=c.getBoundingClientRect(),f=o?d.width:d.height;return(u-l)/f*100}function gPe(t,e,n,r,i,o){if(_z(t)){const a=n==="horizontal";let s=0;t.shiftKey?s=100:i!=null?s=i:s=10;let l=0;switch(t.key){case"ArrowDown":l=a?0:s;break;case"ArrowLeft":l=a?-s:0;break;case"ArrowRight":l=a?s:0;break;case"ArrowUp":l=a?0:-s;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:mPe(t,e,n,r,o)}function yPe({panelDataArray:t}){const e=Array(t.length),n=t.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<t.length;o++){const a=n[o];ei(a,`Panel constraints not found for index ${o}`);const{defaultSize:s}=a;s!=null&&(r++,e[o]=s,i-=s)}for(let o=0;o<t.length;o++){const a=n[o];ei(a,`Panel constraints not found for index ${o}`);const{defaultSize:s}=a;if(s!=null)continue;const l=t.length-r,u=i/l;r++,e[o]=u,i-=u}return e}function Gv(t,e,n){e.forEach((r,i)=>{const o=t[i];ei(o,`Panel data not found for index ${i}`);const{callbacks:a,constraints:s,id:l}=o,{collapsedSize:u=0,collapsible:c}=s,d=n[l];if(d==null||r!==d){n[l]=r;const{onCollapse:f,onExpand:h,onResize:v}=a;v&&v(r,d),c&&(f||h)&&(h&&(d==null||_d(d,u))&&!_d(r,u)&&h(),f&&(d==null||!_d(d,u))&&_d(r,u)&&f())}})}function jx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function bPe({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:i,precision:o=3}){const a=n[i];let s;return a==null?s=t!=null?t.toPrecision(o):"1":r.length===1?s="1":s=a.toPrecision(o),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function xPe(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function Z4(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Iz(t){return`react-resizable-panels:${t}`}function Dz(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:i,order:o}=e;return i?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function Lz(t,e){try{const n=Iz(t),r=e.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function _Pe(t,e,n){var r,i;const o=(r=Lz(t,n))!==null&&r!==void 0?r:{},a=Dz(e);return(i=o[a])!==null&&i!==void 0?i:null}function SPe(t,e,n,r,i){var o;const a=Iz(t),s=Dz(e),l=(o=Lz(t,i))!==null&&o!==void 0?o:{};l[s]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(a,JSON.stringify(l))}catch(u){console.error(u)}}function J4({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((o,a)=>o+a,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!Qs(r,100)&&n.length>0)for(let o=0;o<e.length;o++){const a=n[o];ei(a!=null,`No layout data found for index ${o}`);const s=100/r*a;n[o]=s}let i=0;for(let o=0;o<e.length;o++){const a=n[o];ei(a!=null,`No layout data found for index ${o}`);const s=cm({panelConstraints:e,panelIndex:o,size:a});a!=s&&(i+=a-s,n[o]=s)}if(!Qs(i,0))for(let o=0;o<e.length;o++){const a=n[o];ei(a!=null,`No layout data found for index ${o}`);const s=a+i,l=cm({panelConstraints:e,panelIndex:o,size:s});if(a!==l&&(i-=l-a,n[o]=l,Qs(i,0)))break}return n}const wPe=100,sy={getItem:t=>(Z4(sy),sy.getItem(t)),setItem:(t,e)=>{Z4(sy),sy.setItem(t,e)}},Q4={};function kz({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:i,id:o=null,onLayout:a=null,keyboardResizeBy:s=null,storage:l=sy,style:u,tagName:c="div",...d}){const f=aO(o),h=ws(null),[v,m]=xm(null),[g,x]=xm([]),_=dPe(),w=ws({}),S=ws(new Map),C=ws(0),O=ws({autoSaveId:t,direction:r,dragState:v,id:f,keyboardResizeBy:s,onLayout:a,storage:l}),T=ws({layout:g,panelDataArray:[],panelDataArrayChanged:!1});ws({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),bz(i,()=>({getId:()=>O.current.id,getLayout:()=>{const{layout:V}=T.current;return V},setLayout:V=>{const{onLayout:W}=O.current,{layout:te,panelDataArray:K}=T.current,U=J4({layout:V,panelConstraints:K.map(ee=>ee.constraints)});q4(te,U)||(x(U),T.current.layout=U,W&&W(U),Gv(K,U,w.current))}}),[]),hp(()=>{O.current.autoSaveId=t,O.current.direction=r,O.current.dragState=v,O.current.id=f,O.current.onLayout=a,O.current.storage=l}),vPe({committedValuesRef:O,eagerValuesRef:T,groupId:f,layout:g,panelDataArray:T.current.panelDataArray,setLayout:x,panelGroupElement:h.current}),fp(()=>{const{panelDataArray:V}=T.current;if(t){if(g.length===0||g.length!==V.length)return;let W=Q4[t];W==null&&(W=xPe(SPe,wPe),Q4[t]=W);const te=[...V],K=new Map(S.current);W(t,te,K,g,l)}},[t,g,l]),fp(()=>{});const N=xs(V=>{const{onLayout:W}=O.current,{layout:te,panelDataArray:K}=T.current;if(V.constraints.collapsible){const U=K.map(Ce=>Ce.constraints),{collapsedSize:ee=0,panelSize:fe,pivotIndices:ve}=Hh(K,V,te);if(ei(fe!=null,`Panel size not found for panel "${V.id}"`),!_d(fe,ee)){S.current.set(V.id,fe);const ue=rm(K,V)===K.length-1?fe-ee:ee-fe,we=ay({delta:ue,initialLayout:te,panelConstraints:U,pivotIndices:ve,prevLayout:te,trigger:"imperative-api"});jx(te,we)||(x(we),T.current.layout=we,W&&W(we),Gv(K,we,w.current))}}},[]),M=xs((V,W)=>{const{onLayout:te}=O.current,{layout:K,panelDataArray:U}=T.current;if(V.constraints.collapsible){const ee=U.map(pe=>pe.constraints),{collapsedSize:fe=0,panelSize:ve=0,minSize:Ce=0,pivotIndices:ue}=Hh(U,V,K),we=W??Ce;if(_d(ve,fe)){const pe=S.current.get(V.id),$e=pe!=null&&pe>=we?pe:we,Le=rm(U,V)===U.length-1?ve-$e:$e-ve,Ie=ay({delta:Le,initialLayout:K,panelConstraints:ee,pivotIndices:ue,prevLayout:K,trigger:"imperative-api"});jx(K,Ie)||(x(Ie),T.current.layout=Ie,te&&te(Ie),Gv(U,Ie,w.current))}}},[]),D=xs(V=>{const{layout:W,panelDataArray:te}=T.current,{panelSize:K}=Hh(te,V,W);return ei(K!=null,`Panel size not found for panel "${V.id}"`),K},[]),F=xs((V,W)=>{const{panelDataArray:te}=T.current,K=rm(te,V);return bPe({defaultSize:W,dragState:v,layout:g,panelData:te,panelIndex:K})},[v,g]),j=xs(V=>{const{layout:W,panelDataArray:te}=T.current,{collapsedSize:K=0,collapsible:U,panelSize:ee}=Hh(te,V,W);return ei(ee!=null,`Panel size not found for panel "${V.id}"`),U===!0&&_d(ee,K)},[]),R=xs(V=>{const{layout:W,panelDataArray:te}=T.current,{collapsedSize:K=0,collapsible:U,panelSize:ee}=Hh(te,V,W);return ei(ee!=null,`Panel size not found for panel "${V.id}"`),!U||Tp(ee,K)>0},[]),I=xs(V=>{const{panelDataArray:W}=T.current;W.push(V),W.sort((te,K)=>{const U=te.order,ee=K.order;return U==null&&ee==null?0:U==null?-1:ee==null?1:U-ee}),T.current.panelDataArrayChanged=!0,_()},[_]);hp(()=>{if(T.current.panelDataArrayChanged){T.current.panelDataArrayChanged=!1;const{autoSaveId:V,onLayout:W,storage:te}=O.current,{layout:K,panelDataArray:U}=T.current;let ee=null;if(V){const ve=_Pe(V,U,te);ve&&(S.current=new Map(Object.entries(ve.expandToSizes)),ee=ve.layout)}ee==null&&(ee=yPe({panelDataArray:U}));const fe=J4({layout:ee,panelConstraints:U.map(ve=>ve.constraints)});q4(K,fe)||(x(fe),T.current.layout=fe,W&&W(fe),Gv(U,fe,w.current))}}),hp(()=>{const V=T.current;return()=>{V.layout=[]}},[]);const L=xs(V=>{let W=!1;const te=h.current;return te&&window.getComputedStyle(te,null).getPropertyValue("direction")==="rtl"&&(W=!0),function(U){U.preventDefault();const ee=h.current;if(!ee)return()=>null;const{direction:fe,dragState:ve,id:Ce,keyboardResizeBy:ue,onLayout:we}=O.current,{layout:pe,panelDataArray:$e}=T.current,{initialLayout:Ne}=ve??{},Le=Oz(Ce,V,ee);let Ie=gPe(U,V,fe,ve,ue,ee);const Z=fe==="horizontal";Z&&W&&(Ie=-Ie);const ie=$e.map($=>$.constraints),ne=ay({delta:Ie,initialLayout:Ne??pe,panelConstraints:ie,pivotIndices:Le,prevLayout:pe,trigger:_z(U)?"keyboard":"mouse-or-touch"}),Te=!jx(pe,ne);(Sz(U)||wz(U))&&C.current!=Ie&&(C.current=Ie,!Te&&Ie!==0?Z?O2(V,Ie<0?Cz:Tz):O2(V,Ie<0?Rz:Pz):O2(V,0)),Te&&(x(ne),T.current.layout=ne,we&&we(ne),Gv($e,ne,w.current))}},[]),k=xs((V,W)=>{const{onLayout:te}=O.current,{layout:K,panelDataArray:U}=T.current,ee=U.map(pe=>pe.constraints),{panelSize:fe,pivotIndices:ve}=Hh(U,V,K);ei(fe!=null,`Panel size not found for panel "${V.id}"`);const ue=rm(U,V)===U.length-1?fe-W:W-fe,we=ay({delta:ue,initialLayout:K,panelConstraints:ee,pivotIndices:ve,prevLayout:K,trigger:"imperative-api"});jx(K,we)||(x(we),T.current.layout=we,te&&te(we),Gv(U,we,w.current))},[]),B=xs((V,W)=>{const{layout:te,panelDataArray:K}=T.current,{collapsedSize:U=0,collapsible:ee}=W,{collapsedSize:fe=0,collapsible:ve,maxSize:Ce=100,minSize:ue=0}=V.constraints,{panelSize:we}=Hh(K,V,te);we!=null&&(ee&&ve&&_d(we,U)?_d(U,fe)||k(V,fe):we<ue?k(V,ue):we>Ce&&k(V,Ce))},[k]),q=xs((V,W)=>{const{direction:te}=O.current,{layout:K}=T.current;if(!h.current)return;const U=mE(V,h.current);ei(U,`Drag handle element not found for id "${V}"`);const ee=Mz(te,W);m({dragHandleId:V,dragHandleRect:U.getBoundingClientRect(),initialCursorPosition:ee,initialLayout:K})},[]),X=xs(()=>{m(null)},[]),z=xs(V=>{const{panelDataArray:W}=T.current,te=rm(W,V);te>=0&&(W.splice(te,1),delete w.current[V.id],T.current.panelDataArrayChanged=!0,_())},[_]),H=ZRe(()=>({collapsePanel:N,direction:r,dragState:v,expandPanel:M,getPanelSize:D,getPanelStyle:F,groupId:f,isPanelCollapsed:j,isPanelExpanded:R,reevaluatePanelConstraints:B,registerPanel:I,registerResizeHandle:L,resizePanel:k,startDragging:q,stopDragging:X,unregisterPanel:z,panelGroupElement:h.current}),[N,v,r,M,D,F,f,j,R,B,I,L,k,q,X,z]),Q={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Zm(hE.Provider,{value:H},Zm(c,{...d,children:e,className:n,id:o,ref:h,style:{...Q,...u},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":f}))}const $z=gz((t,e)=>Zm(kz,{...t,forwardedRef:e}));kz.displayName="PanelGroup";$z.displayName="forwardRef(PanelGroup)";function rm(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function Hh(t,e,n){const r=rm(t,e),o=r===t.length-1?[r-1,r]:[r,r+1],a=n[r];return{...e.constraints,panelSize:a,pivotIndices:o}}function EPe({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){fp(()=>{if(t||n==null||r==null)return;const i=mE(e,r);if(i==null)return;const o=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),n(a);break}case"F6":{a.preventDefault();const s=i.getAttribute("data-panel-group-id");ei(s,`No group element found for id "${s}"`);const l=yb(s,r),u=Az(s,e,r);ei(u!==null,`No resize element found for id "${e}"`);const c=a.shiftKey?u>0?u-1:l.length-1:u+1<l.length?u+1:0;l[c].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,t,e,n])}function Fz({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:i,onBlur:o,onDragging:a,onFocus:s,style:l={},tabIndex:u=0,tagName:c="div",...d}){var f,h;const v=ws(null),m=ws({onDragging:a});fp(()=>{m.current.onDragging=a});const g=yz(hE);if(g===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:x,groupId:_,registerResizeHandle:w,startDragging:S,stopDragging:C,panelGroupElement:O}=g,T=aO(i),[N,M]=xm("inactive"),[D,F]=xm(!1),[j,R]=xm(null),I=ws({state:N});hp(()=>{I.current.state=N}),fp(()=>{if(n)R(null);else{const q=w(T);R(()=>q)}},[n,T,w]);const L=(f=r==null?void 0:r.coarse)!==null&&f!==void 0?f:15,k=(h=r==null?void 0:r.fine)!==null&&h!==void 0?h:5;return fp(()=>{if(n||j==null)return;const q=v.current;return ei(q,"Element ref not attached"),cPe(T,q,x,{coarse:L,fine:k},(z,H,Q)=>{if(H)switch(z){case"down":{M("drag"),ei(Q,'Expected event to be defined for "down" action'),S(T,Q);const{onDragging:V}=m.current;V&&V(!0);break}case"move":{const{state:V}=I.current;V!=="drag"&&M("hover"),ei(Q,'Expected event to be defined for "move" action'),j(Q);break}case"up":{M("hover"),C();const{onDragging:V}=m.current;V&&V(!1);break}}else M("inactive")})},[L,x,n,k,w,T,j,S,C]),EPe({disabled:n,handleId:T,resizeHandler:j,panelGroupElement:O}),Zm(c,{...d,children:t,className:e,id:i,onBlur:()=>{F(!1),o==null||o()},onFocus:()=>{F(!0),s==null||s()},ref:v,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...l},tabIndex:u,"data-panel-group-direction":x,"data-panel-group-id":_,"data-resize-handle":"","data-resize-handle-active":N==="drag"?"pointer":D?"keyboard":void 0,"data-resize-handle-state":N,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":T})}Fz.displayName="PanelResizeHandle";const Zb=y.createContext({});var jz={exports:{}};(function(t,e){(function(n,r){t.exports=r(y)})(Ra,function(n){return function(r){var i={};function o(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=r,o.c=i,o.d=function(a,s,l){o.o(a,s)||Object.defineProperty(a,s,{enumerable:!0,get:l})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,s){if(1&s&&(a=o(a)),8&s||4&s&&typeof a=="object"&&a&&a.__esModule)return a;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:a}),2&s&&typeof a!="string")for(var u in a)o.d(l,u,(function(c){return a[c]}).bind(null,u));return l},o.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(s,"a",s),s},o.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},o.p="",o(o.s=48)}([function(r,i){r.exports=n},function(r,i){var o=r.exports={version:"2.6.12"};typeof __e=="number"&&(__e=o)},function(r,i,o){var a=o(26)("wks"),s=o(17),l=o(3).Symbol,u=typeof l=="function";(r.exports=function(c){return a[c]||(a[c]=u&&l[c]||(u?l:s)("Symbol."+c))}).store=a},function(r,i){var o=r.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=o)},function(r,i,o){r.exports=!o(8)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(r,i){var o={}.hasOwnProperty;r.exports=function(a,s){return o.call(a,s)}},function(r,i,o){var a=o(7),s=o(16);r.exports=o(4)?function(l,u,c){return a.f(l,u,s(1,c))}:function(l,u,c){return l[u]=c,l}},function(r,i,o){var a=o(10),s=o(35),l=o(23),u=Object.defineProperty;i.f=o(4)?Object.defineProperty:function(c,d,f){if(a(c),d=l(d,!0),a(f),s)try{return u(c,d,f)}catch{}if("get"in f||"set"in f)throw TypeError("Accessors not supported!");return"value"in f&&(c[d]=f.value),c}},function(r,i){r.exports=function(o){try{return!!o()}catch{return!0}}},function(r,i,o){var a=o(40),s=o(22);r.exports=function(l){return a(s(l))}},function(r,i,o){var a=o(11);r.exports=function(s){if(!a(s))throw TypeError(s+" is not an object!");return s}},function(r,i){r.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},function(r,i){r.exports={}},function(r,i,o){var a=o(39),s=o(27);r.exports=Object.keys||function(l){return a(l,s)}},function(r,i){r.exports=!0},function(r,i,o){var a=o(3),s=o(1),l=o(53),u=o(6),c=o(5),d=function(f,h,v){var m,g,x,_=f&d.F,w=f&d.G,S=f&d.S,C=f&d.P,O=f&d.B,T=f&d.W,N=w?s:s[h]||(s[h]={}),M=N.prototype,D=w?a:S?a[h]:(a[h]||{}).prototype;for(m in w&&(v=h),v)(g=!_&&D&&D[m]!==void 0)&&c(N,m)||(x=g?D[m]:v[m],N[m]=w&&typeof D[m]!="function"?v[m]:O&&g?l(x,a):T&&D[m]==x?function(F){var j=function(R,I,L){if(this instanceof F){switch(arguments.length){case 0:return new F;case 1:return new F(R);case 2:return new F(R,I)}return new F(R,I,L)}return F.apply(this,arguments)};return j.prototype=F.prototype,j}(x):C&&typeof x=="function"?l(Function.call,x):x,C&&((N.virtual||(N.virtual={}))[m]=x,f&d.R&&M&&!M[m]&&u(M,m,x)))};d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,r.exports=d},function(r,i){r.exports=function(o,a){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:a}}},function(r,i){var o=0,a=Math.random();r.exports=function(s){return"Symbol(".concat(s===void 0?"":s,")_",(++o+a).toString(36))}},function(r,i,o){var a=o(22);r.exports=function(s){return Object(a(s))}},function(r,i){i.f={}.propertyIsEnumerable},function(r,i,o){var a=o(52)(!0);o(34)(String,"String",function(s){this._t=String(s),this._i=0},function(){var s,l=this._t,u=this._i;return u>=l.length?{value:void 0,done:!0}:(s=a(l,u),this._i+=s.length,{value:s,done:!1})})},function(r,i){var o=Math.ceil,a=Math.floor;r.exports=function(s){return isNaN(s=+s)?0:(s>0?a:o)(s)}},function(r,i){r.exports=function(o){if(o==null)throw TypeError("Can't call method on  "+o);return o}},function(r,i,o){var a=o(11);r.exports=function(s,l){if(!a(s))return s;var u,c;if(l&&typeof(u=s.toString)=="function"&&!a(c=u.call(s))||typeof(u=s.valueOf)=="function"&&!a(c=u.call(s))||!l&&typeof(u=s.toString)=="function"&&!a(c=u.call(s)))return c;throw TypeError("Can't convert object to primitive value")}},function(r,i){var o={}.toString;r.exports=function(a){return o.call(a).slice(8,-1)}},function(r,i,o){var a=o(26)("keys"),s=o(17);r.exports=function(l){return a[l]||(a[l]=s(l))}},function(r,i,o){var a=o(1),s=o(3),l=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(r.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:a.version,mode:o(14)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(r,i){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(r,i,o){var a=o(7).f,s=o(5),l=o(2)("toStringTag");r.exports=function(u,c,d){u&&!s(u=d?u:u.prototype,l)&&a(u,l,{configurable:!0,value:c})}},function(r,i,o){o(62);for(var a=o(3),s=o(6),l=o(12),u=o(2)("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),d=0;d<c.length;d++){var f=c[d],h=a[f],v=h&&h.prototype;v&&!v[u]&&s(v,u,f),l[f]=l.Array}},function(r,i,o){i.f=o(2)},function(r,i,o){var a=o(3),s=o(1),l=o(14),u=o(30),c=o(7).f;r.exports=function(d){var f=s.Symbol||(s.Symbol=l?{}:a.Symbol||{});d.charAt(0)=="_"||d in f||c(f,d,{value:u.f(d)})}},function(r,i){i.f=Object.getOwnPropertySymbols},function(r,i){r.exports=function(o,a,s){return Math.min(Math.max(o,a),s)}},function(r,i,o){var a=o(14),s=o(15),l=o(37),u=o(6),c=o(12),d=o(55),f=o(28),h=o(61),v=o(2)("iterator"),m=!([].keys&&"next"in[].keys()),g=function(){return this};r.exports=function(x,_,w,S,C,O,T){d(w,_,S);var N,M,D,F=function(z){if(!m&&z in L)return L[z];switch(z){case"keys":case"values":return function(){return new w(this,z)}}return function(){return new w(this,z)}},j=_+" Iterator",R=C=="values",I=!1,L=x.prototype,k=L[v]||L["@@iterator"]||C&&L[C],B=k||F(C),q=C?R?F("entries"):B:void 0,X=_=="Array"&&L.entries||k;if(X&&(D=h(X.call(new x)))!==Object.prototype&&D.next&&(f(D,j,!0),a||typeof D[v]=="function"||u(D,v,g)),R&&k&&k.name!=="values"&&(I=!0,B=function(){return k.call(this)}),a&&!T||!m&&!I&&L[v]||u(L,v,B),c[_]=B,c[j]=g,C)if(N={values:R?B:F("values"),keys:O?B:F("keys"),entries:q},T)for(M in N)M in L||l(L,M,N[M]);else s(s.P+s.F*(m||I),_,N);return N}},function(r,i,o){r.exports=!o(4)&&!o(8)(function(){return Object.defineProperty(o(36)("div"),"a",{get:function(){return 7}}).a!=7})},function(r,i,o){var a=o(11),s=o(3).document,l=a(s)&&a(s.createElement);r.exports=function(u){return l?s.createElement(u):{}}},function(r,i,o){r.exports=o(6)},function(r,i,o){var a=o(10),s=o(56),l=o(27),u=o(25)("IE_PROTO"),c=function(){},d=function(){var f,h=o(36)("iframe"),v=l.length;for(h.style.display="none",o(60).appendChild(h),h.src="javascript:",(f=h.contentWindow.document).open(),f.write("<script>document.F=Object<\/script>"),f.close(),d=f.F;v--;)delete d.prototype[l[v]];return d()};r.exports=Object.create||function(f,h){var v;return f!==null?(c.prototype=a(f),v=new c,c.prototype=null,v[u]=f):v=d(),h===void 0?v:s(v,h)}},function(r,i,o){var a=o(5),s=o(9),l=o(57)(!1),u=o(25)("IE_PROTO");r.exports=function(c,d){var f,h=s(c),v=0,m=[];for(f in h)f!=u&&a(h,f)&&m.push(f);for(;d.length>v;)a(h,f=d[v++])&&(~l(m,f)||m.push(f));return m}},function(r,i,o){var a=o(24);r.exports=Object("z").propertyIsEnumerable(0)?Object:function(s){return a(s)=="String"?s.split(""):Object(s)}},function(r,i,o){var a=o(39),s=o(27).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(l){return a(l,s)}},function(r,i,o){var a=o(24),s=o(2)("toStringTag"),l=a(function(){return arguments}())=="Arguments";r.exports=function(u){var c,d,f;return u===void 0?"Undefined":u===null?"Null":typeof(d=function(h,v){try{return h[v]}catch{}}(c=Object(u),s))=="string"?d:l?a(c):(f=a(c))=="Object"&&typeof c.callee=="function"?"Arguments":f}},function(r,i){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}r.exports=o},function(r,i){var o=/-?\d+(\.\d+)?%?/g;r.exports=function(a){return a.match(o)}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.getBase16Theme=i.createStyling=i.invertTheme=void 0;var a=g(o(49)),s=g(o(76)),l=g(o(81)),u=g(o(89)),c=g(o(93)),d=function(M){if(M&&M.__esModule)return M;var D={};if(M!=null)for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&(D[F]=M[F]);return D.default=M,D}(o(94)),f=g(o(132)),h=g(o(133)),v=g(o(138)),m=o(139);function g(M){return M&&M.__esModule?M:{default:M}}var x=d.default,_=(0,u.default)(x),w=(0,v.default)(h.default,m.rgb2yuv,function(M){var D,F=(0,l.default)(M,3),j=F[0],R=F[1],I=F[2];return[(D=j,D<.25?1:D<.5?.9-D:1.1-D),R,I]},m.yuv2rgb,f.default),S=function(M){return function(D){return{className:[D.className,M.className].filter(Boolean).join(" "),style:(0,s.default)({},D.style||{},M.style||{})}}},C=function(M,D){var F=(0,u.default)(D);for(var j in M)F.indexOf(j)===-1&&F.push(j);return F.reduce(function(R,I){return R[I]=function(L,k){if(L===void 0)return k;if(k===void 0)return L;var B=L===void 0?"undefined":(0,a.default)(L),q=k===void 0?"undefined":(0,a.default)(k);switch(B){case"string":switch(q){case"string":return[k,L].filter(Boolean).join(" ");case"object":return S({className:L,style:k});case"function":return function(X){for(var z=arguments.length,H=Array(z>1?z-1:0),Q=1;Q<z;Q++)H[Q-1]=arguments[Q];return S({className:L})(k.apply(void 0,[X].concat(H)))}}case"object":switch(q){case"string":return S({className:k,style:L});case"object":return(0,s.default)({},k,L);case"function":return function(X){for(var z=arguments.length,H=Array(z>1?z-1:0),Q=1;Q<z;Q++)H[Q-1]=arguments[Q];return S({style:L})(k.apply(void 0,[X].concat(H)))}}case"function":switch(q){case"string":return function(X){for(var z=arguments.length,H=Array(z>1?z-1:0),Q=1;Q<z;Q++)H[Q-1]=arguments[Q];return L.apply(void 0,[S(X)({className:k})].concat(H))};case"object":return function(X){for(var z=arguments.length,H=Array(z>1?z-1:0),Q=1;Q<z;Q++)H[Q-1]=arguments[Q];return L.apply(void 0,[S(X)({style:k})].concat(H))};case"function":return function(X){for(var z=arguments.length,H=Array(z>1?z-1:0),Q=1;Q<z;Q++)H[Q-1]=arguments[Q];return L.apply(void 0,[k.apply(void 0,[X].concat(H))].concat(H))}}}}(M[I],D[I]),R},{})},O=function(M,D){for(var F=arguments.length,j=Array(F>2?F-2:0),R=2;R<F;R++)j[R-2]=arguments[R];if(D===null)return M;Array.isArray(D)||(D=[D]);var I=D.map(function(k){return M[k]}).filter(Boolean),L=I.reduce(function(k,B){return typeof B=="string"?k.className=[k.className,B].filter(Boolean).join(" "):(B===void 0?"undefined":(0,a.default)(B))==="object"?k.style=(0,s.default)({},k.style,B):typeof B=="function"&&(k=(0,s.default)({},k,B.apply(void 0,[k].concat(j)))),k},{className:"",style:{}});return L.className||delete L.className,(0,u.default)(L.style).length===0&&delete L.style,L},T=i.invertTheme=function(M){return(0,u.default)(M).reduce(function(D,F){return D[F]=/^base/.test(F)?w(M[F]):F==="scheme"?M[F]+":inverted":M[F],D},{})},N=(i.createStyling=(0,c.default)(function(M){for(var D=arguments.length,F=Array(D>3?D-3:0),j=3;j<D;j++)F[j-3]=arguments[j];var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},L=R.defaultBase16,k=L===void 0?x:L,B=R.base16Themes,q=B===void 0?null:B,X=N(I,q);X&&(I=(0,s.default)({},X,I));var z=_.reduce(function(W,te){return W[te]=I[te]||k[te],W},{}),H=(0,u.default)(I).reduce(function(W,te){return _.indexOf(te)===-1&&(W[te]=I[te]),W},{}),Q=M(z),V=C(H,Q);return(0,c.default)(O,2).apply(void 0,[V].concat(F))},3),i.getBase16Theme=function(M,D){if(M&&M.extend&&(M=M.extend),typeof M=="string"){var F=M.split(":"),j=(0,l.default)(F,2),R=j[0],I=j[1];M=(D||{})[R]||d[R],I==="inverted"&&(M=T(M))}return M&&M.hasOwnProperty("base00")?M:void 0})},function(r,i,o){var a,s=typeof Reflect=="object"?Reflect:null,l=s&&typeof s.apply=="function"?s.apply:function(S,C,O){return Function.prototype.apply.call(S,C,O)};a=s&&typeof s.ownKeys=="function"?s.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var u=Number.isNaN||function(S){return S!=S};function c(){c.init.call(this)}r.exports=c,r.exports.once=function(S,C){return new Promise(function(O,T){function N(){M!==void 0&&S.removeListener("error",M),O([].slice.call(arguments))}var M;C!=="error"&&(M=function(D){S.removeListener(C,N),T(D)},S.once("error",M)),S.once(C,N)})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var d=10;function f(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}function h(S){return S._maxListeners===void 0?c.defaultMaxListeners:S._maxListeners}function v(S,C,O,T){var N,M,D,F;if(f(O),(M=S._events)===void 0?(M=S._events=Object.create(null),S._eventsCount=0):(M.newListener!==void 0&&(S.emit("newListener",C,O.listener?O.listener:O),M=S._events),D=M[C]),D===void 0)D=M[C]=O,++S._eventsCount;else if(typeof D=="function"?D=M[C]=T?[O,D]:[D,O]:T?D.unshift(O):D.push(O),(N=h(S))>0&&D.length>N&&!D.warned){D.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=S,j.type=C,j.count=D.length,F=j,console&&console.warn&&console.warn(F)}return S}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(S,C,O){var T={fired:!1,wrapFn:void 0,target:S,type:C,listener:O},N=m.bind(T);return N.listener=O,T.wrapFn=N,N}function x(S,C,O){var T=S._events;if(T===void 0)return[];var N=T[C];return N===void 0?[]:typeof N=="function"?O?[N.listener||N]:[N]:O?function(M){for(var D=new Array(M.length),F=0;F<D.length;++F)D[F]=M[F].listener||M[F];return D}(N):w(N,N.length)}function _(S){var C=this._events;if(C!==void 0){var O=C[S];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}function w(S,C){for(var O=new Array(C),T=0;T<C;++T)O[T]=S[T];return O}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(S){if(typeof S!="number"||S<0||u(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");d=S}}),c.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||u(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(S){for(var C=[],O=1;O<arguments.length;O++)C.push(arguments[O]);var T=S==="error",N=this._events;if(N!==void 0)T=T&&N.error===void 0;else if(!T)return!1;if(T){var M;if(C.length>0&&(M=C[0]),M instanceof Error)throw M;var D=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw D.context=M,D}var F=N[S];if(F===void 0)return!1;if(typeof F=="function")l(F,this,C);else{var j=F.length,R=w(F,j);for(O=0;O<j;++O)l(R[O],this,C)}return!0},c.prototype.addListener=function(S,C){return v(this,S,C,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(S,C){return v(this,S,C,!0)},c.prototype.once=function(S,C){return f(C),this.on(S,g(this,S,C)),this},c.prototype.prependOnceListener=function(S,C){return f(C),this.prependListener(S,g(this,S,C)),this},c.prototype.removeListener=function(S,C){var O,T,N,M,D;if(f(C),(T=this._events)===void 0)return this;if((O=T[S])===void 0)return this;if(O===C||O.listener===C)--this._eventsCount==0?this._events=Object.create(null):(delete T[S],T.removeListener&&this.emit("removeListener",S,O.listener||C));else if(typeof O!="function"){for(N=-1,M=O.length-1;M>=0;M--)if(O[M]===C||O[M].listener===C){D=O[M].listener,N=M;break}if(N<0)return this;N===0?O.shift():function(F,j){for(;j+1<F.length;j++)F[j]=F[j+1];F.pop()}(O,N),O.length===1&&(T[S]=O[0]),T.removeListener!==void 0&&this.emit("removeListener",S,D||C)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(S){var C,O,T;if((O=this._events)===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[S]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete O[S]),this;if(arguments.length===0){var N,M=Object.keys(O);for(T=0;T<M.length;++T)(N=M[T])!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(C=O[S])=="function")this.removeListener(S,C);else if(C!==void 0)for(T=C.length-1;T>=0;T--)this.removeListener(S,C[T]);return this},c.prototype.listeners=function(S){return x(this,S,!0)},c.prototype.rawListeners=function(S){return x(this,S,!1)},c.listenerCount=function(S,C){return typeof S.listenerCount=="function"?S.listenerCount(C):_.call(S,C)},c.prototype.listenerCount=_,c.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]}},function(r,i,o){r.exports.Dispatcher=o(140)},function(r,i,o){r.exports=o(142)},function(r,i,o){i.__esModule=!0;var a=u(o(50)),s=u(o(65)),l=typeof s.default=="function"&&typeof a.default=="symbol"?function(c){return typeof c}:function(c){return c&&typeof s.default=="function"&&c.constructor===s.default&&c!==s.default.prototype?"symbol":typeof c};function u(c){return c&&c.__esModule?c:{default:c}}i.default=typeof s.default=="function"&&l(a.default)==="symbol"?function(c){return c===void 0?"undefined":l(c)}:function(c){return c&&typeof s.default=="function"&&c.constructor===s.default&&c!==s.default.prototype?"symbol":c===void 0?"undefined":l(c)}},function(r,i,o){r.exports={default:o(51),__esModule:!0}},function(r,i,o){o(20),o(29),r.exports=o(30).f("iterator")},function(r,i,o){var a=o(21),s=o(22);r.exports=function(l){return function(u,c){var d,f,h=String(s(u)),v=a(c),m=h.length;return v<0||v>=m?l?"":void 0:(d=h.charCodeAt(v))<55296||d>56319||v+1===m||(f=h.charCodeAt(v+1))<56320||f>57343?l?h.charAt(v):d:l?h.slice(v,v+2):f-56320+(d-55296<<10)+65536}}},function(r,i,o){var a=o(54);r.exports=function(s,l,u){if(a(s),l===void 0)return s;switch(u){case 1:return function(c){return s.call(l,c)};case 2:return function(c,d){return s.call(l,c,d)};case 3:return function(c,d,f){return s.call(l,c,d,f)}}return function(){return s.apply(l,arguments)}}},function(r,i){r.exports=function(o){if(typeof o!="function")throw TypeError(o+" is not a function!");return o}},function(r,i,o){var a=o(38),s=o(16),l=o(28),u={};o(6)(u,o(2)("iterator"),function(){return this}),r.exports=function(c,d,f){c.prototype=a(u,{next:s(1,f)}),l(c,d+" Iterator")}},function(r,i,o){var a=o(7),s=o(10),l=o(13);r.exports=o(4)?Object.defineProperties:function(u,c){s(u);for(var d,f=l(c),h=f.length,v=0;h>v;)a.f(u,d=f[v++],c[d]);return u}},function(r,i,o){var a=o(9),s=o(58),l=o(59);r.exports=function(u){return function(c,d,f){var h,v=a(c),m=s(v.length),g=l(f,m);if(u&&d!=d){for(;m>g;)if((h=v[g++])!=h)return!0}else for(;m>g;g++)if((u||g in v)&&v[g]===d)return u||g||0;return!u&&-1}}},function(r,i,o){var a=o(21),s=Math.min;r.exports=function(l){return l>0?s(a(l),9007199254740991):0}},function(r,i,o){var a=o(21),s=Math.max,l=Math.min;r.exports=function(u,c){return(u=a(u))<0?s(u+c,0):l(u,c)}},function(r,i,o){var a=o(3).document;r.exports=a&&a.documentElement},function(r,i,o){var a=o(5),s=o(18),l=o(25)("IE_PROTO"),u=Object.prototype;r.exports=Object.getPrototypeOf||function(c){return c=s(c),a(c,l)?c[l]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?u:null}},function(r,i,o){var a=o(63),s=o(64),l=o(12),u=o(9);r.exports=o(34)(Array,"Array",function(c,d){this._t=u(c),this._i=0,this._k=d},function(){var c=this._t,d=this._k,f=this._i++;return!c||f>=c.length?(this._t=void 0,s(1)):s(0,d=="keys"?f:d=="values"?c[f]:[f,c[f]])},"values"),l.Arguments=l.Array,a("keys"),a("values"),a("entries")},function(r,i){r.exports=function(){}},function(r,i){r.exports=function(o,a){return{value:a,done:!!o}}},function(r,i,o){r.exports={default:o(66),__esModule:!0}},function(r,i,o){o(67),o(73),o(74),o(75),r.exports=o(1).Symbol},function(r,i,o){var a=o(3),s=o(5),l=o(4),u=o(15),c=o(37),d=o(68).KEY,f=o(8),h=o(26),v=o(28),m=o(17),g=o(2),x=o(30),_=o(31),w=o(69),S=o(70),C=o(10),O=o(11),T=o(18),N=o(9),M=o(23),D=o(16),F=o(38),j=o(71),R=o(72),I=o(32),L=o(7),k=o(13),B=R.f,q=L.f,X=j.f,z=a.Symbol,H=a.JSON,Q=H&&H.stringify,V=g("_hidden"),W=g("toPrimitive"),te={}.propertyIsEnumerable,K=h("symbol-registry"),U=h("symbols"),ee=h("op-symbols"),fe=Object.prototype,ve=typeof z=="function"&&!!I.f,Ce=a.QObject,ue=!Ce||!Ce.prototype||!Ce.prototype.findChild,we=l&&f(function(){return F(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a!=7})?function(ye,xe,He){var Fe=B(fe,xe);Fe&&delete fe[xe],q(ye,xe,He),Fe&&ye!==fe&&q(fe,xe,Fe)}:q,pe=function(ye){var xe=U[ye]=F(z.prototype);return xe._k=ye,xe},$e=ve&&typeof z.iterator=="symbol"?function(ye){return typeof ye=="symbol"}:function(ye){return ye instanceof z},Ne=function(ye,xe,He){return ye===fe&&Ne(ee,xe,He),C(ye),xe=M(xe,!0),C(He),s(U,xe)?(He.enumerable?(s(ye,V)&&ye[V][xe]&&(ye[V][xe]=!1),He=F(He,{enumerable:D(0,!1)})):(s(ye,V)||q(ye,V,D(1,{})),ye[V][xe]=!0),we(ye,xe,He)):q(ye,xe,He)},Le=function(ye,xe){C(ye);for(var He,Fe=w(xe=N(xe)),Ve=0,qe=Fe.length;qe>Ve;)Ne(ye,He=Fe[Ve++],xe[He]);return ye},Ie=function(ye){var xe=te.call(this,ye=M(ye,!0));return!(this===fe&&s(U,ye)&&!s(ee,ye))&&(!(xe||!s(this,ye)||!s(U,ye)||s(this,V)&&this[V][ye])||xe)},Z=function(ye,xe){if(ye=N(ye),xe=M(xe,!0),ye!==fe||!s(U,xe)||s(ee,xe)){var He=B(ye,xe);return!He||!s(U,xe)||s(ye,V)&&ye[V][xe]||(He.enumerable=!0),He}},ie=function(ye){for(var xe,He=X(N(ye)),Fe=[],Ve=0;He.length>Ve;)s(U,xe=He[Ve++])||xe==V||xe==d||Fe.push(xe);return Fe},ne=function(ye){for(var xe,He=ye===fe,Fe=X(He?ee:N(ye)),Ve=[],qe=0;Fe.length>qe;)!s(U,xe=Fe[qe++])||He&&!s(fe,xe)||Ve.push(U[xe]);return Ve};ve||(c((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor!");var ye=m(arguments.length>0?arguments[0]:void 0),xe=function(He){this===fe&&xe.call(ee,He),s(this,V)&&s(this[V],ye)&&(this[V][ye]=!1),we(this,ye,D(1,He))};return l&&ue&&we(fe,ye,{configurable:!0,set:xe}),pe(ye)}).prototype,"toString",function(){return this._k}),R.f=Z,L.f=Ne,o(41).f=j.f=ie,o(19).f=Ie,I.f=ne,l&&!o(14)&&c(fe,"propertyIsEnumerable",Ie,!0),x.f=function(ye){return pe(g(ye))}),u(u.G+u.W+u.F*!ve,{Symbol:z});for(var Te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),$=0;Te.length>$;)g(Te[$++]);for(var se=k(g.store),re=0;se.length>re;)_(se[re++]);u(u.S+u.F*!ve,"Symbol",{for:function(ye){return s(K,ye+="")?K[ye]:K[ye]=z(ye)},keyFor:function(ye){if(!$e(ye))throw TypeError(ye+" is not a symbol!");for(var xe in K)if(K[xe]===ye)return xe},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),u(u.S+u.F*!ve,"Object",{create:function(ye,xe){return xe===void 0?F(ye):Le(F(ye),xe)},defineProperty:Ne,defineProperties:Le,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ie,getOwnPropertySymbols:ne});var oe=f(function(){I.f(1)});u(u.S+u.F*oe,"Object",{getOwnPropertySymbols:function(ye){return I.f(T(ye))}}),H&&u(u.S+u.F*(!ve||f(function(){var ye=z();return Q([ye])!="[null]"||Q({a:ye})!="{}"||Q(Object(ye))!="{}"})),"JSON",{stringify:function(ye){for(var xe,He,Fe=[ye],Ve=1;arguments.length>Ve;)Fe.push(arguments[Ve++]);if(He=xe=Fe[1],(O(xe)||ye!==void 0)&&!$e(ye))return S(xe)||(xe=function(qe,vt){if(typeof He=="function"&&(vt=He.call(this,qe,vt)),!$e(vt))return vt}),Fe[1]=xe,Q.apply(H,Fe)}}),z.prototype[W]||o(6)(z.prototype,W,z.prototype.valueOf),v(z,"Symbol"),v(Math,"Math",!0),v(a.JSON,"JSON",!0)},function(r,i,o){var a=o(17)("meta"),s=o(11),l=o(5),u=o(7).f,c=0,d=Object.isExtensible||function(){return!0},f=!o(8)(function(){return d(Object.preventExtensions({}))}),h=function(m){u(m,a,{value:{i:"O"+ ++c,w:{}}})},v=r.exports={KEY:a,NEED:!1,fastKey:function(m,g){if(!s(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!l(m,a)){if(!d(m))return"F";if(!g)return"E";h(m)}return m[a].i},getWeak:function(m,g){if(!l(m,a)){if(!d(m))return!0;if(!g)return!1;h(m)}return m[a].w},onFreeze:function(m){return f&&v.NEED&&d(m)&&!l(m,a)&&h(m),m}}},function(r,i,o){var a=o(13),s=o(32),l=o(19);r.exports=function(u){var c=a(u),d=s.f;if(d)for(var f,h=d(u),v=l.f,m=0;h.length>m;)v.call(u,f=h[m++])&&c.push(f);return c}},function(r,i,o){var a=o(24);r.exports=Array.isArray||function(s){return a(s)=="Array"}},function(r,i,o){var a=o(9),s=o(41).f,l={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(c){return u&&l.call(c)=="[object Window]"?function(d){try{return s(d)}catch{return u.slice()}}(c):s(a(c))}},function(r,i,o){var a=o(19),s=o(16),l=o(9),u=o(23),c=o(5),d=o(35),f=Object.getOwnPropertyDescriptor;i.f=o(4)?f:function(h,v){if(h=l(h),v=u(v,!0),d)try{return f(h,v)}catch{}if(c(h,v))return s(!a.f.call(h,v),h[v])}},function(r,i){},function(r,i,o){o(31)("asyncIterator")},function(r,i,o){o(31)("observable")},function(r,i,o){i.__esModule=!0;var a,s=o(77),l=(a=s)&&a.__esModule?a:{default:a};i.default=l.default||function(u){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(u[f]=d[f])}return u}},function(r,i,o){r.exports={default:o(78),__esModule:!0}},function(r,i,o){o(79),r.exports=o(1).Object.assign},function(r,i,o){var a=o(15);a(a.S+a.F,"Object",{assign:o(80)})},function(r,i,o){var a=o(4),s=o(13),l=o(32),u=o(19),c=o(18),d=o(40),f=Object.assign;r.exports=!f||o(8)(function(){var h={},v={},m=Symbol(),g="abcdefghijklmnopqrst";return h[m]=7,g.split("").forEach(function(x){v[x]=x}),f({},h)[m]!=7||Object.keys(f({},v)).join("")!=g})?function(h,v){for(var m=c(h),g=arguments.length,x=1,_=l.f,w=u.f;g>x;)for(var S,C=d(arguments[x++]),O=_?s(C).concat(_(C)):s(C),T=O.length,N=0;T>N;)S=O[N++],a&&!w.call(C,S)||(m[S]=C[S]);return m}:f},function(r,i,o){i.__esModule=!0;var a=l(o(82)),s=l(o(85));function l(u){return u&&u.__esModule?u:{default:u}}i.default=function(u,c){if(Array.isArray(u))return u;if((0,a.default)(Object(u)))return function(d,f){var h=[],v=!0,m=!1,g=void 0;try{for(var x,_=(0,s.default)(d);!(v=(x=_.next()).done)&&(h.push(x.value),!f||h.length!==f);v=!0);}catch(w){m=!0,g=w}finally{try{!v&&_.return&&_.return()}finally{if(m)throw g}}return h}(u,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(r,i,o){r.exports={default:o(83),__esModule:!0}},function(r,i,o){o(29),o(20),r.exports=o(84)},function(r,i,o){var a=o(42),s=o(2)("iterator"),l=o(12);r.exports=o(1).isIterable=function(u){var c=Object(u);return c[s]!==void 0||"@@iterator"in c||l.hasOwnProperty(a(c))}},function(r,i,o){r.exports={default:o(86),__esModule:!0}},function(r,i,o){o(29),o(20),r.exports=o(87)},function(r,i,o){var a=o(10),s=o(88);r.exports=o(1).getIterator=function(l){var u=s(l);if(typeof u!="function")throw TypeError(l+" is not iterable!");return a(u.call(l))}},function(r,i,o){var a=o(42),s=o(2)("iterator"),l=o(12);r.exports=o(1).getIteratorMethod=function(u){if(u!=null)return u[s]||u["@@iterator"]||l[a(u)]}},function(r,i,o){r.exports={default:o(90),__esModule:!0}},function(r,i,o){o(91),r.exports=o(1).Object.keys},function(r,i,o){var a=o(18),s=o(13);o(92)("keys",function(){return function(l){return s(a(l))}})},function(r,i,o){var a=o(15),s=o(1),l=o(8);r.exports=function(u,c){var d=(s.Object||{})[u]||Object[u],f={};f[u]=c(d),a(a.S+a.F*l(function(){d(1)}),"Object",f)}},function(r,i,o){(function(a){var s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l=/^\s+|\s+$/g,u=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,c=/\{\n\/\* \[wrapped with (.+)\] \*/,d=/,? & /,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,v=/^\[object .+?Constructor\]$/,m=/^0o[0-7]+$/i,g=/^(?:0|[1-9]\d*)$/,x=parseInt,_=typeof a=="object"&&a&&a.Object===Object&&a,w=typeof self=="object"&&self&&self.Object===Object&&self,S=_||w||Function("return this")();function C(re,oe,ye){switch(ye.length){case 0:return re.call(oe);case 1:return re.call(oe,ye[0]);case 2:return re.call(oe,ye[0],ye[1]);case 3:return re.call(oe,ye[0],ye[1],ye[2])}return re.apply(oe,ye)}function O(re,oe){return!!(re&&re.length)&&function(ye,xe,He){if(xe!=xe)return function(qe,vt,tt,pt){for(var Ht=qe.length,Lt=tt+-1;++Lt<Ht;)if(vt(qe[Lt],Lt,qe))return Lt;return-1}(ye,T,He);for(var Fe=He-1,Ve=ye.length;++Fe<Ve;)if(ye[Fe]===xe)return Fe;return-1}(re,oe,0)>-1}function T(re){return re!=re}function N(re,oe){for(var ye=re.length,xe=0;ye--;)re[ye]===oe&&xe++;return xe}function M(re,oe){for(var ye=-1,xe=re.length,He=0,Fe=[];++ye<xe;){var Ve=re[ye];Ve!==oe&&Ve!=="__lodash_placeholder__"||(re[ye]="__lodash_placeholder__",Fe[He++]=ye)}return Fe}var D,F,j,R=Function.prototype,I=Object.prototype,L=S["__core-js_shared__"],k=(D=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",B=R.toString,q=I.hasOwnProperty,X=I.toString,z=RegExp("^"+B.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=Object.create,Q=Math.max,V=Math.min,W=(F=pe(Object,"defineProperty"),(j=pe.name)&&j.length>2?F:void 0);function te(re){return Te(re)?H(re):{}}function K(re){return!(!Te(re)||function(oe){return!!k&&k in oe}(re))&&(function(oe){var ye=Te(oe)?X.call(oe):"";return ye=="[object Function]"||ye=="[object GeneratorFunction]"}(re)||function(oe){var ye=!1;if(oe!=null&&typeof oe.toString!="function")try{ye=!!(oe+"")}catch{}return ye}(re)?z:v).test(function(oe){if(oe!=null){try{return B.call(oe)}catch{}try{return oe+""}catch{}}return""}(re))}function U(re,oe,ye,xe){for(var He=-1,Fe=re.length,Ve=ye.length,qe=-1,vt=oe.length,tt=Q(Fe-Ve,0),pt=Array(vt+tt),Ht=!xe;++qe<vt;)pt[qe]=oe[qe];for(;++He<Ve;)(Ht||He<Fe)&&(pt[ye[He]]=re[He]);for(;tt--;)pt[qe++]=re[He++];return pt}function ee(re,oe,ye,xe){for(var He=-1,Fe=re.length,Ve=-1,qe=ye.length,vt=-1,tt=oe.length,pt=Q(Fe-qe,0),Ht=Array(pt+tt),Lt=!xe;++He<pt;)Ht[He]=re[He];for(var hn=He;++vt<tt;)Ht[hn+vt]=oe[vt];for(;++Ve<qe;)(Lt||He<Fe)&&(Ht[hn+ye[Ve]]=re[He++]);return Ht}function fe(re){return function(){var oe=arguments;switch(oe.length){case 0:return new re;case 1:return new re(oe[0]);case 2:return new re(oe[0],oe[1]);case 3:return new re(oe[0],oe[1],oe[2]);case 4:return new re(oe[0],oe[1],oe[2],oe[3]);case 5:return new re(oe[0],oe[1],oe[2],oe[3],oe[4]);case 6:return new re(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5]);case 7:return new re(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5],oe[6])}var ye=te(re.prototype),xe=re.apply(ye,oe);return Te(xe)?xe:ye}}function ve(re,oe,ye,xe,He,Fe,Ve,qe,vt,tt){var pt=128&oe,Ht=1&oe,Lt=2&oe,hn=24&oe,On=512&oe,Yn=Lt?void 0:fe(re);return function kn(){for(var bn=arguments.length,Sn=Array(bn),qn=bn;qn--;)Sn[qn]=arguments[qn];if(hn)var it=we(kn),It=N(Sn,it);if(xe&&(Sn=U(Sn,xe,He,hn)),Fe&&(Sn=ee(Sn,Fe,Ve,hn)),bn-=It,hn&&bn<tt){var Jt=M(Sn,it);return Ce(re,oe,ve,kn.placeholder,ye,Sn,Jt,qe,vt,tt-bn)}var dn=Ht?ye:this,Hn=Lt?dn[re]:re;return bn=Sn.length,qe?Sn=Ie(Sn,qe):On&&bn>1&&Sn.reverse(),pt&&vt<bn&&(Sn.length=vt),this&&this!==S&&this instanceof kn&&(Hn=Yn||fe(Hn)),Hn.apply(dn,Sn)}}function Ce(re,oe,ye,xe,He,Fe,Ve,qe,vt,tt){var pt=8&oe;oe|=pt?32:64,4&(oe&=~(pt?64:32))||(oe&=-4);var Ht=ye(re,oe,He,pt?Fe:void 0,pt?Ve:void 0,pt?void 0:Fe,pt?void 0:Ve,qe,vt,tt);return Ht.placeholder=xe,Z(Ht,re,oe)}function ue(re,oe,ye,xe,He,Fe,Ve,qe){var vt=2&oe;if(!vt&&typeof re!="function")throw new TypeError("Expected a function");var tt=xe?xe.length:0;if(tt||(oe&=-97,xe=He=void 0),Ve=Ve===void 0?Ve:Q(se(Ve),0),qe=qe===void 0?qe:se(qe),tt-=He?He.length:0,64&oe){var pt=xe,Ht=He;xe=He=void 0}var Lt=[re,oe,ye,xe,He,pt,Ht,Fe,Ve,qe];if(re=Lt[0],oe=Lt[1],ye=Lt[2],xe=Lt[3],He=Lt[4],!(qe=Lt[9]=Lt[9]==null?vt?0:re.length:Q(Lt[9]-tt,0))&&24&oe&&(oe&=-25),oe&&oe!=1)hn=oe==8||oe==16?function(On,Yn,kn){var bn=fe(On);return function Sn(){for(var qn=arguments.length,it=Array(qn),It=qn,Jt=we(Sn);It--;)it[It]=arguments[It];var dn=qn<3&&it[0]!==Jt&&it[qn-1]!==Jt?[]:M(it,Jt);if((qn-=dn.length)<kn)return Ce(On,Yn,ve,Sn.placeholder,void 0,it,dn,void 0,void 0,kn-qn);var Hn=this&&this!==S&&this instanceof Sn?bn:On;return C(Hn,this,it)}}(re,oe,qe):oe!=32&&oe!=33||He.length?ve.apply(void 0,Lt):function(On,Yn,kn,bn){var Sn=1&Yn,qn=fe(On);return function it(){for(var It=-1,Jt=arguments.length,dn=-1,Hn=bn.length,Bn=Array(Hn+Jt),kt=this&&this!==S&&this instanceof it?qn:On;++dn<Hn;)Bn[dn]=bn[dn];for(;Jt--;)Bn[dn++]=arguments[++It];return C(kt,Sn?kn:this,Bn)}}(re,oe,ye,xe);else var hn=function(On,Yn,kn){var bn=1&Yn,Sn=fe(On);return function qn(){var it=this&&this!==S&&this instanceof qn?Sn:On;return it.apply(bn?kn:this,arguments)}}(re,oe,ye);return Z(hn,re,oe)}function we(re){return re.placeholder}function pe(re,oe){var ye=function(xe,He){return xe==null?void 0:xe[He]}(re,oe);return K(ye)?ye:void 0}function $e(re){var oe=re.match(c);return oe?oe[1].split(d):[]}function Ne(re,oe){var ye=oe.length,xe=ye-1;return oe[xe]=(ye>1?"& ":"")+oe[xe],oe=oe.join(ye>2?", ":" "),re.replace(u,`{
/* [wrapped with `+oe+`] */
`)}function Le(re,oe){return!!(oe=oe??9007199254740991)&&(typeof re=="number"||g.test(re))&&re>-1&&re%1==0&&re<oe}function Ie(re,oe){for(var ye=re.length,xe=V(oe.length,ye),He=function(Ve,qe){var vt=-1,tt=Ve.length;for(qe||(qe=Array(tt));++vt<tt;)qe[vt]=Ve[vt];return qe}(re);xe--;){var Fe=oe[xe];re[xe]=Le(Fe,ye)?He[Fe]:void 0}return re}var Z=W?function(re,oe,ye){var xe,He=oe+"";return W(re,"toString",{configurable:!0,enumerable:!1,value:(xe=Ne(He,ie($e(He),ye)),function(){return xe})})}:function(re){return re};function ie(re,oe){return function(ye,xe){for(var He=-1,Fe=ye?ye.length:0;++He<Fe&&xe(ye[He],He,ye)!==!1;);}(s,function(ye){var xe="_."+ye[0];oe&ye[1]&&!O(re,xe)&&re.push(xe)}),re.sort()}function ne(re,oe,ye){var xe=ue(re,8,void 0,void 0,void 0,void 0,void 0,oe=ye?void 0:oe);return xe.placeholder=ne.placeholder,xe}function Te(re){var oe=typeof re;return!!re&&(oe=="object"||oe=="function")}function $(re){return re?(re=function(oe){if(typeof oe=="number")return oe;if(function(He){return typeof He=="symbol"||function(Fe){return!!Fe&&typeof Fe=="object"}(He)&&X.call(He)=="[object Symbol]"}(oe))return NaN;if(Te(oe)){var ye=typeof oe.valueOf=="function"?oe.valueOf():oe;oe=Te(ye)?ye+"":ye}if(typeof oe!="string")return oe===0?oe:+oe;oe=oe.replace(l,"");var xe=h.test(oe);return xe||m.test(oe)?x(oe.slice(2),xe?2:8):f.test(oe)?NaN:+oe}(re))===1/0||re===-1/0?17976931348623157e292*(re<0?-1:1):re==re?re:0:re===0?re:0}function se(re){var oe=$(re),ye=oe%1;return oe==oe?ye?oe-ye:oe:0}ne.placeholder={},r.exports=ne}).call(this,o(43))},function(r,i,o){function a(ee){return ee&&ee.__esModule?ee.default:ee}i.__esModule=!0;var s=o(95);i.threezerotwofour=a(s);var l=o(96);i.apathy=a(l);var u=o(97);i.ashes=a(u);var c=o(98);i.atelierDune=a(c);var d=o(99);i.atelierForest=a(d);var f=o(100);i.atelierHeath=a(f);var h=o(101);i.atelierLakeside=a(h);var v=o(102);i.atelierSeaside=a(v);var m=o(103);i.bespin=a(m);var g=o(104);i.brewer=a(g);var x=o(105);i.bright=a(x);var _=o(106);i.chalk=a(_);var w=o(107);i.codeschool=a(w);var S=o(108);i.colors=a(S);var C=o(109);i.default=a(C);var O=o(110);i.eighties=a(O);var T=o(111);i.embers=a(T);var N=o(112);i.flat=a(N);var M=o(113);i.google=a(M);var D=o(114);i.grayscale=a(D);var F=o(115);i.greenscreen=a(F);var j=o(116);i.harmonic=a(j);var R=o(117);i.hopscotch=a(R);var I=o(118);i.isotope=a(I);var L=o(119);i.marrakesh=a(L);var k=o(120);i.mocha=a(k);var B=o(121);i.monokai=a(B);var q=o(122);i.ocean=a(q);var X=o(123);i.paraiso=a(X);var z=o(124);i.pop=a(z);var H=o(125);i.railscasts=a(H);var Q=o(126);i.shapeshifter=a(Q);var V=o(127);i.solarized=a(V);var W=o(128);i.summerfruit=a(W);var te=o(129);i.tomorrow=a(te);var K=o(130);i.tube=a(K);var U=o(131);i.twilight=a(U)},function(r,i,o){i.__esModule=!0,i.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"brewer",author:"timothée poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},r.exports=i.default},function(r,i,o){i.__esModule=!0,i.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},r.exports=i.default},function(r,i,o){var a=o(33);function s(l){var u=Math.round(a(l,0,255)).toString(16);return u.length==1?"0"+u:u}r.exports=function(l){var u=l.length===4?s(255*l[3]):"";return"#"+s(l[0])+s(l[1])+s(l[2])+u}},function(r,i,o){var a=o(134),s=o(135),l=o(136),u=o(137),c={"#":s,hsl:function(f){var h=a(f),v=u(h);return h.length===4&&v.push(h[3]),v},rgb:l};function d(f){for(var h in c)if(f.indexOf(h)===0)return c[h](f)}d.rgb=l,d.hsl=a,d.hex=s,r.exports=d},function(r,i,o){var a=o(44),s=o(33);function l(u,c){switch(u=parseFloat(u),c){case 0:return s(u,0,360);case 1:case 2:return s(u,0,100);case 3:return s(u,0,1)}}r.exports=function(u){return a(u).map(l)}},function(r,i){r.exports=function(o){o.length!==4&&o.length!==5||(o=function(l){for(var u="#",c=1;c<l.length;c++){var d=l.charAt(c);u+=d+d}return u}(o));var a=[parseInt(o.substring(1,3),16),parseInt(o.substring(3,5),16),parseInt(o.substring(5,7),16)];if(o.length===9){var s=parseFloat((parseInt(o.substring(7,9),16)/255).toFixed(2));a.push(s)}return a}},function(r,i,o){var a=o(44),s=o(33);function l(u,c){return c<3?u.indexOf("%")!=-1?Math.round(255*s(parseInt(u,10),0,100)/100):s(parseInt(u,10),0,255):s(parseFloat(u),0,1)}r.exports=function(u){return a(u).map(l)}},function(r,i){r.exports=function(o){var a,s,l,u,c,d=o[0]/360,f=o[1]/100,h=o[2]/100;if(f==0)return[c=255*h,c,c];a=2*h-(s=h<.5?h*(1+f):h+f-h*f),u=[0,0,0];for(var v=0;v<3;v++)(l=d+1/3*-(v-1))<0&&l++,l>1&&l--,c=6*l<1?a+6*(s-a)*l:2*l<1?s:3*l<2?a+(s-a)*(2/3-l)*6:a,u[v]=255*c;return u}},function(r,i,o){(function(a){var s=typeof a=="object"&&a&&a.Object===Object&&a,l=typeof self=="object"&&self&&self.Object===Object&&self,u=s||l||Function("return this")();function c(M,D,F){switch(F.length){case 0:return M.call(D);case 1:return M.call(D,F[0]);case 2:return M.call(D,F[0],F[1]);case 3:return M.call(D,F[0],F[1],F[2])}return M.apply(D,F)}function d(M,D){for(var F=-1,j=D.length,R=M.length;++F<j;)M[R+F]=D[F];return M}var f=Object.prototype,h=f.hasOwnProperty,v=f.toString,m=u.Symbol,g=f.propertyIsEnumerable,x=m?m.isConcatSpreadable:void 0,_=Math.max;function w(M){return S(M)||function(D){return function(F){return function(j){return!!j&&typeof j=="object"}(F)&&function(j){return j!=null&&function(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=9007199254740991}(j.length)&&!function(R){var I=function(L){var k=typeof L;return!!L&&(k=="object"||k=="function")}(R)?v.call(R):"";return I=="[object Function]"||I=="[object GeneratorFunction]"}(j)}(F)}(D)&&h.call(D,"callee")&&(!g.call(D,"callee")||v.call(D)=="[object Arguments]")}(M)||!!(x&&M&&M[x])}var S=Array.isArray,C,O,T,N=(O=function(M){var D=(M=function(R,I,L,k,B){var q=-1,X=R.length;for(L||(L=w),B||(B=[]);++q<X;){var z=R[q];L(z)?d(B,z):B[B.length]=z}return B}(M)).length,F=D;for(C;F--;)if(typeof M[F]!="function")throw new TypeError("Expected a function");return function(){for(var j=0,R=D?M[j].apply(this,arguments):arguments[0];++j<D;)R=M[j].call(this,R);return R}},T=_(T===void 0?O.length-1:T,0),function(){for(var M=arguments,D=-1,F=_(M.length-T,0),j=Array(F);++D<F;)j[D]=M[T+D];D=-1;for(var R=Array(T+1);++D<T;)R[D]=M[D];return R[T]=j,c(O,this,R)});r.exports=N}).call(this,o(43))},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.yuv2rgb=function(a){var s,l,u,c=a[0],d=a[1],f=a[2];return s=1*c+0*d+1.13983*f,l=1*c+-.39465*d+-.5806*f,u=1*c+2.02311*d+0*f,s=Math.min(Math.max(0,s),1),l=Math.min(Math.max(0,l),1),u=Math.min(Math.max(0,u),1),[255*s,255*l,255*u]},i.rgb2yuv=function(a){var s=a[0]/255,l=a[1]/255,u=a[2]/255;return[.299*s+.587*l+.114*u,-.14713*s+-.28886*l+.436*u,.615*s+-.51499*l+-.10001*u]}},function(r,i,o){function a(u,c,d){return c in u?Object.defineProperty(u,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[c]=d,u}var s=o(141),l=function(){function u(){a(this,"_callbacks",void 0),a(this,"_isDispatching",void 0),a(this,"_isHandled",void 0),a(this,"_isPending",void 0),a(this,"_lastID",void 0),a(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var c=u.prototype;return c.register=function(d){var f="ID_"+this._lastID++;return this._callbacks[f]=d,f},c.unregister=function(d){this._callbacks[d]||s(!1),delete this._callbacks[d]},c.waitFor=function(d){this._isDispatching||s(!1);for(var f=0;f<d.length;f++){var h=d[f];this._isPending[h]?this._isHandled[h]||s(!1):(this._callbacks[h]||s(!1),this._invokeCallback(h))}},c.dispatch=function(d){this._isDispatching&&s(!1),this._startDispatching(d);try{for(var f in this._callbacks)this._isPending[f]||this._invokeCallback(f)}finally{this._stopDispatching()}},c.isDispatching=function(){return this._isDispatching},c._invokeCallback=function(d){this._isPending[d]=!0,this._callbacks[d](this._pendingPayload),this._isHandled[d]=!0},c._startDispatching=function(d){for(var f in this._callbacks)this._isPending[f]=!1,this._isHandled[f]=!1;this._pendingPayload=d,this._isDispatching=!0},c._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},u}();r.exports=l},function(r,i,o){r.exports=function(a,s){for(var l=arguments.length,u=new Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];if(!a){var d;if(s===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=0;(d=new Error(s.replace(/%s/g,function(){return String(u[f++])}))).name="Invariant Violation"}throw d.framesToPop=1,d}}},function(r,i,o){function a(_e,Re,ae){return Re in _e?Object.defineProperty(_e,Re,{value:ae,enumerable:!0,configurable:!0,writable:!0}):_e[Re]=ae,_e}function s(_e,Re){var ae=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(_e);Re&&(Ee=Ee.filter(function(be){return Object.getOwnPropertyDescriptor(_e,be).enumerable})),ae.push.apply(ae,Ee)}return ae}function l(_e){for(var Re=1;Re<arguments.length;Re++){var ae=arguments[Re]!=null?arguments[Re]:{};Re%2?s(Object(ae),!0).forEach(function(Ee){a(_e,Ee,ae[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ae)):s(Object(ae)).forEach(function(Ee){Object.defineProperty(_e,Ee,Object.getOwnPropertyDescriptor(ae,Ee))})}return _e}function u(_e,Re){if(!(_e instanceof Re))throw new TypeError("Cannot call a class as a function")}function c(_e,Re){for(var ae=0;ae<Re.length;ae++){var Ee=Re[ae];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(_e,Ee.key,Ee)}}function d(_e,Re,ae){return Re&&c(_e.prototype,Re),ae&&c(_e,ae),_e}function f(_e,Re){return(f=Object.setPrototypeOf||function(ae,Ee){return ae.__proto__=Ee,ae})(_e,Re)}function h(_e,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(Re&&Re.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Re&&f(_e,Re)}function v(_e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(Re){return Re.__proto__||Object.getPrototypeOf(Re)})(_e)}function m(_e){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re})(_e)}function g(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function x(_e,Re){return!Re||m(Re)!=="object"&&typeof Re!="function"?g(_e):Re}function _(_e){var Re=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var ae,Ee=v(_e);if(Re){var be=v(this).constructor;ae=Reflect.construct(Ee,arguments,be)}else ae=Ee.apply(this,arguments);return x(this,ae)}}o.r(i);var w=o(0),S=o.n(w);function C(){var _e=this.constructor.getDerivedStateFromProps(this.props,this.state);_e!=null&&this.setState(_e)}function O(_e){this.setState((function(Re){var ae=this.constructor.getDerivedStateFromProps(_e,Re);return ae??null}).bind(this))}function T(_e,Re){try{var ae=this.props,Ee=this.state;this.props=_e,this.state=Re,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(ae,Ee)}finally{this.props=ae,this.state=Ee}}function N(_e){var Re=_e.prototype;if(!Re||!Re.isReactComponent)throw new Error("Can only polyfill class components");if(typeof _e.getDerivedStateFromProps!="function"&&typeof Re.getSnapshotBeforeUpdate!="function")return _e;var ae=null,Ee=null,be=null;if(typeof Re.componentWillMount=="function"?ae="componentWillMount":typeof Re.UNSAFE_componentWillMount=="function"&&(ae="UNSAFE_componentWillMount"),typeof Re.componentWillReceiveProps=="function"?Ee="componentWillReceiveProps":typeof Re.UNSAFE_componentWillReceiveProps=="function"&&(Ee="UNSAFE_componentWillReceiveProps"),typeof Re.componentWillUpdate=="function"?be="componentWillUpdate":typeof Re.UNSAFE_componentWillUpdate=="function"&&(be="UNSAFE_componentWillUpdate"),ae!==null||Ee!==null||be!==null){var Ke=_e.displayName||_e.name,lt=typeof _e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+Ke+" uses "+lt+" but also contains the following legacy lifecycles:"+(ae!==null?`
  `+ae:"")+(Ee!==null?`
  `+Ee:"")+(be!==null?`
  `+be:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof _e.getDerivedStateFromProps=="function"&&(Re.componentWillMount=C,Re.componentWillReceiveProps=O),typeof Re.getSnapshotBeforeUpdate=="function"){if(typeof Re.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");Re.componentWillUpdate=T;var dt=Re.componentDidUpdate;Re.componentDidUpdate=function(Je,Tt,un){var En=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:un;dt.call(this,Je,Tt,En)}}return _e}function M(_e,Re){if(_e==null)return{};var ae,Ee,be=function(lt,dt){if(lt==null)return{};var Je,Tt,un={},En=Object.keys(lt);for(Tt=0;Tt<En.length;Tt++)Je=En[Tt],dt.indexOf(Je)>=0||(un[Je]=lt[Je]);return un}(_e,Re);if(Object.getOwnPropertySymbols){var Ke=Object.getOwnPropertySymbols(_e);for(Ee=0;Ee<Ke.length;Ee++)ae=Ke[Ee],Re.indexOf(ae)>=0||Object.prototype.propertyIsEnumerable.call(_e,ae)&&(be[ae]=_e[ae])}return be}function D(_e){var Re=function(ae){return{}.toString.call(ae).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(_e);return Re==="number"&&(Re=isNaN(_e)?"nan":(0|_e)!=_e?"float":"integer"),Re}C.__suppressDeprecationWarning=!0,O.__suppressDeprecationWarning=!0,T.__suppressDeprecationWarning=!0;var F={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},j={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},R={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},I=o(45),L=function(_e){var Re=function(ae){return{backgroundColor:ae.base00,ellipsisColor:ae.base09,braceColor:ae.base07,expandedIcon:ae.base0D,collapsedIcon:ae.base0E,keyColor:ae.base07,arrayKeyColor:ae.base0C,objectSize:ae.base04,copyToClipboard:ae.base0F,copyToClipboardCheck:ae.base0D,objectBorder:ae.base02,dataTypes:{boolean:ae.base0E,date:ae.base0D,float:ae.base0B,function:ae.base0D,integer:ae.base0F,string:ae.base09,nan:ae.base08,null:ae.base0A,undefined:ae.base05,regexp:ae.base0A,background:ae.base02},editVariable:{editIcon:ae.base0E,cancelIcon:ae.base09,removeIcon:ae.base09,addIcon:ae.base0E,checkIcon:ae.base0E,background:ae.base01,color:ae.base0A,border:ae.base07},addKeyModal:{background:ae.base05,border:ae.base04,color:ae.base0A,labelColor:ae.base01},validationFailure:{background:ae.base09,iconColor:ae.base01,fontColor:ae.base01}}}(_e);return{"app-container":{fontFamily:R.globalFontFamily,cursor:R.globalCursor,backgroundColor:Re.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:Re.ellipsisColor,fontSize:R.ellipsisFontSize,lineHeight:R.ellipsisLineHeight,cursor:R.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:R.braceCursor,fontWeight:R.braceFontWeight,color:Re.braceColor},"expanded-icon":{color:Re.expandedIcon},"collapsed-icon":{color:Re.collapsedIcon},colon:{display:"inline-block",margin:R.keyMargin,color:Re.keyColor,verticalAlign:"top"},objectKeyVal:function(ae,Ee){return{style:l({paddingTop:R.keyValPaddingTop,paddingRight:R.keyValPaddingRight,paddingBottom:R.keyValPaddingBottom,borderLeft:R.keyValBorderLeft+" "+Re.objectBorder,":hover":{paddingLeft:Ee.paddingLeft-1+"px",borderLeft:R.keyValBorderHover+" "+Re.objectBorder}},Ee)}},"object-key-val-no-border":{padding:R.keyValPadding},"pushed-content":{marginLeft:R.pushedContentMarginLeft},variableValue:function(ae,Ee){return{style:l({display:"inline-block",paddingRight:R.variableValuePaddingRight,position:"relative"},Ee)}},"object-name":{display:"inline-block",color:Re.keyColor,letterSpacing:R.keyLetterSpacing,fontStyle:R.keyFontStyle,verticalAlign:R.keyVerticalAlign,opacity:R.keyOpacity,":hover":{opacity:R.keyOpacityHover}},"array-key":{display:"inline-block",color:Re.arrayKeyColor,letterSpacing:R.keyLetterSpacing,fontStyle:R.keyFontStyle,verticalAlign:R.keyVerticalAlign,opacity:R.keyOpacity,":hover":{opacity:R.keyOpacityHover}},"object-size":{color:Re.objectSize,borderRadius:R.objectSizeBorderRadius,fontStyle:R.objectSizeFontStyle,margin:R.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:R.dataTypeFontSize,marginRight:R.dataTypeMarginRight,opacity:R.datatypeOpacity},boolean:{display:"inline-block",color:Re.dataTypes.boolean},date:{display:"inline-block",color:Re.dataTypes.date},"date-value":{marginLeft:R.dateValueMarginLeft},float:{display:"inline-block",color:Re.dataTypes.float},function:{display:"inline-block",color:Re.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:Re.dataTypes.integer},string:{display:"inline-block",color:Re.dataTypes.string},nan:{display:"inline-block",color:Re.dataTypes.nan,fontSize:R.nanFontSize,fontWeight:R.nanFontWeight,backgroundColor:Re.dataTypes.background,padding:R.nanPadding,borderRadius:R.nanBorderRadius},null:{display:"inline-block",color:Re.dataTypes.null,fontSize:R.nullFontSize,fontWeight:R.nullFontWeight,backgroundColor:Re.dataTypes.background,padding:R.nullPadding,borderRadius:R.nullBorderRadius},undefined:{display:"inline-block",color:Re.dataTypes.undefined,fontSize:R.undefinedFontSize,padding:R.undefinedPadding,borderRadius:R.undefinedBorderRadius,backgroundColor:Re.dataTypes.background},regexp:{display:"inline-block",color:Re.dataTypes.regexp},"copy-to-clipboard":{cursor:R.clipboardCursor},"copy-icon":{color:Re.copyToClipboard,fontSize:R.iconFontSize,marginRight:R.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:Re.copyToClipboardCheck,marginLeft:R.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:R.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:R.metaDataPadding},"icon-container":{display:"inline-block",width:R.iconContainerWidth},tooltip:{padding:R.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:Re.editVariable.removeIcon,cursor:R.iconCursor,fontSize:R.iconFontSize,marginRight:R.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:Re.editVariable.addIcon,cursor:R.iconCursor,fontSize:R.iconFontSize,marginRight:R.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:Re.editVariable.editIcon,cursor:R.iconCursor,fontSize:R.iconFontSize,marginRight:R.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:R.iconCursor,color:Re.editVariable.checkIcon,fontSize:R.iconFontSize,paddingRight:R.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:R.iconCursor,color:Re.editVariable.cancelIcon,fontSize:R.iconFontSize,paddingRight:R.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:R.editInputMinWidth,borderRadius:R.editInputBorderRadius,backgroundColor:Re.editVariable.background,color:Re.editVariable.color,padding:R.editInputPadding,marginRight:R.editInputMarginRight,fontFamily:R.editInputFontFamily},"detected-row":{paddingTop:R.detectedRowPaddingTop},"key-modal-request":{position:R.addKeyCoverPosition,top:R.addKeyCoverPositionPx,left:R.addKeyCoverPositionPx,right:R.addKeyCoverPositionPx,bottom:R.addKeyCoverPositionPx,backgroundColor:R.addKeyCoverBackground},"key-modal":{width:R.addKeyModalWidth,backgroundColor:Re.addKeyModal.background,marginLeft:R.addKeyModalMargin,marginRight:R.addKeyModalMargin,padding:R.addKeyModalPadding,borderRadius:R.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:Re.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:Re.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:Re.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:Re.addKeyModal.labelColor,fontSize:R.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:Re.editVariable.addIcon,fontSize:R.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:Re.ellipsisColor,fontSize:R.ellipsisFontSize,lineHeight:R.ellipsisLineHeight,cursor:R.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:Re.validationFailure.fontColor,backgroundColor:Re.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:Re.validationFailure.iconColor,fontSize:R.iconFontSize,transform:"rotate(45deg)"}}};function k(_e,Re,ae){return _e||console.error("theme has not been set"),function(Ee){var be=F;return Ee!==!1&&Ee!=="none"||(be=j),Object(I.createStyling)(L,{defaultBase16:be})(Ee)}(_e)(Re,ae)}var B=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=(Ee.rjvId,Ee.type_name),Ke=Ee.displayDataTypes,lt=Ee.theme;return Ke?S.a.createElement("span",Object.assign({className:"data-type-label"},k(lt,"data-type-label")),be):null}}]),ae}(S.a.PureComponent),q=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props;return S.a.createElement("div",k(Ee.theme,"boolean"),S.a.createElement(B,Object.assign({type_name:"bool"},Ee)),Ee.value?"true":"false")}}]),ae}(S.a.PureComponent),X=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props;return S.a.createElement("div",k(Ee.theme,"date"),S.a.createElement(B,Object.assign({type_name:"date"},Ee)),S.a.createElement("span",Object.assign({className:"date-value"},k(Ee.theme,"date-value")),Ee.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),ae}(S.a.PureComponent),z=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props;return S.a.createElement("div",k(Ee.theme,"float"),S.a.createElement(B,Object.assign({type_name:"float"},Ee)),this.props.value)}}]),ae}(S.a.PureComponent);function H(_e,Re){(Re==null||Re>_e.length)&&(Re=_e.length);for(var ae=0,Ee=new Array(Re);ae<Re;ae++)Ee[ae]=_e[ae];return Ee}function Q(_e,Re){if(_e){if(typeof _e=="string")return H(_e,Re);var ae=Object.prototype.toString.call(_e).slice(8,-1);return ae==="Object"&&_e.constructor&&(ae=_e.constructor.name),ae==="Map"||ae==="Set"?Array.from(_e):ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae)?H(_e,Re):void 0}}function V(_e,Re){var ae;if(typeof Symbol>"u"||_e[Symbol.iterator]==null){if(Array.isArray(_e)||(ae=Q(_e))||Re){ae&&(_e=ae);var Ee=0,be=function(){};return{s:be,n:function(){return Ee>=_e.length?{done:!0}:{done:!1,value:_e[Ee++]}},e:function(Je){throw Je},f:be}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ke,lt=!0,dt=!1;return{s:function(){ae=_e[Symbol.iterator]()},n:function(){var Je=ae.next();return lt=Je.done,Je},e:function(Je){dt=!0,Ke=Je},f:function(){try{lt||ae.return==null||ae.return()}finally{if(dt)throw Ke}}}}function W(_e){return function(Re){if(Array.isArray(Re))return H(Re)}(_e)||function(Re){if(typeof Symbol<"u"&&Symbol.iterator in Object(Re))return Array.from(Re)}(_e)||Q(_e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var te=o(46),K=new(o(47)).Dispatcher,U=new(function(_e){h(ae,_e);var Re=_(ae);function ae(){var Ee;u(this,ae);for(var be=arguments.length,Ke=new Array(be),lt=0;lt<be;lt++)Ke[lt]=arguments[lt];return(Ee=Re.call.apply(Re,[this].concat(Ke))).objects={},Ee.set=function(dt,Je,Tt,un){Ee.objects[dt]===void 0&&(Ee.objects[dt]={}),Ee.objects[dt][Je]===void 0&&(Ee.objects[dt][Je]={}),Ee.objects[dt][Je][Tt]=un},Ee.get=function(dt,Je,Tt,un){return Ee.objects[dt]===void 0||Ee.objects[dt][Je]===void 0||Ee.objects[dt][Je][Tt]==null?un:Ee.objects[dt][Je][Tt]},Ee.handleAction=function(dt){var Je=dt.rjvId,Tt=dt.data;switch(dt.name){case"RESET":Ee.emit("reset-"+Je);break;case"VARIABLE_UPDATED":dt.data.updated_src=Ee.updateSrc(Je,Tt),Ee.set(Je,"action","variable-update",l(l({},Tt),{},{type:"variable-edited"})),Ee.emit("variable-update-"+Je);break;case"VARIABLE_REMOVED":dt.data.updated_src=Ee.updateSrc(Je,Tt),Ee.set(Je,"action","variable-update",l(l({},Tt),{},{type:"variable-removed"})),Ee.emit("variable-update-"+Je);break;case"VARIABLE_ADDED":dt.data.updated_src=Ee.updateSrc(Je,Tt),Ee.set(Je,"action","variable-update",l(l({},Tt),{},{type:"variable-added"})),Ee.emit("variable-update-"+Je);break;case"ADD_VARIABLE_KEY_REQUEST":Ee.set(Je,"action","new-key-request",Tt),Ee.emit("add-key-request-"+Je)}},Ee.updateSrc=function(dt,Je){var Tt=Je.name,un=Je.namespace,En=Je.new_value,ce=(Je.existing_value,Je.variable_removed);un.shift();var Xe,_t=Ee.get(dt,"global","src"),Qt=Ee.deepCopy(_t,W(un)),Tn=Qt,Nt=V(un);try{for(Nt.s();!(Xe=Nt.n()).done;)Tn=Tn[Xe.value]}catch(Cn){Nt.e(Cn)}finally{Nt.f()}return ce?D(Tn)=="array"?Tn.splice(Tt,1):delete Tn[Tt]:Tt!==null?Tn[Tt]=En:Qt=En,Ee.set(dt,"global","src",Qt),Qt},Ee.deepCopy=function(dt,Je){var Tt,un=D(dt),En=Je.shift();return un=="array"?Tt=W(dt):un=="object"&&(Tt=l({},dt)),En!==void 0&&(Tt[En]=Ee.deepCopy(dt[En],Je)),Tt},Ee}return ae}(te.EventEmitter));K.register(U.handleAction.bind(U));var ee=U,fe=function(_e){h(ae,_e);var Re=_(ae);function ae(Ee){var be;return u(this,ae),(be=Re.call(this,Ee)).toggleCollapsed=function(){be.setState({collapsed:!be.state.collapsed},function(){ee.set(be.props.rjvId,be.props.namespace,"collapsed",be.state.collapsed)})},be.getFunctionDisplay=function(Ke){var lt=g(be).props;return Ke?S.a.createElement("span",null,be.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),S.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},S.a.createElement("span",null,"{"),S.a.createElement("span",k(lt.theme,"ellipsis"),"..."),S.a.createElement("span",null,"}"))):be.props.value.toString().slice(9,-1)},be.state={collapsed:ee.get(Ee.rjvId,Ee.namespace,"collapsed",!0)},be}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=this.state.collapsed;return S.a.createElement("div",k(Ee.theme,"function"),S.a.createElement(B,Object.assign({type_name:"function"},Ee)),S.a.createElement("span",Object.assign({},k(Ee.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(be)))}}]),ae}(S.a.PureComponent),ve=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){return S.a.createElement("div",k(this.props.theme,"nan"),"NaN")}}]),ae}(S.a.PureComponent),Ce=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){return S.a.createElement("div",k(this.props.theme,"null"),"NULL")}}]),ae}(S.a.PureComponent),ue=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props;return S.a.createElement("div",k(Ee.theme,"integer"),S.a.createElement(B,Object.assign({type_name:"int"},Ee)),this.props.value)}}]),ae}(S.a.PureComponent),we=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props;return S.a.createElement("div",k(Ee.theme,"regexp"),S.a.createElement(B,Object.assign({type_name:"regexp"},Ee)),this.props.value.toString())}}]),ae}(S.a.PureComponent),pe=function(_e){h(ae,_e);var Re=_(ae);function ae(Ee){var be;return u(this,ae),(be=Re.call(this,Ee)).toggleCollapsed=function(){be.setState({collapsed:!be.state.collapsed},function(){ee.set(be.props.rjvId,be.props.namespace,"collapsed",be.state.collapsed)})},be.state={collapsed:ee.get(Ee.rjvId,Ee.namespace,"collapsed",!0)},be}return d(ae,[{key:"render",value:function(){this.state.collapsed;var Ee=this.props,be=Ee.collapseStringsAfterLength,Ke=Ee.theme,lt=Ee.value,dt={style:{cursor:"default"}};return D(be)==="integer"&&lt.length>be&&(dt.style.cursor="pointer",this.state.collapsed&&(lt=S.a.createElement("span",null,lt.substring(0,be),S.a.createElement("span",k(Ke,"ellipsis")," ...")))),S.a.createElement("div",k(Ke,"string"),S.a.createElement(B,Object.assign({type_name:"string"},Ee)),S.a.createElement("span",Object.assign({className:"string-value"},dt,{onClick:this.toggleCollapsed}),'"',lt,'"'))}}]),ae}(S.a.PureComponent),$e=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){return S.a.createElement("div",k(this.props.theme,"undefined"),"undefined")}}]),ae}(S.a.PureComponent);function Ne(){return(Ne=Object.assign||function(_e){for(var Re=1;Re<arguments.length;Re++){var ae=arguments[Re];for(var Ee in ae)Object.prototype.hasOwnProperty.call(ae,Ee)&&(_e[Ee]=ae[Ee])}return _e}).apply(this,arguments)}var Le=w.useLayoutEffect,Ie=function(_e){var Re=Object(w.useRef)(_e);return Le(function(){Re.current=_e}),Re},Z=function(_e,Re){typeof _e!="function"?_e.current=Re:_e(Re)},ie=function(_e,Re){var ae=Object(w.useRef)();return Object(w.useCallback)(function(Ee){_e.current=Ee,ae.current&&Z(ae.current,null),ae.current=Re,Re&&Z(Re,Ee)},[Re])},ne={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Te=function(_e){Object.keys(ne).forEach(function(Re){_e.style.setProperty(Re,ne[Re],"important")})},$=null,se=function(){},re=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],oe=!!document.documentElement.currentStyle,ye=function(_e,Re){var ae=_e.cacheMeasurements,Ee=_e.maxRows,be=_e.minRows,Ke=_e.onChange,lt=Ke===void 0?se:Ke,dt=_e.onHeightChange,Je=dt===void 0?se:dt,Tt=function(Nt,Cn){if(Nt==null)return{};var he,Ze,Ut={},gn=Object.keys(Nt);for(Ze=0;Ze<gn.length;Ze++)he=gn[Ze],Cn.indexOf(he)>=0||(Ut[he]=Nt[he]);return Ut}(_e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),un,En=Tt.value!==void 0,ce=Object(w.useRef)(null),Xe=ie(ce,Re),_t=Object(w.useRef)(0),Qt=Object(w.useRef)(),Tn=function(){var Nt=ce.current,Cn=ae&&Qt.current?Qt.current:function(gn){var Xn=window.getComputedStyle(gn);if(Xn===null)return null;var wr,en=(wr=Xn,re.reduce(function(Un,vr){return Un[vr]=wr[vr],Un},{})),$n=en.boxSizing;return $n===""?null:(oe&&$n==="border-box"&&(en.width=parseFloat(en.width)+parseFloat(en.borderRightWidth)+parseFloat(en.borderLeftWidth)+parseFloat(en.paddingRight)+parseFloat(en.paddingLeft)+"px"),{sizingStyle:en,paddingSize:parseFloat(en.paddingBottom)+parseFloat(en.paddingTop),borderSize:parseFloat(en.borderBottomWidth)+parseFloat(en.borderTopWidth)})}(Nt);if(Cn){Qt.current=Cn;var he=function(gn,Xn,wr,en){wr===void 0&&(wr=1),en===void 0&&(en=1/0),$||(($=document.createElement("textarea")).setAttribute("tab-index","-1"),$.setAttribute("aria-hidden","true"),Te($)),$.parentNode===null&&document.body.appendChild($);var $n=gn.paddingSize,Un=gn.borderSize,vr=gn.sizingStyle,Wi=vr.boxSizing;Object.keys(vr).forEach(function(pa){var Zi=pa;$.style[Zi]=vr[Zi]}),Te($),$.value=Xn;var Wa=function(pa,Zi){var To=pa.scrollHeight;return Zi.sizingStyle.boxSizing==="border-box"?To+Zi.borderSize:To-Zi.paddingSize}($,gn);$.value="x";var oa=$.scrollHeight-$n,no=oa*wr;Wi==="border-box"&&(no=no+$n+Un),Wa=Math.max(no,Wa);var Ma=oa*en;return Wi==="border-box"&&(Ma=Ma+$n+Un),[Wa=Math.min(Ma,Wa),oa]}(Cn,Nt.value||Nt.placeholder||"x",be,Ee),Ze=he[0],Ut=he[1];_t.current!==Ze&&(_t.current=Ze,Nt.style.setProperty("height",Ze+"px","important"),Je(Ze,{rowHeight:Ut}))}};return Object(w.useLayoutEffect)(Tn),un=Ie(Tn),Object(w.useLayoutEffect)(function(){var Nt=function(Cn){un.current(Cn)};return window.addEventListener("resize",Nt),function(){window.removeEventListener("resize",Nt)}},[]),Object(w.createElement)("textarea",Ne({},Tt,{onChange:function(Nt){En||Tn(),lt(Nt)},ref:Xe}))},xe=Object(w.forwardRef)(ye);function He(_e){_e=_e.trim();try{if((_e=JSON.stringify(JSON.parse(_e)))[0]==="[")return Fe("array",JSON.parse(_e));if(_e[0]==="{")return Fe("object",JSON.parse(_e));if(_e.match(/\-?\d+\.\d+/)&&_e.match(/\-?\d+\.\d+/)[0]===_e)return Fe("float",parseFloat(_e));if(_e.match(/\-?\d+e-\d+/)&&_e.match(/\-?\d+e-\d+/)[0]===_e)return Fe("float",Number(_e));if(_e.match(/\-?\d+/)&&_e.match(/\-?\d+/)[0]===_e)return Fe("integer",parseInt(_e));if(_e.match(/\-?\d+e\+\d+/)&&_e.match(/\-?\d+e\+\d+/)[0]===_e)return Fe("integer",Number(_e))}catch{}switch(_e=_e.toLowerCase()){case"undefined":return Fe("undefined",void 0);case"nan":return Fe("nan",NaN);case"null":return Fe("null",null);case"true":return Fe("boolean",!0);case"false":return Fe("boolean",!1);default:if(_e=Date.parse(_e))return Fe("date",new Date(_e))}return Fe(!1,null)}function Fe(_e,Re){return{type:_e,value:Re}}var Ve=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]);return S.a.createElement("span",Ke,S.a.createElement("svg",Object.assign({},Sn(be),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),S.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),ae}(S.a.PureComponent),qe=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]);return S.a.createElement("span",Ke,S.a.createElement("svg",Object.assign({},Sn(be),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),S.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),ae}(S.a.PureComponent),vt=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]),lt=Sn(be).style;return S.a.createElement("span",Ke,S.a.createElement("svg",{fill:lt.color,width:lt.height,height:lt.width,style:lt,viewBox:"0 0 1792 1792"},S.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),ae}(S.a.PureComponent),tt=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]),lt=Sn(be).style;return S.a.createElement("span",Ke,S.a.createElement("svg",{fill:lt.color,width:lt.height,height:lt.width,style:lt,viewBox:"0 0 1792 1792"},S.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),ae}(S.a.PureComponent),pt=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]);return S.a.createElement("span",Ke,S.a.createElement("svg",{style:l(l({},Sn(be).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},S.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),ae}(S.a.PureComponent),Ht=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]);return S.a.createElement("span",Ke,S.a.createElement("svg",{style:l(l({},Sn(be).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},S.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),ae}(S.a.PureComponent),Lt=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]);return S.a.createElement("span",Ke,S.a.createElement("svg",Object.assign({},Sn(be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),S.a.createElement("g",null,S.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),ae}(S.a.PureComponent),hn=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]);return S.a.createElement("span",Ke,S.a.createElement("svg",Object.assign({},Sn(be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),S.a.createElement("g",null,S.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),ae}(S.a.PureComponent),On=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]);return S.a.createElement("span",Ke,S.a.createElement("svg",Object.assign({},Sn(be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),S.a.createElement("g",null,S.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),ae}(S.a.PureComponent),Yn=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]);return S.a.createElement("span",Ke,S.a.createElement("svg",Object.assign({},Sn(be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),S.a.createElement("g",null,S.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),ae}(S.a.PureComponent),kn=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]);return S.a.createElement("span",Ke,S.a.createElement("svg",Object.assign({},Sn(be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),S.a.createElement("g",null,S.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),ae}(S.a.PureComponent),bn=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.style,Ke=M(Ee,["style"]);return S.a.createElement("span",Ke,S.a.createElement("svg",Object.assign({},Sn(be),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),S.a.createElement("g",null,S.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),ae}(S.a.PureComponent);function Sn(_e){return _e||(_e={}),{style:l(l({verticalAlign:"middle"},_e),{},{color:_e.color?_e.color:"#000000",height:"1em",width:"1em"})}}var qn=function(_e){h(ae,_e);var Re=_(ae);function ae(Ee){var be;return u(this,ae),(be=Re.call(this,Ee)).copiedTimer=null,be.handleCopy=function(){var Ke=document.createElement("textarea"),lt=be.props,dt=lt.clickCallback,Je=lt.src,Tt=lt.namespace;Ke.innerHTML=JSON.stringify(be.clipboardValue(Je),null,"  "),document.body.appendChild(Ke),Ke.select(),document.execCommand("copy"),document.body.removeChild(Ke),be.copiedTimer=setTimeout(function(){be.setState({copied:!1})},5500),be.setState({copied:!0},function(){typeof dt=="function"&&dt({src:Je,namespace:Tt,name:Tt[Tt.length-1]})})},be.getClippyIcon=function(){var Ke=be.props.theme;return be.state.copied?S.a.createElement("span",null,S.a.createElement(Lt,Object.assign({className:"copy-icon"},k(Ke,"copy-icon"))),S.a.createElement("span",k(Ke,"copy-icon-copied"),"✔")):S.a.createElement(Lt,Object.assign({className:"copy-icon"},k(Ke,"copy-icon")))},be.clipboardValue=function(Ke){switch(D(Ke)){case"function":case"regexp":return Ke.toString();default:return Ke}},be.state={copied:!1},be}return d(ae,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var Ee=this.props,be=(Ee.src,Ee.theme),Ke=Ee.hidden,lt=Ee.rowHovered,dt=k(be,"copy-to-clipboard").style,Je="inline";return Ke&&(Je="none"),S.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:lt?"inline-block":"none"}},S.a.createElement("span",{style:l(l({},dt),{},{display:Je}),onClick:this.handleCopy},this.getClippyIcon()))}}]),ae}(S.a.PureComponent),it=function(_e){h(ae,_e);var Re=_(ae);function ae(Ee){var be;return u(this,ae),(be=Re.call(this,Ee)).getEditIcon=function(){var Ke=be.props,lt=Ke.variable,dt=Ke.theme;return S.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:be.state.hovered?"inline-block":"none"}},S.a.createElement(kn,Object.assign({className:"click-to-edit-icon"},k(dt,"editVarIcon"),{onClick:function(){be.prepopInput(lt)}})))},be.prepopInput=function(Ke){if(be.props.onEdit!==!1){var lt=function(Je){var Tt;switch(D(Je)){case"undefined":Tt="undefined";break;case"nan":Tt="NaN";break;case"string":Tt=Je;break;case"date":case"function":case"regexp":Tt=Je.toString();break;default:try{Tt=JSON.stringify(Je,null,"  ")}catch{Tt=""}}return Tt}(Ke.value),dt=He(lt);be.setState({editMode:!0,editValue:lt,parsedInput:{type:dt.type,value:dt.value}})}},be.getRemoveIcon=function(){var Ke=be.props,lt=Ke.variable,dt=Ke.namespace,Je=Ke.theme,Tt=Ke.rjvId;return S.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:be.state.hovered?"inline-block":"none"}},S.a.createElement(hn,Object.assign({className:"click-to-remove-icon"},k(Je,"removeVarIcon"),{onClick:function(){K.dispatch({name:"VARIABLE_REMOVED",rjvId:Tt,data:{name:lt.name,namespace:dt,existing_value:lt.value,variable_removed:!0}})}})))},be.getValue=function(Ke,lt){var dt=!lt&&Ke.type,Je=g(be).props;switch(dt){case!1:return be.getEditInput();case"string":return S.a.createElement(pe,Object.assign({value:Ke.value},Je));case"integer":return S.a.createElement(ue,Object.assign({value:Ke.value},Je));case"float":return S.a.createElement(z,Object.assign({value:Ke.value},Je));case"boolean":return S.a.createElement(q,Object.assign({value:Ke.value},Je));case"function":return S.a.createElement(fe,Object.assign({value:Ke.value},Je));case"null":return S.a.createElement(Ce,Je);case"nan":return S.a.createElement(ve,Je);case"undefined":return S.a.createElement($e,Je);case"date":return S.a.createElement(X,Object.assign({value:Ke.value},Je));case"regexp":return S.a.createElement(we,Object.assign({value:Ke.value},Je));default:return S.a.createElement("div",{className:"object-value"},JSON.stringify(Ke.value))}},be.getEditInput=function(){var Ke=be.props.theme,lt=be.state.editValue;return S.a.createElement("div",null,S.a.createElement(xe,Object.assign({type:"text",inputRef:function(dt){return dt&&dt.focus()},value:lt,className:"variable-editor",onChange:function(dt){var Je=dt.target.value,Tt=He(Je);be.setState({editValue:Je,parsedInput:{type:Tt.type,value:Tt.value}})},onKeyDown:function(dt){switch(dt.key){case"Escape":be.setState({editMode:!1,editValue:""});break;case"Enter":(dt.ctrlKey||dt.metaKey)&&be.submitEdit(!0)}dt.stopPropagation()},placeholder:"update this value",minRows:2},k(Ke,"edit-input"))),S.a.createElement("div",k(Ke,"edit-icon-container"),S.a.createElement(hn,Object.assign({className:"edit-cancel"},k(Ke,"cancel-icon"),{onClick:function(){be.setState({editMode:!1,editValue:""})}})),S.a.createElement(bn,Object.assign({className:"edit-check string-value"},k(Ke,"check-icon"),{onClick:function(){be.submitEdit()}})),S.a.createElement("div",null,be.showDetected())))},be.submitEdit=function(Ke){var lt=be.props,dt=lt.variable,Je=lt.namespace,Tt=lt.rjvId,un=be.state,En=un.editValue,ce=un.parsedInput,Xe=En;Ke&&ce.type&&(Xe=ce.value),be.setState({editMode:!1}),K.dispatch({name:"VARIABLE_UPDATED",rjvId:Tt,data:{name:dt.name,namespace:Je,existing_value:dt.value,new_value:Xe,variable_removed:!1}})},be.showDetected=function(){var Ke=be.props,lt=Ke.theme,dt=(Ke.variable,Ke.namespace,Ke.rjvId,be.state.parsedInput),Je=(dt.type,dt.value,be.getDetectedInput());if(Je)return S.a.createElement("div",null,S.a.createElement("div",k(lt,"detected-row"),Je,S.a.createElement(bn,{className:"edit-check detected",style:l({verticalAlign:"top",paddingLeft:"3px"},k(lt,"check-icon").style),onClick:function(){be.submitEdit(!0)}})))},be.getDetectedInput=function(){var Ke=be.state.parsedInput,lt=Ke.type,dt=Ke.value,Je=g(be).props,Tt=Je.theme;if(lt!==!1)switch(lt.toLowerCase()){case"object":return S.a.createElement("span",null,S.a.createElement("span",{style:l(l({},k(Tt,"brace").style),{},{cursor:"default"})},"{"),S.a.createElement("span",{style:l(l({},k(Tt,"ellipsis").style),{},{cursor:"default"})},"..."),S.a.createElement("span",{style:l(l({},k(Tt,"brace").style),{},{cursor:"default"})},"}"));case"array":return S.a.createElement("span",null,S.a.createElement("span",{style:l(l({},k(Tt,"brace").style),{},{cursor:"default"})},"["),S.a.createElement("span",{style:l(l({},k(Tt,"ellipsis").style),{},{cursor:"default"})},"..."),S.a.createElement("span",{style:l(l({},k(Tt,"brace").style),{},{cursor:"default"})},"]"));case"string":return S.a.createElement(pe,Object.assign({value:dt},Je));case"integer":return S.a.createElement(ue,Object.assign({value:dt},Je));case"float":return S.a.createElement(z,Object.assign({value:dt},Je));case"boolean":return S.a.createElement(q,Object.assign({value:dt},Je));case"function":return S.a.createElement(fe,Object.assign({value:dt},Je));case"null":return S.a.createElement(Ce,Je);case"nan":return S.a.createElement(ve,Je);case"undefined":return S.a.createElement($e,Je);case"date":return S.a.createElement(X,Object.assign({value:new Date(dt)},Je))}},be.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},be}return d(ae,[{key:"render",value:function(){var Ee=this,be=this.props,Ke=be.variable,lt=be.singleIndent,dt=be.type,Je=be.theme,Tt=be.namespace,un=be.indentWidth,En=be.enableClipboard,ce=be.onEdit,Xe=be.onDelete,_t=be.onSelect,Qt=be.displayArrayKey,Tn=be.quotesOnKeys,Nt=this.state.editMode;return S.a.createElement("div",Object.assign({},k(Je,"objectKeyVal",{paddingLeft:un*lt}),{onMouseEnter:function(){return Ee.setState(l(l({},Ee.state),{},{hovered:!0}))},onMouseLeave:function(){return Ee.setState(l(l({},Ee.state),{},{hovered:!1}))},className:"variable-row",key:Ke.name}),dt=="array"?Qt?S.a.createElement("span",Object.assign({},k(Je,"array-key"),{key:Ke.name+"_"+Tt}),Ke.name,S.a.createElement("div",k(Je,"colon"),":")):null:S.a.createElement("span",null,S.a.createElement("span",Object.assign({},k(Je,"object-name"),{className:"object-key",key:Ke.name+"_"+Tt}),!!Tn&&S.a.createElement("span",{style:{verticalAlign:"top"}},'"'),S.a.createElement("span",{style:{display:"inline-block"}},Ke.name),!!Tn&&S.a.createElement("span",{style:{verticalAlign:"top"}},'"')),S.a.createElement("span",k(Je,"colon"),":")),S.a.createElement("div",Object.assign({className:"variable-value",onClick:_t===!1&&ce===!1?null:function(Cn){var he=W(Tt);(Cn.ctrlKey||Cn.metaKey)&&ce!==!1?Ee.prepopInput(Ke):_t!==!1&&(he.shift(),_t(l(l({},Ke),{},{namespace:he})))}},k(Je,"variableValue",{cursor:_t===!1?"default":"pointer"})),this.getValue(Ke,Nt)),En?S.a.createElement(qn,{rowHovered:this.state.hovered,hidden:Nt,src:Ke.value,clickCallback:En,theme:Je,namespace:[].concat(W(Tt),[Ke.name])}):null,ce!==!1&&Nt==0?this.getEditIcon():null,Xe!==!1&&Nt==0?this.getRemoveIcon():null)}}]),ae}(S.a.PureComponent),It=function(_e){h(ae,_e);var Re=_(ae);function ae(){var Ee;u(this,ae);for(var be=arguments.length,Ke=new Array(be),lt=0;lt<be;lt++)Ke[lt]=arguments[lt];return(Ee=Re.call.apply(Re,[this].concat(Ke))).getObjectSize=function(){var dt=Ee.props,Je=dt.size,Tt=dt.theme;if(dt.displayObjectSize)return S.a.createElement("span",Object.assign({className:"object-size"},k(Tt,"object-size")),Je," item",Je===1?"":"s")},Ee.getAddAttribute=function(dt){var Je=Ee.props,Tt=Je.theme,un=Je.namespace,En=Je.name,ce=Je.src,Xe=Je.rjvId,_t=Je.depth;return S.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:dt?"inline-block":"none"}},S.a.createElement(On,Object.assign({className:"click-to-add-icon"},k(Tt,"addVarIcon"),{onClick:function(){var Qt={name:_t>0?En:null,namespace:un.splice(0,un.length-1),existing_value:ce,variable_removed:!1,key_name:null};D(ce)==="object"?K.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:Xe,data:Qt}):K.dispatch({name:"VARIABLE_ADDED",rjvId:Xe,data:l(l({},Qt),{},{new_value:[].concat(W(ce),[null])})})}})))},Ee.getRemoveObject=function(dt){var Je=Ee.props,Tt=Je.theme,un=(Je.hover,Je.namespace),En=Je.name,ce=Je.src,Xe=Je.rjvId;if(un.length!==1)return S.a.createElement("span",{className:"click-to-remove",style:{display:dt?"inline-block":"none"}},S.a.createElement(hn,Object.assign({className:"click-to-remove-icon"},k(Tt,"removeVarIcon"),{onClick:function(){K.dispatch({name:"VARIABLE_REMOVED",rjvId:Xe,data:{name:En,namespace:un.splice(0,un.length-1),existing_value:ce,variable_removed:!0}})}})))},Ee.render=function(){var dt=Ee.props,Je=dt.theme,Tt=dt.onDelete,un=dt.onAdd,En=dt.enableClipboard,ce=dt.src,Xe=dt.namespace,_t=dt.rowHovered;return S.a.createElement("div",Object.assign({},k(Je,"object-meta-data"),{className:"object-meta-data",onClick:function(Qt){Qt.stopPropagation()}}),Ee.getObjectSize(),En?S.a.createElement(qn,{rowHovered:_t,clickCallback:En,src:ce,theme:Je,namespace:Xe}):null,un!==!1?Ee.getAddAttribute(_t):null,Tt!==!1?Ee.getRemoveObject(_t):null)},Ee}return ae}(S.a.PureComponent);function Jt(_e){var Re=_e.parent_type,ae=_e.namespace,Ee=_e.quotesOnKeys,be=_e.theme,Ke=_e.jsvRoot,lt=_e.name,dt=_e.displayArrayKey,Je=_e.name?_e.name:"";return!Ke||lt!==!1&&lt!==null?Re=="array"?dt?S.a.createElement("span",Object.assign({},k(be,"array-key"),{key:ae}),S.a.createElement("span",{className:"array-key"},Je),S.a.createElement("span",k(be,"colon"),":")):S.a.createElement("span",null):S.a.createElement("span",Object.assign({},k(be,"object-name"),{key:ae}),S.a.createElement("span",{className:"object-key"},Ee&&S.a.createElement("span",{style:{verticalAlign:"top"}},'"'),S.a.createElement("span",null,Je),Ee&&S.a.createElement("span",{style:{verticalAlign:"top"}},'"')),S.a.createElement("span",k(be,"colon"),":")):S.a.createElement("span",null)}function dn(_e){var Re=_e.theme;switch(_e.iconStyle){case"triangle":return S.a.createElement(Ht,Object.assign({},k(Re,"expanded-icon"),{className:"expanded-icon"}));case"square":return S.a.createElement(vt,Object.assign({},k(Re,"expanded-icon"),{className:"expanded-icon"}));default:return S.a.createElement(Ve,Object.assign({},k(Re,"expanded-icon"),{className:"expanded-icon"}))}}function Hn(_e){var Re=_e.theme;switch(_e.iconStyle){case"triangle":return S.a.createElement(pt,Object.assign({},k(Re,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return S.a.createElement(tt,Object.assign({},k(Re,"collapsed-icon"),{className:"collapsed-icon"}));default:return S.a.createElement(qe,Object.assign({},k(Re,"collapsed-icon"),{className:"collapsed-icon"}))}}var Bn=function(_e){h(ae,_e);var Re=_(ae);function ae(Ee){var be;return u(this,ae),(be=Re.call(this,Ee)).toggleCollapsed=function(Ke){var lt=[];for(var dt in be.state.expanded)lt.push(be.state.expanded[dt]);lt[Ke]=!lt[Ke],be.setState({expanded:lt})},be.state={expanded:[]},be}return d(ae,[{key:"getExpandedIcon",value:function(Ee){var be=this.props,Ke=be.theme,lt=be.iconStyle;return this.state.expanded[Ee]?S.a.createElement(dn,{theme:Ke,iconStyle:lt}):S.a.createElement(Hn,{theme:Ke,iconStyle:lt})}},{key:"render",value:function(){var Ee=this,be=this.props,Ke=be.src,lt=be.groupArraysAfterLength,dt=(be.depth,be.name),Je=be.theme,Tt=be.jsvRoot,un=be.namespace,En=(be.parent_type,M(be,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),ce=0,Xe=5*this.props.indentWidth;Tt||(ce=5*this.props.indentWidth);var _t=lt,Qt=Math.ceil(Ke.length/_t);return S.a.createElement("div",Object.assign({className:"object-key-val"},k(Je,Tt?"jsv-root":"objectKeyVal",{paddingLeft:ce})),S.a.createElement(Jt,this.props),S.a.createElement("span",null,S.a.createElement(It,Object.assign({size:Ke.length},this.props))),W(Array(Qt)).map(function(Tn,Nt){return S.a.createElement("div",Object.assign({key:Nt,className:"object-key-val array-group"},k(Je,"objectKeyVal",{marginLeft:6,paddingLeft:Xe})),S.a.createElement("span",k(Je,"brace-row"),S.a.createElement("div",Object.assign({className:"icon-container"},k(Je,"icon-container"),{onClick:function(Cn){Ee.toggleCollapsed(Nt)}}),Ee.getExpandedIcon(Nt)),Ee.state.expanded[Nt]?S.a.createElement(An,Object.assign({key:dt+Nt,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:_t,index_offset:Nt*_t,src:Ke.slice(Nt*_t,Nt*_t+_t),namespace:un,type:"array",parent_type:"array_group",theme:Je},En)):S.a.createElement("span",Object.assign({},k(Je,"brace"),{onClick:function(Cn){Ee.toggleCollapsed(Nt)},className:"array-group-brace"}),"[",S.a.createElement("div",Object.assign({},k(Je,"array-group-meta-data"),{className:"array-group-meta-data"}),S.a.createElement("span",Object.assign({className:"object-size"},k(Je,"object-size")),Nt*_t," - ",Nt*_t+_t>Ke.length?Ke.length:Nt*_t+_t)),"]")))}))}}]),ae}(S.a.PureComponent),kt=function(_e){h(ae,_e);var Re=_(ae);function ae(Ee){var be;u(this,ae),(be=Re.call(this,Ee)).toggleCollapsed=function(){be.setState({expanded:!be.state.expanded},function(){ee.set(be.props.rjvId,be.props.namespace,"expanded",be.state.expanded)})},be.getObjectContent=function(lt,dt,Je){return S.a.createElement("div",{className:"pushed-content object-container"},S.a.createElement("div",Object.assign({className:"object-content"},k(be.props.theme,"pushed-content")),be.renderObjectContents(dt,Je)))},be.getEllipsis=function(){return be.state.size===0?null:S.a.createElement("div",Object.assign({},k(be.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:be.toggleCollapsed}),"...")},be.getObjectMetaData=function(lt){var dt=be.props,Je=(dt.rjvId,dt.theme,be.state),Tt=Je.size,un=Je.hovered;return S.a.createElement(It,Object.assign({rowHovered:un,size:Tt},be.props))},be.renderObjectContents=function(lt,dt){var Je,Tt=be.props,un=Tt.depth,En=Tt.parent_type,ce=Tt.index_offset,Xe=Tt.groupArraysAfterLength,_t=Tt.namespace,Qt=be.state.object_type,Tn=[],Nt=Object.keys(lt||{});return be.props.sortKeys&&Qt!=="array"&&(Nt=Nt.sort()),Nt.forEach(function(Cn){if(Je=new Yt(Cn,lt[Cn]),En==="array_group"&&ce&&(Je.name=parseInt(Je.name)+ce),lt.hasOwnProperty(Cn))if(Je.type==="object")Tn.push(S.a.createElement(An,Object.assign({key:Je.name,depth:un+1,name:Je.name,src:Je.value,namespace:_t.concat(Je.name),parent_type:Qt},dt)));else if(Je.type==="array"){var he=An;Xe&&Je.value.length>Xe&&(he=Bn),Tn.push(S.a.createElement(he,Object.assign({key:Je.name,depth:un+1,name:Je.name,src:Je.value,namespace:_t.concat(Je.name),type:"array",parent_type:Qt},dt)))}else Tn.push(S.a.createElement(it,Object.assign({key:Je.name+"_"+_t,variable:Je,singleIndent:5,namespace:_t,type:be.props.type},dt)))}),Tn};var Ke=ae.getState(Ee);return be.state=l(l({},Ke),{},{prevProps:{}}),be}return d(ae,[{key:"getBraceStart",value:function(Ee,be){var Ke=this,lt=this.props,dt=lt.src,Je=lt.theme,Tt=lt.iconStyle;if(lt.parent_type==="array_group")return S.a.createElement("span",null,S.a.createElement("span",k(Je,"brace"),Ee==="array"?"[":"{"),be?this.getObjectMetaData(dt):null);var un=be?dn:Hn;return S.a.createElement("span",null,S.a.createElement("span",Object.assign({onClick:function(En){Ke.toggleCollapsed()}},k(Je,"brace-row")),S.a.createElement("div",Object.assign({className:"icon-container"},k(Je,"icon-container")),S.a.createElement(un,{theme:Je,iconStyle:Tt})),S.a.createElement(Jt,this.props),S.a.createElement("span",k(Je,"brace"),Ee==="array"?"[":"{")),be?this.getObjectMetaData(dt):null)}},{key:"render",value:function(){var Ee=this,be=this.props,Ke=be.depth,lt=be.src,dt=(be.namespace,be.name,be.type,be.parent_type),Je=be.theme,Tt=be.jsvRoot,un=be.iconStyle,En=M(be,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),ce=this.state,Xe=ce.object_type,_t=ce.expanded,Qt={};return Tt||dt==="array_group"?dt==="array_group"&&(Qt.borderLeft=0,Qt.display="inline"):Qt.paddingLeft=5*this.props.indentWidth,S.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return Ee.setState(l(l({},Ee.state),{},{hovered:!0}))},onMouseLeave:function(){return Ee.setState(l(l({},Ee.state),{},{hovered:!1}))}},k(Je,Tt?"jsv-root":"objectKeyVal",Qt)),this.getBraceStart(Xe,_t),_t?this.getObjectContent(Ke,lt,l({theme:Je,iconStyle:un},En)):this.getEllipsis(),S.a.createElement("span",{className:"brace-row"},S.a.createElement("span",{style:l(l({},k(Je,"brace").style),{},{paddingLeft:_t?"3px":"0px"})},Xe==="array"?"]":"}"),_t?null:this.getObjectMetaData(lt)))}}],[{key:"getDerivedStateFromProps",value:function(Ee,be){var Ke=be.prevProps;return Ee.src!==Ke.src||Ee.collapsed!==Ke.collapsed||Ee.name!==Ke.name||Ee.namespace!==Ke.namespace||Ee.rjvId!==Ke.rjvId?l(l({},ae.getState(Ee)),{},{prevProps:Ee}):null}}]),ae}(S.a.PureComponent);kt.getState=function(_e){var Re=Object.keys(_e.src).length,ae=(_e.collapsed===!1||_e.collapsed!==!0&&_e.collapsed>_e.depth)&&(!_e.shouldCollapse||_e.shouldCollapse({name:_e.name,src:_e.src,type:D(_e.src),namespace:_e.namespace})===!1)&&Re!==0;return{expanded:ee.get(_e.rjvId,_e.namespace,"expanded",ae),object_type:_e.type==="array"?"array":"object",parent_type:_e.type==="array"?"array":"object",size:Re,hovered:!1}};var Yt=function _e(Re,ae){u(this,_e),this.name=Re,this.value=ae,this.type=D(ae)};N(kt);var An=kt,Sr=function(_e){h(ae,_e);var Re=_(ae);function ae(){var Ee;u(this,ae);for(var be=arguments.length,Ke=new Array(be),lt=0;lt<be;lt++)Ke[lt]=arguments[lt];return(Ee=Re.call.apply(Re,[this].concat(Ke))).render=function(){var dt=g(Ee).props,Je=[dt.name],Tt=An;return Array.isArray(dt.src)&&dt.groupArraysAfterLength&&dt.src.length>dt.groupArraysAfterLength&&(Tt=Bn),S.a.createElement("div",{className:"pretty-json-container object-container"},S.a.createElement("div",{className:"object-content"},S.a.createElement(Tt,Object.assign({namespace:Je,depth:0,jsvRoot:!0},dt))))},Ee}return ae}(S.a.PureComponent),ai=function(_e){h(ae,_e);var Re=_(ae);function ae(Ee){var be;return u(this,ae),(be=Re.call(this,Ee)).closeModal=function(){K.dispatch({rjvId:be.props.rjvId,name:"RESET"})},be.submit=function(){be.props.submit(be.state.input)},be.state={input:Ee.input?Ee.input:""},be}return d(ae,[{key:"render",value:function(){var Ee=this,be=this.props,Ke=be.theme,lt=be.rjvId,dt=be.isValid,Je=this.state.input,Tt=dt(Je);return S.a.createElement("div",Object.assign({className:"key-modal-request"},k(Ke,"key-modal-request"),{onClick:this.closeModal}),S.a.createElement("div",Object.assign({},k(Ke,"key-modal"),{onClick:function(un){un.stopPropagation()}}),S.a.createElement("div",k(Ke,"key-modal-label"),"Key Name:"),S.a.createElement("div",{style:{position:"relative"}},S.a.createElement("input",Object.assign({},k(Ke,"key-modal-input"),{className:"key-modal-input",ref:function(un){return un&&un.focus()},spellCheck:!1,value:Je,placeholder:"...",onChange:function(un){Ee.setState({input:un.target.value})},onKeyPress:function(un){Tt&&un.key==="Enter"?Ee.submit():un.key==="Escape"&&Ee.closeModal()}})),Tt?S.a.createElement(bn,Object.assign({},k(Ke,"key-modal-submit"),{className:"key-modal-submit",onClick:function(un){return Ee.submit()}})):null),S.a.createElement("span",k(Ke,"key-modal-cancel"),S.a.createElement(Yn,Object.assign({},k(Ke,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){K.dispatch({rjvId:lt,name:"RESET"})}})))))}}]),ae}(S.a.PureComponent),tr=function(_e){h(ae,_e);var Re=_(ae);function ae(){var Ee;u(this,ae);for(var be=arguments.length,Ke=new Array(be),lt=0;lt<be;lt++)Ke[lt]=arguments[lt];return(Ee=Re.call.apply(Re,[this].concat(Ke))).isValid=function(dt){var Je=Ee.props.rjvId,Tt=ee.get(Je,"action","new-key-request");return dt!=""&&Object.keys(Tt.existing_value).indexOf(dt)===-1},Ee.submit=function(dt){var Je=Ee.props.rjvId,Tt=ee.get(Je,"action","new-key-request");Tt.new_value=l({},Tt.existing_value),Tt.new_value[dt]=Ee.props.defaultValue,K.dispatch({name:"VARIABLE_ADDED",rjvId:Je,data:Tt})},Ee}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.active,Ke=Ee.theme,lt=Ee.rjvId;return be?S.a.createElement(ai,{rjvId:lt,theme:Ke,isValid:this.isValid,submit:this.submit}):null}}]),ae}(S.a.PureComponent),si=function(_e){h(ae,_e);var Re=_(ae);function ae(){return u(this,ae),Re.apply(this,arguments)}return d(ae,[{key:"render",value:function(){var Ee=this.props,be=Ee.message,Ke=Ee.active,lt=Ee.theme,dt=Ee.rjvId;return Ke?S.a.createElement("div",Object.assign({className:"validation-failure"},k(lt,"validation-failure"),{onClick:function(){K.dispatch({rjvId:dt,name:"RESET"})}}),S.a.createElement("span",k(lt,"validation-failure-label"),be),S.a.createElement(Yn,k(lt,"validation-failure-clear"))):null}}]),ae}(S.a.PureComponent),xn=function(_e){h(ae,_e);var Re=_(ae);function ae(Ee){var be;return u(this,ae),(be=Re.call(this,Ee)).rjvId=Date.now().toString(),be.getListeners=function(){return{reset:be.resetState,"variable-update":be.updateSrc,"add-key-request":be.addKeyRequest}},be.updateSrc=function(){var Ke,lt=ee.get(be.rjvId,"action","variable-update"),dt=lt.name,Je=lt.namespace,Tt=lt.new_value,un=lt.existing_value,En=(lt.variable_removed,lt.updated_src),ce=lt.type,Xe=be.props,_t=Xe.onEdit,Qt=Xe.onDelete,Tn=Xe.onAdd,Nt={existing_src:be.state.src,new_value:Tt,updated_src:En,name:dt,namespace:Je,existing_value:un};switch(ce){case"variable-added":Ke=Tn(Nt);break;case"variable-edited":Ke=_t(Nt);break;case"variable-removed":Ke=Qt(Nt)}Ke!==!1?(ee.set(be.rjvId,"global","src",En),be.setState({src:En})):be.setState({validationFailure:!0})},be.addKeyRequest=function(){be.setState({addKeyRequest:!0})},be.resetState=function(){be.setState({validationFailure:!1,addKeyRequest:!1})},be.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:ae.defaultProps.src,name:ae.defaultProps.name,theme:ae.defaultProps.theme,validationMessage:ae.defaultProps.validationMessage,prevSrc:ae.defaultProps.src,prevName:ae.defaultProps.name,prevTheme:ae.defaultProps.theme},be}return d(ae,[{key:"componentDidMount",value:function(){ee.set(this.rjvId,"global","src",this.state.src);var Ee=this.getListeners();for(var be in Ee)ee.on(be+"-"+this.rjvId,Ee[be]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(Ee,be){be.addKeyRequest!==!1&&this.setState({addKeyRequest:!1}),be.editKeyRequest!==!1&&this.setState({editKeyRequest:!1}),Ee.src!==this.state.src&&ee.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var Ee=this.getListeners();for(var be in Ee)ee.removeListener(be+"-"+this.rjvId,Ee[be])}},{key:"render",value:function(){var Ee=this.state,be=Ee.validationFailure,Ke=Ee.validationMessage,lt=Ee.addKeyRequest,dt=Ee.theme,Je=Ee.src,Tt=Ee.name,un=this.props,En=un.style,ce=un.defaultValue;return S.a.createElement("div",{className:"react-json-view",style:l(l({},k(dt,"app-container").style),En)},S.a.createElement(si,{message:Ke,active:be,theme:dt,rjvId:this.rjvId}),S.a.createElement(Sr,Object.assign({},this.props,{src:Je,name:Tt,theme:dt,type:D(Je),rjvId:this.rjvId})),S.a.createElement(tr,{active:lt,theme:dt,rjvId:this.rjvId,defaultValue:ce}))}}],[{key:"getDerivedStateFromProps",value:function(Ee,be){if(Ee.src!==be.prevSrc||Ee.name!==be.prevName||Ee.theme!==be.prevTheme){var Ke={src:Ee.src,name:Ee.name,theme:Ee.theme,validationMessage:Ee.validationMessage,prevSrc:Ee.src,prevName:Ee.name,prevTheme:Ee.theme};return ae.validateState(Ke)}return null}}]),ae}(S.a.PureComponent);xn.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},xn.validateState=function(_e){var Re={};return D(_e.theme)!=="object"||function(ae){var Ee=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if(D(ae)==="object"){for(var be=0;be<Ee.length;be++)if(!(Ee[be]in ae))return!1;return!0}return!1}(_e.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),Re.theme="rjv-default"),D(_e.src)!=="object"&&D(_e.src)!=="array"&&(console.error("react-json-view error:","src property must be a valid json object"),Re.name="ERROR",Re.src={message:"src property must be a valid json object"}),l(l({},_e),Re)},N(xn),i.default=xn}])})})(jz);var CPe=jz.exports;const TPe=Ua(CPe),RPe={theme:"light",readOnly:!1},PPe={readOnly:!1,folding:!0,wordWrap:"off",formatOnPaste:!0,fontSize:13,tabSize:2,scrollBeyondLastLine:!1,fixedOverflowWidgets:!1,snippetSuggestions:"top",minimap:{enabled:!1},options:{readOnly:!1,folding:!0,lineNumbers:"on",fixedOverflowWidgets:!0,automaticLayout:!0,glyphMargin:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,hover:{enabled:!1}},scrollbar:{horizontal:"auto"}},Bx=wi||je.memo(wi),Bz=t=>{var W,te,K,U,ee,fe,ve,Ce;const[e,n]=y.useState(),{variableProvideConfig:r}=y.useContext(Zb),{pageStates:i,systemDevice:o=[],systemRouterParams:a=[]}=r||{},[s,l]=y.useState(!1),[u,c]=y.useState(!0),[d,f]=y.useState({left:0,top:0,bottom:0,right:0}),h=y.useRef(null),[v,m]=y.useState(""),[g,x]=y.useState([]),_=y.useRef(),w=y.useRef(),[S,C]=y.useState(0),[O,T]=y.useState([]),[N,M]=y.useState([]),[D,F]=y.useState([]);i0e(async()=>{if(typeof i=="function"){const ue=await i();T(ue)}else T(i);if(typeof o=="function"){const ue=await o();M(ue)}else M(o);if(typeof a=="function"){const ue=await a();F(ue)}else F(a)},[i,a,o]);const j=y.useMemo(()=>[{name:"上节点结果",value:"this.globalData.actionResponse",sourceCode:"this.globalData.actionResponse"}],[]);y.useEffect(()=>{l(!!(t!=null&&t.open))},[t.open]);const R=ue=>{l(!1)},I=ue=>{l(!1)},L=(ue,we)=>{var Le;const{clientWidth:pe,clientHeight:$e}=window.document.documentElement,Ne=(Le=h.current)==null?void 0:Le.getBoundingClientRect();Ne&&f({left:-Ne.left+we.x,right:pe-(Ne.right-we.x),top:-Ne.top+we.y,bottom:$e-(Ne.bottom-we.y)})},k=(ue,we,pe)=>{m(we.node.sourceCode),x(ue),n(pe)};y.useEffect(()=>{var ue;s&&C(((ue=w.current)==null?void 0:ue.clientHeight)||S)},[s]);const B=[{key:"pageState",label:"页面状态",children:E.jsx(du,{treeData:O,blockNode:!0,disabled:(te=(W=t==null?void 0:t.disableList)==null?void 0:W.includes)==null?void 0:te.call(W,"pageState"),selectedKeys:g,onSelect:(ue,we)=>k(ue,we,"pageState"),draggable:!1,fieldNames:{title:"name",key:"value",children:"children"},titleRender:ue=>{const we=ue.name,pe=ue.value;return E.jsx("div",{children:E.jsx(Bx,{title:pe,placement:"right",children:E.jsx("div",{className:zi.node,children:E.jsx("span",{className:zi["node-name"],children:we})})})})}})}],q=[{key:"systemEnvInfo",label:"系统信息",children:E.jsx(du,{treeData:N,disabled:(U=(K=t==null?void 0:t.disableList)==null?void 0:K.includes)==null?void 0:U.call(K,"systemEnvInfo"),blockNode:!0,onSelect:(ue,we)=>k(ue,we,"systemEnvInfo"),draggable:!1,selectedKeys:g,fieldNames:{title:"name",key:"value",children:"children"},titleRender:ue=>{const we=ue.name,pe=ue.value;return E.jsx("div",{children:E.jsx(Bx,{title:pe,placement:"right",children:E.jsx("div",{className:zi.node,children:E.jsx("span",{className:zi["node-name"],children:we})})})})}})}],X=[{key:"routerInfo",label:"路由信息",children:E.jsx(du,{treeData:D,disabled:(fe=(ee=t==null?void 0:t.disableList)==null?void 0:ee.includes)==null?void 0:fe.call(ee,"routerInfo"),blockNode:!0,onSelect:(ue,we)=>k(ue,we,"routerInfo"),selectedKeys:g,draggable:!1,fieldNames:{title:"name",key:"value",children:"children"},titleRender:ue=>{const we=ue.name,pe=ue.value;return E.jsx("div",{children:E.jsx(Bx,{title:pe,placement:"right",children:E.jsx("div",{className:zi.node,children:E.jsx("span",{className:zi["node-name"],children:we})})})})}})}],z=[{key:"flowRunningTime",label:"编排运行时",children:E.jsx(du,{treeData:j,disabled:(Ce=(ve=t==null?void 0:t.disableList)==null?void 0:ve.includes)==null?void 0:Ce.call(ve,"flowRunningTime"),blockNode:!0,onSelect:(ue,we)=>k(ue,we,"flowRunningTime"),selectedKeys:g,draggable:!1,fieldNames:{title:"name",key:"value",children:"children"},titleRender:ue=>{const we=ue.name,pe=ue.value;return E.jsx("div",{children:E.jsx(Bx,{title:pe,placement:"right",children:E.jsx("div",{className:zi.node,children:E.jsx("span",{className:zi["node-name"],children:we})})})})}})}],H=y.useMemo(()=>g&&g.length?{type:"JSExpression",value:v}:v,[g,v]);y.useEffect(()=>{var ue,we,pe,$e,Ne,Le,Ie;t!=null&&t.value&&(n(((ue=t==null?void 0:t.value)==null?void 0:ue.valueType)||"input"),xw((we=t==null?void 0:t.value)==null?void 0:we.value)?(m(($e=(pe=t==null?void 0:t.value)==null?void 0:pe.value)==null?void 0:$e.value),x([(Le=(Ne=t==null?void 0:t.value)==null?void 0:Ne.value)==null?void 0:Le.value])):(m((Ie=t==null?void 0:t.value)==null?void 0:Ie.value),x([])))},[t==null?void 0:t.value]);const Q=()=>{var we;const ue={type:V.type,value:H,valueType:e};(we=t==null?void 0:t.onChange)==null||we.call(t,ue),console.log("result",ue)},V=y.useMemo(()=>{const ue={str:"",err:"",type:""},we=()=>{var pe,$e,Ne;return typeof((pe=t==null?void 0:t.config)==null?void 0:pe.self)=="function"?($e=t==null?void 0:t.config)==null?void 0:$e.self():((Ne=t==null?void 0:t.config)==null?void 0:Ne.self)||{}};if(e==="flowRunningTime")ue.str="运行时数据可任意直接访问";else try{ue.str=HT({type:"JSExpression",value:v},we(),{thisRequiredInJSE:!0,errCallback:pe=>{ue.str="",ue.err=pe.message}}),ue.type=Tne(ue.str)}catch(pe){ue.str="",ue.err=pe.message}return ue},[v,e]);return E.jsx(E.Fragment,{children:E.jsx(jP,{closable:!1,width:580,wrapClassName:zi.modalContainer,footer:null,open:s,onOk:R,onCancel:I,modalRender:ue=>E.jsx(IRe,{defaultClassName:zi.modalContainer,disabled:u,bounds:d,nodeRef:h,onStart:(we,pe)=>L(we,pe),children:E.jsx("div",{ref:h,children:ue})}),children:E.jsxs("div",{className:zi.container,children:[E.jsxs(Rl,{className:zi["popout-header"],children:[E.jsxs(Oo,{span:18,className:zi["title-view"],onMouseOver:()=>{u&&c(!1)},onMouseOut:()=>{c(!0)},children:[E.jsx(IY,{onMouseOver:()=>{c(!1)}}),E.jsx("span",{className:zi.span,onMouseOver:()=>{c(!1)},children:"绑定变量"})]}),E.jsx(Oo,{span:6,className:zi["close-view"],children:E.jsx(wi,{placement:"bottom",title:"收起",children:E.jsxs(es,{size:"small",type:"primary",autoInsertSpace:!1,onClick:Q,children:[E.jsx(RF,{}),"完成"]})})})]}),E.jsxs(Rl,{className:zi.content,children:[E.jsx(Oo,{span:14,className:zi.dataEditor,children:E.jsxs($z,{direction:"vertical",onLayout:()=>{var ue;C(((ue=w.current)==null?void 0:ue.clientHeight)||S)},children:[E.jsx(ZR,{defaultSize:140,children:E.jsx("div",{ref:w,className:zi.overNormal,children:E.jsx(DY,{value:v,ref:_,...RPe,...PPe,language:"text",onChange:ue=>{e!=="flowRunningTime"&&(x([]),m(ue),n("input"))},editorDidMount:()=>{},height:S})})}),E.jsx(Fz,{className:zi["line-vertical"]}),E.jsx(ZR,{defaultSize:70,children:E.jsxs("div",{className:rt(zi.overScroll,zi.runCodeResult),children:[E.jsx("div",{className:zi.resultTip}),!V.err&&E.jsxs("div",{className:zi.resultType,children:["当前运行结果: (",V.type,")"]}),V.str&&E.jsx("div",{className:zi.resultValue,children:["object","array"].includes(V.type)?E.jsx(TPe,{src:V.str,theme:"grayscale:inverted",onEdit:!1,enableClipboard:!0,onAdd:!1,onDelete:!1,onSelect:!1,indentWidth:1,collapsed:1,displayDataTypes:!1,displayObjectSize:!1}):V.str}),V.err&&E.jsxs("p",{className:zi.resultErrValue,children:[E.jsx(bJ,{style:{marginRight:6}}),V.err]})]})})]})}),E.jsxs(Oo,{span:10,className:zi.dataTreeList,children:[E.jsx(yd,{defaultActiveKey:["pageState"],expandIconPosition:"end",ghost:!0,items:B,className:zi.collapse,expandIcon:({isActive:ue})=>E.jsx(bd,{rotate:ue?90:0})}),E.jsx(yd,{defaultActiveKey:["systemEnvInfo"],expandIconPosition:"end",ghost:!0,items:q,className:zi.collapse,expandIcon:({isActive:ue})=>E.jsx(bd,{rotate:ue?90:0})}),E.jsx(yd,{defaultActiveKey:["routerInfo"],expandIconPosition:"end",ghost:!0,items:X,className:zi.collapse,expandIcon:({isActive:ue})=>E.jsx(bd,{rotate:ue?90:0})}),E.jsx(yd,{defaultActiveKey:["flowRunningTime"],expandIconPosition:"end",ghost:!0,items:z,className:zi.collapse,expandIcon:({isActive:ue})=>E.jsx(bd,{rotate:ue?90:0})})]})]})]})})})},APe=[{value:"=",label:"="},{value:">",label:">"},{value:"<",label:"<"},{value:">=",label:">="},{value:"<=",label:"<="},{value:"in",label:"in"},{value:"reg",label:"reg"}],eI=t=>{const{renderRefInstance:e}=y.useContext(Zb),[n,r]=y.useState({value:"",valueType:"input",type:"string"});y.useEffect(()=>{r==null||r(t==null?void 0:t.value)},[t.value]);const[i,o]=y.useState(!1);y.useEffect(()=>{},[]);const a=y.useMemo(()=>{var s;return n?xw(n.value)?(s=n==null?void 0:n.value)==null?void 0:s.value:n.value:""},[n]);return E.jsxs("div",{className:lm.inputValueContainer,children:[E.jsx(Bz,{open:i,value:n,config:{self:e},onChange:s=>{var l;r(s),(l=t==null?void 0:t.onChange)==null||l.call(t,s),o(!1)}}),E.jsx(mo,{placeholder:"请输入",value:a,onChange:s=>{var u;const l={...n,valueType:"input",value:s.target.value};r(l),(u=t==null?void 0:t.onChange)==null||u.call(t,l)},className:rt(lm["form-key-item-input"],lm["form-key-item-input-container"]),suffix:E.jsx(F$,{onClick:s=>{s.stopPropagation(),o(!0)},className:lm["form-key-item-input-after-icon"]})})]})},OPe=t=>{const e=y.useRef(`table-${(Math.random()*1e6).toFixed(0)}-panel`),[n,r]=y.useState(()=>t.value.map(f=>({...f,id:(Math.random()*1e6).toFixed(0)}))),[i,o]=y.useState("bottom"),a=y.useMemo(()=>(n||[]).map(f=>f.id),[n]),[s,l]=y.useState(!1),u=y.useRef(),c=y.useRef(),d=[{title:"SOURCE",key:"source",dataIndex:"source",renderFormItem:()=>E.jsx(eI,{getPopupContainer:f=>document.querySelector(`#${e.current}`)})},{width:70,title:"操作符",key:"operate",dataIndex:"operate",renderFormItem:()=>E.jsx(Ld,{options:APe})},{title:"TARGET",key:"target",dataIndex:"target",renderFormItem:()=>E.jsx(eI,{getPopupContainer:f=>document.querySelector(`#${e.current}`)})},{title:"操作",width:40,valueType:"option"}];return y.useEffect(()=>{var h;const f=n.map(v=>{const{id:m,...g}=v;return{...g}});console.log("list",f),(h=t.onChange)==null||h.call(t,f)},[n]),E.jsx("div",{className:lm.paramCollectorContainer,children:E.jsx(Na,{formRef:u,initialValues:{table:n},validateTrigger:"onBlur",submitter:!1,size:"middle",onValuesChange:(f,h)=>{r(h.table)},children:E.jsx(lE,{id:e.current,rowKey:"id",size:"middle",editableFormRef:c,className:lm.table,name:"table",bordered:!0,controlled:s,recordCreatorProps:i!=="hidden"?{position:i,creatorButtonText:"添加且关系",record:()=>({id:(Math.random()*1e6).toFixed(0),operate:"=",source:{},target:{}})}:!1,toolBarRender:!1,columns:d,editable:{type:"multiple",editableKeys:a,onChange:()=>{},actionRender:(f,h,v)=>[E.jsx("a",{onClick:()=>{var x,_;const g=((x=u.current)==null?void 0:x.getFieldValue("table")).filter(w=>w.id!==f.id);(_=u.current)==null||_.setFieldsValue({table:g}),t==null||t.onChange(g)},children:"删除"},"delete")]},scroll:{x:300}})})})},NPe=t=>{const{node:e,graph:n}=t,r=e.properties,i=()=>{},o=()=>{},a=()=>"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/page_init.png",s=()=>r.label||r.name,l=()=>{n.eventCenter.emit("node:update-model",e)},u=()=>{n.eventCenter.emit("node:copy-node",e)},c=()=>{n.eventCenter.emit("node:delete-node",e)},d=()=>e.getNodeAbstract&&e.getNodeAbstract()||{},f=()=>{n.eventCenter.emit("node:select-click",e)},h=x=>{x.stopPropagation();const _=e.x,w=e.y,S=_+e.width/2,C=w,O=n.popover.show({type:"tip",key:e.id,delay:100,placement:"right",trigger:"click",width:16,height:16,x:S,y:C,props:{showConnectBlock:!0}});console.log(O)},v=e.properties.status==="selected"||e.properties.status==="hovered"||e.isHovered||e.isSelected,{run:m}=B_(x=>{x.stopPropagation(),n.eventCenter.emit("node:hover-node",e)},{wait:100}),{run:g}=B_(x=>{x.stopPropagation(),n.eventCenter.emit("node:cancel-hover-node",e)},{wait:100});return E.jsxs("div",{className:rt({[gs["node-wrap"]]:!0,[gs.base]:!0,[r.status]:!!r.status,[r.executeStatus]:!!r.executeStatus}),onMouseEnter:m,onMouseLeave:g,children:[E.jsxs("div",{className:gs["node-title"],onMouseDown:i,onMouseUp:o,children:[E.jsx("span",{className:gs["node-icon"],children:E.jsx("img",{src:a(),alt:""})}),E.jsx("span",{className:gs["node-name"],children:s()})]}),v&&E.jsxs("div",{className:gs["node-option"],onMouseDown:l,children:[E.jsx(wi,{title:"复制节点",className:gs.item,children:E.jsx("span",{className:gs["option-icon"],onClick:u,onMouseDown:()=>{},children:E.jsx("img",{src:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/node_copy.png",alt:""})})}),E.jsx(wi,{title:"信息概览",className:gs.item,children:E.jsx(Dd,{overlayInnerStyle:{minWidth:188,minHeight:100,padding:8},content:E.jsx(c0e,{title:d().title,content:d().content,showButton:d().showButton,goConfig:f}),trigger:"click",children:E.jsx("span",{className:gs["option-icon"],onClick:()=>{},onMouseDown:()=>{},children:E.jsx("img",{src:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/node_abstract.png",alt:""})})})}),E.jsx(wi,{title:"删除节点",className:gs.item,children:E.jsx(ww,{title:"",description:"确认删除该节点吗？",onConfirm:c,onCancel:()=>{},okText:"确认",cancelText:"取消",children:E.jsx("span",{className:gs["option-icon"],onMouseDown:()=>{},children:E.jsx("img",{src:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/node_delete.png",alt:""})})})})]}),E.jsx("div",{className:gs["node-next"],children:v&&E.jsx(PF,{onMouseDown:h,className:gs["next-icon"]})})]})},Nu={type:"BaseNode",component:NPe,model:qge};class MPe extends Nu.model{getNodeName(){return this.properties.name}getNodeAbstract(){const e="数据请求",n=[];return this.properties&&this.properties.ds&&n.push({desc:this.properties.ds.name,type:"common"}),{title:e,content:n,showButton:!0}}getNodeLogo(){return this.properties&&this.properties.logo}getNodeClassName(){return"common"}}const IPe={type:"CommonNode",component:Nu.component,model:MPe},DPe="index-module__base___DMZUj",LPe="index-module__event___V0uAB",kPe="index-module__common___OxQmI",$Pe="index-module__hovered___t-Mfc",FPe="index-module__selected___XIBoa",jPe="index-module__executed___PRzR0",BPe="index-module__item___OdRyR",yl={base:DPe,event:LPe,common:kPe,"node-wrap":"index-module__node-wrap___ccx4R",hovered:$Pe,"node-title":"index-module__node-title___1ncIx",selected:FPe,"execute-failed":"index-module__execute-failed___ITBt-","node-icon":"index-module__node-icon___t2gc9",executed:jPe,"node-name":"index-module__node-name___53VHz","option-icon":"index-module__option-icon___-8aiF","next-icon":"index-module__next-icon___tqYtY","node-option":"index-module__node-option___3P-TZ",item:BPe,"node-warning":"index-module__node-warning___D9giN","warning-tip":"index-module__warning-tip___MUA3-","node-next":"index-module__node-next___KShPn"},zPe=t=>{const{node:e,graph:n}=t,r=e.properties,i=()=>{},o=()=>{},a=()=>"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/page_init.png",s=()=>r.label||r.name,l=()=>{n.eventCenter.emit("node:update-model",e)},u=()=>{n.eventCenter.emit("node:copy-node",e)},c=()=>{n.eventCenter.emit("node:delete-node",e)},d=m=>{m.stopPropagation();const g=e.x,x=e.y,_=g+e.width/2,w=x,S=n.popover.show({type:"component-attr",key:e.id,delay:100,placement:"right",trigger:"click",width:16,height:16,x:_,y:w,props:{showConnectBlock:!0}});console.log(S)},f=e.properties.status==="selected"||e.properties.status==="hovered"||e.isHovered||e.isSelected,{run:h}=B_(m=>{m.stopPropagation(),n.eventCenter.emit("node:hover-node",e)},{wait:100}),{run:v}=B_(m=>{m.stopPropagation(),n.eventCenter.emit("node:cancel-hover-node",e)},{wait:100});return E.jsxs("div",{className:rt({[yl["node-wrap"]]:!0,[yl.base]:!0,[r.status]:!!r.status,[r.executeStatus]:!!r.executeStatus}),onMouseEnter:h,onMouseLeave:v,children:[E.jsxs("div",{className:yl["node-title"],onMouseDown:i,onMouseUp:o,children:[E.jsx("span",{className:yl["node-icon"],children:E.jsx("img",{src:a(),alt:""})}),E.jsx("span",{className:yl["node-name"],children:s()})]}),f&&E.jsxs("div",{className:yl["node-option"],onMouseDown:l,children:[E.jsx(wi,{title:"复制节点",className:yl.item,children:E.jsx("span",{className:yl["option-icon"],onClick:u,onMouseDown:()=>{},children:E.jsx("img",{src:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/node_copy.png",alt:""})})}),E.jsx(wi,{title:"删除节点",className:yl.item,children:E.jsx(ww,{title:"",description:"确认删除该节点吗？",onConfirm:c,onCancel:()=>{},okText:"确认",cancelText:"取消",children:E.jsx("span",{className:yl["option-icon"],onMouseDown:()=>{},children:E.jsx("img",{src:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/node_delete.png",alt:""})})})})]}),E.jsx("div",{className:yl["node-next"],children:f&&E.jsx(PF,{onMouseDown:d,className:yl["next-icon"]})})]})};class HPe extends Nu.model{getOutlineStyle(){const e=super.getOutlineStyle();return e.stroke="none",e.hover.stroke="none",e}getDefaultAnchor(){const{id:e,x:n,y:r,width:i}=this,o=[];return o.push({x:n+i/2,y:r,id:`${e}_outgoing`,type:"outgoing"}),o}getNodeName(){return this.properties&&this.properties.event&&this.properties.event.keyDefine?this.properties.name+this.properties.event.keyDefine:this.properties.name}getNodeAbstract(){const e="组件节点",n=[];return n.push({desc:"组件节点",type:"component"}),{title:e,content:n,showButton:!0}}getNodeLogo(){return this.properties&&this.properties.logo}getNodeClassName(){return"component"}}const UPe={type:"ComponentNode",component:zPe,model:HPe},GPe=160,cO=80,WPe=60,E_=100,zz=100,N2=100,ly=28,QR=24,zx={ONLOAD:"onload",ERROR:"error",RESET:"reset",PREVIEW:"preview",CANVAS_MODEL_ACTIVATED:"canvas:model-activated",CANVAS_MODEL_DELETED:"canvas:model-deleted",CANVAS_MODEL_HOVERED:"canvas:model-hovered",CANVAS_MODEL_CLICKED:"canvas:model-clicked",LOGIC_NODE_ADD:"logic:node-add",LOGIC_NODE_HOVER:"logic:node-hover",LOGIC_NODE_DYN_DATA:"logic:node-dyn-data",LOGIC_HISTORY_CHANGE:"logic:history-change"},VPe="index-module__selected___GhTp-",XPe="index-module__icon___Fra5-",ea={"line-content":"index-module__line-content___Ur4Nc","line-icon":"index-module__line-icon___H2VOj",selected:VPe,icon:XPe,"popover-item":"index-module__popover-item___ISMOW","condition-content":"index-module__condition-content___rKEQb","condition-title":"index-module__condition-title___IUuwN","condition-item":"index-module__condition-item___Yh6Ib","condition-button":"index-module__condition-button___D8uc0"},KPe=t=>{const{model:e,graphModel:n}=t,[r,i]=y.useState(!1),o=y.useRef(),a=y.useMemo(()=>(e.properties||(e.properties={}),e.properties),[e]),s=y.useMemo(()=>e.isSelected,[e]),l=y.useMemo(()=>e.isHovered,[e]);y.useEffect(()=>{const _=[n==null?void 0:n.eventCenter.on("blank:click",u),n==null?void 0:n.eventCenter.on("node:click",u),n==null?void 0:n.eventCenter.on("edge:click",u)];return()=>_.forEach(w=>w==null?void 0:w())},[n.eventCenter]);const u=()=>{i(!1),n.popover&&n.popover.hide(m)},c=_=>{o.current=_,i(!0),n.eventCenter.emit("edge:update-model",e)},d=()=>{n.eventCenter.emit("edge:option-click",e),i(!1)},f=()=>{const{clientX:_,clientY:w}=o.current.nativeEvent,C=n.getPointByClient({x:_+16,y:w+6}).canvasOverlayPosition;m=n.popover.show({type:"tip",delay:100,key:e.id,placement:"right",trigger:"click",width:16,height:16,x:C.x-6,y:C.y,props:{showConnectBlock:!1}}),i(!1)},h=_=>v(_),v=_=>{switch(_.type){case"component":case"componentProp":return`${_.componentName}的${_.propName}`;case"dataSource":return`数据节点${_.nodeId}返回值`;case"initParam":return`初始化参数值为: ${_.value}`;default:return""}};let m;const g=()=>a.condition&&a.condition.conditions&&a.condition.conditions.length?E.jsxs("div",{className:ea["popover-content"],children:[E.jsxs("div",{className:ea["condition-wrap"],children:[E.jsx("div",{className:ea["condition-title"],children:"我配置的条件"}),E.jsxs("div",{className:ea["condition-content"],children:[a.condition.conditions.map((_,w)=>E.jsxs("div",{className:ea["condition-item"],children:[E.jsx("img",{className:ea.icon,src:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/edge_condition.png",alt:""}),E.jsx("span",{children:h(_)})]},w)),E.jsx("div",{className:ea["condition-button"],onClick:d,children:"去配置"})]})]}),E.jsxs("div",{className:ea["popover-item"],onClick:f,children:[E.jsx("img",{className:ea.icon,src:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_insert_node.png",alt:""}),"插入节点"]})]}):E.jsxs("div",{className:ea["popover-content"],children:[E.jsxs("div",{className:ea["popover-item"],onClick:d,children:[E.jsx("img",{className:ea.icon,src:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_add_option.png",alt:""}),"添加条件"]}),E.jsxs("div",{className:ea["popover-item"],onClick:f,children:[E.jsx("img",{className:ea.icon,src:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_insert_node.png",alt:""}),"插入节点"]})]}),x=a.condition&&a.condition.conditions&&a.condition.conditions.length?"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/edge_condition.png":"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/edge_add.png";return E.jsx("div",{className:rt(ea["line-content"],{[ea.selected]:s}),children:E.jsx(Dd,{content:g(),placement:"right",overlayInnerStyle:{width:150},open:r,onOpenChange:i,trigger:"click",children:(l||s)&&E.jsx("div",{className:rt(ea["line-icon"],{[ea.selected]:s}),onClick:c,children:E.jsx("img",{className:rt(ea.icon),src:x,alt:""})})})})},Hx=12,Wv=16,tI=16,YPe=16;class qPe extends Hm{constructor(n){super(n);jr(this,"ins");this.ins=y.createElement(KPe,{model:n.model,graphModel:n.graphModel,properties:n.model.getProperties(),isSelected:n.model.isSelected,isHovered:n.model.isHovered},null)}shouldUpdate(){const n={...this.props.model.properties,isSelected:this.props.model.isSelected,isHovered:this.props.model.isHovered};if(!(this.preProperties&&this.preProperties===JSON.stringify(n)))return this.preProperties=JSON.stringify(n),!0}getText(){const{graphModel:n}=this.props,{pointsList:r,targetNodeId:i}=this.props.model;if(!r||r.length===0)return null;let o=0,a=0,s="";const l={},u=n.getNodeIncomingEdge(i);if(u.length&&u.length>1){let f={},h={};r.length>=4?(f=r[r.length-2],h=r[r.length-3]):(f={x:r[0].x+QR,y:r[0].y},h=r[0]),o=Math.abs(f.x-h.x),a=Math.abs(f.y-h.y),s="",l.x=(f.x+h.x)/2-Wv/2,l.y=(f.y+h.y)/2-Wv/2}else{const f=r[r.length-1],h=r[r.length-2];o=Math.abs(f.x-h.x),a=Math.abs(f.y-h.y),s="",f.x<h.x?(s="row",l.x=f.x+Hx,l.y=f.y-Wv/2):f.y<h.y?(s="column",l.x=f.x-tI/2,l.y=f.y+Hx+Wv/2):f.y>h.y?(s="column-reverse",l.x=f.x-tI/2,l.y=f.y-Hx-Wv/2-YPe):(s="row-reverse",l.x=f.x-Hx-o,l.y=f.y-Wv/2)}const{model:c}=this.props,d=c.id;return setTimeout(()=>{var h;const f=(h=document.querySelector("#line_"+d))==null?void 0:h.querySelector(".add-wrapper");pT.createRoot(f).render(this.ins)},0),fr("foreignObject",{...l,id:"line_"+d,style:`z-index: 20; width: ${o||a}px`},[fr("div",{style:`display:flex;width: 100%;flex-direction: ${s};`},[fr("div",{className:"add-wrapper"})])])}}class ZPe extends Bm{initEdgeData(e){super.initEdgeData(e),this.offset=QR}setAttributes(){this.offset=QR,this.properties.executeStatus==="executed"?this.setZIndex():this.setZIndex(0)}getEdgeStyle(){const e=super.getEdgeStyle();return e.stroke="#8790A0",e.strokeDasharray="3 2",e.strokeWidth=1,(this.isHovered||this.isSelected)&&(e.stroke="#33DD89"),e}getNodeStyle(){return{}}getEdgeAnimationStyle(){const e=super.getEdgeAnimationStyle();e.animationDuration="20s";const{executeStatus:n}=this.properties;return n?(e.strokeDasharray="8 3",e.stroke=n==="executed"?"rgb(79 235 151 / 80%)":"red",n==="execute-failed"&&(e.strokeDasharray=null)):(e.strokeDasharray="8 3",e.stroke="#33DD89"),e}setHovered(e){super.setHovered(e),this.setZIndex(e?999:0)}setSelected(e){super.setSelected(e),this.setZIndex(e?999:0)}setZIndex(e){this.isHovered||this.isSelected||this.properties.executeStatus?(super.setZIndex(999),this.openEdgeAnimation()):(this.closeEdgeAnimation(),super.setZIndex(e))}initPoints(){if(this.pointsList&&this.pointsList.length>0){this.points=this.pointsList.map(l=>`${l.x},${l.y}`).join(" ");return}const{startPoint:e,endPoint:n}=this,{x:r,y:i}=e,{x:o,y:a}=n,s=(this.offset||0)*2;r-o<-s?(this.pointsList=lS([{x:r,y:i},{x:r+(this.offset||0),y:i},{x:r+(this.offset||0),y:a},{x:o,y:a}]),this.points=this.pointsList.map(l=>`${l.x},${l.y}`).join(" ")):r-o>s?(this.pointsList=lS([{x:r,y:i},{x:r+(this.offset||0),y:i},{x:r+(this.offset||0),y:a+ly},{x:o-ly/2,y:a+ly},{x:o-ly/2,y:a},{x:o,y:a}]),this.points=this.pointsList.map(l=>`${l.x},${l.y}`).join(" ")):super.initPoints()}getOuterGAttributes(){return{className:""}}}const rp={type:"LogicLine",model:ZPe,view:qPe};class JPe extends Nu.model{getOutlineStyle(){const e=super.getOutlineStyle();return e.stroke="none",e.hover.stroke="none",e}getDefaultAnchor(){const{id:e,x:n,y:r,width:i}=this,o=[];return o.push({x:n+i/2,y:r,id:`${e}_outgoing`,type:"outgoing"}),o}getNodeName(){return this.properties&&this.properties.event&&this.properties.event.keyDefine?this.properties.name+this.properties.event.keyDefine:this.properties.name}getNodeAbstract(){const e="节点事件",n=[];let r=!0;return this.properties&&this.properties.componentName==="pageInit"?(n.push({desc:"页面初始化",type:"event"}),r=!1):this.properties.event&&this.properties.event.keyDefine&&n.push({desc:this.properties.event.keyDefine,type:"event"}),{title:e,content:n,showButton:r}}getNodeLogo(){return this.properties&&this.properties.logo}getNodeClassName(){return"event"}}const kS={type:"EventNode",component:Nu.component,model:JPe};class QPe extends Nu.model{getNodeName(){return this.properties.name}getNodeAbstract(){const e="页面初始化",n=[];return n.push({desc:this.properties.name,type:"PageInitNode"}),{title:e,content:n,showButton:!1}}getNodeLogo(){return this.properties&&this.properties.logo}getNodeClassName(){return"pageLifecycle"}}const dO={type:"PageInitNode",component:Nu.component,model:QPe};class eAe extends Nu.model{getNodeName(){return this.properties.name}getNodeAbstract(){const e="开始",n=[];return n.push({desc:this.properties.name,type:"StartNode"}),{title:e,content:n,showButton:!1}}getNodeLogo(){return this.properties&&this.properties.logo}getNodeClassName(){return"pageLifecycle"}}const tAe={type:"StartNode",component:Nu.component,model:eAe};class nAe extends Nu.model{getNodeName(){return this.properties.name}getNodeAbstract(){const e="节点行为",n=[];return this.properties&&this.properties.reactions&&this.properties.reactions.length&&this.properties.reactions.forEach(r=>{n.push({desc:r.keyDefine,type:"reaction"})}),{title:e,content:n,showButton:!0}}getNodeLogo(){return this.properties&&this.properties.logo}}const rAe={type:"ReactionNode",component:Nu.component,model:nAe};var nI={width:40,height:40},rI={width:40,height:40},iI={width:40,height:40},oI={width:100,height:80},aI={width:100,height:80},iAe=function(){function t(){globalThis._ids=this,this._ids=new Set}return t.prototype.generateId=function(){return"xxxxxxx".replace(/[x]/g,function(e){var n=Math.random()*16|0,r=e==="x"?n:n&3|8;return r.toString(16)})},t.prototype.next=function(){for(var e=this.generateId();this._ids.has(e);)e=this.generateId();return this._ids.add(e),e},t}(),oAe=(globalThis==null?void 0:globalThis._ids)||new iAe;function Ag(){return oAe.next()}var Hz=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Hz(e,t);function e(n,r){return n.id||(n.id="Event_".concat(Ag())),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),t.call(this,n,r)||this}return e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedTargetRules=function(){var n=t.prototype.getConnectedTargetRules.call(this),r={message:"起始节点不能作为边的终点",validate:function(){return!1}};return n.push(r),n},e.extendKey="StartEventModel",e})(pS);(function(t){Hz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.extendKey="StartEventNode",e})(yS);var Uz=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$S=function(){return $S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$S.apply(this,arguments)};(function(t){Uz(e,t);function e(n,r){return n.id||(n.id="Event_".concat(Ag())),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),t.call(this,n,r)||this}return e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedSourceRules=function(){var n=t.prototype.getConnectedSourceRules.call(this),r={message:"结束节点不能作为边的起点",validate:function(){return!1}};return n.push(r),n},e.extendKey="EndEventModel",e})(pS);(function(t){Uz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle(),i=n,o=i.x,a=i.y,s=i.r,l=t.prototype.getShape.call(this);return fr("g",{},l,fr("circle",$S($S({},r),{cx:o,cy:a,r:s-5})))},e.extendKey="EndEventView",e})(yS);var Gz=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Gz(e,t);function e(n,r){return n.id||(n.id="Flow_".concat(Ag())),t.call(this,n,r)||this}return e.extendKey="SequenceFlowModel",e})(Bm);(function(t){Gz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.extendKey="SequenceFlowEdge",e})(Hm);var Wz=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Py=function(){return Py=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Py.apply(this,arguments)};(function(t){Wz(e,t);function e(n,r){var i=this;return n.id||(n.id="Gateway_".concat(Ag())),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),i=t.call(this,n,r)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return e.extendKey="ExclusiveGatewayModel",e})(vS);(function(t){Wz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n,i=r.x,o=r.y,a=r.width,s=r.height,l=r.points,u=n.getNodeStyle();return fr("g",{transform:"matrix(1 0 0 1 ".concat(i-a/2," ").concat(o-s/2,")")},fr("polygon",Py(Py({},u),{x:i,y:o,points:l})),fr("path",Py({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},u)))},e.extendKey="ExclusiveGatewayNode",e})(xS);var Vz=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eP=function(){return eP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},eP.apply(this,arguments)};(function(t){Vz(e,t);function e(n,r){return n.id||(n.id="Activity_".concat(Ag())),t.call(this,n,r)||this}return e.extendKey="ServiceTaskModel",e})(zm);(function(t){Vz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.getNodeStyle();return fr("svg",{x:r-o/2+5,y:i-a/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},fr("path",{fill:s.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},e.prototype.getShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.radius,l=n.getNodeStyle();return fr("g",{},[fr("rect",eP({x:r-o/2,y:i-a/2,rx:s,ry:s,width:o,height:a},l)),this.getLabelShape()])},e.extendKey="ServiceTaskNode",e})(wp);var Xz=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),FS=function(){return FS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},FS.apply(this,arguments)};(function(t){Xz(e,t);function e(n,r){return n.id||(n.id="Activity_".concat(Ag())),t.call(this,n,r)||this}return e.extendKey="UserTaskModel",e})(zm);(function(t){Xz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.getNodeStyle();return fr("svg",{x:r-o/2+5,y:i-a/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},fr("path",{fill:s.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},e.prototype.getShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.radius,l=n.getNodeStyle();return fr("g",{},[fr("rect",FS(FS({},l),{x:r-o/2,y:i-a/2,rx:s,ry:s,width:o,height:a})),this.getLabelShape()])},e.extendKey="UserTaskNode",e})(wp);var aAe=function(){function t(){globalThis._ids=this,this._ids=new Set}return t.prototype.generateId=function(){return"xxxxxxx".replace(/[x]/g,function(e){var n=Math.random()*16|0,r=e==="x"?n:n&3|8;return r.toString(16)})},t.prototype.next=function(){for(var e=this.generateId();this._ids.has(e);)e=this.generateId();return this._ids.add(e),e},t}(),sAe=(globalThis==null?void 0:globalThis._ids)||new aAe;function sI(){return sAe.next()}function Kz(t){return Object.prototype.toString.call(t)}function lAe(t){return"  ".repeat(t)}function jS(t){var e=t;return Kz(t)==="[object Object]"?(e={},Object.keys(t).forEach(function(n){var r=n;n.charAt(0)==="-"&&(r=n.substring(1)),e[r]=jS(t[n])})):Array.isArray(t)&&(e=[],t.forEach(function(n,r){e[r]=jS(n)})),e}function uAe(t){var e=t;try{typeof e!="string"&&(e=JSON.parse(t))}catch{e=JSON.stringify(jS(t)).replace(/"/g,"'")}return e}var Uh=`	
`;function C_(t,e,n){var r=lAe(n);if(t!==0&&t!==!1&&!t)return Uh+r+"<".concat(e," />");var i="";if(e==="#text")return Uh+r+t;if(e==="#cdata-section")return Uh+r+"<![CDATA["+t+"]]>";if(e==="#comment")return Uh+r+"<!--"+t+"-->";if("".concat(e).charAt(0)==="-")return" "+e.substring(1)+'="'+uAe(t)+'"';if(Array.isArray(t))t.forEach(function(l){i+=C_(l,e,n+1)});else if(Kz(t)==="[object Object]"){var o=Object.keys(t),a="",s="";i+=(n===0?"":Uh+r)+"<"+e,o.forEach(function(l){l.charAt(0)==="-"?a+=C_(t[l],l,n+1):s+=C_(t[l],l,n+1)}),i+=a+(s!==""?">".concat(s).concat(Uh+r,"</").concat(e,">"):" />")}else i+=Uh+r+"<".concat(e,">").concat(t.toString(),"</").concat(e,">");return i}function cAe(t){var e="";for(var n in t)e+=C_(t[n],n,0);return e}var ss=function(){};ss.ObjTree=function(){return this};ss.ObjTree.VERSION="0.23";ss.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;ss.ObjTree.prototype.attr_prefix="-";ss.ObjTree.prototype.parseXML=function(t){var e;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(t,"application/xml");if(!r)return;e=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t),e=n.documentElement);if(e)return this.parseDOM(e)};ss.ObjTree.prototype.parseHTTP=function(t,e,n){var r={};for(var i in e)r[i]=e[i];if(r.method||(typeof r.postBody>"u"&&typeof r.postbody>"u"&&typeof r.parameters>"u"?r.method="get":r.method="post"),n){r.asynchronous=!0;var o=this,a=n,s=r.onComplete;r.onComplete=function(c){var d;c&&c.responseXML&&c.responseXML.documentElement&&(d=o.parseDOM(c.responseXML.documentElement)),a(d,c),s&&s(c)}}else r.asynchronous=!1;var l;if(typeof HTTP<"u"&&HTTP.Request){r.uri=t;var u=new HTTP.Request(r);u&&(l=u.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var u=new Ajax.Request(t,r);u&&(l=u.transport)}if(n)return l;if(l&&l.responseXML&&l.responseXML.documentElement)return this.parseDOM(l.responseXML.documentElement)};ss.ObjTree.prototype.parseDOM=function(t){if(t){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var n=this.parseElement(t);if(this.__force_array[t.nodeName]&&(n=[n]),t.nodeType!=11){var r={};r[t.nodeName]=n,n=r}return n}};ss.ObjTree.prototype.parseElement=function(t){if(t.nodeType!=7){if(t.nodeType==3||t.nodeType==4||t.nodeType==8){var e=t.nodeValue.match(/[^\x00-\x20]/);return e==null?void 0:t.nodeValue}var n=null,r={};if(t.attributes&&t.attributes.length){n={};for(var i=0;i<t.attributes.length;i++){var o=t.attributes[i].nodeName;if(typeof o=="string"){var a=t.attributes[i].nodeValue;try{a=JSON.parse(t.attributes[i].nodeValue.replace(/'/g,'"'))}catch{a=t.attributes[i].nodeValue}a&&(o=this.attr_prefix+o,typeof r[o]>"u"&&(r[o]=0),r[o]++,this.addNode(n,o,r[o],a))}}}if(t.childNodes&&t.childNodes.length){var s=!0;n&&(s=!1);for(var i=0;i<t.childNodes.length&&s;i++){var l=t.childNodes[i].nodeType;l==3||l==4||l==8||(s=!1)}if(s){n||(n="");for(var i=0;i<t.childNodes.length;i++)n+=t.childNodes[i].nodeValue}else{n||(n={});for(var i=0;i<t.childNodes.length;i++){var o=t.childNodes[i].nodeName;if(typeof o=="string"){var a=this.parseElement(t.childNodes[i]);a&&(typeof r[o]>"u"&&(r[o]=0),r[o]++,this.addNode(n,o,r[o],a))}}}}else n===null&&(n={});return n}};ss.ObjTree.prototype.addNode=function(t,e,n,r){this.__force_array[e]?(n==1&&(t[e]=[]),t[e][t[e].length]=r):n==1?t[e]=r:n==2?t[e]=[t[e],r]:t[e][t[e].length]=r};ss.ObjTree.prototype.writeXML=function(t){var e=this.hash_to_xml(null,t);return this.xmlDecl+e};ss.ObjTree.prototype.hash_to_xml=function(t,e){var n=[],r=[];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];i.charAt(0)!=this.attr_prefix?typeof o>"u"||o==null?n[n.length]="<"+i+" />":typeof o=="object"&&o.constructor==Array?n[n.length]=this.array_to_xml(i,o):typeof o=="object"?n[n.length]=this.hash_to_xml(i,o):n[n.length]=this.scalar_to_xml(i,o):r[r.length]=" "+i.substring(1)+'="'+this.xml_escape(o)+'"'}var a=r.join(""),s=n.join("");return typeof t>"u"||t==null||(n.length>0?s.match(/\n/)?s="<"+t+a+`>
`+s+"</"+t+`>
`:s="<"+t+a+">"+s+"</"+t+`>
`:s="<"+t+a+` />
`),s};ss.ObjTree.prototype.array_to_xml=function(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r];typeof i>"u"||i==null?n[n.length]="<"+t+" />":typeof i=="object"&&i.constructor==Array?n[n.length]=this.array_to_xml(t,i):typeof i=="object"?n[n.length]=this.hash_to_xml(t,i):n[n.length]=this.scalar_to_xml(t,i)}return n.join("")};ss.ObjTree.prototype.scalar_to_xml=function(t,e){return t=="#text"?this.xml_escape(e):"<"+t+">"+this.xml_escape(e)+"</"+t+`>
`};ss.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var dAe=function(t){return new ss.ObjTree().parseXML(t)},fAe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tP=function(){return tP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tP.apply(this,arguments)},gE=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},yc;(function(t){t.START="bpmn:startEvent",t.END="bpmn:endEvent",t.GATEWAY="bpmn:exclusiveGateway",t.USER="bpmn:userTask",t.SYSTEM="bpmn:serviceTask",t.FLOW="bpmn:sequenceFlow"})(yc||(yc={}));var Yz=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],lI=["properties","startPoint","endPoint","pointsList"];function uI(t){var e=t?lI.concat(t):lI;return function(n){function r(i){var o={};return typeof i=="string"?i:Array.isArray(i)?i.map(function(a){return r(a)}):(Object.entries(i).forEach(function(a){var s=gE(a,2),l=s[0],u=s[1];typeof u!="object"?l.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(l)?o[l]=u:o["-".concat(l)]=u:e.includes(l)?o["-".concat(l)]=r(u):o[l]=r(u)}),o)}return r(n)}}function BS(t){var e={};return Object.entries(t).forEach(function(n){var r=gE(n,2),i=r[0],o=r[1];i.indexOf("-")===0?e[i.substring(1)]=jS(o):typeof o=="string"?e[i]=o:Object.prototype.toString.call(o)==="[object Object]"?e[i]=BS(o):Array.isArray(o)?e[i]=o.map(function(a){return BS(a)}):e[i]=o}),e}function hAe(t,e,n){var r=new Map;e.nodes.forEach(function(o){var a,s={"-id":o.id};if(!((a=o.text)===null||a===void 0)&&a.value&&(s["-name"]=o.text.value),o.properties){var l=uI(n)(o.properties);Object.assign(s,l)}r.set(o.id,s),t[o.type]?Array.isArray(t[o.type])?t[o.type].push(s):t[o.type]=[t[o.type],s]:t[o.type]=s});var i=e.edges.map(function(o){var a,s,l=r.get(o.targetNodeId);l["bpmn:incoming"]?Array.isArray(l["bpmn:incoming"])?l["bpmn:incoming"].push(o.id):l["bpmn:incoming"]=[l["bpmn:incoming"],o.id]:l["bpmn:incoming"]=o.id;var u={"-id":o.id,"-sourceRef":o.sourceNodeId,"-targetRef":o.targetNodeId};if(!((a=o.text)===null||a===void 0)&&a.value&&(u["-name"]=(s=o.text)===null||s===void 0?void 0:s.value),o.properties){var c=uI(n)(o.properties);Object.assign(u,c)}return u});e.edges.forEach(function(o){var a=r.get(o.sourceNodeId);a["bpmn:outgoing"]?Array.isArray(a["bpmn:outgoing"])?a["bpmn:outgoing"].push(o.id):a["bpmn:outgoing"]=[a["bpmn:outgoing"],o.id]:a["bpmn:outgoing"]=o.id}),t[yc.FLOW]=i}function pAe(t,e){t["bpmndi:BPMNEdge"]=e.edges.map(function(n){var r,i=n.id,o=n.pointsList.map(function(s){var l=s.x,u=s.y;return{"-x":l,"-y":u}}),a={"-id":"".concat(i,"_di"),"-bpmnElement":i,"di:waypoint":o};return!((r=n.text)===null||r===void 0)&&r.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),a}),t["bpmndi:BPMNShape"]=e.nodes.map(function(n){var r,i=n.id,o=100,a=80,s=n.x,l=n.y,u=dh.shapeConfigMap.get(n.type);u&&(o=u.width,a=u.height),s-=o/2,l-=a/2;var c={"-id":"".concat(i,"_di"),"-bpmnElement":i,"dc:Bounds":{"-x":s,"-y":l,"-width":o,"-height":a}};return!((r=n.text)===null||r===void 0)&&r.value&&(c["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),c})}function vAe(t){var e=[],n=[],r=t["bpmn:definitions"];if(r){var i=r["bpmn:process"];Object.keys(i).forEach(function(o){if(o.indexOf("bpmn:")===0){var a=i[o];if(o===yc.FLOW){var s=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=gAe(a,s)}else{var l=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];e=e.concat(mAe(a,l,o))}}})}return{nodes:e,edges:n}}function mAe(t,e,n){var r=[];if(Array.isArray(t))t.forEach(function(a){var s;Array.isArray(e)?s=e.find(function(u){return u["-bpmnElement"]===a["-id"]}):s=e;var l=cI(s,n,a);r.push(l)});else{var i=void 0;Array.isArray(e)?i=e.find(function(a){return a["-bpmnElement"]===t["-id"]}):i=e;var o=cI(i,n,t);r.push(o)}return r}function cI(t,e,n){var r=Number(t["dc:Bounds"]["-x"]),i=Number(t["dc:Bounds"]["-y"]),o=n["-name"],a=dh.shapeConfigMap.get(e);a&&(r+=a.width/2,i+=a.height/2);var s;Object.entries(n).forEach(function(d){var f=gE(d,2),h=f[0],v=f[1];Yz.indexOf(h)===-1&&(s||(s={}),s[h]=v)}),s&&(s=BS(s));var l;if(o&&(l={x:r,y:i,value:o},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"])){var u=t["bpmndi:BPMNLabel"]["dc:Bounds"];l.x=Number(u["-x"])+Number(u["-width"])/2,l.y=Number(u["-y"])+Number(u["-height"])/2}var c={id:t["-bpmnElement"],type:e,x:r,y:i,properties:s};return l&&(c.text=l),c}function gAe(t,e){var n=[];if(Array.isArray(t))t.forEach(function(i){var o;Array.isArray(e)?o=e.find(function(a){return a["-bpmnElement"]===i["-id"]}):o=e,n.push(dI(o,i))});else{var r=void 0;Array.isArray(e)?r=e.find(function(i){return i["-bpmnElement"]===t["-id"]}):r=e,n.push(dI(r,t))}return n}function dI(t,e){var n,r=e["-name"]?"".concat(e["-name"]):"";if(r){var i=t["bpmndi:BPMNLabel"]["dc:Bounds"],o=0;r.split(`
`).forEach(function(l){o<l.length&&(o=l.length)}),n={value:r,x:Number(i["-x"])+o*10/2,y:Number(i["-y"])+7}}var a;Object.entries(e).forEach(function(l){var u=gE(l,2),c=u[0],d=u[1];Yz.indexOf(c)===-1&&(a||(a={}),a[c]=d)}),a&&(a=BS(a));var s={id:e["-id"],type:yc.FLOW,pointsList:t["di:waypoint"].map(function(l){return{x:Number(l["-x"]),y:Number(l["-y"])}}),sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:a};return n&&(s.text=n),s}var dh=function(){function t(e){var n=e.lf,r=this;this.adapterOut=function(i,o){var a=tP({},r.processAttributes);hAe(a,i,o);var s={"-id":"BPMNPlane_1","-bpmnElement":a["-id"]};pAe(s,i);var l=r.definitionAttributes;l["bpmn:process"]=a,l["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":s};var u={"bpmn:definitions":l};return u},this.adapterIn=function(i){if(i)return vAe(i)},n.adapterIn=function(i){return r.adapterIn(i)},n.adapterOut=function(i,o){return r.adapterOut(i,o)},this.processAttributes={"-isExecutable":"true","-id":"Process_".concat(sI())},this.definitionAttributes={"-id":"Definitions_".concat(sI()),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return t.prototype.setCustomShape=function(e,n){t.shapeConfigMap.set(e,n)},t.pluginName="bpmn-adapter",t.shapeConfigMap=new Map,t}();dh.shapeConfigMap.set(yc.START,{width:nI.width,height:nI.height});dh.shapeConfigMap.set(yc.END,{width:rI.width,height:rI.height});dh.shapeConfigMap.set(yc.GATEWAY,{width:iI.width,height:iI.height});dh.shapeConfigMap.set(yc.SYSTEM,{width:oI.width,height:oI.height});dh.shapeConfigMap.set(yc.USER,{width:aI.width,height:aI.height});(function(t){fAe(e,t);function e(n){var r=t.call(this,n)||this;r.adapterXmlIn=function(o){var a=dAe(o);return r.adapterIn(a)},r.adapterXmlOut=function(o,a){var s=r.adapterOut(o,a);return cAe(s)};var i=n.lf;return i.adapterIn=r.adapterXmlIn,i.adapterOut=r.adapterXmlOut,r}return e.pluginName="bpmnXmlAdapter",e})(dh);var yAe=function(){function t(){globalThis._ids=this,this._ids=new Set}return t.prototype.generateId=function(){var e="xxxxxxx".replace(/[x]/g,function(n){var r=Math.random()*16|0,i=n==="x"?r:r&3|8;return i.toString(16)});return e},t.prototype.next=function(){for(var e=this.generateId();this._ids.has(e);)e=this.generateId();return this._ids.add(e),e},t}(),bAe=(globalThis==null?void 0:globalThis._ids)||new yAe;function xAe(){return bAe.next()}fr("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),fr("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),fr("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});fr("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});fr("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var _Ae=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ip=function(){return ip=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ip.apply(this,arguments)},SAe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},wAe=Bl,EAe=function(t){_Ae(e,t);function e(n){var r=t.call(this)||this;return r.updatePosition=function(i){var o=i.deltaX,a=i.deltaY,s=r.nodeModel,l=s.x,u=s.y;r.nodeModel.x=l+o/2,r.nodeModel.y=u+a/2,r.nodeModel.moveText(o/2,a/2)},r.getResize=function(i){var o=i.index,a=i.deltaX,s=i.deltaY,l=i.width,u=i.height,c=i.PCTResizeInfo,d=i.pct,f=d===void 0?1:d,h=i.freezeWidth,v=h===void 0?!1:h,m=i.freezeHeight,g=m===void 0?!1:m,x={width:l,height:u,deltaX:a,deltaY:s};if(c){var _=4,w=0,S=0;switch(o){case 0:S=(a*-1-s)/_;break;case 1:S=(a-s)/_;break;case 2:S=(a+s)/_;break;case 3:S=(a*-1+s)/_;break}S!==0&&(w=Math.round(S/c.ResizeBasis.basisHeight*1e5)/1e3),c.ResizePCT.widthPCT=Math.max(Math.min(c.ResizePCT.widthPCT+w,c.ScaleLimit.maxScaleLimit),c.ScaleLimit.minScaleLimit),c.ResizePCT.heightPCT=Math.max(Math.min(c.ResizePCT.heightPCT+w,c.ScaleLimit.maxScaleLimit),c.ScaleLimit.minScaleLimit);var C=Math.round(c.ResizePCT.widthPCT*c.ResizeBasis.basisWidth/100),O=Math.round(c.ResizePCT.heightPCT*c.ResizeBasis.basisHeight/100);switch(o){case 0:a=l-C,s=u-O;break;case 1:a=C-l,s=u-O;break;case 2:a=C-l,s=O-u;break;case 3:a=l-C,s=O-u;break}return x.width=C,x.height=O,x.deltaX=a/f,x.deltaY=s/f,x}switch(o){case 0:x.width=v?l:l-a*f,x.height=g?u:u-s*f;break;case 1:x.width=v?l:l+a*f,x.height=g?u:u-s*f;break;case 2:x.width=v?l:l+a*f,x.height=g?u:u+s*f;break;case 3:x.width=v?l:l-a*f,x.height=g?u:u+s*f;break}return x},r.updateEdgePointByAnchors=function(){var i=r.nodeModel,o=i.id,a=i.anchors,s=r.getNodeEdges(o);s.sourceEdges.forEach(function(l){var u=a.find(function(c){return c.id===l.sourceAnchorId});u&&l.updateStartPoint({x:u.x,y:u.y})}),s.targetEdges.forEach(function(l){var u=a.find(function(c){return c.id===l.targetAnchorId});u&&l.updateEndPoint({x:u.x,y:u.y})})},r.updateRect=function(i){var o=i.deltaX,a=i.deltaY,s=r.nodeModel,l=s.x,u=s.y,c=s.width,d=s.height,f=s.radius,h=s.PCTResizeInfo,v=r.nodeModel,m=v.minWidth,g=v.minHeight,x=v.maxWidth,_=v.maxHeight,w=r.index,S=m===x,C=g===_,O=r.getResize({index:w,deltaX:o,deltaY:a,width:c,height:d,PCTResizeInfo:h,pct:1,freezeWidth:S,freezeHeight:C});if(O.width<m||O.width>x||O.height<g||O.height>_){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:S?0:O.deltaX,deltaY:C?0:O.deltaY}),r.nodeModel.width=O.width,r.nodeModel.height=O.height,r.nodeModel.setProperties({nodeSize:{width:O.width,height:O.height}});var T={x:l,y:u,width:c,height:d,radius:f},N={x:r.nodeModel.x,y:r.nodeModel.y,width:r.nodeModel.width,height:r.nodeModel.height,radius:f};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:o,deltaY:a,beforeNode:T,afterNode:N})},r.updateEllipse=function(i){var o=i.deltaX,a=i.deltaY,s=r.nodeModel,l=s.rx,u=s.ry,c=s.x,d=s.y,f=s.PCTResizeInfo,h=r.index,v=r.nodeModel,m=v.minWidth,g=v.minHeight,x=v.maxWidth,_=v.maxHeight,w=m===x,S=g===_,C=l,O=u,T=r.getResize({index:h,deltaX:o,deltaY:a,width:C,height:O,PCTResizeInfo:f,pct:1/2,freezeWidth:w,freezeHeight:S});if(T.width<m/2||T.width>x/2||T.height<g/2||T.height>_/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:w?0:T.deltaX,deltaY:S?0:T.deltaY}),r.nodeModel.rx=T.width,r.nodeModel.ry=T.height,r.nodeModel.setProperties({nodeSize:{rx:T.width,ry:T.height}});var N={x:c,y:d},M={rx:T.width,ry:T.height,x:r.nodeModel.x,y:r.nodeModel.y};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:o,deltaY:a,beforeNode:ip(ip({},N),{rx:l,ry:u}),afterNode:M})},r.updateDiamond=function(i){var o=i.deltaX,a=i.deltaY,s=r.nodeModel,l=s.rx,u=s.ry,c=s.x,d=s.y,f=s.PCTResizeInfo,h=r.index,v=r.nodeModel,m=v.minWidth,g=v.minHeight,x=v.maxWidth,_=v.maxHeight,w=m===x,S=g===_,C=l,O=u,T=r.getResize({index:h,deltaX:o,deltaY:a,width:C,height:O,PCTResizeInfo:f,pct:1/2,freezeWidth:w,freezeHeight:S});if(T.width<m/2||T.width>x/2||T.height<g/2||T.height>_/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:w?0:T.deltaX,deltaY:S?0:T.deltaY}),r.nodeModel.rx=T.width,r.nodeModel.ry=T.height,r.nodeModel.setProperties({nodeSize:{rx:T.width,ry:T.height}});var N={x:c,y:d,rx:l,ry:u},M={rx:T.width,ry:T.height,x:r.nodeModel.x,y:r.nodeModel.y};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:o,deltaY:a,beforeNode:N,afterNode:M})},r.eventEmit=function(i){var o=i.deltaX,a=i.deltaY,s=i.beforeNode,l=i.afterNode,u=r.nodeModel,c=u.id,d=u.modelType,f=u.type,h=ip({id:c,modelType:d,type:f},s),v=ip({id:c,modelType:d,type:f},l);r.graphModel.eventCenter.emit("node:resize",{preData:h,data:v,deltaX:o,deltaY:a,index:r.index,model:r.nodeModel})},r.onDragging=function(i){var o,a=i.deltaX,s=i.deltaY,l=r.graphModel.transformModel,u=r.nodeModel.modelType;o=SAe(l.fixDeltaXY(a,s),2),a=o[0],s=o[1],u===Vr.RECT_NODE||u===Vr.HTML_NODE?r.updateRect({deltaX:a,deltaY:s}):u===Vr.ELLIPSE_NODE?r.updateEllipse({deltaX:a,deltaY:s}):u===Vr.DIAMOND_NODE&&r.updateDiamond({deltaX:a,deltaY:s})},r.onDragEnd=function(){var i=r.graphModel.gridSize,o=i===void 0?1:i,a=o*Math.round(r.nodeModel.x/o),s=o*Math.round(r.nodeModel.y/o);r.nodeModel.moveTo(a,s),r.updateEdgePointByAnchors()},r.index=n.index,r.nodeModel=n.model,r.graphModel=n.graphModel,r.dragHandler=new wAe({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:1}),r}return e.prototype.getNodeEdges=function(n){for(var r=this.graphModel,i=r.edges,o=[],a=[],s=0;s<i.length;s++){var l=i[s];l.sourceNodeId===n?o.push(l):i[s].targetNodeId===n&&a.push(l)}return{sourceEdges:o,targetEdges:a}},e.prototype.render=function(){var n=this.props,r=n.x,i=n.y,o=n.index,a=n.model,s=a.getControlPointStyle();return Ct("g",{className:"lf-resize-control-".concat(o),children:Ct(Ol,ip({className:"lf-node-control",x:r,y:i},s,{onMouseDown:this.dragHandler.handleMouseDown}))})},e}(ii),CAe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zS=function(){return zS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zS.apply(this,arguments)},yE=function(t){CAe(e,t);function e(){var n=t.call(this)||this;return n.state={},n}return e.prototype.getResizeControl=function(){var n=this.props,r=n.model,i=n.graphModel,o=r.x,a=r.y,s=r.width,l=r.height,u={minX:o-s/2,minY:a-l/2,maxX:o+s/2,maxY:a+l/2},c=u.minX,d=u.minY,f=u.maxX,h=u.maxY,v=[{x:c,y:d},{x:f,y:d},{x:f,y:h},{x:c,y:h}];return v.map(function(m,g){return Ct(EAe,zS({index:g},m,{model:r,graphModel:i}))})},e.prototype.getGroupSolid=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.getResizeOutlineStyle();return Ct(Ol,zS({},s,{x:r,y:i,width:o,height:a}))},e.prototype.render=function(){return Ct("g",{className:"lf-resize-control",children:[this.getGroupSolid(),this.getResizeControl()]})},e}(ii),qz=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){qz(e,t);function e(n,r){var i=t.call(this,n,r)||this,o=n.properties.nodeSize;return o&&(i.rx=o.rx,i.ry=o.ry),i}return e.prototype.initNodeData=function(n){t.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var n=t.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},o={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},e})(pR);(function(t){qz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var n=this.props,r=n.model,i=n.graphModel;return Ct(yE,{model:r,graphModel:i})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var n=this.props,r=n.model,i=n.graphModel.editConfigModel.isSilentMode;return Ct("g",{children:[this.getResizeShape(),r.isSelected&&!i?this.getControlGroup():""]})},e})(wR);var Zz=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nP=function(){return nP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nP.apply(this,arguments)};(function(t){Zz(e,t);function e(n,r){var i=t.call(this,n,r)||this,o=n.properties.nodeSize;return o&&(i.rx=o.rx,i.ry=o.ry),i}return e.prototype.initNodeData=function(n){t.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},e.prototype.getOutlineStyle=function(){var n=t.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},o={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},e})(hR);(function(t){Zz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var n=this.props,r=n.model,i=n.graphModel;return Ct(yE,{model:r,graphModel:i})},e.prototype.getResizeShape=function(){var n=this.props.model,r=n.points,i=n.getNodeStyle();return Ct("g",{children:Ct(GA,nP({},i,{points:r}))})},e.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,i=n.graphModel.editConfigModel.isSilentMode;return Ct("g",{children:[this.getResizeShape(),r&&!i?this.getControlGroup():""]})},e})(_R);var Jz=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Jz(e,t);function e(n,r){var i=t.call(this,n,r)||this,o=n.properties.nodeSize;return o&&(i.width=o.width,i.height=o.height),i}return e.prototype.initNodeData=function(n){t.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var n=t.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},i={basisWidth:this.width,basisHeight:this.height},o={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},e})(ob);(function(t){Jz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var n=this.props,r=n.model,i=n.graphModel;return Ct(yE,{model:r,graphModel:i})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,i=n.graphModel.editConfigModel.isSilentMode;return Ct("g",{children:[this.getResizeShape(),r&&!i?this.getControlGroup():""]})},e})(_S);var Qz=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TAe=function(t){Qz(e,t);function e(n,r){var i=t.call(this,n,r)||this,o=n.properties.nodeSize;return o&&(i.width=o.width,i.height=o.height),i}return e.prototype.initNodeData=function(n){t.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var n=t.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},i={basisWidth:this.width,basisHeight:this.height},o={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},e}(zm),RAe=function(t){Qz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var n=this.props,r=n.model,i=n.graphModel;return Ct(yE,{model:r,graphModel:i})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,i=n.graphModel.editConfigModel.isSilentMode;return Ct("g",{children:[this.getResizeShape(),r&&!i?this.getControlGroup():""]})},e}(wp),eH=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),HS=function(){return HS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},HS.apply(this,arguments)},Gh=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Wh=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},fI=500,hI=300,PAe=-1e4;(function(t){eH(e,t);function e(){var n=t.apply(this,Wh([],Gh(arguments),!1))||this;return n.isGroup=!0,n.isFolded=!1,n.unfoldedWidth=fI,n.unfoldedHeight=hI,n.childrenLastFoldStatus={},n}return e.prototype.initNodeData=function(n){var r=this;t.prototype.initNodeData.call(this,n);var i=[];Fi(n.children)&&(i=n.children),this.children=new Set(i),this.width=fI,this.height=hI,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=PAe,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=!!this.properties.isFolded,setTimeout(function(){r.isFolded&&r.foldGroup(r.isFolded)})},e.prototype.getResizeOutlineStyle=function(){var n=t.prototype.getResizeOutlineStyle.call(this);return n.stroke="none",n},e.prototype.foldGroup=function(n){var r=this;if(n!==this.isFolded){this.setProperty("isFolded",n),this.isFolded=n,n?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHeight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHeight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=Wh(Wh([],Gh(this.incoming.edges),!1),Gh(this.outgoing.edges),!1);this.children.forEach(function(o){var a=r.graphModel.getElement(o);if(a){var s=a.isFolded;if(a.isGroup&&!a.isFolded&&a.foldGroup(n),a.isGroup&&!n){var l=r.childrenLastFoldStatus[o];l!==void 0&&l!==a.isFolded&&a.foldGroup(l)}r.childrenLastFoldStatus[o]=!!s,a.visible=!n;var u=a.incoming.edges,c=a.outgoing.edges;i=Wh(Wh(Wh([],Gh(i),!1),Gh(u),!1),Gh(c),!1)}}),this.foldEdge(n,i)}},e.prototype.getAnchorStyle=function(n){var r=t.prototype.getAnchorStyle.call(this,n);return r.stroke="transparent",r.fill="transparent",r.hover.fill="transparent",r.hover.stroke="transparent",r},e.prototype.foldEdge=function(n,r){var i=this;r.forEach(function(o,a){var s=o.id,l=o.sourceNodeId,u=o.targetNodeId,c=o.startPoint,d=o.endPoint,f=o.type,h=o.text,v=o.getProperties(),m={id:"".concat(s,"__").concat(a),sourceNodeId:l,targetNodeId:u,startPoint:c,endPoint:d,type:f,properties:v,text:h==null?void 0:h.value};o.virtual&&i.graphModel.deleteEdgeById(o.id);var g=i.graphModel.group.getNodeGroup(u);g||(g=i.graphModel.getNodeModelById(u));var x=i.graphModel.group.getNodeGroup(l);x||(x=i.graphModel.getNodeModelById(l)),n&&o.visible!==!1&&(i.children.has(l)||i.id===l?(m.startPoint=void 0,m.sourceNodeId=i.id):(m.endPoint=void 0,m.targetNodeId=i.id),(g.id!==i.id||x.id!==i.id)&&i.createVirtualEdge(m),o.visible=!1),!n&&o.visible===!1&&(g&&g.isGroup&&g.isFolded?(m.targetNodeId=g.id,m.endPoint=void 0,i.createVirtualEdge(m)):x&&x.isGroup&&x.isFolded?(m.sourceNodeId=x.id,m.startPoint=void 0,i.createVirtualEdge(m)):o.visible=!0)})},e.prototype.createVirtualEdge=function(n){n.pointsList=void 0;var r=this.graphModel.addEdge(n);r.virtual=!0,r.text.editable=!1,r.isFoldedEdge=!0},e.prototype.isInRange=function(n){var r=n.minX,i=n.minY,o=n.maxX,a=n.maxY;return r>=this.x-this.width/2&&o<=this.x+this.width/2&&i>=this.y-this.height/2&&a<=this.y+this.height/2},e.prototype.isAllowMoveTo=function(n){var r=n.minX,i=n.minY,o=n.maxX,a=n.maxY;return{x:r>=this.x-this.width/2&&o<=this.x+this.width/2,y:i>=this.y-this.height/2&&a<=this.y+this.height/2}},e.prototype.setAllowAppendChild=function(n){this.setProperty("groupAddable",n)},e.prototype.addChild=function(n){this.children.add(n),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},e.prototype.removeChild=function(n){this.children.delete(n),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},e.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},e.prototype.getData=function(){var n=this,r=t.prototype.getData.call(this);r.children=[],console.log("this.children",this.children),this.children.forEach(function(o){var a=n.graphModel.getNodeModelById(o);a&&!a.virtual&&r.children.push(o)});var i=r.properties;return i==null||delete i.groupAddable,i==null||delete i.isFolded,r},e.prototype.getHistoryData=function(){var n=t.prototype.getData.call(this);n.children=Wh([],Gh(this.children),!1),n.isGroup=!0;var r=n.properties;return r==null||delete r.groupAddable,r!=null&&r.isFolded&&(n.x=n.x+this.unfoldedWidth/2-this.foldedWidth/2,n.y=n.y+this.unfoldedHeight/2-this.foldedHeight/2),n},e.prototype.isAllowAppendIn=function(n){return console.info("_nodeData",n),!0},e.prototype.toBack=function(){this.zIndex--},e})(TAe);(function(t){eH(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var n=this.props.model,r=n.resizable,i=n.properties;return r&&!i.isFolded?t.prototype.getControlGroup.call(this):null},e.prototype.getAddableShape=function(){var n=this.props.model,r=n.width,i=n.height,o=n.x,a=n.y,s=n.radius,l=n.properties,u=n.getAddableOutlineStyle;if(!l.groupAddable)return null;var c=this.props.model.getNodeStyle().strokeWidth,d=c===void 0?0:c,f=u(),h=r+d+8,v=i+d+8;return fr("rect",HS(HS({},f),{width:h,height:v,x:o-h/2,y:a-v/2,rx:s,ry:s}))},e.prototype.getFoldIcon=function(){var n=this.props.model,r=n.x-n.width/2+5,i=n.y-n.height/2+5;if(!n.foldable)return null;var o=fr("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:n.properties.isFolded?"M ".concat(r+3,",").concat(i+6," ").concat(r+11,",").concat(i+6," M").concat(r+7,",").concat(i+2," ").concat(r+7,",").concat(i+10):"M ".concat(r+3,",").concat(i+6," ").concat(r+11,",").concat(i+6," ")});return fr("g",{},[fr("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:n.x-n.width/2+5,y:n.y-n.height/2+5,onClick:function(){n.foldGroup(!n.properties.isFolded)}}),o])},e.prototype.getResizeShape=function(){return fr("g",{},[this.getAddableShape(),t.prototype.getResizeShape.call(this),this.getFoldIcon()])},e})(RAe);var pI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ay=function(){return Ay=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ay.apply(this,arguments)};function AAe(t){var e=function(r){pI(i,r);function i(o,a){o.id||(o.id="Flow_".concat(xAe()));var s=Ay(Ay(Ay({},{}),o.properties),{isDefaultFlow:!1});return o.properties=s,r.call(this,o,a)||this}return i.extendKey="SequenceFlowModel",i}(Bm),n=function(r){pI(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getStartArrow=function(){var o=this.props.model,a=o.properties.isDefaultFlow;return a?fr("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):fr("path",{d:""})},i.extendKey="SequenceFlowEdge",i}(Hm);return{type:"bpmn:sequenceFlow",view:n,model:e}}AAe();var vI={width:40,height:40},mI={width:40,height:40},gI={width:100,height:80},US={width:100,height:80},yI={width:100,height:80},bI={width:100,height:80},xI={width:100,height:80},_I={width:100,height:80},SI={width:100,height:80},wI={width:100,height:80},ls=function(){};ls.ObjTree=function(){return this};ls.ObjTree.VERSION="0.23";ls.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;ls.ObjTree.prototype.attr_prefix="-";ls.ObjTree.prototype.parseXML=function(t){var e;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(t,"application/xml");if(!r)return;e=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t),e=n.documentElement);if(e){var i=this.parseDOM(e);return i}};ls.ObjTree.prototype.parseHTTP=function(t,e,n){var r={};for(var i in e)r[i]=e[i];if(r.method||(typeof r.postBody>"u"&&typeof r.postbody>"u"&&typeof r.parameters>"u"?r.method="get":r.method="post"),n){r.asynchronous=!0;var o=this,a=n,s=r.onComplete;r.onComplete=function(c){var d;c&&c.responseXML&&c.responseXML.documentElement&&(d=o.parseDOM(c.responseXML.documentElement)),a(d,c),s&&s(c)}}else r.asynchronous=!1;var l;if(typeof HTTP<"u"&&HTTP.Request){r.uri=t;var u=new HTTP.Request(r);u&&(l=u.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var u=new Ajax.Request(t,r);u&&(l=u.transport)}if(n)return l;if(l&&l.responseXML&&l.responseXML.documentElement)return this.parseDOM(l.responseXML.documentElement)};ls.ObjTree.prototype.parseDOM=function(t){if(t){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var n=this.parseElement(t);if(this.__force_array[t.nodeName]&&(n=[n]),t.nodeType!==11){var r={};r[t.nodeName]=n,n=r}return n}};ls.ObjTree.prototype.parseElement=function(t){if(t.nodeType!==7){if(t.nodeType===3||t.nodeType===4||t.nodeType===8){var e=t.nodeValue.match(/[^\x00-\x20]/);return e==null?void 0:t.nodeValue}var n=null,r={};if(t.attributes&&t.attributes.length){n={};for(var i=0;i<t.attributes.length;i++){var o=t.attributes[i].nodeName;if(typeof o=="string"){var a=t.attributes[i].nodeValue;try{a=JSON.parse(t.attributes[i].nodeValue.replace(/'/g,'"'))}catch{a=t.attributes[i].nodeValue}a!=null&&(o=this.attr_prefix+o,typeof r[o]>"u"&&(r[o]=0),r[o]++,this.addNode(n,o,r[o],a))}}}if(t.childNodes&&t.childNodes.length){var s=!0;n&&(s=!1);for(var i=0;i<t.childNodes.length&&s;i++){var l=t.childNodes[i].nodeType;l===3||l===4||l===8||(s=!1)}if(s){n||(n="");for(var i=0;i<t.childNodes.length;i++)n+=t.childNodes[i].nodeValue}else{n||(n={});for(var i=0;i<t.childNodes.length;i++){var o=t.childNodes[i].nodeName;if(typeof o=="string"){var a=this.parseElement(t.childNodes[i]);a&&(typeof r[o]>"u"&&(r[o]=0),r[o]++,this.addNode(n,o,r[o],a))}}}}else n===null&&(n={});return n}};ls.ObjTree.prototype.addNode=function(t,e,n,r){this.__force_array[e]?(n===1&&(t[e]=[]),t[e][t[e].length]=r):n===1?t[e]=r:n===2?t[e]=[t[e],r]:t[e][t[e].length]=r};ls.ObjTree.prototype.writeXML=function(t){var e=this.hash_to_xml(null,t);return this.xmlDecl+e};ls.ObjTree.prototype.hash_to_xml=function(t,e){var n=[],r=[];for(var i in e)if(W_(e,i)){var o=e[i];i.charAt(0)!==this.attr_prefix?typeof o>"u"||o==null?n[n.length]="<".concat(i," />"):typeof o=="object"&&o.constructor===Array?n[n.length]=this.array_to_xml(i,o):typeof o=="object"?n[n.length]=this.hash_to_xml(i,o):n[n.length]=this.scalar_to_xml(i,o):r[r.length]=" ".concat(i.substring(1),'="').concat(this.xml_escape(o),'"')}var a=r.join(""),s=n.join("");return typeof t>"u"||t==null||(n.length>0?s.match(/\n/)?s="<".concat(t).concat(a,`>
`).concat(s,"</").concat(t,`>
`):s="<".concat(t).concat(a,">").concat(s,"</").concat(t,`>
`):s="<".concat(t).concat(a,` />
`)),s};ls.ObjTree.prototype.array_to_xml=function(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r];typeof i>"u"||i==null?n[n.length]="<".concat(t," />"):typeof i=="object"&&i.constructor===Array?n[n.length]=this.array_to_xml(t,i):typeof i=="object"?n[n.length]=this.hash_to_xml(t,i):n[n.length]=this.scalar_to_xml(t,i)}return n.join("")};ls.ObjTree.prototype.scalar_to_xml=function(t,e){return t==="#text"?this.xml_escape(e):"<".concat(t,">").concat(this.xml_escape(e),"</").concat(t,`>
`)};ls.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var OAe=function(t){return new ls.ObjTree().parseXML(t)};function tH(t){return Object.prototype.toString.call(t)}function EI(t){return"  ".repeat(t)}function GS(t){return tH(t)==="[object Object]"?Object.keys(t).reduce(function(e,n){var r=n;return n.charAt(0)==="-"&&(r=n.substring(1)),e[r]=GS(t[n]),e},{}):Array.isArray(t)?t.map(function(e){return GS(e)}):t}function NAe(t){var e=t;try{typeof e!="string"&&(e=JSON.parse(t))}catch{e=JSON.stringify(GS(t)).replace(/"/g,"'")}return e}var CI=`	
`;function T_(t,e,n){var r=EI(n),i="",o=CI+r;if(e==="-json")return"";if(e==="#text")return o+t;if(e==="#cdata-section")return"".concat(o,"<![CDATA[").concat(t,"]]>");if(e==="#comment")return"".concat(o,"<!--").concat(t,"-->");if("".concat(e).charAt(0)==="-")return" ".concat(e.substring(1),'="').concat(NAe(t),'"');if(Array.isArray(t))i+=t.map(function(u){return T_(u,e,n+1)}).join("");else if(tH(t)==="[object Object]"){var a=Object.keys(t),s="",l=t["-json"]?CI+EI(n+1)+t["-json"]:"";i+="".concat(n===0?"":o,"<").concat(e),a.forEach(function(u){u.charAt(0)==="-"?s+=T_(t[u],u,n+1):l+=T_(t[u],u,n+1)}),i+=s+(l!==""?">".concat(l).concat(o,"</").concat(e,">"):" />")}else i+="".concat(o,"<").concat(e,">").concat(t.toString(),"</").concat(e,">");return i}function MAe(t){var e="";for(var n in t)e+=T_(t[n],n,0);return e}var IAe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rP=function(){return rP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rP.apply(this,arguments)},TI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},fO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fa=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},cu=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},ns;(function(t){t.START="bpmn:startEvent",t.END="bpmn:endEvent",t.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",t.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",t.BOUNDARY="bpmn:boundaryEvent",t.PARALLEL_GATEWAY="bpmn:parallelGateway",t.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",t.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",t.USER="bpmn:userTask",t.SYSTEM="bpmn:serviceTask",t.FLOW="bpmn:sequenceFlow",t.SUBPROCESS="bpmn:subProcess"})(ns||(ns={}));var nH=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],DAe=["properties","startPoint","endPoint","pointsList"],WS={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},rH=function(t,e){var n=Object.keys(e||{});return n.forEach(function(r){if(t[r]){var i=e[r],o=i.in,a=i.out;o&&(t[r].in=o),a&&(t[r].out=a)}else t[r]=e[r]}),t},Pl={"bpmn:startEvent":{out:function(t){var e,n,r=t.properties;return((n=(e=Pl[r.definitionType])===null||e===void 0?void 0:e.out)===null||n===void 0?void 0:n.call(e,t))||{}}},"bpmn:intermediateCatchEvent":{out:function(t){var e,n,r=t.properties;return((n=(e=Pl[r.definitionType])===null||e===void 0?void 0:e.out)===null||n===void 0?void 0:n.call(e,t))||{}}},"bpmn:intermediateThrowEvent":{out:function(t){var e,n,r=t.properties;return((n=(e=Pl[r.definitionType])===null||e===void 0?void 0:e.out)===null||n===void 0?void 0:n.call(e,t))||{}}},"bpmn:boundaryEvent":{out:function(t){var e,n,r=t.properties;return((n=(e=Pl[r.definitionType])===null||e===void 0?void 0:e.out)===null||n===void 0?void 0:n.call(e,t))||{}}},"bpmn:sequenceFlow":{out:function(t){var e=t.properties,n=e.expressionType,r=e.condition;return r?n==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'.concat(r,"}]]></bpmn:conditionExpression>")}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'.concat(r,"</bpmn:conditionExpression>")}:{json:""}}},"bpmn:timerEventDefinition":{out:function(t){var e=t.properties,n=e.timerType,r=e.timerValue,i=e.definitionId,o=function(){return"<bpmn:".concat(n,' xsi:type="bpmn:tFormalExpression">').concat(r,"</bpmn:").concat(n,">")};return{json:'<bpmn:timerEventDefinition id="'.concat(i,'"').concat(n&&r?">".concat(o(),"</bpmn:timerEventDefinition>"):"/>")}},in:function(t,e){var n,r,i,o,a=t,s=e["-id"],l="",u="";try{for(var c=fO(Object.keys(e)),d=c.next();!d.done;d=c.next()){var f=d.value;f.includes("bpmn:")&&(i=Fa(f.split(":"),2),l=i[1],u=(o=e[f])===null||o===void 0?void 0:o["#text"])}}catch(h){n={error:h}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{"-definitionId":s,"-definitionType":a,"-timerType":l,"-timerValue":u}}},"bpmn:conditionExpression":{in:function(t,e){var n,r="",i="";return e["#cdata-section"]?(i="cdata",r=((n=/^\$\{(.*)\}$/g.exec(e["#cdata-section"]))===null||n===void 0?void 0:n[1])||""):e["#text"]&&(i="normal",r=e["#text"]),{"-condition":r,"-expressionType":i}}}};function LAe(t){var e=t??{},n=e.retainedAttrsFields,r=e.excludeFields,i=e.transformer,o=new Set(cu(cu([],Fa(DAe),!1),Fa(n||[]),!1)),a={in:new Set(cu(cu([],Fa(WS.in),!1),Fa((r==null?void 0:r.in)||[]),!1)),out:new Set(cu(cu([],Fa(WS.out),!1),Fa((r==null?void 0:r.out)||[]),!1))};return Pl=rH(Pl,i),function(s){var l=s.nodes,u=s.edges;function c(d,f){var h,v;if((d==null?void 0:d.flag)!==1){var m;if((m=Pl[d.type])&&m.out){var g=m.out(d),x=Object.keys(g);x.length>0&&x.forEach(function(M){d[M]=g[M]})}d!=null&&d.children&&(d.children=d.children.map(function(M){var D=l.find(function(F){return F.id===M})||u.find(function(F){return F.id===M});return D||{}}));var _={};if(typeof d=="string")return d;if(Array.isArray(d))return d.map(function(M){return c(M,"")}).filter(function(M){return M!=null});try{for(var w=fO(Object.entries(d)),S=w.next();!S.done;S=w.next()){var C=Fa(S.value,2),O=C[0],T=C[1];if((T==null?void 0:T.flag)===1)return;var N=[f,O].filter(function(M){return M}).join(".");a.out.has(N)||(typeof T!="object"?O.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(O)?_[O]=T:_["-".concat(O)]=T:o.has(N)?_["-".concat(O)]=c(T,N):_[O]=c(T,N))}}catch(M){h={error:M}}finally{try{S&&!S.done&&(v=w.return)&&v.call(w)}finally{if(h)throw h.error}}return _}}return c(s,"")}}function VS(t){var e,n,r={};try{for(var i=fO(Object.entries(t)),o=i.next();!o.done;o=i.next()){var a=Fa(o.value,2),s=a[0],l=a[1];s.indexOf("-")===0?r[s.substring(1)]=GS(l):typeof l=="string"?r[s]=l:Object.prototype.toString.call(l)==="[object Object]"?r[s]=VS(l):Array.isArray(l)?r[s]=l.map(function(u){return VS(u)}):r[s]=l}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function kAe(t,e,n){var r,i=new Map,o=LAe(n)(e);o.nodes.forEach(function(s){var l=s["-id"],u=s["-type"],c=s.text,d=s.children,f=TI(s,["-id","-type","text","children"]),h={"-id":l};c!=null&&c["-value"]&&(h["-name"]=c["-value"]),f["-json"]&&(h["-json"]=f["-json"]),f["-properties"]&&Object.assign(h,f["-properties"]),d&&(h.children=d),t[u]||(t[u]=[]),t[u].push(h),i.set(l,h)});var a=o.edges.map(function(s){var l=s["-id"],u=s["-sourceNodeId"],c=s["-targetNodeId"],d=s.text,f=TI(s,["-id","-sourceNodeId","-targetNodeId","text"]),h=i.get(c);h["bpmn:incoming"]||(h["bpmn:incoming"]=[]),h["bpmn:incoming"].push(l);var v={"-id":l,"-sourceRef":u,"-targetRef":c};return d!=null&&d["-value"]&&(v["-name"]=d["-value"]),f["-json"]&&(v["-json"]=f["-json"]),f["-properties"]&&Object.assign(v,f["-properties"]),v});return e.edges.forEach(function(s){var l=s.sourceNodeId,u=s.id,c=i.get(l);c["bpmn:outgoing"]||(c["bpmn:outgoing"]=[]),c["bpmn:outgoing"].push(u)}),(r=t["bpmn:subProcess"])===null||r===void 0||r.forEach(function(s){var l={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},u=[];s.children.forEach(function(m){var g,x=i.get(m["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(w){x[w]&&x[w].forEach(function(S){l[w].add(S)})});var _=(g=t[m["-type"]])===null||g===void 0?void 0:g.findIndex(function(w){return w["-id"]===m["-id"]});_>=0&&t[m["-type"]].splice(_,1),i.delete(m["-id"]),s[m["-type"]]||(s[m["-type"]]=[]),s[m["-type"]].push(x)});var c=l["bpmn:incoming"],d=l["bpmn:outgoing"];d.forEach(function(m){c.has(m)&&u.push(m)});for(var f=function(m){var g=a.findIndex(function(x){return x["-id"]===u[m]});g>=0?(s["bpmn:sequenceFlow"]||(s["bpmn:sequenceFlow"]=[]),s["bpmn:sequenceFlow"].push(a[g]),a.splice(g,1)):m++,h=m},h,v=0;v<u.length;)f(v),v=h;delete s.children}),t[ns.FLOW]=a,t}function $Ae(t,e){t["bpmndi:BPMNEdge"]=e.edges.map(function(n){var r,i=n.id,o=n.pointsList.map(function(s){var l=s.x,u=s.y;return{"-x":l,"-y":u}}),a={"-id":"".concat(i,"_di"),"-bpmnElement":i,"di:waypoint":o};return!((r=n.text)===null||r===void 0)&&r.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),a}),t["bpmndi:BPMNShape"]=e.nodes.map(function(n){var r,i=n.id,o=100,a=80,s=n.x,l=n.y,u=Ds.shapeConfigMap.get(n.type);u&&(o=u.width,a=u.height),s-=o/2,l-=a/2;var c={"-id":"".concat(i,"_di"),"-bpmnElement":i,"dc:Bounds":{"-x":s,"-y":l,"-width":o,"-height":a}};return!((r=n.text)===null||r===void 0)&&r.value&&(c["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),c})}var FAe=["bpmn:incoming","bpmn:outgoing"];function jAe(t,e){var n=[],r=[],i=new Map,o=e??{},a=o.transformer,s=o.excludeFields,l={in:new Set(cu(cu([],Fa(WS.in),!1),Fa((s==null?void 0:s.in)||[]),!1)),out:new Set(cu(cu([],Fa(WS.out),!1),Fa((s==null?void 0:s.out)||[]),!1))};Pl=rH(Pl,a);var u=t["bpmn:definitions"];if(u){var c=u["bpmn:process"];(function(f,h){h.forEach(function(v){try{Object.keys(f).forEach(function(m){try{v(m)}catch(g){console.error(g)}})}catch(m){console.error(m)}})})(c,[function(f){function h(m){m["-children"]||(m["-children"]=[]),Object.keys(m).forEach(function(g){var x;g.indexOf("bpmn:")===0&&!FAe.includes(g)&&(c[g]||(c[g]=[]),!Array.isArray(c[g])&&(c[g]=[c[g]]),Array.isArray(m[g])?(x=c[g]).push.apply(x,cu([],Fa(m[g]),!1)):c[g].push(m[g]),Array.isArray(m[g])?m[g].forEach(function(_){!g.includes("Flow")&&m["-children"].push(_["-id"])}):!g.includes("Flow")&&m["-children"].push(m[g]["-id"]),delete m[g])})}if(f==="bpmn:subProcess"){var v=c[f];Array.isArray(v)?v.forEach(function(m){f==="bpmn:subProcess"&&h(m)}):h(v)}},function(f){var h=function(m){Object.keys(m).forEach(function(g){var x,_;if(g.includes("bpmn:")){var w={};Pl[g]&&Pl[g].in?(w=(_=(x=Pl[g]).in)===null||_===void 0?void 0:_.call(x,g,Se.cloneDeep(m[g])),delete m[g]):v(m[g]);var S=void 0;(S=Reflect.ownKeys(w)).length>0&&S.forEach(function(C){Reflect.set(m,C,w[C])})}})};function v(m){i.set(m["-id"],m),Array.isArray(m)?m.forEach(function(g){v(g)}):typeof m=="object"&&h(m)}v(c[f])},function(f){if(f.indexOf("bpmn:")===0){var h=c[f];if(f==="bpmn:sequenceFlow"){var v=u["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];r=zAe(h,v)}else{var m=u["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(f==="bpmn:boundaryEvent"){var g=c[f],x=function(_){var w=_["-attachedToRef"],S=i.get(w);S["-boundaryEvents"]||(S["-boundaryEvents"]=[]),S["-boundaryEvents"].push(_["-id"])};Array.isArray(g)?g.forEach(function(_){x(_)}):x(g)}n=n.concat(BAe(h,m,f))}}}])}var d=function(f,h,v){Object.keys(f).forEach(function(m){var g=v?"".concat(v,".").concat(m):m;h.has(g)?delete f[m]:typeof f[m]=="object"&&d(f[m],h,g)})};return n.forEach(function(f){var h,v;if(!((h=e==null?void 0:e.mapping)===null||h===void 0)&&h.in){var m=(v=e==null?void 0:e.mapping)===null||v===void 0?void 0:v.in,g=f.type;m[g]&&(f.type=m[g])}d(f,l.in,"")}),r.forEach(function(f){var h,v;if(!((h=e==null?void 0:e.mapping)===null||h===void 0)&&h.in){var m=(v=e==null?void 0:e.mapping)===null||v===void 0?void 0:v.in,g=f.type;m[g]&&(f.type=m[g])}d(f,l.in,"")}),{nodes:n,edges:r}}function BAe(t,e,n){var r=[];if(Array.isArray(t))t.forEach(function(a){var s;Array.isArray(e)?s=e.find(function(u){return u["-bpmnElement"]===a["-id"]}):s=e;var l=RI(s,n,a);r.push(l)});else{var i=void 0;Array.isArray(e)?i=e.find(function(a){return a["-bpmnElement"]===t["-id"]}):i=e;var o=RI(i,n,t);r.push(o)}return r}function RI(t,e,n){var r=Number(t["dc:Bounds"]["-x"]),i=Number(t["dc:Bounds"]["-y"]),o=n["-children"],a=n["-name"],s=Ds.shapeConfigMap.get(e);s&&(r+=s.width/2,i+=s.height/2);var l={};Object.entries(n).forEach(function(f){var h=Fa(f,2),v=h[0],m=h[1];nH.includes(v)||(l[v]=m)}),l=VS(l);var u;if(a&&(u={x:r,y:i,value:a},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"])){var c=t["bpmndi:BPMNLabel"]["dc:Bounds"];u.x=Number(c["-x"])+Number(c["-width"])/2,u.y=Number(c["-y"])+Number(c["-height"])/2}var d={id:t["-bpmnElement"],type:e,x:r,y:i,properties:l};return o&&(d.children=o),u&&(d.text=u),d}function zAe(t,e){var n=[];if(Array.isArray(t))t.forEach(function(i){var o;Array.isArray(e)?o=e.find(function(a){return a["-bpmnElement"]===i["-id"]}):o=e,n.push(PI(o,i))});else{var r=void 0;Array.isArray(e)?r=e.find(function(i){return i["-bpmnElement"]===t["-id"]}):r=e,n.push(PI(r,t))}return n}function PI(t,e){var n,r=e["-name"]?"".concat(e["-name"]):"";if(r){var i=t["bpmndi:BPMNLabel"]["dc:Bounds"],o=0;r.split(`
`).forEach(function(u){o<u.length&&(o=u.length)}),n={value:r,x:Number(i["-x"])+o*10/2,y:Number(i["-y"])+7}}var a={};Object.entries(e).forEach(function(u){var c=Fa(u,2),d=c[0],f=c[1];nH.includes(d)||(a[d]=f)}),a=VS(a);var s=t["di:waypoint"].map(function(u){return{x:Number(u["-x"]),y:Number(u["-y"])}}),l={id:e["-id"],type:ns.FLOW,pointsList:s,sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:a};return n&&(l.text=n),l}var Ds=function(){function t(e){var n=e.lf,r=this;this.adapterOut=function(i,o){var a,s,l=rP({},r.processAttributes);kAe(l,i,o);var u={"-id":"BPMNPlane_1","-bpmnElement":l["-id"]};$Ae(u,i);var c=r.definitionAttributes;c["bpmn:process"]=l,c["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u};var d={"bpmn:definitions":c};if(!((a=o==null?void 0:o.mapping)===null||a===void 0)&&a.out){var f=(s=o==null?void 0:o.mapping)===null||s===void 0?void 0:s.out,h=function(v){Array.isArray(v)&&v.forEach(function(m){return h(m)}),typeof v=="object"&&Object.keys(v).forEach(function(m){var g;(g=f[m])?(v[g]=Se.cloneDeep(v[m]),delete v[m],h(v[g])):h(v[m])})};h(d)}return d},this.adapterIn=function(i,o){if(i)return jAe(i,o)},n.adapterIn=this.adapterIn,n.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return t.prototype.setCustomShape=function(e,n){t.shapeConfigMap.set(e,n)},t.pluginName="bpmn-adapter",t.shapeConfigMap=new Map,t}();Ds.shapeConfigMap.set(ns.START,{width:vI.width,height:vI.height});Ds.shapeConfigMap.set(ns.END,{width:mI.width,height:mI.height});Ds.shapeConfigMap.set(ns.INTERMEDIATE_CATCH,{width:US.width,height:US.height});Ds.shapeConfigMap.set(ns.INTERMEDIATE_THROW,{width:US.width,height:US.height});Ds.shapeConfigMap.set(ns.BOUNDARY,{width:gI.width,height:gI.height});Ds.shapeConfigMap.set(ns.PARALLEL_GATEWAY,{width:yI.width,height:yI.height});Ds.shapeConfigMap.set(ns.INCLUSIVE_GATEWAY,{width:bI.width,height:bI.height});Ds.shapeConfigMap.set(ns.EXCLUSIVE_GATEWAY,{width:xI.width,height:xI.height});Ds.shapeConfigMap.set(ns.SYSTEM,{width:_I.width,height:_I.height});Ds.shapeConfigMap.set(ns.USER,{width:SI.width,height:SI.height});Ds.shapeConfigMap.set(ns.SUBPROCESS,{width:wI.width,height:wI.height});(function(t){IAe(e,t);function e(n){var r=t.call(this,n)||this;r.adapterXmlIn=function(a){var s=OAe(a);return r.adapterIn(s,r.props)},r.adapterXmlOut=function(a){var s=r.adapterOut(a,r.props);return MAe(s)};var i=n.lf,o=n.props;return i.adapterIn=r.adapterXmlIn,i.adapterOut=r.adapterXmlOut,r.props=o,r}return e.pluginName="BPMNAdapter",e})(Ds);function HAe(t,e,n){var r=e.x,i=e.y,o=t.x,a=t.y,s=o-r,l=a-i,u=s*Math.cos(n)-l*Math.sin(n),c=s*Math.sin(n)+l*Math.cos(n),d=u+r,f=c+i;return{x:d,y:f}}var UAe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),XS=function(){return XS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},XS.apply(this,arguments)},GAe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},WAe=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};(function(t){UAe(e,t);function e(){var n=t.apply(this,WAe([],GAe(arguments),!1))||this;return n.childrenPositionMap=new Map,n.onNodeRotate=function(r){var i=r.model,o=n.props,a=o.model,s=o.graphModel,l=a.transformWithContainer,u=a.isRestrict,c=n.childrenPositionMap;if(!(!l||u)&&i.id===a.id){var d={x:a.x,y:a.y};Ai(Array.from(a.children),function(f){var h=s.getNodeModelById(f);if(h){var v={x:h.x,y:h.y};c.has(h.id)?v=c.get(h.id):c.set(h.id,v);var m=i.rotate*(180/Math.PI);m<0&&(m+=360);var g=m*(Math.PI/180),x=HAe(v,d,g);h.moveTo(x.x,x.y),h.rotate=i.rotate}})}},n.onNodeResize=function(r){var i=r.deltaX,o=r.deltaY,a=r.index,s=r.model,l=r.preData,u=n.props,c=u.model,d=u.graphModel,f=c.transformWithContainer,h=c.isRestrict;if(!(!f||h)&&s.id===c.id){var v=l.properties,m=v||{},g=m.width,x=m.height;Ai(Array.from(c.children),function(_){var w=d.getNodeModelById(_);if(w){var S=w.width/g*i,C=w.height/x*o;KB({deltaX:S,deltaY:C,index:a,nodeModel:w,graphModel:d,cancelCallback:function(){}})}})}},n.onNodeMouseMove=function(r){var i=r.deltaX,o=r.deltaY,a=r.data,s=n.props,l=s.model,u=s.graphModel,c=u.transformModel,d=c.SCALE_X,f=c.SCALE_Y;if(a.id===l.id){var h=n.getNodesInGroup(l,u);u.moveNodes(h,i/d,o/f,!0)}},n.graphRendered=function(){var r=n.props.model;r.isCollapsed&&r.toggleCollapse(!0)},n}return e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this);var n=this.props.graphModel.eventCenter;n.on("node:rotate",this.onNodeRotate),n.on("node:resize",this.onNodeResize),n.on("node:mousemove",this.onNodeMouseMove),n.on("graph:rendered",this.graphRendered)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this);var n=this.props.graphModel.eventCenter;n.off("node:rotate",this.onNodeRotate),n.off("node:resize",this.onNodeResize),n.off("node:mousemove",this.onNodeMouseMove),n.off("graph:rendered",this.graphRendered)},e.prototype.getNodesInGroup=function(n,r){var i=this,o=[];return n.isGroup&&Ai(Array.from(n.children),function(a){o.push(a);var s=r.getNodeModelById(a);s!=null&&s.isGroup&&(o=o.concat(i.getNodesInGroup(s,r)))}),o},e.prototype.getResizeControl=function(){var n=this.props.model,r=n.resizable,i=n.isCollapsed,o=r&&!i;return o?t.prototype.getResizeControl.call(this):null},e.prototype.getAppendAreaShape=function(){var n=this.props.model,r=n.width,i=n.height,o=n.x,a=n.y,s=n.radius,l=n.groupAddable;if(!l)return null;var u=n.getNodeStyle().strokeWidth,c=u===void 0?0:u,d=n.getAddableOutlineStyle(),f=r+c+8,h=i+c+8;return fr("rect",XS(XS({},d),{width:f,height:h,x:o-f/2,y:a-h/2,rx:s,ry:s}))},e.prototype.getCollapseIcon=function(n,r){return"M ".concat(n+3,",").concat(r+6," ").concat(n+11,",").concat(r+6," M").concat(n+7,",").concat(r+2," ").concat(n+7,",").concat(r+10)},e.prototype.getExpandIcon=function(n,r){return"M ".concat(n+3,",").concat(r+6," ").concat(n+11,",").concat(r+6," ")},e.prototype.getOperateIcon=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=r-o/2+10,l=i-a/2+10;if(!n.collapsible)return null;var u=n!=null&&n.isCollapsed?this.getCollapseIcon(s,l):this.getExpandIcon(s,l),c=fr("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u});return fr("g",{},[fr("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#f4f5f6",stroke:"#cecece",cursor:"pointer",x:s,y:l,onClick:function(){n.toggleCollapse(!n.isCollapsed)}}),c])},e.prototype.getShape=function(){return fr("g",{},[this.getAppendAreaShape(),t.prototype.getShape.call(this),this.getOperateIcon()])},e})(wp);var VAe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),KS=function(){return KS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},KS.apply(this,arguments)},M2=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},O0=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},N0=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},XAe=400,KAe=230,YAe=80,qAe=60,ZAe=-1e4;(function(t){VAe(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.isGroup=!0,i.isRestrict=!1,i.autoResize=!1,i.collapsible=!0,i.isCollapsed=!1,i.groupAddable=!1,i.transformWithContainer=!1,i.childrenLastCollapseStateDict=new Map,i.childrenLastCollapseStateDict=new Map,i.initNodeData(n),i.setAttributes(),i}return e.prototype.initNodeData=function(n){var r;t.prototype.initNodeData.call(this,n);var i=(r=n.properties)!==null&&r!==void 0?r:{},o=i.children,a=i.width,s=i.height,l=i.collapsedWidth,u=i.collapsedHeight,c=i.collapsible,d=i.isCollapsed,f=i.zIndex,h=i.isRestrict,v=i.autoResize,m=i.autoToFront,g=i.transformWithContainer;this.children=o?new Set(o):new Set,this.zIndex=f??ZAe,this.isCollapsed=d??!1;var x=a??XAe,_=s??KAe;this.width=x,this.height=_,this.expandWidth=x,this.expandHeight=_,this.collapsedWidth=l??YAe,this.collapsedHeight=u??qAe,this.isRestrict=h??!1,this.transformWithContainer=g??!1,this.autoResize=v??!1,this.collapsible=c??!0,this.autoToFront=m??!1,this.text.editable=!1,this.text.draggable=!1},e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this)},e.prototype.getData=function(){var n=this,r=t.prototype.getData.call(this),i=[];return Ai(Array.from(this.children),function(o){var a=n.graphModel.getNodeModelById(o);a&&!a.virtual&&i.push(o)}),r.children=i,r.properties&&(r.properties.children=i,r.properties.isCollapsed=this.isCollapsed),r},e.prototype.getHistoryData=function(){var n=t.prototype.getHistoryData.call(this);n.children=Array.from(this.children),n.isGroup=!0;var r=this,i=r.x,o=r.y,a=r.collapsedWidth,s=r.collapsedHeight,l=r.expandWidth,u=r.expandHeight,c=r.isCollapsed;return c&&(n.x=i+l/2-a/2,n.y=o+u/2-s/2,n.text&&(n.text.x=n.text.x+l/2-a/2,n.text.y=n.text.y+u/2-s/2)),n},e.prototype.toggleCollapse=function(n){var r=this,i=!!n;this.isCollapsed=i,i?this.collapse():this.expand();var o=N0(N0([],O0(this.incoming.edges),!1),O0(this.outgoing.edges),!1),a=Array.from(this.children);Ai(a,function(s){var l,u,c=r.graphModel.elementsModelMap.get(s);if(c){var d=c.isCollapsed;if(c.isGroup){var f=c;if(f.isCollapsed||f.toggleCollapse(n),!n){var h=(l=r.childrenLastCollapseStateDict)===null||l===void 0?void 0:l.get(s);h!==void 0&&h!==c.isCollapsed&&f.toggleCollapse(h)}}if((u=r.childrenLastCollapseStateDict)===null||u===void 0||u.set(s,!!d),c.visible=!n,c.BaseType===bo.NODE){var v=c.incoming.edges,m=c.outgoing.edges;o=N0(N0(N0([],O0(o),!1),O0(v),!1),O0(m),!1)}}}),this.collapseEdge(i,o)},e.prototype.collapse=function(){var n=this,r=n.x,i=n.y,o=n.text,a=n.width,s=n.height,l=n.collapsedWidth,u=n.collapsedHeight;this.x=r-a/2+l/2,this.y=i-s/2+u/2,this.text.x=o.x-a/2+l/2,this.text.y=o.y-s/2+u/2,this.expandWidth=a,this.expandHeight=s,this.width=l,this.height=u},e.prototype.expand=function(){var n=this,r=n.x,i=n.y,o=n.text,a=n.expandWidth,s=n.expandHeight,l=n.collapsedWidth,u=n.collapsedHeight;this.width=a,this.height=s,this.x=r+this.width/2-l/2,this.y=i+this.height/2-u/2,this.text.x=o.x+this.width/2-l/2,this.text.y=o.y+this.height/2-u/2},e.prototype.createVirtualEdge=function(n){n.pointsList=void 0;var r=this.graphModel.addEdge(n);r.virtual=!0,r.text.editable=!1,r.isCollapsedEdge=!0},e.prototype.collapseEdge=function(n,r){var i=this,o=this.graphModel;Ai(r,function(a,s){var l,u=a.getData(),c=u.targetNodeId,d=u.sourceNodeId,f=KS(KS({},u),{id:"".concat(u.id,"__").concat(s),text:(l=u.text)===null||l===void 0?void 0:l.value});a.virtual&&o.deleteEdgeById(a.id);var h=o.dynamicGroup.getGroupByNodeId(c);h||(h=o.getNodeModelById(c));var v=o.dynamicGroup.getGroupByNodeId(d);v||(v=o.getNodeModelById(d)),n&&a.visible&&(i.children.has(d)||i.id===d?(f.startPoint=void 0,f.sourceNodeId=i.id):(f.endPoint=void 0,f.targetNodeId=i.id),(h.id!==i.id||v.id!==i.id)&&i.createVirtualEdge(f),a.visible=!1),!n&&!a.visible&&(h&&h.isGroup&&h.isCollapsed?(f.targetNodeId=h.id,f.endPoint=void 0,i.createVirtualEdge(f)):v&&v.isGroup&&v.isCollapsed?(f.sourceNodeId=v.id,f.startPoint=void 0,i.createVirtualEdge(f)):a.visible=!0)})},e.prototype.isAllowAppendIn=function(n){return!0},e.prototype.setAllowAppendChild=function(n){this.groupAddable=n},e.prototype.addChild=function(n){this.children.add(n);var r=this.getData();this.graphModel.eventCenter.emit("group:add-node",{data:r})},e.prototype.removeChild=function(n){this.children.delete(n);var r=this.getData();this.graphModel.eventCenter.emit("group:remove-node",{data:r})},e.prototype.toBack=function(){this.zIndex--},e.prototype.getResizeOutlineStyle=function(){var n=t.prototype.getResizeOutlineStyle.call(this);return n.stroke="none",n},e.prototype.getAnchorStyle=function(){var n=t.prototype.getAnchorStyle.call(this);return n.stroke="transparent",n.fill="transparent",n.hover&&(n.hover.fill="transparent",n.hover.stroke="transparent"),n},e.prototype.getAddableOutlineStyle=function(){return{stroke:"#feb663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},M2([Mt],e.prototype,"isCollapsed",void 0),M2([Mt],e.prototype,"groupAddable",void 0),M2([Mt],e.prototype,"transformWithContainer",void 0),e})(zm);var AI;(function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"})(AI||(AI={}));var JAe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oy=function(){return Oy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Oy.apply(this,arguments)},QAe=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},eOe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},tOe=function(t){JAe(e,t);function e(n){var r=t.call(this,n)||this;r.textRef=Xw(),r.setHoverOn=function(){var l=r.props.element;l.isDragging||r.state.isHovered||(r.setState({isHovered:!0}),l.setHovered(!0))},r.setHoverOff=function(){var l=r.props.element;r.state.isHovered&&(r.setState({isHovered:!1}),l.setHovered(!1))},r.handleMouseDown=function(l){var u,c=r.props,d=c.label,f=c.graphModel,h=f.editConfigModel.nodeTextDraggable;((u=d.draggable)!==null&&u!==void 0?u:h)&&!r.state.isDragging&&!r.state.isEditing&&r.stepDrag.handleMouseDown(l)},r.handleMouseUp=function(l){r.state.isDragging&&r.stepDrag.handleMouseUp(l)},r.handleDragging=function(l){var u=l.deltaX,c=l.deltaY;r.state.isDragging||r.setState({isDragging:!0});var d=r.props,f=d.label,h=d.graphModel,v=h.transformModel,m=eOe(v.fixDeltaXY(u,c),2),g=m[0],x=m[1];r.setElementModelLabelInfo({x:f.x+g,y:f.y+x}),h.eventCenter.emit("label:drag",{data:f.getData(),model:f})},r.handleDragEnd=function(){r.setState({isDragging:!1})},r.handleClick=function(l){var u=r.props,c=u.label,d=u.element,f=u.graphModel;d.setSelected(!r.state.isSelected),r.setState({isSelected:!r.state.isSelected}),r.setElementModelLabelInfo({isSelected:!0}),f.eventCenter.emit("label:click",{data:c.getData(),e:l,model:d})},r.handleDbClick=function(l){var u=r.props,c=u.label,d=u.element,f=u.graphModel;if(f.eventCenter.emit("label:dblclick",{data:c.getData(),e:l,model:d}),!c.editable){d.setSelected(!0);return}if(d.setSelected(),d.setElementState(yi.TEXT_EDIT),r.setState({isEditing:!0}),r.textRef.current){r.textRef.current.contentEditable="true",r.textRef.current.focus();var h=document.createRange(),v=window.getSelection();h.selectNodeContents(r.textRef.current),h.collapse(!1),v==null||v.removeAllRanges(),v==null||v.addRange(h)}},r.handleBlur=function(l){var u=r.props,c=u.label,d=u.element,f=u.graphModel.eventCenter;f.emit("label:blur",{e:l,model:d,data:c.getData(),element:r.textRef.current}),r.setState({isDragging:!1,isHovered:!1,isSelected:!1})},r.reCalcLabelSize=function(){};var i=n.label,o=n.graphModel,a=o.gridSize,s=o.eventCenter;return r.stepDrag=new Bl({onDragging:r.handleDragging,onDragEnd:r.handleDragEnd,step:a,eventType:"LABEL",model:i,eventCenter:s}),r.state={isEditing:!1,isHovered:!1,isDragging:!1,isSelected:!1},r}return e.prototype.setElementModelLabelInfo=function(n){var r=this.props,i=r.label,o=r.element,a=r.graphModel,s=o.properties._label,l=s,u=uA(l,function(f){return f.id===i.id}),c=l[u];l[u]=Oy(Oy({},c),n);var d=a.getElement(o.id);d==null||d.setProperty("_label",l)},e.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.label,o=r.element,a=r.graphModel;a.eventCenter.on("blank:click,node:click,edge:click,label:click",function(s){var l,u,c,d,f=s.data;if(((f==null?void 0:f.type)!=="label"||f.type==="label"&&f.id!==i.id||n.state.isSelected)&&n.setState({isSelected:!1}),((f==null?void 0:f.type)!=="label"||f.type=="label"&&f.id!==i.id)&&n.state.isEditing){n.setState({isEditing:!1});var h=(u=(l=n.textRef.current)===null||l===void 0?void 0:l.innerText)!==null&&u!==void 0?u:"",v=(d=(c=n.textRef.current)===null||c===void 0?void 0:c.innerHTML)!==null&&d!==void 0?d:"";n.setElementModelLabelInfo({value:h,content:v,isSelected:!1}),o.setElementState(yi.DEFAULT)}((f==null?void 0:f.type)!=="label"||f.type=="label"&&f.id!==i.id)&&n.textRef.current&&(n.textRef.current.contentEditable="false")})},e.prototype.componentDidUpdate=function(){},e.prototype.componentWillUnmount=function(){var n=this.props.graphModel;n.eventCenter.off("blank:click,node:click,edge:click")},e.prototype.render=function(){var n,r=this.props,i=r.label,o=r.element,a=r.graphModel,s=this.state,l=s.isDragging,u=s.isHovered,c=s.isSelected,d=s.isEditing,f=a.transformModel,h=f.getTransformStyle().transform,v=i.id,m=i.x,g=i.y,x=i.zIndex,_=i.vertical,w=i.style,S=i.rotate,C=i.content,O=i.labelWidth,T=i.textOverflowMode,N=O??(o.BaseType==="node"?o.width-20:80),M={left:"".concat(m-N/2,"px"),top:"".concat(g-10,"px"),width:"".concat(N,"px"),height:"20px",zIndex:x??1,transform:S?"".concat(h," rotate(").concat(S,"deg)"):"".concat(h," rotate(").concat(_?-.25:0,"turn)")};return Ct("div",{id:"element-container-".concat(v),className:rt("lf-label-editor-container"),style:M,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onDblClick:this.handleDbClick,onBlur:this.handleBlur,onMouseEnter:this.setHoverOn,onMouseOver:this.setHoverOn,onMouseLeave:this.setHoverOff,children:Ct("div",{ref:this.textRef,id:"editor-container-".concat(v),className:rt("lf-label-editor",(n={"lf-label-editor-dragging":l,"lf-label-editor-editing":d,"lf-label-editor-hover":!d&&(u||c)},n["lf-label-editor-".concat(T)]=!d,n)),style:Oy({maxWidth:"".concat(N,"px"),boxSizing:"border-box",display:"inline-block",background:d||o.BaseType==="edge"?"#fff":"transparent"},w),dangerouslySetInnerHTML:{__html:C}})})},e=QAe([ts],e),e}(ii),bl=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},nOe=Bf,rOe=function(){function t(e,n,r){var i;this.type="label",this.content="",this.value="",this.style={},this.vertical=!1,this.editable=!0,this.draggable=!0,this.textOverflowMode="default",this.element=n,this.graphModel=r,this.id=(i=e.id)!==null&&i!==void 0?i:nOe(),this.initLabelData(e)}return t.prototype.initLabelData=function(e){$i(this,e)},t.prototype.getData=function(){return{id:this.id,x:this.x,y:this.y,type:"label",content:this.content,value:this.value,rotate:this.rotate,style:uu(this.style),draggable:this.draggable,editable:this.editable,labelWidth:this.labelWidth,textOverflowMode:this.textOverflowMode,vertical:this.vertical}},bl([Mt],t.prototype,"x",void 0),bl([Mt],t.prototype,"y",void 0),bl([Mt],t.prototype,"content",void 0),bl([Mt],t.prototype,"value",void 0),bl([Mt],t.prototype,"rotate",void 0),bl([Mt],t.prototype,"style",void 0),bl([Mt],t.prototype,"zIndex",void 0),bl([Mt],t.prototype,"vertical",void 0),bl([Mt],t.prototype,"editable",void 0),bl([Mt],t.prototype,"draggable",void 0),bl([Mt],t.prototype,"labelWidth",void 0),bl([Mt],t.prototype,"textOverflowMode",void 0),t}(),iH={exports:{}};(function(t){/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */"classList"in document.createElement("_")||function(e){if("Element"in e){var n="classList",r="prototype",i=e.Element[r],o=Object,a=String[r].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[r].indexOf||function(v){for(var m=0,g=this.length;m<g;m++)if(m in this&&this[m]===v)return m;return-1},l=function(v,m){this.name=v,this.code=DOMException[v],this.message=m},u=function(v,m){if(m==="")throw new l("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(m))throw new l("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(v,m)},c=function(v){for(var m=a.call(v.getAttribute("class")||""),g=m?m.split(/\s+/):[],x=0,_=g.length;x<_;x++)this.push(g[x]);this._updateClassName=function(){v.setAttribute("class",this.toString())}},d=c[r]=[],f=function(){return new c(this)};if(l[r]=Error[r],d.item=function(v){return this[v]||null},d.contains=function(v){return v+="",u(this,v)!==-1},d.add=function(){var v=arguments,m=0,g=v.length,x,_=!1;do x=v[m]+"",u(this,x)===-1&&(this.push(x),_=!0);while(++m<g);_&&this._updateClassName()},d.remove=function(){var v=arguments,m=0,g=v.length,x,_=!1,w;do for(x=v[m]+"",w=u(this,x);w!==-1;)this.splice(w,1),_=!0,w=u(this,x);while(++m<g);_&&this._updateClassName()},d.toggle=function(v,m){v+="";var g=this.contains(v),x=g?m!==!0&&"remove":m!==!1&&"add";return x&&this[x](v),m===!0||m===!1?m:!g},d.toString=function(){return this.join(" ")},o.defineProperty){var h={get:f,enumerable:!0,configurable:!0};try{o.defineProperty(i,n,h)}catch(v){v.number===-2146823252&&(h.enumerable=!1,o.defineProperty(i,n,h))}}else o[r].__defineGetter__&&i.__defineGetter__(n,f)}}(self);/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */(function(e){if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{new Blob;return}catch{}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(i){var o=function(T){return Object.prototype.toString.call(T).match(/^\[object\s(.*)\]$/)[1]},a=function(){this.data=[]},s=function(N,M,D){this.data=N,this.size=N.length,this.type=M,this.encoding=D},l=a.prototype,u=s.prototype,c=i.FileReaderSync,d=function(T){this.code=this[this.name=T]},f="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),h=f.length,v=i.URL||i.webkitURL||i,m=v.createObjectURL,g=v.revokeObjectURL,x=v,_=i.btoa,w=i.atob,S=i.ArrayBuffer,C=i.Uint8Array,O=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(s.fake=u.fake=!0;h--;)d.prototype[f[h]]=h+1;return v.createObjectURL||(x=i.URL=function(T){var N=document.createElementNS("http://www.w3.org/1999/xhtml","a"),M;return N.href=T,"origin"in N||(N.protocol.toLowerCase()==="data:"?N.origin=null:(M=T.match(O),N.origin=M&&M[1])),N}),x.createObjectURL=function(T){var N=T.type,M;if(N===null&&(N="application/octet-stream"),T instanceof s)return M="data:"+N,T.encoding==="base64"?M+";base64,"+T.data:T.encoding==="URI"?M+","+decodeURIComponent(T.data):_?M+";base64,"+_(T.data):M+","+encodeURIComponent(T.data);if(m)return m.call(v,T)},x.revokeObjectURL=function(T){T.substring(0,5)!=="data:"&&g&&g.call(v,T)},l.append=function(T){var N=this.data;if(C&&(T instanceof S||T instanceof C)){for(var M="",D=new C(T),F=0,j=D.length;F<j;F++)M+=String.fromCharCode(D[F]);N.push(M)}else if(o(T)==="Blob"||o(T)==="File")if(c){var R=new c;N.push(R.readAsBinaryString(T))}else throw new d("NOT_READABLE_ERR");else T instanceof s?T.encoding==="base64"&&w?N.push(w(T.data)):T.encoding==="URI"?N.push(decodeURIComponent(T.data)):T.encoding==="raw"&&N.push(T.data):(typeof T!="string"&&(T+=""),N.push(unescape(encodeURIComponent(T))))},l.getBlob=function(T){return arguments.length||(T=null),new s(this.data.join(""),T,"raw")},l.toString=function(){return"[object BlobBuilder]"},u.slice=function(T,N,M){var D=arguments.length;return D<3&&(M=null),new s(this.data.slice(T,D>1?N:this.data.length),M,this.encoding)},u.toString=function(){return"[object Blob]"},u.close=function(){this.size=0,delete this.data},a}(e);e.Blob=function(i,o){var a=o&&o.type||"",s=new n;if(i)for(var l=0,u=i.length;l<u;l++)Uint8Array&&i[l]instanceof Uint8Array?s.append(i[l].buffer):s.append(i[l]);var c=s.getBlob(a);return!c.slice&&c.webkitSlice&&(c.slice=c.webkitSlice),c};var r=Object.getPrototypeOf||function(i){return i.__proto__};e.Blob.prototype=r(new e.Blob)})(typeof self<"u"&&self||typeof window<"u"&&window||Ra.content||Ra),function(e,n){var r=typeof process<"u"&&process&&process.versions&&process.versions.electron;r?e.MediumEditor=n:t.exports=n}(Ra,function(){function e(n,r){return this.init(n,r)}return e.extensions={},function(n){function r(l,u){var c,d=Array.prototype.slice.call(arguments,2);u=u||{};for(var f=0;f<d.length;f++){var h=d[f];if(h)for(c in h)h.hasOwnProperty(c)&&typeof h[c]<"u"&&(l||u.hasOwnProperty(c)===!1)&&(u[c]=h[c])}return u}var i=!1;try{var o=document.createElement("div"),a=document.createTextNode(" ");o.appendChild(a),i=o.contains(a)}catch{}var s={isIE:navigator.appName==="Microsoft Internet Explorer"||navigator.appName==="Netscape"&&new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!==null,isEdge:/Edge\/\d+/.exec(navigator.userAgent)!==null,isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:n.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(l){return!!(s.isMac&&l.metaKey||!s.isMac&&l.ctrlKey)},isKey:function(l,u){var c=s.getKeyCode(l);return Array.isArray(u)===!1?c===u:u.indexOf(c)!==-1},getKeyCode:function(l){var u=l.which;return u===null&&(u=l.charCode!==null?l.charCode:l.keyCode),u},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var u=[!0].concat(Array.prototype.slice.call(arguments));return r.apply(this,u)},defaults:function(){var u=[!1].concat(Array.prototype.slice.call(arguments));return r.apply(this,u)},createLink:function(l,u,c,d){var f=l.createElement("a");return s.moveTextRangeIntoElement(u[0],u[u.length-1],f),f.setAttribute("href",c),d&&(d==="_blank"&&f.setAttribute("rel","noopener noreferrer"),f.setAttribute("target",d)),f},findOrCreateMatchingTextNodes:function(l,u,c){for(var d=l.createTreeWalker(u,NodeFilter.SHOW_ALL,null,!1),f=[],h=0,v=!1,m=null,g=null;(m=d.nextNode())!==null;)if(!(m.nodeType>3))if(m.nodeType===3){if(!v&&c.start<h+m.nodeValue.length&&(v=!0,g=s.splitStartNodeIfNeeded(m,c.start,h)),v&&s.splitEndNodeIfNeeded(m,g,c.end,h),v&&h===c.end)break;if(v&&h>c.end+1)throw new Error("PerformLinking overshot the target!");v&&f.push(g||m),h+=m.nodeValue.length,g!==null&&(h+=g.nodeValue.length,d.nextNode()),g=null}else m.tagName.toLowerCase()==="img"&&(!v&&c.start<=h&&(v=!0),v&&f.push(m));return f},splitStartNodeIfNeeded:function(l,u,c){return u!==c?l.splitText(u-c):null},splitEndNodeIfNeeded:function(l,u,c,d){var f,h;f=d+l.nodeValue.length+(u?u.nodeValue.length:0)-1,h=c-d-(u?l.nodeValue.length:0),f>=c&&d!==f&&h!==0&&(u||l).splitText(h)},splitByBlockElements:function(l){if(l.nodeType!==3&&l.nodeType!==1)return[];var u=[],c=e.util.blockContainerElementNames.join(",");if(l.nodeType===3||l.querySelectorAll(c).length===0)return[l];for(var d=0;d<l.childNodes.length;d++){var f=l.childNodes[d];if(f.nodeType===3)u.push(f);else if(f.nodeType===1){var h=f.querySelectorAll(c);h.length===0?u.push(f):u=u.concat(e.util.splitByBlockElements(f))}}return u},findAdjacentTextNodeWithContent:function(u,c,d){var f=!1,h,v=d.createNodeIterator(u,NodeFilter.SHOW_TEXT,null,!1);for(h=v.nextNode();h;){if(h===c)f=!0;else if(f&&h.nodeType===3&&h.nodeValue&&h.nodeValue.trim().length>0)break;h=v.nextNode()}return h},findPreviousSibling:function(l){if(!l||s.isMediumEditorElement(l))return!1;for(var u=l.previousSibling;!u&&!s.isMediumEditorElement(l.parentNode);)l=l.parentNode,u=l.previousSibling;return u},isDescendant:function(u,c,d){if(!u||!c)return!1;if(u===c)return!!d;if(u.nodeType!==1)return!1;if(i||c.nodeType!==3)return u.contains(c);for(var f=c.parentNode;f!==null;){if(f===u)return!0;f=f.parentNode}return!1},isElement:function(u){return!!(u&&u.nodeType===1)},throttle:function(l,u){var c=50,d,f,h,v=null,m=0,g=function(){m=Date.now(),v=null,h=l.apply(d,f),v||(d=f=null)};return!u&&u!==0&&(u=c),function(){var x=Date.now(),_=u-(x-m);return d=this,f=arguments,_<=0||_>u?(v&&(clearTimeout(v),v=null),m=x,h=l.apply(d,f),v||(d=f=null)):v||(v=setTimeout(g,_)),h}},traverseUp:function(l,u){if(!l)return!1;do{if(l.nodeType===1){if(u(l))return l;if(s.isMediumEditorElement(l))return!1}l=l.parentNode}while(l);return!1},htmlEntities:function(l){return String(l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(l,u){var c,d,f,h,v,m,g,x=!1,_=["insertHTML",!1,u];if(!e.util.isEdge&&l.queryCommandSupported("insertHTML"))try{return l.execCommand.apply(l,_)}catch{}if(c=l.getSelection(),c.rangeCount){if(d=c.getRangeAt(0),g=d.commonAncestorContainer,s.isMediumEditorElement(g)&&!g.firstChild)d.selectNode(g.appendChild(l.createTextNode("")));else if(g.nodeType===3&&d.startOffset===0&&d.endOffset===g.nodeValue.length||g.nodeType!==3&&g.innerHTML===d.toString()){for(;!s.isMediumEditorElement(g)&&g.parentNode&&g.parentNode.childNodes.length===1&&!s.isMediumEditorElement(g.parentNode);)g=g.parentNode;d.selectNode(g)}for(d.deleteContents(),f=l.createElement("div"),f.innerHTML=u,h=l.createDocumentFragment();f.firstChild;)v=f.firstChild,m=h.appendChild(v);d.insertNode(h),m&&(d=d.cloneRange(),d.setStartAfter(m),d.collapse(!0),e.selection.selectRange(l,d)),x=!0}return l.execCommand.callListeners&&l.execCommand.callListeners(_,x),x},execFormatBlock:function(l,u){var c=s.getTopBlockContainer(e.selection.getSelectionStart(l)),d;if(u==="blockquote"){if(c&&(d=Array.prototype.slice.call(c.childNodes),d.some(function(f){return s.isBlockContainer(f)})))return l.execCommand("outdent",!1,null);if(s.isIE)return l.execCommand("indent",!1,u)}if(c&&u===c.nodeName.toLowerCase()&&(u="p"),s.isIE&&(u="<"+u+">"),c&&c.nodeName.toLowerCase()==="blockquote"){if(s.isIE&&u==="<p>")return l.execCommand("outdent",!1,u);if((s.isFF||s.isEdge)&&u==="p")return d=Array.prototype.slice.call(c.childNodes),d.some(function(f){return!s.isBlockContainer(f)})&&l.execCommand("formatBlock",!1,u),l.execCommand("outdent",!1,u)}return l.execCommand("formatBlock",!1,u)},setTargetBlank:function(l,u){var c,d=u||!1;if(l.nodeName.toLowerCase()==="a")l.target="_blank",l.rel="noopener noreferrer";else for(l=l.getElementsByTagName("a"),c=0;c<l.length;c+=1)(d===!1||d===l[c].attributes.href.value)&&(l[c].target="_blank",l[c].rel="noopener noreferrer")},removeTargetBlank:function(l,u){var c;if(l.nodeName.toLowerCase()==="a")l.removeAttribute("target"),l.removeAttribute("rel");else for(l=l.getElementsByTagName("a"),c=0;c<l.length;c+=1)u===l[c].attributes.href.value&&(l[c].removeAttribute("target"),l[c].removeAttribute("rel"))},addClassToAnchors:function(l,u){var c=u.split(" "),d,f;if(l.nodeName.toLowerCase()==="a")for(f=0;f<c.length;f+=1)l.classList.add(c[f]);else{var h=l.getElementsByTagName("a");if(h.length===0){var v=s.getClosestTag(l,"a");l=v?[v]:[]}else l=h;for(d=0;d<l.length;d+=1)for(f=0;f<c.length;f+=1)l[d].classList.add(c[f])}},isListItem:function(l){if(!l)return!1;if(l.nodeName.toLowerCase()==="li")return!0;for(var u=l.parentNode,c=u.nodeName.toLowerCase();c==="li"||!s.isBlockContainer(u)&&c!=="div";){if(c==="li")return!0;if(u=u.parentNode,u)c=u.nodeName.toLowerCase();else return!1}return!1},cleanListDOM:function(l,u){if(u.nodeName.toLowerCase()==="li"){var c=u.parentElement;c.parentElement.nodeName.toLowerCase()==="p"&&(s.unwrap(c.parentElement,l),e.selection.moveCursor(l,u.firstChild,u.firstChild.textContent.length))}},splitOffDOMTree:function(l,u,c){for(var d=u,f=null,h=!c;d!==l;){var v=d.parentNode,m=v.cloneNode(!1),g=h?d:v.firstChild,x;for(f&&(h?m.appendChild(f):x=f),f=m;g;){var _=g.nextSibling;g===d?(g.hasChildNodes()?g=g.cloneNode(!1):g.parentNode.removeChild(g),g.textContent&&f.appendChild(g),g=h?_:null):(g.parentNode.removeChild(g),(g.hasChildNodes()||g.textContent)&&f.appendChild(g),g=_)}x&&f.appendChild(x),d=v}return f},moveTextRangeIntoElement:function(l,u,c){if(!l||!u)return!1;var d=s.findCommonRoot(l,u);if(!d)return!1;if(u===l){var f=l.parentNode,h=l.nextSibling;return f.removeChild(l),c.appendChild(l),h?f.insertBefore(c,h):f.appendChild(c),c.hasChildNodes()}for(var v=[],m,g,x,_=0;_<d.childNodes.length;_++)if(x=d.childNodes[_],!m)s.isDescendant(x,l,!0)&&(m=x);else if(s.isDescendant(x,u,!0)){g=x;break}else v.push(x);var w=g.nextSibling,S=d.ownerDocument.createDocumentFragment();return m===l?(m.parentNode.removeChild(m),S.appendChild(m)):S.appendChild(s.splitOffDOMTree(m,l)),v.forEach(function(C){C.parentNode.removeChild(C),S.appendChild(C)}),g===u?(g.parentNode.removeChild(g),S.appendChild(g)):S.appendChild(s.splitOffDOMTree(g,u,!0)),c.appendChild(S),g.parentNode===d?d.insertBefore(c,g):w?d.insertBefore(c,w):d.appendChild(c),c.hasChildNodes()},depthOfNode:function(l){for(var u=0,c=l;c.parentNode!==null;)c=c.parentNode,u++;return u},findCommonRoot:function(l,u){for(var c=s.depthOfNode(l),d=s.depthOfNode(u),f=l,h=u;c!==d;)c>d?(f=f.parentNode,c-=1):(h=h.parentNode,d-=1);for(;f!==h;)f=f.parentNode,h=h.parentNode;return f},isElementAtBeginningOfBlock:function(l){for(var u,c;!s.isBlockContainer(l)&&!s.isMediumEditorElement(l);){for(c=l;c=c.previousSibling;)if(u=c.nodeType===3?c.nodeValue:c.textContent,u.length>0)return!1;l=l.parentNode}return!0},isMediumEditorElement:function(l){return l&&l.getAttribute&&!!l.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(l){return s.traverseUp(l,function(u){return s.isMediumEditorElement(u)})},isBlockContainer:function(l){return l&&l.nodeType!==3&&s.blockContainerElementNames.indexOf(l.nodeName.toLowerCase())!==-1},getClosestBlockContainer:function(l){return s.traverseUp(l,function(u){return s.isBlockContainer(u)||s.isMediumEditorElement(u)})},getTopBlockContainer:function(l){var u=s.isBlockContainer(l)?l:!1;return s.traverseUp(l,function(c){return s.isBlockContainer(c)&&(u=c),!u&&s.isMediumEditorElement(c)?(u=c,!0):!1}),u},getFirstSelectableLeafNode:function(l){for(;l&&l.firstChild;)l=l.firstChild;if(l=s.traverseUp(l,function(c){return s.emptyElementNames.indexOf(c.nodeName.toLowerCase())===-1}),l.nodeName.toLowerCase()==="table"){var u=l.querySelector("th, td");u&&(l=u)}return l},getFirstTextNode:function(l){return s.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),s._getFirstTextNode(l)},_getFirstTextNode:function(l){if(l.nodeType===3)return l;for(var u=0;u<l.childNodes.length;u++){var c=s._getFirstTextNode(l.childNodes[u]);if(c!==null)return c}return null},ensureUrlHasProtocol:function(l){return l.indexOf("://")===-1?"http://"+l:l},warn:function(){n.console!==void 0&&typeof n.console.warn=="function"&&n.console.warn.apply(n.console,arguments)},deprecated:function(l,u,c){var d=l+" is deprecated, please use "+u+" instead.";c&&(d+=" Will be removed in "+c),s.warn(d)},deprecatedMethod:function(l,u,c,d){s.deprecated(l,u,d),typeof this[u]=="function"&&this[u].apply(this,c)},cleanupAttrs:function(l,u){u.forEach(function(c){l.removeAttribute(c)})},cleanupTags:function(l,u){u.indexOf(l.nodeName.toLowerCase())!==-1&&l.parentNode.removeChild(l)},unwrapTags:function(l,u){u.indexOf(l.nodeName.toLowerCase())!==-1&&e.util.unwrap(l,document)},getClosestTag:function(l,u){return s.traverseUp(l,function(c){return c.nodeName.toLowerCase()===u.toLowerCase()})},unwrap:function(l,u){for(var c=u.createDocumentFragment(),d=Array.prototype.slice.call(l.childNodes),f=0;f<d.length;f++)c.appendChild(d[f]);c.childNodes.length?l.parentNode.replaceChild(c,l):l.parentNode.removeChild(l)},guid:function(){function l(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l()}};e.util=s}(window),function(){var n=function(r){e.util.extend(this,r)};n.extend=function(r){var i=this,o;r&&r.hasOwnProperty("constructor")?o=r.constructor:o=function(){return i.apply(this,arguments)},e.util.extend(o,i);var a=function(){this.constructor=o};return a.prototype=i.prototype,o.prototype=new a,r&&e.util.extend(o.prototype,r),o},n.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(r){return this.base.options[r]}},["execAction","on","off","subscribe","trigger"].forEach(function(r){n.prototype[r]=function(){return this.base[r].apply(this.base,arguments)}}),e.Extension=n}(),function(){function n(i){return e.util.isBlockContainer(i)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var r={findMatchingSelectionParent:function(i,o){var a=o.getSelection(),s,l;return a.rangeCount===0?!1:(s=a.getRangeAt(0),l=s.commonAncestorContainer,e.util.traverseUp(l,i))},getSelectionElement:function(i){return this.findMatchingSelectionParent(function(o){return e.util.isMediumEditorElement(o)},i)},exportSelection:function(i,o){if(!i)return null;var a=null,s=o.getSelection();if(s.rangeCount>0){var l=s.getRangeAt(0),u=l.cloneRange(),c;u.selectNodeContents(i),u.setEnd(l.startContainer,l.startOffset),c=u.toString().length,a={start:c,end:c+l.toString().length},this.doesRangeStartWithImages(l,o)&&(a.startsWithImage=!0);var d=this.getTrailingImageCount(i,a,l.endContainer,l.endOffset);if(d&&(a.trailingImageCount=d),c!==0){var f=this.getIndexRelativeToAdjacentEmptyBlocks(o,i,l.startContainer,l.startOffset);f!==-1&&(a.emptyBlocksIndex=f)}}return a},importSelection:function(i,o,a,s){if(!(!i||!o)){var l=a.createRange();l.setStart(o,0),l.collapse(!0);var u=o,c=[],d=0,f=!1,h=!1,v=0,m=!1,g,x=!1,_=null;for((s||i.startsWithImage||typeof i.emptyBlocksIndex<"u")&&(x=!0);!m&&u;){if(u.nodeType>3){u=c.pop();continue}if(u.nodeType===3&&!h)g=d+u.length,!f&&i.start>=d&&i.start<=g&&(x||i.start<g?(l.setStart(u,i.start-d),f=!0):_=u),f&&i.end>=d&&i.end<=g&&(i.trailingImageCount?h=!0:(l.setEnd(u,i.end-d),m=!0)),d=g;else{if(i.trailingImageCount&&h&&(u.nodeName.toLowerCase()==="img"&&v++,v===i.trailingImageCount)){for(var w=0;u.parentNode.childNodes[w]!==u;)w++;l.setEnd(u.parentNode,w+1),m=!0}if(!m&&u.nodeType===1)for(var S=u.childNodes.length-1;S>=0;)c.push(u.childNodes[S]),S-=1}m||(u=c.pop())}!f&&_&&(l.setStart(_,_.length),l.setEnd(_,_.length)),typeof i.emptyBlocksIndex<"u"&&(l=this.importSelectionMoveCursorPastBlocks(a,o,i.emptyBlocksIndex,l)),s&&(l=this.importSelectionMoveCursorPastAnchor(i,l)),this.selectRange(a,l)}},importSelectionMoveCursorPastAnchor:function(i,o){var a=function(d){return d.nodeName.toLowerCase()==="a"};if(i.start===i.end&&o.startContainer.nodeType===3&&o.startOffset===o.startContainer.nodeValue.length&&e.util.traverseUp(o.startContainer,a)){for(var s=o.startContainer,l=o.startContainer.parentNode;l!==null&&l.nodeName.toLowerCase()!=="a";)l.childNodes[l.childNodes.length-1]!==s?l=null:(s=l,l=l.parentNode);if(l!==null&&l.nodeName.toLowerCase()==="a"){for(var u=null,c=0;u===null&&c<l.parentNode.childNodes.length;c++)l.parentNode.childNodes[c]===l&&(u=c);o.setStart(l.parentNode,u+1),o.collapse(!0)}}return o},importSelectionMoveCursorPastBlocks:function(i,o,a,s){var l=i.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,n,!1),u=s.startContainer,c,d,f=0;for(a=a||1,u.nodeType===3&&e.util.isBlockContainer(u.previousSibling)?c=u.previousSibling:c=e.util.getClosestBlockContainer(u);l.nextNode();)if(!d)c===l.currentNode&&(d=l.currentNode);else if(d=l.currentNode,f++,f===a||d.textContent.length>0)break;return d||(d=c),s.setStart(e.util.getFirstSelectableLeafNode(d),0),s},getIndexRelativeToAdjacentEmptyBlocks:function(i,o,a,s){if(a.textContent.length>0&&s>0)return-1;var l=a;if(l.nodeType!==3&&(l=a.childNodes[s]),l){if(!e.util.isElementAtBeginningOfBlock(l))return-1;var u=e.util.findPreviousSibling(l);if(u){if(u.nodeValue)return-1}else return-1}for(var c=e.util.getClosestBlockContainer(a),d=i.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,n,!1),f=0;d.nextNode();){var h=d.currentNode.textContent==="";if((h||f>0)&&(f+=1),d.currentNode===c)return f;h||(f=0)}return f},doesRangeStartWithImages:function(i,o){if(i.startOffset!==0||i.startContainer.nodeType!==1)return!1;if(i.startContainer.nodeName.toLowerCase()==="img")return!0;var a=i.startContainer.querySelector("img");if(!a)return!1;for(var s=o.createTreeWalker(i.startContainer,NodeFilter.SHOW_ALL,null,!1);s.nextNode();){var l=s.currentNode;if(l===a)break;if(l.nodeValue)return!1}return!0},getTrailingImageCount:function(i,o,a,s){if(s===0||a.nodeType!==1||a.nodeName.toLowerCase()!=="img"&&!a.querySelector("img"))return 0;for(var l=a.childNodes[s-1];l.hasChildNodes();)l=l.lastChild;for(var u=i,c=[],d=0,f=!1,h=!1,v=!1,m,g=0;!v&&u;){if(u.nodeType>3){u=c.pop();continue}if(u.nodeType===3&&!h)g=0,m=d+u.length,!f&&o.start>=d&&o.start<=m&&(f=!0),f&&o.end>=d&&o.end<=m&&(h=!0),d=m;else if(u.nodeName.toLowerCase()==="img"&&g++,u===l)v=!0;else if(u.nodeType===1)for(var x=u.childNodes.length-1;x>=0;)c.push(u.childNodes[x]),x-=1;v||(u=c.pop())}return g},selectionContainsContent:function(i){var o=i.getSelection();if(!o||o.isCollapsed||!o.rangeCount)return!1;if(o.toString().trim()!=="")return!0;var a=this.getSelectedParentElement(o.getRangeAt(0));return!!(a&&(a.nodeName.toLowerCase()==="img"||a.nodeType===1&&a.querySelector("img")))},selectionInContentEditableFalse:function(i){var o,a=this.findMatchingSelectionParent(function(s){var l=s&&s.getAttribute("contenteditable");return l==="true"&&(o=!0),s.nodeName!=="#text"&&l==="false"},i);return!o&&a},getSelectionHtml:function(o){var a,s="",l=o.getSelection(),u,c;if(l.rangeCount){for(c=o.createElement("div"),a=0,u=l.rangeCount;a<u;a+=1)c.appendChild(l.getRangeAt(a).cloneContents());s=c.innerHTML}return s},getCaretOffsets:function(o,a){var s,l;return a||(a=window.getSelection().getRangeAt(0)),s=a.cloneRange(),l=a.cloneRange(),s.selectNodeContents(o),s.setEnd(a.endContainer,a.endOffset),l.selectNodeContents(o),l.setStart(a.endContainer,a.endOffset),{left:s.toString().length,right:l.toString().length}},rangeSelectsSingleNode:function(i){var o=i.startContainer;return o===i.endContainer&&o.hasChildNodes()&&i.endOffset===i.startOffset+1},getSelectedParentElement:function(i){return i?this.rangeSelectsSingleNode(i)&&i.startContainer.childNodes[i.startOffset].nodeType!==3?i.startContainer.childNodes[i.startOffset]:i.startContainer.nodeType===3?i.startContainer.parentNode:i.startContainer:null},getSelectedElements:function(i){var o=i.getSelection(),a,s,l;if(!o.rangeCount||o.isCollapsed||!o.getRangeAt(0).commonAncestorContainer)return[];if(a=o.getRangeAt(0),a.commonAncestorContainer.nodeType===3){for(s=[],l=a.commonAncestorContainer;l.parentNode&&l.parentNode.childNodes.length===1;)s.push(l.parentNode),l=l.parentNode;return s}return[].filter.call(a.commonAncestorContainer.getElementsByTagName("*"),function(u){return typeof o.containsNode=="function"?o.containsNode(u,!0):!0})},selectNode:function(i,o){var a=o.createRange();a.selectNodeContents(i),this.selectRange(o,a)},select:function(i,o,a,s,l){var u=i.createRange();return u.setStart(o,a),s?u.setEnd(s,l):u.collapse(!0),this.selectRange(i,u),u},clearSelection:function(i,o){o?i.getSelection().collapseToStart():i.getSelection().collapseToEnd()},moveCursor:function(i,o,a){this.select(i,o,a)},getSelectionRange:function(i){var o=i.getSelection();return o.rangeCount===0?null:o.getRangeAt(0)},selectRange:function(i,o){var a=i.getSelection();a.removeAllRanges(),a.addRange(o)},getSelectionStart:function(i){var o=i.getSelection().anchorNode,a=o&&o.nodeType===3?o.parentNode:o;return a}};e.selection=r}(),function(){function n(i,o){return i?i.some(function(a){if(typeof a.getInteractionElements!="function")return!1;var s=a.getInteractionElements();return s?(Array.isArray(s)||(s=[s]),s.some(function(l){return e.util.isDescendant(l,o,!0)})):!1}):!1}var r=function(i){this.base=i,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};r.prototype={InputEventOnContenteditableSupported:!e.util.isIE&&!e.util.isEdge,attachDOMEvent:function(i,o,a,s){var l=this.base.options.contentWindow,u=this.base.options.ownerDocument;i=e.util.isElement(i)||[l,u].indexOf(i)>-1?[i]:i,Array.prototype.forEach.call(i,(function(c){c.addEventListener(o,a,s),this.events.push([c,o,a,s])}).bind(this))},detachDOMEvent:function(i,o,a,s){var l,u,c=this.base.options.contentWindow,d=this.base.options.ownerDocument;i&&(i=e.util.isElement(i)||[c,d].indexOf(i)>-1?[i]:i,Array.prototype.forEach.call(i,(function(f){l=this.indexOfListener(f,o,a,s),l!==-1&&(u=this.events.splice(l,1)[0],u[0].removeEventListener(u[1],u[2],u[3]))}).bind(this)))},indexOfListener:function(i,o,a,s){var l,u,c;for(l=0,u=this.events.length;l<u;l=l+1)if(c=this.events[l],c[0]===i&&c[1]===o&&c[2]===a&&c[3]===s)return l;return-1},detachAllDOMEvents:function(){for(var i=this.events.pop();i;)i[0].removeEventListener(i[1],i[2],i[3]),i=this.events.pop()},detachAllEventsFromElement:function(i){for(var o=this.events.filter(function(u){return u&&u[0].getAttribute&&u[0].getAttribute("medium-editor-index")===i.getAttribute("medium-editor-index")}),a=0,s=o.length;a<s;a++){var l=o[a];this.detachDOMEvent(l[0],l[1],l[2],l[3])}},attachAllEventsToElement:function(i){this.listeners.editableInput&&(this.contentCache[i.getAttribute("medium-editor-index")]=i.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(o){this.attachDOMEvent(i,o.name,o.handler.bind(this))},this)},enableCustomEvent:function(i){this.disabledEvents[i]!==void 0&&delete this.disabledEvents[i]},disableCustomEvent:function(i){this.disabledEvents[i]=!0},attachCustomEvent:function(i,o){this.setupListener(i),this.customEvents[i]||(this.customEvents[i]=[]),this.customEvents[i].push(o)},detachCustomEvent:function(i,o){var a=this.indexOfCustomListener(i,o);a!==-1&&this.customEvents[i].splice(a,1)},indexOfCustomListener:function(i,o){return!this.customEvents[i]||!this.customEvents[i].length?-1:this.customEvents[i].indexOf(o)},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(i,o,a){this.customEvents[i]&&!this.disabledEvents[i]&&this.customEvents[i].forEach(function(s){s(o,a)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(i){i.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=(function(i){this.handleDocumentExecCommand(i)}).bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var i=this.options.ownerDocument;if(!(!this.execCommandListener||!i.execCommand.listeners)){var o=i.execCommand.listeners.indexOf(this.execCommandListener);o!==-1&&i.execCommand.listeners.splice(o,1),i.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var i=this.options.ownerDocument;if(!i.execCommand.listeners){var o=function(s,l){i.execCommand.listeners&&i.execCommand.listeners.forEach(function(u){u({command:s[0],value:s[2],args:s,result:l})})},a=function(){var s=i.execCommand.orig.apply(this,arguments);if(!i.execCommand.listeners)return s;var l=Array.prototype.slice.call(arguments);return o(l,s),s};a.orig=i.execCommand,a.listeners=[],a.callListeners=o,i.execCommand=a}},unwrapExecCommand:function(){var i=this.options.ownerDocument;i.execCommand.orig&&(i.execCommand=i.execCommand.orig)},setupListener:function(i){if(!this.listeners[i]){switch(i){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(o){this.contentCache[o.getAttribute("medium-editor-index")]=o.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste);break}this.listeners[i]=!0}},attachToEachElement:function(i,o){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(a){this.attachDOMEvent(a,i,o.bind(this))},this),this.eventsCache.push({name:i,handler:o})},cleanupElement:function(i){var o=i.getAttribute("medium-editor-index");o&&(this.detachAllEventsFromElement(i),this.contentCache&&delete this.contentCache[o])},focusElement:function(i){i.focus(),this.updateFocus(i,{target:i,type:"focus"})},updateFocus:function(i,o){var a=this.base.getFocusedElement(),s;a&&o.type==="click"&&this.lastMousedownTarget&&(e.util.isDescendant(a,this.lastMousedownTarget,!0)||n(this.base.extensions,this.lastMousedownTarget))&&(s=a),s||this.base.elements.some(function(u){return!s&&e.util.isDescendant(u,i,!0)&&(s=u),!!s},this);var l=!e.util.isDescendant(a,i,!0)&&!n(this.base.extensions,i);s!==a&&(a&&l&&(a.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",o,a)),s&&(s.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",o,s))),l&&this.triggerCustomEvent("externalInteraction",o)},updateInput:function(i,o){if(this.contentCache){var a=i.getAttribute("medium-editor-index"),s=i.innerHTML;s!==this.contentCache[a]&&this.triggerCustomEvent("editableInput",o,i),this.contentCache[a]=s}},handleDocumentSelectionChange:function(i){if(i.currentTarget&&i.currentTarget.activeElement){var o=i.currentTarget.activeElement,a;this.base.elements.some(function(s){return e.util.isDescendant(s,o,!0)?(a=s,!0):!1},this),a&&this.updateInput(a,{target:o,currentTarget:a})}},handleDocumentExecCommand:function(){var i=this.base.getFocusedElement();i&&this.updateInput(i,{target:i,currentTarget:i})},handleBodyClick:function(i){this.updateFocus(i.target,i)},handleBodyFocus:function(i){this.updateFocus(i.target,i)},handleBodyMousedown:function(i){this.lastMousedownTarget=i.target},handleInput:function(i){this.updateInput(i.currentTarget,i)},handleClick:function(i){this.triggerCustomEvent("editableClick",i,i.currentTarget)},handleBlur:function(i){this.triggerCustomEvent("editableBlur",i,i.currentTarget)},handleKeypress:function(i){if(this.triggerCustomEvent("editableKeypress",i,i.currentTarget),this.keypressUpdateInput){var o={target:i.target,currentTarget:i.currentTarget};setTimeout((function(){this.updateInput(o.currentTarget,o)}).bind(this),0)}},handleKeyup:function(i){this.triggerCustomEvent("editableKeyup",i,i.currentTarget)},handleMouseover:function(i){this.triggerCustomEvent("editableMouseover",i,i.currentTarget)},handleDragging:function(i){this.triggerCustomEvent("editableDrag",i,i.currentTarget)},handleDrop:function(i){this.triggerCustomEvent("editableDrop",i,i.currentTarget)},handlePaste:function(i){this.triggerCustomEvent("editablePaste",i,i.currentTarget)},handleKeydown:function(i){if(this.triggerCustomEvent("editableKeydown",i,i.currentTarget),e.util.isKey(i,e.util.keyCode.SPACE))return this.triggerCustomEvent("editableKeydownSpace",i,i.currentTarget);if(e.util.isKey(i,e.util.keyCode.ENTER)||i.ctrlKey&&e.util.isKey(i,e.util.keyCode.M))return this.triggerCustomEvent("editableKeydownEnter",i,i.currentTarget);if(e.util.isKey(i,e.util.keyCode.TAB))return this.triggerCustomEvent("editableKeydownTab",i,i.currentTarget);if(e.util.isKey(i,[e.util.keyCode.DELETE,e.util.keyCode.BACKSPACE]))return this.triggerCustomEvent("editableKeydownDelete",i,i.currentTarget)}},e.Events=r}(),function(){var n=e.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(r){n.isBuiltInButton(r)?e.Extension.call(this,this.defaults[r]):e.Extension.call(this,r)},init:function(){e.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return typeof this.action=="function"?this.action(this.base.options):this.action},getAria:function(){return typeof this.aria=="function"?this.aria(this.base.options):this.aria},getTagNames:function(){return typeof this.tagNames=="function"?this.tagNames(this.base.options):this.tagNames},createButton:function(){var r=this.document.createElement("button"),i=this.contentDefault,o=this.getAria(),a=this.getEditorOption("buttonLabels");return r.classList.add("medium-editor-action"),r.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(s){r.classList.add(s)}),r.setAttribute("data-action",this.getAction()),o&&(r.setAttribute("title",o),r.setAttribute("aria-label",o)),this.attrs&&Object.keys(this.attrs).forEach(function(s){r.setAttribute(s,this.attrs[s])},this),a==="fontawesome"&&this.contentFA&&(i=this.contentFA),r.innerHTML=i,r},handleClick:function(r){r.preventDefault(),r.stopPropagation();var i=this.getAction();i&&this.execAction(i)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var r=null;return this.useQueryState&&(r=this.base.queryCommandState(this.getAction())),r},isAlreadyApplied:function(r){var i=!1,o=this.getTagNames(),a,s;return this.knownState===!1||this.knownState===!0?this.knownState:(o&&o.length>0&&(i=o.indexOf(r.nodeName.toLowerCase())!==-1),!i&&this.style&&(a=this.style.value.split("|"),s=this.window.getComputedStyle(r,null).getPropertyValue(this.style.prop),a.forEach(function(l){this.knownState||(i=s.indexOf(l)!==-1,(i||this.style.prop!=="text-decoration")&&(this.knownState=i))},this)),i)}});n.isBuiltInButton=function(r){return typeof r=="string"&&e.extensions.button.prototype.defaults.hasOwnProperty(r)},e.extensions.button=n}(),function(){e.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},html:{name:"html",action:"html",aria:"evaluate html",tagNames:["iframe","object"],contentDefault:"<b>html</b>",contentFA:'<i class="fa fa-code"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var n=e.extensions.button.extend({init:function(){e.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return this.hasForm?this.getForm().classList.contains(this.activeClass):!1},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var r=this.base.getExtensionByName("toolbar");r&&r.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var r=this.base.getExtensionByName("toolbar");r&&r.hideToolbarDefaultActions()},setToolbarPosition:function(){var r=this.base.getExtensionByName("toolbar");r&&r.setToolbarPosition()}});e.extensions.form=n}(),function(){var n=e.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(r){r.preventDefault(),r.stopPropagation();var i=e.selection.getSelectionRange(this.document);return i.startContainer.nodeName.toLowerCase()==="a"||i.endContainer.nodeName.toLowerCase()==="a"||e.util.getClosestTag(e.selection.getSelectedParentElement(i),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(r){e.util.isKey(r,e.util.keyCode.K)&&e.util.isMetaCtrlKey(r)&&!r.shiftKey&&this.handleClick(r)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var r=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return r.push('<a href="#" class="medium-editor-toolbar-save">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),r.push('<a href="#" class="medium-editor-toolbar-close">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&r.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target" id="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">','<label for="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">',this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&r.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),r.join("")},isDisplayed:function(){return e.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){e.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(r){var i=this.getInput(),o=this.getAnchorTargetCheckbox(),a=this.getAnchorButtonCheckbox();if(r=r||{value:""},typeof r=="string"&&(r={value:r}),this.base.saveSelection(),this.hideToolbarDefaultActions(),e.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),i.value=r.value,i.focus(),o&&(o.checked=r.target==="_blank"),a){var s=r.buttonClass?r.buttonClass.split(" "):[];a.checked=s.indexOf(this.customClassOption)!==-1}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var r=this.getAnchorTargetCheckbox(),i=this.getAnchorButtonCheckbox(),o={value:this.getInput().value.trim()};return this.linkValidation&&(o.value=this.checkLinkFormat(o.value)),o.target="_self",r&&r.checked&&(o.target="_blank"),i&&i.checked&&(o.buttonClass=this.customClassOption),o},doFormSave:function(){var r=this.getFormOpts();this.completeFormSave(r)},completeFormSave:function(r){this.base.restoreSelection(),this.execAction(this.action,r),this.base.checkSelection()},ensureEncodedUri:function(r){return r===decodeURI(r)?encodeURI(r):r},ensureEncodedUriComponent:function(r){return r===decodeURIComponent(r)?encodeURIComponent(r):r},ensureEncodedParam:function(r){var i=r.split("="),o=i[0],a=i[1];return o+(a===void 0?"":"="+this.ensureEncodedUriComponent(a))},ensureEncodedQuery:function(r){return r.split("&").map(this.ensureEncodedParam.bind(this)).join("&")},checkLinkFormat:function(r){var i=/^([a-z]+:)?\/\/|^(mailto|tel|maps):|^\#/i,o=i.test(r),a="",s=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/,l=r.match(/^(.*?)(?:\?(.*?))?(?:#(.*))?$/),u=l[1],c=l[2],d=l[3];if(s.test(r))return"tel:"+r;if(!o){var f=u.split("/")[0];(f.match(/.+(\.|:).+/)||f==="localhost")&&(a="http://")}return a+this.ensureEncodedUri(u)+(c===void 0?"":"?"+this.ensureEncodedQuery(c))+(d===void 0?"":"#"+d)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(r){var i=r.querySelector(".medium-editor-toolbar-close"),o=r.querySelector(".medium-editor-toolbar-save"),a=r.querySelector(".medium-editor-toolbar-input");this.on(r,"click",this.handleFormClick.bind(this)),this.on(a,"keyup",this.handleTextboxKeyup.bind(this)),this.on(i,"click",this.handleCloseClick.bind(this)),this.on(o,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var r=this.document,i=r.createElement("div");return i.className="medium-editor-toolbar-form",i.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),i.innerHTML=this.getTemplate(),this.attachFormEvents(i),i},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(r){if(r.keyCode===e.util.keyCode.ENTER){r.preventDefault(),this.doFormSave();return}r.keyCode===e.util.keyCode.ESCAPE&&(r.preventDefault(),this.doFormCancel())},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});e.extensions.anchor=n}(),function(){var n=e.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var r=this.document.createElement("div");return r.id="medium-editor-anchor-preview-"+this.getEditorId(),r.className="medium-editor-anchor-preview",r.innerHTML=this.getTemplate(),this.on(r,"click",this.handleClick.bind(this)),r},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview&&this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(r){return this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||r.getAttribute("data-disable-preview")?!0:(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=r.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=r.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=r,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(r){r=r||this.activeAnchor;var i=this.window.innerWidth,o=this.anchorPreview.offsetHeight,a=r.getBoundingClientRect(),s=this.diffLeft,l=this.diffTop,u=this.getEditorOption("elementsContainer"),c=["absolute","fixed"].indexOf(window.getComputedStyle(u).getPropertyValue("position"))>-1,d={},f,h,v,m,g;f=this.anchorPreview.offsetWidth/2;var x=this.base.getExtensionByName("toolbar");x&&(s=x.diffLeft,l=x.diffTop),h=s-f,c?(m=u.getBoundingClientRect(),["top","left"].forEach(function(_){d[_]=a[_]-m[_]}),d.width=a.width,d.height=a.height,a=d,i=m.width,g=u.scrollTop):g=this.window.pageYOffset,v=a.left+a.width/2,g+=o+a.top+a.height-l-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(g)+"px",this.anchorPreview.style.right="initial",v<f?(this.anchorPreview.style.left=h+f+"px",this.anchorPreview.style.right="initial"):i-v<f?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=h+v+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(r){var i=this.base.getExtensionByName("anchor"),o=this.activeAnchor;i&&o&&(r.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay((function(){if(o){var a={value:o.attributes.href.value,target:o.getAttribute("target"),buttonClass:o.getAttribute("class")};i.showForm(a),o=null}}).bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(r){var i=e.util.getClosestTag(r.target,"a");if(i!==!1){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(i.outerHTML)||/href=["']#\S+["']/.test(i.outerHTML)))return!0;var o=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&o&&o.isDisplayed&&o.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==i&&this.detachPreviewHandlers(),this.anchorToPreview=i,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay((function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}).bind(this))}},handlePreviewMouseover:function(){this.lastOver=new Date().getTime(),this.hovering=!0},handlePreviewMouseout:function(r){(!r.relatedTarget||!/anchor-preview/.test(r.relatedTarget.className))&&(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var r=new Date().getTime()-this.lastOver;r>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=new Date().getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});e.extensions.anchorPreview=n}(),function(){var n,r,i,o,a;n=[" ","	",`
`,"\r"," "," "," "," "," ","\u2028","\u2029"],r="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",i="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+r+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?«»“”‘’])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+r+"))",o=new RegExp("^("+r+")$","i"),a=new RegExp(i,"gi");function s(u){return!e.util.getClosestTag(u,"a")}var l=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var u=0,c=0;c<this.window._mediumEditors.length;c++){var d=this.window._mediumEditors[c];d!==null&&d.getExtensionByName("autoLink")!==void 0&&u++}return u===1},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(u,c){this.performLinking(c)},onKeypress:function(u){this.disableEventHandling||e.util.isKey(u,[e.util.keyCode.SPACE,e.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout((function(){try{var c=this.base.exportSelection();this.performLinking(u.target)&&this.base.importSelection(c,!0)}catch(d){window.console&&window.console.error("Failed to perform linking",d),this.disableEventHandling=!0}}).bind(this),0))},performLinking:function(u){var c=e.util.splitByBlockElements(u),d=!1;c.length===0&&(c=[u]);for(var f=0;f<c.length;f++)d=this.removeObsoleteAutoLinkSpans(c[f])||d,d=this.performLinkingWithinElement(c[f])||d;return this.base.events.updateInput(u,{target:u,currentTarget:u}),d},removeObsoleteAutoLinkSpans:function(u){if(!u||u.nodeType===3)return!1;for(var c=u.querySelectorAll('span[data-auto-link="true"]'),d=!1,f=0;f<c.length;f++){var h=c[f].textContent;if(h.indexOf("://")===-1&&(h=e.util.ensureUrlHasProtocol(h)),c[f].getAttribute("data-href")!==h&&s(c[f])){d=!0;var v=h.replace(/\s+$/,"");if(c[f].getAttribute("data-href")===v){var m=h.length-v.length,g=e.util.splitOffDOMTree(c[f],this.splitTextBeforeEnd(c[f],m));c[f].parentNode.insertBefore(g,c[f].nextSibling)}else e.util.unwrap(c[f],this.document)}}return d},splitTextBeforeEnd:function(u,c){for(var d=this.document.createTreeWalker(u,NodeFilter.SHOW_TEXT,null,!1),f=!0;f;)f=d.lastChild()!==null;for(var h,v,m;c>0&&m!==null;)h=d.currentNode,v=h.nodeValue,v.length>c?(m=h.splitText(v.length-c),c=0):(m=d.previousNode(),c-=v.length);return m},performLinkingWithinElement:function(u){for(var c=this.findLinkableText(u),d=!1,f=0;f<c.length;f++){var h=e.util.findOrCreateMatchingTextNodes(this.document,u,c[f]);this.shouldNotLink(h)||this.createAutoLink(h,c[f].href)}return d},shouldNotLink:function(u){for(var c=!1,d=0;d<u.length&&c===!1;d++)c=!!e.util.traverseUp(u[d],function(f){return f.nodeName.toLowerCase()==="a"||f.getAttribute&&f.getAttribute("data-auto-link")==="true"});return c},findLinkableText:function(u){for(var c=u.textContent,d=null,f=[];(d=a.exec(c))!==null;){var h=!0,v=d.index+d[0].length;h=(d.index===0||n.indexOf(c[d.index-1])!==-1)&&(v===c.length||n.indexOf(c[v])!==-1),h=h&&(d[0].indexOf("/")!==-1||o.test(d[0].split(".").pop().split("?").shift())),h&&f.push({href:d[0],start:d.index,end:v})}return f},createAutoLink:function(u,c){c=e.util.ensureUrlHasProtocol(c);var d=e.util.createLink(this.document,u,c,this.getEditorOption("targetBlank")?"_blank":null),f=this.document.createElement("span");for(f.setAttribute("data-auto-link","true"),f.setAttribute("data-href",c),d.insertBefore(f,d.firstChild);d.childNodes.length>1;)f.appendChild(d.childNodes[1])}});e.extensions.autoLink=l}(),function(){var n="medium-editor-dragover";function r(o){var a=e.util.getContainerEditorElement(o),s=Array.prototype.slice.call(a.parentElement.querySelectorAll("."+n));s.forEach(function(l){l.classList.remove(n)})}var i=e.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(o){o.preventDefault(),o.dataTransfer.dropEffect="copy";var a=o.target.classList?o.target:o.target.parentElement;r(a),o.type==="dragover"&&a.classList.add(n)},handleDrop:function(o){o.preventDefault(),o.stopPropagation(),this.base.selectElement(o.target);var a=this.base.exportSelection();a.start=a.end,this.base.importSelection(a),o.dataTransfer.files&&Array.prototype.slice.call(o.dataTransfer.files).forEach(function(s){this.isAllowedFile(s)&&s.type.match("image")&&this.insertImageFile(s)},this),r(o.target)},isAllowedFile:function(o){return this.allowedTypes.some(function(a){return!!o.type.match(a)})},insertImageFile:function(o){if(typeof FileReader=="function"){var a=new FileReader;a.readAsDataURL(o),a.addEventListener("load",(function(s){var l=this.document.createElement("img");l.src=s.target.result,e.util.insertHTMLCommand(this.document,l.outerHTML)}).bind(this))}}});e.extensions.fileDragging=i}(),function(){var n=e.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(r){var i=r.key.charCodeAt(0);this.keys[i]||(this.keys[i]=[]),this.keys[i].push(r)},this)},handleKeydown:function(r){var i=e.util.getKeyCode(r);if(this.keys[i]){var o=e.util.isMetaCtrlKey(r),a=!!r.shiftKey,s=!!r.altKey;this.keys[i].forEach(function(l){l.meta===o&&l.shift===a&&(l.alt===s||l.alt===void 0)&&(r.preventDefault(),r.stopPropagation(),typeof l.command=="function"?l.command.apply(this):l.command!==!1&&this.execAction(l.command))},this)}}});e.extensions.keyboardCommands=n}(),function(){var n=e.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(r){if(r.preventDefault(),r.stopPropagation(),!this.isDisplayed()){var i=this.document.queryCommandValue("fontName")+"";this.showForm(i)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(r){var i=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),i.value=r||"",i.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var r=this.document,i=r.createElement("div"),o=r.createElement("select"),a=r.createElement("a"),s=r.createElement("a"),l;i.className="medium-editor-toolbar-form",i.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(i,"click",this.handleFormClick.bind(this));for(var u=0;u<this.fonts.length;u++)l=r.createElement("option"),l.innerHTML=this.fonts[u],l.value=this.fonts[u],o.appendChild(l);return o.className="medium-editor-toolbar-select",i.appendChild(o),this.on(o,"change",this.handleFontChange.bind(this)),s.setAttribute("href","#"),s.className="medium-editor-toobar-save",s.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",i.appendChild(s),this.on(s,"click",this.handleSaveClick.bind(this),!0),a.setAttribute("href","#"),a.className="medium-editor-toobar-close",a.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",i.appendChild(a),this.on(a,"click",this.handleCloseClick.bind(this)),i},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){e.selection.getSelectedElements(this.document).forEach(function(r){r.nodeName.toLowerCase()==="font"&&r.hasAttribute("face")&&r.removeAttribute("face")})},handleFontChange:function(){var r=this.getSelect().value;r===""?this.clearFontName():this.execAction("fontName",{value:r})},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});e.extensions.fontName=n}(),function(){var n=e.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(r){if(r.preventDefault(),r.stopPropagation(),!this.isDisplayed()){var i=this.document.queryCommandValue("fontSize")+"";this.showForm(i)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(r){var i=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),i.value=r||"",i.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var r=this.document,i=r.createElement("div"),o=r.createElement("input"),a=r.createElement("a"),s=r.createElement("a");return i.className="medium-editor-toolbar-form",i.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(i,"click",this.handleFormClick.bind(this)),o.setAttribute("type","range"),o.setAttribute("min","1"),o.setAttribute("max","7"),o.className="medium-editor-toolbar-input",i.appendChild(o),this.on(o,"change",this.handleSliderChange.bind(this)),s.setAttribute("href","#"),s.className="medium-editor-toobar-save",s.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",i.appendChild(s),this.on(s,"click",this.handleSaveClick.bind(this),!0),a.setAttribute("href","#"),a.className="medium-editor-toobar-close",a.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",i.appendChild(a),this.on(a,"click",this.handleCloseClick.bind(this)),i},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){e.selection.getSelectedElements(this.document).forEach(function(r){r.nodeName.toLowerCase()==="font"&&r.hasAttribute("size")&&r.removeAttribute("size")})},handleSliderChange:function(){var r=this.getInput().value;r==="4"?this.clearFontSize():this.execAction("fontSize",{value:r})},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});e.extensions.fontSize=n}(),function(){var n="%ME_PASTEBIN%",r=null,i=null,o=function(u){u.stopPropagation()};function a(){return[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]]}function s(u,c,d){var f=u.clipboardData||c.clipboardData||d.dataTransfer,h={};if(!f)return h;if(f.getData){var v=f.getData("Text");v&&v.length>0&&(h["text/plain"]=v)}if(f.types)for(var m=0;m<f.types.length;m++){var g=f.types[m];h[g]=f.getData(g)}return h}var l=e.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],unwrapTags:[],init:function(){e.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach(function(u){this.on(u,"paste",this.handlePaste.bind(this))},this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(u,c){this.on(c,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(u,c){if(!u.defaultPrevented){var d=s(u,this.window,this.document),f=d["text/html"],h=d["text/plain"];this.window.clipboardData&&u.clipboardData===void 0&&!f&&(f=h),(f||h)&&(u.preventDefault(),this.doPaste(f,h,c))}},doPaste:function(u,c,d){var f,h="",v;if(this.cleanPastedHTML&&u)return this.cleanPaste(u);if(c){if(this.getEditorOption("disableReturn")||d&&d.getAttribute("data-disable-return"))h=e.util.htmlEntities(c);else if(f=c.split(/[\r\n]+/g),f.length>1)for(v=0;v<f.length;v+=1)f[v]!==""&&(h+="<p>"+e.util.htmlEntities(f[v])+"</p>");else h=e.util.htmlEntities(f[0]);e.util.insertHTMLCommand(this.document,h)}},handlePasteBinPaste:function(u){if(u.defaultPrevented){this.removePasteBin();return}var c=s(u,this.window,this.document),d=c["text/html"],f=c["text/plain"],h=i;if(!this.cleanPastedHTML||d){u.preventDefault(),this.removePasteBin(),this.doPaste(d,f,h),this.trigger("editablePaste",{currentTarget:h,target:h},h);return}setTimeout((function(){this.cleanPastedHTML&&(d=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(d,f,h),this.trigger("editablePaste",{currentTarget:h,target:h},h)}).bind(this),0)},handleKeydown:function(u,c){e.util.isKey(u,e.util.keyCode.V)&&e.util.isMetaCtrlKey(u)&&(u.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(c))},createPasteBin:function(u){var c,d=e.selection.getSelectionRange(this.document),f=this.window.pageYOffset;i=u,d&&(c=d.getClientRects(),c.length?f+=c[0].top:d.startContainer.getBoundingClientRect!==void 0?f+=d.startContainer.getBoundingClientRect().top:f+=d.getBoundingClientRect().top),r=d;var h=this.document.createElement("div");h.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),h.setAttribute("style","border: 1px red solid; position: absolute; top: "+f+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),h.setAttribute("contentEditable",!0),h.innerHTML=n,this.document.body.appendChild(h),this.on(h,"focus",o),this.on(h,"focusin",o),this.on(h,"focusout",o),h.focus(),e.selection.selectNode(h,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(h,"paste",this.boundHandlePaste)},removePasteBin:function(){r!==null&&(e.selection.selectRange(this.document,r),r=null),i!==null&&(i=null);var u=this.getPasteBin();u&&u&&(this.off(u,"focus",o),this.off(u,"focusin",o),this.off(u,"focusout",o),this.off(u,"paste",this.boundHandlePaste),u.parentElement.removeChild(u))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var u=this.getPasteBin();if(!u||u.firstChild&&u.firstChild.id==="mcepastebin")return!1;var c=u.innerHTML;return!c||c===n?!1:c},cleanPaste:function(u){var c,d,f,h,v=/<p|<br|<div/.test(u),m=[].concat(this.preCleanReplacements||[],a(),this.cleanReplacements||[]);for(c=0;c<m.length;c+=1)u=u.replace(m[c][0],m[c][1]);if(!v)return this.pasteHTML(u);for(f=this.document.createElement("div"),f.innerHTML="<p>"+u.split("<br><br>").join("</p><p>")+"</p>",d=f.querySelectorAll("a,p,div,br"),c=0;c<d.length;c+=1)switch(h=d[c],h.innerHTML=h.innerHTML.replace(/\n/gi," "),h.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(h);break;case"br":this.filterLineBreak(h);break}this.pasteHTML(f.innerHTML)},pasteHTML:function(u,c){c=e.util.defaults({},c,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags,unwrapTags:this.unwrapTags});var d,f,h,v,m=this.document.createDocumentFragment();for(m.appendChild(this.document.createElement("body")),v=m.querySelector("body"),v.innerHTML=u,this.cleanupSpans(v),d=v.querySelectorAll("*"),h=0;h<d.length;h+=1)f=d[h],f.nodeName.toLowerCase()==="a"&&this.getEditorOption("targetBlank")&&e.util.setTargetBlank(f),e.util.cleanupAttrs(f,c.cleanAttrs),e.util.cleanupTags(f,c.cleanTags),e.util.unwrapTags(f,c.unwrapTags);e.util.insertHTMLCommand(this.document,v.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(u){return u&&(u.nodeName.toLowerCase()==="p"||u.nodeName.toLowerCase()==="div")},filterCommonBlocks:function(u){/^\s*$/.test(u.textContent)&&u.parentNode&&u.parentNode.removeChild(u)},filterLineBreak:function(u){this.isCommonBlock(u.previousElementSibling)?this.removeWithParent(u):this.isCommonBlock(u.parentNode)&&(u.parentNode.firstChild===u||u.parentNode.lastChild===u)?this.removeWithParent(u):u.parentNode&&u.parentNode.childElementCount===1&&u.parentNode.textContent===""&&this.removeWithParent(u)},removeWithParent:function(u){u&&u.parentNode&&(u.parentNode.parentNode&&u.parentNode.childElementCount===1?u.parentNode.parentNode.removeChild(u.parentNode):u.parentNode.removeChild(u))},cleanupSpans:function(u){var c,d,f,h=u.querySelectorAll(".replace-with"),v=function(m){return m&&m.nodeName!=="#text"&&m.getAttribute("contenteditable")==="false"};for(c=0;c<h.length;c+=1)d=h[c],f=this.document.createElement(d.classList.contains("bold")?"b":"i"),d.classList.contains("bold")&&d.classList.contains("italic")?f.innerHTML="<i>"+d.innerHTML+"</i>":f.innerHTML=d.innerHTML,d.parentNode.replaceChild(f,d);for(h=u.querySelectorAll("span"),c=0;c<h.length;c+=1){if(d=h[c],e.util.traverseUp(d,v))return!1;e.util.unwrap(d,this.document)}}});e.extensions.paste=l}(),function(){var n=e.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(r,i){this.initElement(i)},initElement:function(r){r.getAttribute("data-placeholder")||r.setAttribute("data-placeholder",this.text),this.updatePlaceholder(r)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(r,i){this.cleanupElement(i)},cleanupElement:function(r){r.getAttribute("data-placeholder")===this.text&&r.removeAttribute("data-placeholder")},showPlaceholder:function(r){r&&(e.util.isFF&&r.childNodes.length===0?(r.classList.add("medium-editor-placeholder-relative"),r.classList.remove("medium-editor-placeholder")):(r.classList.add("medium-editor-placeholder"),r.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(r){r&&(r.classList.remove("medium-editor-placeholder"),r.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(r,i){if(r.querySelector("img, blockquote, ul, ol, table")||r.textContent.replace(/^\s+|\s+$/g,"")!=="")return this.hidePlaceholder(r);i||this.showPlaceholder(r)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(r,i){var o=this.hideOnClick&&i===this.base.getFocusedElement();this.updatePlaceholder(i,o)},handleFocus:function(r,i){this.hidePlaceholder(i)},handleBlur:function(r,i){this.updatePlaceholder(i)}});e.extensions.placeholder=n}(),function(){var n=e.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(r,i){return this.base.extensions.forEach(function(o){if(o!==this)return r.apply(i||this,arguments)},this)},createToolbar:function(){var r=this.document.createElement("div");return r.id="medium-editor-toolbar-"+this.getEditorId(),r.className="medium-editor-toolbar",this.static?r.className+=" static-toolbar":this.relativeContainer?r.className+=" medium-editor-relative-toolbar":r.className+=" medium-editor-stalker-toolbar",r.appendChild(this.createToolbarButtons()),this.forEachExtension(function(i){i.hasForm&&r.appendChild(i.getForm())}),this.attachEventHandlers(),r},createToolbarButtons:function(){var r=this.document.createElement("ul"),i,o,a,s,l,u;return r.id="medium-editor-toolbar-actions"+this.getEditorId(),r.className="medium-editor-toolbar-actions",r.style.display="block",this.buttons.forEach(function(c){typeof c=="string"?(l=c,u=null):(l=c.name,u=c),s=this.base.addBuiltInExtension(l,u),s&&typeof s.getButton=="function"&&(o=s.getButton(this.base),i=this.document.createElement("li"),e.util.isElement(o)?i.appendChild(o):i.innerHTML=o,r.appendChild(i))},this),a=r.querySelectorAll("button"),a.length>0&&(a[0].classList.add(this.firstButtonClass),a[a.length-1].classList.add(this.lastButtonClass)),r},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=e.util.throttle((function(){this.base.isActive&&this.positionToolbarIfShown()}).bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(r){if(r&&r.target&&e.util.isDescendant(this.getToolbarElement(),r.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout((function(){this.checkState()}).bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout((function(){this.hideToolbar()}).bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return this.getToolbarActionsElement().style.display==="block"},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay((function(){this.showToolbar()}).bind(this))},hideExtensionForms:function(){this.forEachExtension(function(r){r.hasForm&&r.isDisplayed()&&r.hideForm()})},multipleBlockElementsSelected:function(){var r=/<[^\/>][^>]*><\/[^>]+>/gim,i=new RegExp("<("+e.util.blockContainerElementNames.join("|")+")[^>]*>","g"),o=e.selection.getSelectionHtml(this.document).replace(r,""),a=o.match(i);return!!a&&a.length>1},modifySelection:function(){var r=this.window.getSelection(),i=r.getRangeAt(0);if(this.standardizeSelectionStart&&i.startContainer.nodeValue&&i.startOffset===i.startContainer.nodeValue.length){var o=e.util.findAdjacentTextNodeWithContent(e.selection.getSelectionElement(this.window),i.startContainer,this.document);if(o){for(var a=0;o.nodeValue.substr(a,1).trim().length===0;)a=a+1;i=e.selection.select(this.document,o,a,i.endContainer,i.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||e.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var r=e.selection.getSelectionElement(this.window);if(!r||this.getEditorElements().indexOf(r)===-1||r.getAttribute("data-disable-toolbar"))return this.hideToolbar();if(this.updateOnEmptySelection&&this.static)return this.showAndUpdateToolbar();if(!e.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected())return this.hideToolbar();this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(r){typeof r.isActive=="function"&&typeof r.setInactive=="function"&&r.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var r=[],i=null,o=e.selection.getSelectionRange(this.document),a,s=function(l){typeof l.checkState=="function"?l.checkState(a):typeof l.isActive=="function"&&typeof l.isAlreadyApplied=="function"&&typeof l.setActive=="function"&&!l.isActive()&&l.isAlreadyApplied(a)&&l.setActive()};if(o&&(this.forEachExtension(function(l){if(typeof l.queryCommandState=="function"&&(i=l.queryCommandState(),i!==null)){i&&typeof l.setActive=="function"&&l.setActive();return}r.push(l)}),a=e.selection.getSelectedParentElement(o),!!this.getEditorElements().some(function(l){return e.util.isDescendant(l,a,!0)})))for(;a&&(r.forEach(s),!e.util.isMediumEditorElement(a));)a=a.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var r=this.base.getFocusedElement(),i=this.window.getSelection();if(!r)return this;(this.static||!i.isCollapsed)&&(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(r):this.positionToolbar(i)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(r){this.getToolbarElement().style.left="0";var i=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,o=this.window.innerWidth,a=this.getToolbarElement(),s=r.getBoundingClientRect(),l=s.top+i,u=s.left+s.width/2,c=a.offsetHeight,d=a.offsetWidth,f=d/2,h;switch(this.sticky?i>l+r.offsetHeight-c-this.stickyTopOffset?(a.style.top=l+r.offsetHeight-c+"px",a.classList.remove("medium-editor-sticky-toolbar")):i>l-c-this.stickyTopOffset?(a.classList.add("medium-editor-sticky-toolbar"),a.style.top=this.stickyTopOffset+"px"):(a.classList.remove("medium-editor-sticky-toolbar"),a.style.top=l-c+"px"):a.style.top=l-c+"px",this.align){case"left":h=s.left;break;case"right":h=s.right-d;break;case"center":h=u-f;break}h<0?h=0:h+d>o&&(h=o-Math.ceil(d)-1),a.style.left=h+"px"},positionToolbar:function(r){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var i=r.getRangeAt(0),o=i.getBoundingClientRect();(!o||o.height===0&&o.width===0&&i.startContainer===i.endContainer)&&(i.startContainer.nodeType===1&&i.startContainer.querySelector("img")?o=i.startContainer.querySelector("img").getBoundingClientRect():o=i.startContainer.getBoundingClientRect());var a=this.window.innerWidth,s=this.getToolbarElement(),l=s.offsetHeight,u=s.offsetWidth,c=u/2,d=50,f=this.diffLeft-c,h=this.getEditorOption("elementsContainer"),v=["absolute","fixed"].indexOf(window.getComputedStyle(h).getPropertyValue("position"))>-1,m={},g={},x,_;v?(_=h.getBoundingClientRect(),["top","left"].forEach(function(w){g[w]=o[w]-_[w]}),g.width=o.width,g.height=o.height,o=g,a=_.width,m.top=h.scrollTop):m.top=this.window.pageYOffset,x=o.left+o.width/2,m.top+=o.top-l,o.top<d?(s.classList.add("medium-toolbar-arrow-over"),s.classList.remove("medium-toolbar-arrow-under"),m.top+=d+o.height-this.diffTop):(s.classList.add("medium-toolbar-arrow-under"),s.classList.remove("medium-toolbar-arrow-over"),m.top+=this.diffTop),x<c?(m.left=f+c,m.right="initial"):a-x<c?(m.left="auto",m.right=0):(m.left=f+x,m.right="initial"),["top","left","right"].forEach(function(w){s.style[w]=m[w]+(isNaN(m[w])?"":"px")})}});e.extensions.toolbar=n}(),function(){var n=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(r){var i="medium-editor-dragover";r.preventDefault(),r.dataTransfer.dropEffect="copy",r.type==="dragover"?r.target.classList.add(i):r.type==="dragleave"&&r.target.classList.remove(i)},handleDrop:function(r){var i="medium-editor-dragover",o;r.preventDefault(),r.stopPropagation(),r.dataTransfer.files&&(o=Array.prototype.slice.call(r.dataTransfer.files,0),o.some((function(a){if(a.type.match("image")){var s,l;s=new FileReader,s.readAsDataURL(a),l="medium-img-"+ +new Date,e.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+l+'" />'),s.onload=(function(){var u=this.document.getElementById(l);u&&(u.removeAttribute("id"),u.removeAttribute("class"),u.src=s.result)}).bind(this)}}).bind(this))),r.target.classList.remove(i)}});e.extensions.imageDragging=n}(),function(){function n(R){var I=e.selection.getSelectionStart(this.options.ownerDocument),L=I.textContent,k=e.selection.getCaretOffsets(I);(L[k.left-1]===void 0||L[k.left-1].trim()===""||L[k.left]!==void 0&&L[k.left].trim()==="")&&R.preventDefault()}function r(R,I){if(this.options.disableReturn||I.getAttribute("data-disable-return"))R.preventDefault();else if(this.options.disableDoubleReturn||I.getAttribute("data-disable-double-return")){var L=e.selection.getSelectionStart(this.options.ownerDocument);(L&&L.textContent.trim()===""&&L.nodeName.toLowerCase()!=="li"||L.previousElementSibling&&L.previousElementSibling.nodeName.toLowerCase()!=="br"&&L.previousElementSibling.textContent.trim()==="")&&R.preventDefault()}}function i(R){var I=e.selection.getSelectionStart(this.options.ownerDocument),L=I&&I.nodeName.toLowerCase();L==="pre"&&(R.preventDefault(),e.util.insertHTMLCommand(this.options.ownerDocument,"    ")),e.util.isListItem(I)&&(R.preventDefault(),R.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function o(R){var I,L=e.selection.getSelectionStart(this.options.ownerDocument),k=L.nodeName.toLowerCase(),B=/^(\s+|<br\/?>)?$/i,q=/h\d/i;e.util.isKey(R,[e.util.keyCode.BACKSPACE,e.util.keyCode.ENTER])&&L.previousElementSibling&&q.test(k)&&e.selection.getCaretOffsets(L).left===0?e.util.isKey(R,e.util.keyCode.BACKSPACE)&&B.test(L.previousElementSibling.innerHTML)?(L.previousElementSibling.parentNode.removeChild(L.previousElementSibling),R.preventDefault()):!this.options.disableDoubleReturn&&e.util.isKey(R,e.util.keyCode.ENTER)&&(I=this.options.ownerDocument.createElement("p"),I.innerHTML="<br>",L.previousElementSibling.parentNode.insertBefore(I,L),R.preventDefault()):e.util.isKey(R,e.util.keyCode.DELETE)&&L.nextElementSibling&&L.previousElementSibling&&!q.test(k)&&B.test(L.innerHTML)&&q.test(L.nextElementSibling.nodeName.toLowerCase())?(e.selection.moveCursor(this.options.ownerDocument,L.nextElementSibling),L.previousElementSibling.parentNode.removeChild(L),R.preventDefault()):e.util.isKey(R,e.util.keyCode.BACKSPACE)&&k==="li"&&B.test(L.innerHTML)&&!L.previousElementSibling&&!L.parentElement.previousElementSibling&&L.nextElementSibling&&L.nextElementSibling.nodeName.toLowerCase()==="li"?(I=this.options.ownerDocument.createElement("p"),I.innerHTML="<br>",L.parentElement.parentElement.insertBefore(I,L.parentElement),e.selection.moveCursor(this.options.ownerDocument,I),L.parentElement.removeChild(L),R.preventDefault()):e.util.isKey(R,e.util.keyCode.BACKSPACE)&&e.util.getClosestTag(L,"blockquote")!==!1&&e.selection.getCaretOffsets(L).left===0?(R.preventDefault(),e.util.execFormatBlock(this.options.ownerDocument,"p")):e.util.isKey(R,e.util.keyCode.ENTER)&&e.util.getClosestTag(L,"blockquote")!==!1&&e.selection.getCaretOffsets(L).right===0?(I=this.options.ownerDocument.createElement("p"),I.innerHTML="<br>",L.parentElement.insertBefore(I,L.nextSibling),e.selection.moveCursor(this.options.ownerDocument,I),R.preventDefault()):e.util.isKey(R,e.util.keyCode.BACKSPACE)&&e.util.isMediumEditorElement(L.parentElement)&&!L.previousElementSibling&&L.nextElementSibling&&B.test(L.innerHTML)&&(R.preventDefault(),e.selection.moveCursor(this.options.ownerDocument,L.nextSibling),L.parentElement.removeChild(L))}function a(R){var I=e.selection.getSelectionStart(this.options.ownerDocument),L;I&&(e.util.isMediumEditorElement(I)&&I.children.length===0&&!e.util.isBlockContainer(I)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),e.util.isKey(R,e.util.keyCode.ENTER)&&!e.util.isListItem(I)&&!e.util.isBlockContainer(I)&&(L=I.nodeName.toLowerCase(),L==="a"?this.options.ownerDocument.execCommand("unlink",!1,null):!R.shiftKey&&!R.ctrlKey&&this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function s(R,I){var L=I.parentNode.querySelector('textarea[medium-editor-textarea-id="'+I.getAttribute("medium-editor-textarea-id")+'"]');L&&(L.value=I.innerHTML.trim())}function l(R){R._mediumEditors||(R._mediumEditors=[null]),this.id||(this.id=R._mediumEditors.length),R._mediumEditors[this.id]=this}function u(R){!R._mediumEditors||!R._mediumEditors[this.id]||(R._mediumEditors[this.id]=null)}function c(R,I,L){var k=[];if(R||(R=[]),typeof R=="string"&&(R=I.querySelectorAll(R)),e.util.isElement(R)&&(R=[R]),L)for(var B=0;B<R.length;B++){var q=R[B];e.util.isElement(q)&&!q.getAttribute("data-medium-editor-element")&&!q.getAttribute("medium-editor-textarea-id")&&k.push(q)}else k=Array.prototype.slice.apply(R);return k}function d(R){var I=R.parentNode.querySelector('textarea[medium-editor-textarea-id="'+R.getAttribute("medium-editor-textarea-id")+'"]');I&&(I.classList.remove("medium-editor-hidden"),I.removeAttribute("medium-editor-textarea-id")),R.parentNode&&R.parentNode.removeChild(R)}function f(R,I){return Object.keys(I).forEach(function(L){R[L]===void 0&&(R[L]=I[L])}),R}function h(R,I,L){var k={window:L.options.contentWindow,document:L.options.ownerDocument,base:L};return R=f(R,k),typeof R.init=="function"&&R.init(),R.name||(R.name=I),R}function v(){return this.elements.every(function(R){return!!R.getAttribute("data-disable-toolbar")})?!1:this.options.toolbar!==!1}function m(){return v.call(this)?this.options.anchorPreview!==!1:!1}function g(){return this.options.placeholder!==!1}function x(){return this.options.autoLink!==!1}function _(){return this.options.imageDragging!==!1}function w(){return this.options.keyboardCommands!==!1}function S(){return!this.options.extensions.imageDragging}function C(R){for(var I=this.options.ownerDocument.createElement("div"),L=Date.now(),k="medium-editor-"+L,B=R.attributes;this.options.ownerDocument.getElementById(k);)L++,k="medium-editor-"+L;I.className=R.className,I.id=k,I.innerHTML=R.value,R.setAttribute("medium-editor-textarea-id",k);for(var q=0,X=B.length;q<X;q++)I.hasAttribute(B[q].nodeName)||I.setAttribute(B[q].nodeName,B[q].value);return R.form&&this.on(R.form,"reset",(function(z){z.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(k))}).bind(this)),R.classList.add("medium-editor-hidden"),R.parentNode.insertBefore(I,R),I}function O(R,I){if(!R.getAttribute("data-medium-editor-element")){R.nodeName.toLowerCase()==="textarea"&&(R=C.call(this,R),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=s.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),!this.options.disableEditing&&!R.getAttribute("data-disable-editing")&&(R.setAttribute("contentEditable",!0),R.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(R.getAttribute("data-disable-return")||R.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=r.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),!this.options.disableReturn&&!R.getAttribute("data-disable-return")&&this.on(R,"keyup",a.bind(this));var L=e.util.guid();R.setAttribute("data-medium-editor-element",!0),R.classList.add("medium-editor-element"),R.setAttribute("role","textbox"),R.setAttribute("aria-multiline",!0),R.setAttribute("data-medium-editor-editor-index",I),R.setAttribute("medium-editor-index",L),j[L]=R.innerHTML,this.events.attachAllEventsToElement(R)}return R}function T(){this.subscribe("editableKeydownTab",i.bind(this)),this.subscribe("editableKeydownDelete",o.bind(this)),this.subscribe("editableKeydownEnter",o.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",n.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=r.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function N(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(B){B!=="toolbar"&&this.options.extensions[B]&&this.extensions.push(h(this.options.extensions[B],B,this))},this),S.call(this)){var R=this.options.fileDragging;R||(R={},_.call(this)||(R.allowedTypes=[])),this.addBuiltInExtension("fileDragging",R)}var I={paste:!0,"anchor-preview":m.call(this),autoLink:x.call(this),keyboardCommands:w.call(this),placeholder:g.call(this)};Object.keys(I).forEach(function(B){I[B]&&this.addBuiltInExtension(B)},this);var L=this.options.extensions.toolbar;if(!L&&v.call(this)){var k=e.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});L=new e.extensions.toolbar(k)}L&&this.extensions.push(h(L,"toolbar",this))}function M(R,I){var L=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return I&&L.forEach(function(k){I.hasOwnProperty(k[0])&&I[k[0]]!==void 0&&e.util.deprecated(k[0],k[1],"v6.0.0")}),e.util.defaults({},I,R)}function D(R,I){var L=/^append-(.+)$/gi,k=/justify([A-Za-z]*)$/g,B,q;if(B=L.exec(R),B)return e.util.execFormatBlock(this.options.ownerDocument,B[1]);if(R==="fontSize")return I.size&&e.util.deprecated(".size option for fontSize command",".value","6.0.0"),q=I.value||I.size,this.options.ownerDocument.execCommand("fontSize",!1,q);if(R==="fontName")return I.name&&e.util.deprecated(".name option for fontName command",".value","6.0.0"),q=I.value||I.name,this.options.ownerDocument.execCommand("fontName",!1,q);if(R==="createLink")return this.createLink(I);if(R==="image"){var X=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,X)}if(R==="html"){var z=this.options.contentWindow.getSelection().toString().trim();return e.util.insertHTMLCommand(this.options.ownerDocument,z)}if(k.exec(R)){var H=this.options.ownerDocument.execCommand(R,!1,null),Q=e.selection.getSelectedParentElement(e.selection.getSelectionRange(this.options.ownerDocument));return Q&&F.call(this,e.util.getTopBlockContainer(Q)),H}return q=I&&I.value,this.options.ownerDocument.execCommand(R,!1,q)}function F(R){if(R){var I,L=Array.prototype.slice.call(R.childNodes).filter(function(k){var B=k.nodeName.toLowerCase()==="div";return B&&!I&&(I=k.style.textAlign),B});L.length&&(this.saveSelection(),L.forEach(function(k){if(k.style.textAlign===I){var B=k.lastChild;if(B){e.util.unwrap(k,this.options.ownerDocument);var q=this.options.ownerDocument.createElement("BR");B.parentNode.insertBefore(q,B.nextSibling)}}},this),R.style.textAlign=I,this.restoreSelection())}}var j={};e.prototype={init:function(R,I){return this.options=M.call(this,this.defaults,I),this.origElements=R,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(l.call(this,this.options.contentWindow),this.events=new e.Events(this),this.elements=[],this.addElements(this.origElements),this.elements.length!==0&&(this.isActive=!0,N.call(this),T.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(R){typeof R.destroy=="function"&&R.destroy()},this),this.events.destroy(),this.elements.forEach(function(R){this.options.spellcheck&&(R.innerHTML=R.innerHTML),R.removeAttribute("contentEditable"),R.removeAttribute("spellcheck"),R.removeAttribute("data-medium-editor-element"),R.classList.remove("medium-editor-element"),R.removeAttribute("role"),R.removeAttribute("aria-multiline"),R.removeAttribute("medium-editor-index"),R.removeAttribute("data-medium-editor-editor-index"),R.getAttribute("medium-editor-textarea-id")&&d(R)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,u.call(this,this.options.contentWindow))},on:function(R,I,L,k){return this.events.attachDOMEvent(R,I,L,k),this},off:function(R,I,L,k){return this.events.detachDOMEvent(R,I,L,k),this},subscribe:function(R,I){return this.events.attachCustomEvent(R,I),this},unsubscribe:function(R,I){return this.events.detachCustomEvent(R,I),this},trigger:function(R,I,L){return this.events.triggerCustomEvent(R,I,L),this},delay:function(R){var I=this;return setTimeout(function(){I.isActive&&R()},this.options.delay)},serialize:function(){var R,I,L={},k=this.elements.length;for(R=0;R<k;R+=1)I=this.elements[R].id!==""?this.elements[R].id:"element-"+R,L[I]={value:this.elements[R].innerHTML.trim()};return L},getExtensionByName:function(R){var I;return this.extensions&&this.extensions.length&&this.extensions.some(function(L){return L.name===R?(I=L,!0):!1}),I},addBuiltInExtension:function(R,I){var L=this.getExtensionByName(R),k;if(L)return L;switch(R){case"anchor":k=e.util.extend({},this.options.anchor,I),L=new e.extensions.anchor(k);break;case"anchor-preview":L=new e.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":L=new e.extensions.autoLink;break;case"fileDragging":L=new e.extensions.fileDragging(I);break;case"fontname":L=new e.extensions.fontName(this.options.fontName);break;case"fontsize":L=new e.extensions.fontSize(I);break;case"keyboardCommands":L=new e.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":L=new e.extensions.paste(this.options.paste);break;case"placeholder":L=new e.extensions.placeholder(this.options.placeholder);break;default:e.extensions.button.isBuiltInButton(R)&&(I?(k=e.util.defaults({},I,e.extensions.button.prototype.defaults[R]),L=new e.extensions.button(k)):L=new e.extensions.button(R))}return L&&this.extensions.push(h(L,R,this)),L},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var R=this.getExtensionByName("toolbar");return R&&R.checkState(),this},queryCommandState:function(R){var I=/^full-(.+)$/gi,L,k=null;L=I.exec(R),L&&(R=L[1]);try{k=this.options.ownerDocument.queryCommandState(R)}catch{k=null}return k},execAction:function(R,I){var L=/^full-(.+)$/gi,k,B;return k=L.exec(R),k?(this.saveSelection(),this.selectAllContents(),B=D.call(this,k[1],I),this.restoreSelection()):B=D.call(this,R,I),(R==="insertunorderedlist"||R==="insertorderedlist")&&e.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),B},getSelectedParentElement:function(R){return R===void 0&&(R=this.options.contentWindow.getSelection().getRangeAt(0)),e.selection.getSelectedParentElement(R)},selectAllContents:function(){var R=e.selection.getSelectionElement(this.options.contentWindow);if(R){for(;R.children.length===1;)R=R.children[0];this.selectElement(R)}},selectElement:function(R){e.selection.selectNode(R,this.options.ownerDocument);var I=e.selection.getSelectionElement(this.options.contentWindow);I&&this.events.focusElement(I)},getFocusedElement:function(){var R;return this.elements.some(function(I){return!R&&I.getAttribute("data-medium-focused")&&(R=I),!!R},this),R},exportSelection:function(){var R=e.selection.getSelectionElement(this.options.contentWindow),I=this.elements.indexOf(R),L=null;return I>=0&&(L=e.selection.exportSelection(R,this.options.ownerDocument)),L!==null&&I!==0&&(L.editableElementIndex=I),L},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(R,I){if(R){var L=this.elements[R.editableElementIndex||0];e.selection.importSelection(R,L,this.options.ownerDocument,I)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(R){var I=e.selection.getSelectionElement(this.options.contentWindow),L={},k;if(this.elements.indexOf(I)!==-1){try{if(this.events.disableCustomEvent("editableInput"),R.url&&e.util.deprecated(".url option for createLink",".value","6.0.0"),k=R.url||R.value,k&&k.trim().length>0){var B=this.options.contentWindow.getSelection();if(B){var q=B.getRangeAt(0),X=q.commonAncestorContainer,z,H,Q,V;if(q.endContainer.nodeType===3&&q.startContainer.nodeType!==3&&q.startOffset===0&&q.startContainer.firstChild===q.endContainer&&(X=q.endContainer),H=e.util.getClosestBlockContainer(q.startContainer),Q=e.util.getClosestBlockContainer(q.endContainer),X.nodeType!==3&&X.textContent.length!==0&&H===Q){var W=H||I,te=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),z=this.exportSelection(),te.appendChild(W.cloneNode(!0)),I===W?e.selection.select(this.options.ownerDocument,W.firstChild,0,W.lastChild,W.lastChild.nodeType===3?W.lastChild.nodeValue.length:W.lastChild.childNodes.length):e.selection.select(this.options.ownerDocument,W,0,W,W.childNodes.length);var K=this.exportSelection();V=e.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,te,{start:z.start-K.start,end:z.end-K.start,editableElementIndex:z.editableElementIndex}),V.length===0&&(te=this.options.ownerDocument.createDocumentFragment(),te.appendChild(X.cloneNode(!0)),V=[te.firstChild.firstChild,te.firstChild.lastChild]),e.util.createLink(this.options.ownerDocument,V,k.trim());var U=(te.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;e.util.insertHTMLCommand(this.options.ownerDocument,te.firstChild.innerHTML.replace(/^\s+/,"")),z.start-=U,z.end-=U,this.importSelection(z)}else this.options.ownerDocument.execCommand("createLink",!1,k);this.options.targetBlank||R.target==="_blank"?e.util.setTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),k):e.util.removeTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),k),R.buttonClass&&e.util.addClassToAnchors(e.selection.getSelectionStart(this.options.ownerDocument),R.buttonClass)}}if(this.options.targetBlank||R.target==="_blank"||R.buttonClass){L=this.options.ownerDocument.createEvent("HTMLEvents"),L.initEvent("input",!0,!0,this.options.contentWindow);for(var ee=0,fe=this.elements.length;ee<fe;ee+=1)this.elements[ee].dispatchEvent(L)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",L,I)}},cleanPaste:function(R){this.getExtensionByName("paste").cleanPaste(R)},pasteHTML:function(R,I){this.getExtensionByName("paste").pasteHTML(R,I)},setContent:function(R,I){if(I=I||0,this.elements[I]){var L=this.elements[I];L.innerHTML=R,this.checkContentChanged(L)}},getContent:function(R){return R=R||0,this.elements[R]?this.elements[R].innerHTML.trim():null},checkContentChanged:function(R){R=R||e.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(R,{target:R,currentTarget:R})},resetContent:function(R){if(R){var I=this.elements.indexOf(R);I!==-1&&this.setContent(j[R.getAttribute("medium-editor-index")],I);return}this.elements.forEach(function(L,k){this.setContent(j[L.getAttribute("medium-editor-index")],k)},this)},addElements:function(R){var I=c(R,this.options.ownerDocument,!0);if(I.length===0)return!1;I.forEach(function(L){L=O.call(this,L,this.id),this.elements.push(L),this.trigger("addElement",{target:L,currentTarget:L},L)},this)},removeElements:function(R){var I=c(R,this.options.ownerDocument),L=I.map(function(k){return k.getAttribute("medium-editor-textarea-id")&&k.parentNode?k.parentNode.querySelector('div[medium-editor-textarea-id="'+k.getAttribute("medium-editor-textarea-id")+'"]'):k});this.elements=this.elements.filter(function(k){return L.indexOf(k)!==-1?(this.events.cleanupElement(k),k.getAttribute("medium-editor-textarea-id")&&d(k),this.trigger("removeElement",{target:k,currentTarget:k},k),!1):!0},this)}},e.getEditorFromElement=function(R){var I=R.getAttribute("data-medium-editor-editor-index"),L=R&&R.ownerDocument&&(R.ownerDocument.defaultView||R.ownerDocument.parentWindow);return L&&L._mediumEditors&&L._mediumEditors[I]?L._mediumEditors[I]:null}}(),function(){e.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),e.parseVersionString=function(n){var r=n.split("-"),i=r[0].split("."),o=r.length>1?r[1]:"";return{major:parseInt(i[0],10),minor:parseInt(i[1],10),revision:parseInt(i[2],10),preRelease:o,toString:function(){return[i[0],i[1],i[2]].join(".")+(o?"-"+o:"")}}},e.version=e.parseVersionString.call(this,"5.23.3"),e}())})(iH);var iOe=iH.exports;const YS=Ua(iOe);/*!
 * vanilla-picker v2.12.3
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2024 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */var hO=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},pO=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ux=function(){function t(e,n){var r=[],i=!0,o=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(i=(l=s.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(t){return this.indexOf(t)===0};String.prototype.padStart=String.prototype.padStart||function(t,e){for(var n=this;n.length<t;)n=e+n;return n};var oOe={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function OI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=e>0?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString();return n||"0"}var aOe=function(){function t(e,n,r,i){hO(this,t);var o=this;function a(l){if(l.startsWith("hsl")){var u=l.match(/([\-\d\.e]+)/g).map(Number),c=Ux(u,4),d=c[0],f=c[1],h=c[2],v=c[3];v===void 0&&(v=1),d/=360,f/=100,h/=100,o.hsla=[d,f,h,v]}else if(l.startsWith("rgb")){var m=l.match(/([\-\d\.e]+)/g).map(Number),g=Ux(m,4),x=g[0],_=g[1],w=g[2],S=g[3];S===void 0&&(S=1),o.rgba=[x,_,w,S]}else l.startsWith("#")?o.rgba=t.hexToRgb(l):o.rgba=t.nameToRgb(l)||t.hexToRgb(l)}if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(r===void 0){var s=e&&""+e;s&&a(s.toLowerCase())}else this.rgba=[e,n,r,i===void 0?1:i]}return pO(t,[{key:"printRGB",value:function(n){var r=n?this.rgba:this.rgba.slice(0,3),i=r.map(function(o,a){return OI(o,a===3?3:0)});return n?"rgba("+i+")":"rgb("+i+")"}},{key:"printHSL",value:function(n){var r=[360,100,100,1],i=["","%","%",""],o=n?this.hsla:this.hsla.slice(0,3),a=o.map(function(s,l){return OI(s*r[l],l===3?3:1)+i[l]});return n?"hsla("+a+")":"hsl("+a+")"}},{key:"printHex",value:function(n){var r=this.hex;return n?r:r.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=t.hslToRgb(this._hsla)},set:function(n){n.length===3&&(n[3]=1),this._rgba=n,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=t.rgbToHsl(this._rgba)},set:function(n){n.length===3&&(n[3]=1),this._hsla=n,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var n=this.rgba,r=n.map(function(i,o){return o<3?i.toString(16):Math.round(i*255).toString(16)});return"#"+r.map(function(i){return i.padStart(2,"0")}).join("")},set:function(n){this.rgba=t.hexToRgb(n)}}],[{key:"hexToRgb",value:function(n){var r=(n.startsWith("#")?n.slice(1):n).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!r.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+n);var i=r.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(o){return parseInt(o,16)});return i[3]=i[3]/255,i}},{key:"nameToRgb",value:function(n){var r=n.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),i=oOe[r];return i===void 0?i:t.hexToRgb(i.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(n){var r=Ux(n,4),i=r[0],o=r[1],a=r[2],s=r[3];i/=255,o/=255,a/=255;var l=Math.max(i,o,a),u=Math.min(i,o,a),c=void 0,d=void 0,f=(l+u)/2;if(l===u)c=d=0;else{var h=l-u;switch(d=f>.5?h/(2-l-u):h/(l+u),l){case i:c=(o-a)/h+(o<a?6:0);break;case o:c=(a-i)/h+2;break;case a:c=(i-o)/h+4;break}c/=6}return[c,d,f,s]}},{key:"hslToRgb",value:function(n){var r=Ux(n,4),i=r[0],o=r[1],a=r[2],s=r[3],l=void 0,u=void 0,c=void 0;if(o===0)l=u=c=a;else{var d=function(g,x,_){return _<0&&(_+=1),_>1&&(_-=1),_<.16666666666666666?g+(x-g)*6*_:_<.5?x:_<.6666666666666666?g+(x-g)*(.6666666666666666-_)*6:g},f=a<.5?a*(1+o):a+o-a*o,h=2*a-f;l=d(h,f,i+1/3),u=d(h,f,i),c=d(h,f,i-1/3)}var v=[l*255,u*255,c*255].map(Math.round);return v[3]=s,v}}]),t}(),sOe=function(){function t(){hO(this,t),this._events=[]}return pO(t,[{key:"add",value:function(n,r,i){n.addEventListener(r,i,!1),this._events.push({target:n,type:r,handler:i})}},{key:"remove",value:function(n,r,i){this._events=this._events.filter(function(o){var a=!0;return n&&n!==o.target&&(a=!1),r&&r!==o.type&&(a=!1),i&&i!==o.handler&&(a=!1),a&&t._doRemove(o.target,o.type,o.handler),!a})}},{key:"destroy",value:function(){this._events.forEach(function(n){return t._doRemove(n.target,n.type,n.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(n,r,i){n.removeEventListener(r,i,!1)}}]),t}();function lOe(t){var e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}function I2(t,e,n){var r=!1;function i(l,u,c){return Math.max(u,Math.min(l,c))}function o(l,u,c){if(c&&(r=!0),!!r){l.preventDefault();var d=e.getBoundingClientRect(),f=d.width,h=d.height,v=u.clientX,m=u.clientY,g=i(v-d.left,0,f),x=i(m-d.top,0,h);n(g/f,x/h)}}function a(l,u){var c=l.buttons===void 0?l.which:l.buttons;c===1?o(l,l,u):r=!1}function s(l,u){l.touches.length===1?o(l,l.touches[0],u):r=!1}t.add(e,"mousedown",function(l){a(l,!0)}),t.add(e,"touchstart",function(l){s(l,!0)}),t.add(window,"mousemove",a),t.add(e,"touchmove",s),t.add(window,"mouseup",function(l){r=!1}),t.add(e,"touchend",function(l){r=!1}),t.add(e,"touchcancel",function(l){r=!1})}var uOe=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,cOe=360,oH="keydown",Gx="mousedown",D2="focusin";function qu(t,e){return(e||document).querySelector(t)}function dOe(t){t.preventDefault(),t.stopPropagation()}function L2(t,e,n,r,i){t.add(e,oH,function(o){n.indexOf(o.key)>=0&&r(o)})}var aH=function(){function t(e){hO(this,t),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new sOe,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return pO(t,[{key:"setOptions",value:function(n){var r=this;if(!n)return;var i=this.settings;function o(u,c,d){for(var f in u)c[f]=u[f]}if(n instanceof HTMLElement)i.parent=n;else{i.parent&&n.parent&&i.parent!==n.parent&&(this._events.remove(i.parent),this._popupInited=!1),o(n,i),n.onChange&&(this.onChange=n.onChange),n.onDone&&(this.onDone=n.onDone),n.onOpen&&(this.onOpen=n.onOpen),n.onClose&&(this.onClose=n.onClose);var a=n.color||n.colour;a&&this._setColor(a)}var s=i.parent;if(s&&i.popup&&!this._popupInited){var l=function(c){return r.openHandler(c)};this._events.add(s,"click",l),L2(this._events,s,[" ","Spacebar","Enter"],l),this._popupInited=!0}else n.parent&&!i.popup&&this.show()}},{key:"openHandler",value:function(n){if(this.show()){n&&n.preventDefault(),this.settings.parent.style.pointerEvents="none";var r=n&&n.type===oH?this._domEdit:this.domElement;setTimeout(function(){return r.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(n){var r=n&&n.type,i=!1;if(!n)i=!0;else if(r===Gx||r===D2){var o=(this.__containedEvent||0)+100;n.timeStamp>o&&(i=!0)}else dOe(n),i=!0;i&&this.hide()&&(this.settings.parent.style.pointerEvents="",r!==Gx&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(n,r){this.closeHandler(),this.setOptions(n),r&&this.openHandler()}},{key:"setColor",value:function(n,r){this._setColor(n,{silent:r})}},{key:"_setColor",value:function(n,r){if(typeof n=="string"&&(n=n.trim()),!!n){r=r||{};var i=void 0;try{i=new aOe(n)}catch(a){if(r.failSilently)return;throw a}if(!this.settings.alpha){var o=i.hsla;o[3]=1,i.hsla=o}this.colour=this.color=i,this._setHSLA(null,null,null,null,r)}}},{key:"setColour",value:function(n,r){this.setColor(n,r)}},{key:"show",value:function(){var n=this.settings.parent;if(!n)return!1;if(this.domElement){var r=this._toggleDOM(!0);return this._setPosition(),r}var i=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',o=lOe(i);return this.domElement=o,this._domH=qu(".picker_hue",o),this._domSL=qu(".picker_sl",o),this._domA=qu(".picker_alpha",o),this._domEdit=qu(".picker_editor input",o),this._domSample=qu(".picker_sample",o),this._domOkay=qu(".picker_done button",o),this._domCancel=qu(".picker_cancel button",o),o.classList.add("layout_"+this.settings.layout),this.settings.alpha||o.classList.add("no_alpha"),this.settings.editor||o.classList.add("no_editor"),this.settings.cancelButton||o.classList.add("no_cancel"),this._ifPopup(function(){return o.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var n=this,r=this,i=this.domElement,o=this._events;function a(u,c,d){o.add(u,c,d)}a(i,"click",function(u){return u.preventDefault()}),I2(o,this._domH,function(u,c){return r._setHSLA(u)}),I2(o,this._domSL,function(u,c){return r._setHSLA(null,u,1-c)}),this.settings.alpha&&I2(o,this._domA,function(u,c){return r._setHSLA(null,null,null,1-c)});var s=this._domEdit;a(s,"input",function(u){r._setColor(this.value,{fromEditor:!0,failSilently:!0})}),a(s,"focus",function(u){var c=this;c.selectionStart===c.selectionEnd&&c.select()}),this._ifPopup(function(){var u=function(f){return n.closeHandler(f)};a(window,Gx,u),a(window,D2,u),L2(o,i,["Esc","Escape"],u);var c=function(f){n.__containedEvent=f.timeStamp};a(i,Gx,c),a(i,D2,c),a(n._domCancel,"click",u)});var l=function(c){n._ifPopup(function(){return n.closeHandler(c)}),n.onDone&&n.onDone(n.colour)};a(this._domOkay,"click",l),L2(o,i,["Enter"],l)}},{key:"_setPosition",value:function(){var n=this.settings.parent,r=this.domElement;n!==r.parentNode&&n.appendChild(r),this._ifPopup(function(i){getComputedStyle(n).position==="static"&&(n.style.position="relative");var o=i===!0?"popup_right":"popup_"+i;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(a){a===o?r.classList.add(a):r.classList.remove(a)}),r.classList.add(o)})}},{key:"_setHSLA",value:function(n,r,i,o,a){a=a||{};var s=this.colour,l=s.hsla;[n,r,i,o].forEach(function(u,c){(u||u===0)&&(l[c]=u)}),s.hsla=l,this._updateUI(a),this.onChange&&!a.silent&&this.onChange(s)}},{key:"_updateUI",value:function(n){if(!this.domElement)return;n=n||{};var r=this.colour,i=r.hsla,o="hsl("+i[0]*cOe+", 100%, 50%)",a=r.hslString,s=r.hslaString,l=this._domH,u=this._domSL,c=this._domA,d=qu(".picker_selector",l),f=qu(".picker_selector",u),h=qu(".picker_selector",c);function v(O,T,N){T.style.left=N*100+"%"}function m(O,T,N){T.style.top=N*100+"%"}v(l,d,i[0]),this._domSL.style.backgroundColor=this._domH.style.color=o,v(u,f,i[1]),m(u,f,1-i[2]),u.style.color=a,m(c,h,1-i[3]);var g=a,x=g.replace("hsl","hsla").replace(")",", 0)"),_="linear-gradient("+[g,x]+")";if(this._domA.style.background=_+", "+uOe,!n.fromEditor){var w=this.settings.editorFormat,S=this.settings.alpha,C=void 0;switch(w){case"rgb":C=r.printRGB(S);break;case"hsl":C=r.printHSL(S);break;default:C=r.printHex(S)}this._domEdit.value=C}this._domSample.style.color=s}},{key:"_ifPopup",value:function(n,r){this.settings.parent&&this.settings.popup?n&&n(this.settings.popup):r&&r()}},{key:"_toggleDOM",value:function(n){var r=this.domElement;if(!r)return!1;var i=n?"":"none",o=r.style.display!==i;return o&&(r.style.display=i),o}}]),t}();{var k2=document.createElement("style");k2.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(k2),aH.StyleElement=k2}var sH={exports:{}};(function(t,e){(function(n,r){t.exports=n()})(function(){var n="object",r="function",i="undefined",o=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],a=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],s=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],l=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function u(K,U){var ee=typeof K[U];return ee==r||!!(ee==n&&K[U])||ee=="unknown"}function c(K,U){return!!(typeof K[U]==n&&K[U])}function d(K,U){return typeof K[U]!=i}function f(K){return function(U,ee){for(var fe=ee.length;fe--;)if(!K(U,ee[fe]))return!1;return!0}}var h=f(u),v=f(c),m=f(d);function g(K){return K&&h(K,l)&&m(K,s)}function x(K){return c(K,"body")?K.body:K.getElementsByTagName("body")[0]}var _=[].forEach?function(K,U){K.forEach(U)}:function(K,U){for(var ee=0,fe=K.length;ee<fe;++ee)U(K[ee],ee)},w={},S=typeof window!=i&&typeof document!=i,C={isHostMethod:u,isHostObject:c,isHostProperty:d,areHostMethods:h,areHostObjects:v,areHostProperties:m,isTextRange:g,getBody:x,forEach:_},O={version:"1.3.2",initialized:!1,isBrowser:S,supported:!0,util:C,features:{},modules:w,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==i?!0:rangyAutoInitialize}};function T(K){typeof console!=i&&u(console,"log")&&console.log(K)}function N(K,U){S&&U?alert(K):T(K)}function M(K){O.initialized=!0,O.supported=!1,N("Rangy is not supported in this environment. Reason: "+K,O.config.alertOnFail)}O.fail=M;function D(K){N("Rangy warning: "+K,O.config.alertOnWarn)}O.warn=D;var F;({}).hasOwnProperty?(C.extend=F=function(K,U,ee){var fe,ve;for(var Ce in U)Ce==="__proto__"||Ce==="constructor"||Ce==="prototype"||U.hasOwnProperty(Ce)&&(fe=K[Ce],ve=U[Ce],ee&&fe!==null&&typeof fe=="object"&&ve!==null&&typeof ve=="object"&&F(fe,ve,!0),K[Ce]=ve);return U.hasOwnProperty("toString")&&(K.toString=U.toString),K},C.createOptions=function(K,U){var ee={};return F(ee,U),K&&F(ee,K),ee}):M("hasOwnProperty not supported"),S||M("Rangy can only run in a browser"),function(){var K;if(S){var U=document.createElement("div");U.appendChild(document.createElement("span"));var ee=[].slice;try{ee.call(U.childNodes,0)[0].nodeType==1&&(K=function(fe){return ee.call(fe,0)})}catch{}}K||(K=function(fe){for(var ve=[],Ce=0,ue=fe.length;Ce<ue;++Ce)ve[Ce]=fe[Ce];return ve}),C.toArray=K}();var j;S&&(u(document,"addEventListener")?j=function(K,U,ee){K.addEventListener(U,ee,!1)}:u(document,"attachEvent")?j=function(K,U,ee){K.attachEvent("on"+U,ee)}:M("Document does not have required addEventListener or attachEvent method"),C.addListener=j);var R=[];function I(K){return K.message||K.description||String(K)}function L(){if(!(!S||O.initialized)){var K,U=!1,ee=!1;u(document,"createRange")&&(K=document.createRange(),h(K,a)&&m(K,o)&&(U=!0));var fe=x(document);if(!fe||fe.nodeName.toLowerCase()!="body"){M("No body element found");return}if(fe&&u(fe,"createTextRange")&&(K=fe.createTextRange(),g(K)&&(ee=!0)),!U&&!ee){M("Neither Range nor TextRange are available");return}O.initialized=!0,O.features={implementsDomRange:U,implementsTextRange:ee};var ve,Ce;for(var ue in w)(ve=w[ue])instanceof z&&ve.init(ve,O);for(var we=0,pe=R.length;we<pe;++we)try{R[we](O)}catch($e){Ce="Rangy init listener threw an exception. Continuing. Detail: "+I($e),T(Ce)}}}function k(K,U,ee){ee&&(K+=" in module "+ee.name),O.warn("DEPRECATED: "+K+" is deprecated. Please use "+U+" instead.")}function B(K,U,ee,fe){K[U]=function(){return k(U,ee,fe),K[ee].apply(K,C.toArray(arguments))}}C.deprecationNotice=k,C.createAliasForDeprecatedMethod=B,O.init=L,O.addInitListener=function(K){O.initialized?K(O):R.push(K)};var q=[];O.addShimListener=function(K){q.push(K)};function X(K){K=K||window,L();for(var U=0,ee=q.length;U<ee;++U)q[U](K)}S&&(O.shim=O.createMissingNativeApi=X,B(O,"createMissingNativeApi","shim"));function z(K,U,ee){this.name=K,this.dependencies=U,this.initialized=!1,this.supported=!1,this.initializer=ee}z.prototype={init:function(){for(var K=this.dependencies||[],U=0,ee=K.length,fe,ve;U<ee;++U){if(ve=K[U],fe=w[ve],!fe||!(fe instanceof z))throw new Error("required module '"+ve+"' not found");if(fe.init(),!fe.supported)throw new Error("required module '"+ve+"' not supported")}this.initializer(this)},fail:function(K){throw this.initialized=!0,this.supported=!1,new Error(K)},warn:function(K){O.warn("Module "+this.name+": "+K)},deprecationNotice:function(K,U){O.warn("DEPRECATED: "+K+" in module "+this.name+" is deprecated. Please use "+U+" instead")},createError:function(K){return new Error("Error in Rangy "+this.name+" module: "+K)}};function H(K,U,ee){var fe=new z(K,U,function(ve){if(!ve.initialized){ve.initialized=!0;try{ee(O,ve),ve.supported=!0}catch(ue){var Ce="Module '"+K+"' failed to load: "+I(ue);T(Ce),ue.stack&&T(ue.stack)}}});return w[K]=fe,fe}O.createModule=function(K){var U,ee;arguments.length==2?(U=arguments[1],ee=[]):(U=arguments[2],ee=arguments[1]);var fe=H(K,ee,U);O.initialized&&O.supported&&fe.init()},O.createCoreModule=function(K,U,ee){H(K,U,ee)};function Q(){}O.RangePrototype=Q,O.rangePrototype=new Q;function V(){}O.selectionPrototype=new V,O.createCoreModule("DomUtil",[],function(K,U){var ee="undefined",fe=K.util,ve=fe.getBody;fe.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||U.fail("document missing a Node creation method"),fe.isHostMethod(document,"getElementsByTagName")||U.fail("document missing getElementsByTagName method");var Ce=document.createElement("div");fe.areHostMethods(Ce,["insertBefore","appendChild","cloneNode"])||U.fail("Incomplete Element implementation"),fe.isHostProperty(Ce,"innerHTML")||U.fail("Element is missing innerHTML property");var ue=document.createTextNode("test");fe.areHostMethods(ue,["splitText","deleteData","insertData","appendData","cloneNode"])||U.fail("Incomplete Text Node implementation");var we=function(it,It){for(var Jt=it.length;Jt--;)if(it[Jt]===It)return!0;return!1};function pe(it){var It;return typeof it.namespaceURI==ee||(It=it.namespaceURI)===null||It=="http://www.w3.org/1999/xhtml"}function $e(it){var It=it.parentNode;return It.nodeType==1?It:null}function Ne(it){for(var It=0;it=it.previousSibling;)++It;return It}function Le(it){switch(it.nodeType){case 7:case 10:return 0;case 3:case 8:return it.length;default:return it.childNodes.length}}function Ie(it,It){var Jt=[],dn;for(dn=it;dn;dn=dn.parentNode)Jt.push(dn);for(dn=It;dn;dn=dn.parentNode)if(we(Jt,dn))return dn;return null}function Z(it,It,Jt){for(var dn=Jt?It:It.parentNode;dn;){if(dn===it)return!0;dn=dn.parentNode}return!1}function ie(it,It){return Z(it,It,!0)}function ne(it,It,Jt){for(var dn,Hn=Jt?it:it.parentNode;Hn;){if(dn=Hn.parentNode,dn===It)return Hn;Hn=dn}return null}function Te(it){var It=it.nodeType;return It==3||It==4||It==8}function $(it){if(!it)return!1;var It=it.nodeType;return It==3||It==8}function se(it,It){var Jt=It.nextSibling,dn=It.parentNode;return Jt?dn.insertBefore(it,Jt):dn.appendChild(it),it}function re(it,It,Jt){var dn=it.cloneNode(!1);if(dn.deleteData(0,It),it.deleteData(It,it.length-It),se(dn,it),Jt)for(var Hn=0,Bn;Bn=Jt[Hn++];)Bn.node==it&&Bn.offset>It?(Bn.node=dn,Bn.offset-=It):Bn.node==it.parentNode&&Bn.offset>Ne(it)&&++Bn.offset;return dn}function oe(it){if(it.nodeType==9)return it;if(typeof it.ownerDocument!=ee)return it.ownerDocument;if(typeof it.document!=ee)return it.document;if(it.parentNode)return oe(it.parentNode);throw U.createError("getDocument: no document found for node")}function ye(it){var It=oe(it);if(typeof It.defaultView!=ee)return It.defaultView;if(typeof It.parentWindow!=ee)return It.parentWindow;throw U.createError("Cannot get a window object for node")}function xe(it){if(typeof it.contentDocument!=ee)return it.contentDocument;if(typeof it.contentWindow!=ee)return it.contentWindow.document;throw U.createError("getIframeDocument: No Document object found for iframe element")}function He(it){if(typeof it.contentWindow!=ee)return it.contentWindow;if(typeof it.contentDocument!=ee)return it.contentDocument.defaultView;throw U.createError("getIframeWindow: No Window object found for iframe element")}function Fe(it){return it&&fe.isHostMethod(it,"setTimeout")&&fe.isHostObject(it,"document")}function Ve(it,It,Jt){var dn;if(it?fe.isHostProperty(it,"nodeType")?dn=it.nodeType==1&&it.tagName.toLowerCase()=="iframe"?xe(it):oe(it):Fe(it)&&(dn=it.document):dn=document,!dn)throw It.createError(Jt+"(): Parameter must be a Window object or DOM node");return dn}function qe(it){for(var It;It=it.parentNode;)it=It;return it}function vt(it,It,Jt,dn){var Hn,Bn,kt,Yt,An;if(it==Jt)return It===dn?0:It<dn?-1:1;if(Hn=ne(Jt,it,!0))return It<=Ne(Hn)?-1:1;if(Hn=ne(it,Jt,!0))return Ne(Hn)<dn?-1:1;if(Bn=Ie(it,Jt),!Bn)throw new Error("comparePoints error: nodes have no common ancestor");if(kt=it===Bn?Bn:ne(it,Bn,!0),Yt=Jt===Bn?Bn:ne(Jt,Bn,!0),kt===Yt)throw U.createError("comparePoints got to case 4 and childA and childB are the same!");for(An=Bn.firstChild;An;){if(An===kt)return-1;if(An===Yt)return 1;An=An.nextSibling}}var tt=!1;function pt(it){var It;try{return It=it.parentNode,!1}catch{return!0}}(function(){var it=document.createElement("b");it.innerHTML="1";var It=it.firstChild;it.innerHTML="<br />",tt=pt(It),K.features.crashyTextNodes=tt})();function Ht(it){if(!it)return"[No node]";if(tt&&pt(it))return"[Broken node]";if(Te(it))return'"'+it.data+'"';if(it.nodeType==1){var It=it.id?' id="'+it.id+'"':"";return"<"+it.nodeName+It+">[index:"+Ne(it)+",length:"+it.childNodes.length+"]["+(it.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return it.nodeName}function Lt(it){for(var It=oe(it).createDocumentFragment(),Jt;Jt=it.firstChild;)It.appendChild(Jt);return It}var hn;typeof window.getComputedStyle!=ee?hn=function(it,It){return ye(it).getComputedStyle(it,null)[It]}:typeof document.documentElement.currentStyle!=ee?hn=function(it,It){return it.currentStyle?it.currentStyle[It]:""}:U.fail("No means of obtaining computed style properties found");function On(it,It,Jt){var dn=ve(it),Hn=it.createElement("div");Hn.contentEditable=""+!!Jt,It&&(Hn.innerHTML=It);var Bn=dn.firstChild;return Bn?dn.insertBefore(Hn,Bn):dn.appendChild(Hn),Hn}function Yn(it){return it.parentNode.removeChild(it)}function kn(it){this.root=it,this._next=it}kn.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var it=this._current=this._next,It,Jt;if(this._current)if(It=it.firstChild,It)this._next=It;else{for(Jt=null;it!==this.root&&!(Jt=it.nextSibling);)it=it.parentNode;this._next=Jt}return this._current},detach:function(){this._current=this._next=this.root=null}};function bn(it){return new kn(it)}function Sn(it,It){this.node=it,this.offset=It}Sn.prototype={equals:function(it){return!!it&&this.node===it.node&&this.offset==it.offset},inspect:function(){return"[DomPosition("+Ht(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};function qn(it){this.code=this[it],this.codeName=it,this.message="DOMException: "+this.codeName}qn.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},qn.prototype.toString=function(){return this.message},K.dom={arrayContains:we,isHtmlNamespace:pe,parentElement:$e,getNodeIndex:Ne,getNodeLength:Le,getCommonAncestor:Ie,isAncestorOf:Z,isOrIsAncestorOf:ie,getClosestAncestorIn:ne,isCharacterDataNode:Te,isTextOrCommentNode:$,insertAfter:se,splitDataNode:re,getDocument:oe,getWindow:ye,getIframeWindow:He,getIframeDocument:xe,getBody:ve,isWindow:Fe,getContentDocument:Ve,getRootContainer:qe,comparePoints:vt,isBrokenNode:pt,inspectNode:Ht,getComputedStyleProperty:hn,createTestElement:On,removeNode:Yn,fragmentFromNodeChildren:Lt,createIterator:bn,DomPosition:Sn},K.DOMException=qn}),O.createCoreModule("DomRange",["DomUtil"],function(K,U){var ee=K.dom,fe=K.util,ve=ee.DomPosition,Ce=K.DOMException,ue=ee.isCharacterDataNode,we=ee.getNodeIndex,pe=ee.isOrIsAncestorOf,$e=ee.getDocument,Ne=ee.comparePoints,Le=ee.splitDataNode,Ie=ee.getClosestAncestorIn,Z=ee.getNodeLength,ie=ee.arrayContains,ne=ee.getRootContainer,Te=K.features.crashyTextNodes,$=ee.removeNode;function se(he,Ze){return he.nodeType!=3&&(pe(he,Ze.startContainer)||pe(he,Ze.endContainer))}function re(he){return he.document||$e(he.startContainer)}function oe(he){return ne(he.startContainer)}function ye(he){return new ve(he.parentNode,we(he))}function xe(he){return new ve(he.parentNode,we(he)+1)}function He(he,Ze,Ut){var gn=he.nodeType==11?he.firstChild:he;return ue(Ze)?Ut==Ze.length?ee.insertAfter(he,Ze):Ze.parentNode.insertBefore(he,Ut==0?Ze:Le(Ze,Ut)):Ut>=Ze.childNodes.length?Ze.appendChild(he):Ze.insertBefore(he,Ze.childNodes[Ut]),gn}function Fe(he,Ze,Ut){if(tr(he),tr(Ze),re(Ze)!=re(he))throw new Ce("WRONG_DOCUMENT_ERR");var gn=Ne(he.startContainer,he.startOffset,Ze.endContainer,Ze.endOffset),Xn=Ne(he.endContainer,he.endOffset,Ze.startContainer,Ze.startOffset);return Ut?gn<=0&&Xn>=0:gn<0&&Xn>0}function Ve(he){for(var Ze,Ut,gn=re(he.range).createDocumentFragment(),Xn;Ut=he.next();){if(Ze=he.isPartiallySelectedSubtree(),Ut=Ut.cloneNode(!Ze),Ze&&(Xn=he.getSubtreeIterator(),Ut.appendChild(Ve(Xn)),Xn.detach()),Ut.nodeType==10)throw new Ce("HIERARCHY_REQUEST_ERR");gn.appendChild(Ut)}return gn}function qe(he,Ze,Ut){var gn,Xn;Ut=Ut||{stop:!1};for(var wr,en;wr=he.next();)if(he.isPartiallySelectedSubtree()){if(Ze(wr)===!1){Ut.stop=!0;return}else if(en=he.getSubtreeIterator(),qe(en,Ze,Ut),en.detach(),Ut.stop)return}else for(gn=ee.createIterator(wr);Xn=gn.next();)if(Ze(Xn)===!1){Ut.stop=!0;return}}function vt(he){for(var Ze;he.next();)he.isPartiallySelectedSubtree()?(Ze=he.getSubtreeIterator(),vt(Ze),Ze.detach()):he.remove()}function tt(he){for(var Ze,Ut=re(he.range).createDocumentFragment(),gn;Ze=he.next();){if(he.isPartiallySelectedSubtree()?(Ze=Ze.cloneNode(!1),gn=he.getSubtreeIterator(),Ze.appendChild(tt(gn)),gn.detach()):he.remove(),Ze.nodeType==10)throw new Ce("HIERARCHY_REQUEST_ERR");Ut.appendChild(Ze)}return Ut}function pt(he,Ze,Ut){var gn=!!(Ze&&Ze.length),Xn,wr=!!Ut;gn&&(Xn=new RegExp("^("+Ze.join("|")+")$"));var en=[];return qe(new Lt(he,!1),function($n){if(!(gn&&!Xn.test($n.nodeType))&&!(wr&&!Ut($n))){var Un=he.startContainer;if(!($n==Un&&ue(Un)&&he.startOffset==Un.length)){var vr=he.endContainer;$n==vr&&ue(vr)&&he.endOffset==0||en.push($n)}}}),en}function Ht(he){var Ze=typeof he.getName>"u"?"Range":he.getName();return"["+Ze+"("+ee.inspectNode(he.startContainer)+":"+he.startOffset+", "+ee.inspectNode(he.endContainer)+":"+he.endOffset+")]"}function Lt(he,Ze){if(this.range=he,this.clonePartiallySelectedTextNodes=Ze,!he.collapsed){this.sc=he.startContainer,this.so=he.startOffset,this.ec=he.endContainer,this.eo=he.endOffset;var Ut=he.commonAncestorContainer;this.sc===this.ec&&ue(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc===Ut&&!ue(this.sc)?this.sc.childNodes[this.so]:Ie(this.sc,Ut,!0),this._last=this.ec===Ut&&!ue(this.ec)?this.ec.childNodes[this.eo-1]:Ie(this.ec,Ut,!0))}}Lt.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var he=this._current=this._next;return he&&(this._next=he!==this._last?he.nextSibling:null,ue(he)&&this.clonePartiallySelectedTextNodes&&(he===this.ec&&(he=he.cloneNode(!0)).deleteData(this.eo,he.length-this.eo),this._current===this.sc&&(he=he.cloneNode(!0)).deleteData(0,this.so))),he},remove:function(){var he=this._current,Ze,Ut;ue(he)&&(he===this.sc||he===this.ec)?(Ze=he===this.sc?this.so:0,Ut=he===this.ec?this.eo:he.length,Ze!=Ut&&he.deleteData(Ze,Ut-Ze)):he.parentNode&&$(he)},isPartiallySelectedSubtree:function(){var he=this._current;return se(he,this.range)},getSubtreeIterator:function(){var he;if(this.isSingleCharacterDataNode)he=this.range.cloneRange(),he.collapse(!1);else{he=new Cn(re(this.range));var Ze=this._current,Ut=Ze,gn=0,Xn=Ze,wr=Z(Ze);pe(Ze,this.sc)&&(Ut=this.sc,gn=this.so),pe(Ze,this.ec)&&(Xn=this.ec,wr=this.eo),Nt(he,Ut,gn,Xn,wr)}return new Lt(he,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var hn=[1,3,4,5,7,8,10],On=[2,9,11],Yn=[5,6,10,12],kn=[1,3,4,5,7,8,10,11],bn=[1,3,4,5,7,8];function Sn(he){return function(Ze,Ut){for(var gn,Xn=Ut?Ze:Ze.parentNode;Xn;){if(gn=Xn.nodeType,ie(he,gn))return Xn;Xn=Xn.parentNode}return null}}var qn=Sn([9,11]),it=Sn(Yn),It=Sn([6,10,12]),Jt=Sn([1]);function dn(he,Ze){if(It(he,Ze))throw new Ce("INVALID_NODE_TYPE_ERR")}function Hn(he,Ze){if(!ie(Ze,he.nodeType))throw new Ce("INVALID_NODE_TYPE_ERR")}function Bn(he,Ze){if(Ze<0||Ze>(ue(he)?he.length:he.childNodes.length))throw new Ce("INDEX_SIZE_ERR")}function kt(he,Ze){if(qn(he,!0)!==qn(Ze,!0))throw new Ce("WRONG_DOCUMENT_ERR")}function Yt(he){if(it(he,!0))throw new Ce("NO_MODIFICATION_ALLOWED_ERR")}function An(he,Ze){if(!he)throw new Ce(Ze)}function Sr(he,Ze){return Ze<=(ue(he)?he.length:he.childNodes.length)}function ai(he){return!!he.startContainer&&!!he.endContainer&&!(Te&&(ee.isBrokenNode(he.startContainer)||ee.isBrokenNode(he.endContainer)))&&ne(he.startContainer)==ne(he.endContainer)&&Sr(he.startContainer,he.startOffset)&&Sr(he.endContainer,he.endOffset)}function tr(he){if(!ai(he))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+he.inspect()+")")}var si=document.createElement("style"),xn=!1;try{si.innerHTML="<b>x</b>",xn=si.firstChild.nodeType==3}catch{}K.features.htmlParsingConforms=xn;var _e=xn?function(he){var Ze=this.startContainer,Ut=$e(Ze);if(!Ze)throw new Ce("INVALID_STATE_ERR");var gn=null;return Ze.nodeType==1?gn=Ze:ue(Ze)&&(gn=ee.parentElement(Ze)),gn===null||gn.nodeName=="HTML"&&ee.isHtmlNamespace($e(gn).documentElement)&&ee.isHtmlNamespace(gn)?gn=Ut.createElement("body"):gn=gn.cloneNode(!1),gn.innerHTML=he,ee.fragmentFromNodeChildren(gn)}:function(he){var Ze=re(this),Ut=Ze.createElement("body");return Ut.innerHTML=he,ee.fragmentFromNodeChildren(Ut)};function Re(he,Ze){tr(he);var Ut=he.startContainer,gn=he.startOffset,Xn=he.endContainer,wr=he.endOffset,en=Ut===Xn;ue(Xn)&&wr>0&&wr<Xn.length&&Le(Xn,wr,Ze),ue(Ut)&&gn>0&&gn<Ut.length&&(Ut=Le(Ut,gn,Ze),en?(wr-=gn,Xn=Ut):Xn==Ut.parentNode&&wr>=we(Ut)&&wr++,gn=0),he.setStartAndEnd(Ut,gn,Xn,wr)}function ae(he){tr(he);var Ze=he.commonAncestorContainer.parentNode.cloneNode(!1);return Ze.appendChild(he.cloneContents()),Ze.innerHTML}var Ee=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],be=0,Ke=1,lt=2,dt=3,Je=0,Tt=1,un=2,En=3;fe.extend(K.rangePrototype,{compareBoundaryPoints:function(he,Ze){tr(this),kt(this.startContainer,Ze.startContainer);var Ut,gn,Xn,wr,en=he==dt||he==be?"start":"end",$n=he==Ke||he==be?"start":"end";return Ut=this[en+"Container"],gn=this[en+"Offset"],Xn=Ze[$n+"Container"],wr=Ze[$n+"Offset"],Ne(Ut,gn,Xn,wr)},insertNode:function(he){if(tr(this),Hn(he,kn),Yt(this.startContainer),pe(he,this.startContainer))throw new Ce("HIERARCHY_REQUEST_ERR");var Ze=He(he,this.startContainer,this.startOffset);this.setStartBefore(Ze)},cloneContents:function(){tr(this);var he,Ze;if(this.collapsed)return re(this).createDocumentFragment();if(this.startContainer===this.endContainer&&ue(this.startContainer))return he=this.startContainer.cloneNode(!0),he.data=he.data.slice(this.startOffset,this.endOffset),Ze=re(this).createDocumentFragment(),Ze.appendChild(he),Ze;var Ut=new Lt(this,!0);return he=Ve(Ut),Ut.detach(),he},canSurroundContents:function(){tr(this),Yt(this.startContainer),Yt(this.endContainer);var he=new Lt(this,!0),Ze=he._first&&se(he._first,this)||he._last&&se(he._last,this);return he.detach(),!Ze},surroundContents:function(he){if(Hn(he,bn),!this.canSurroundContents())throw new Ce("INVALID_STATE_ERR");var Ze=this.extractContents();if(he.hasChildNodes())for(;he.lastChild;)he.removeChild(he.lastChild);He(he,this.startContainer,this.startOffset),he.appendChild(Ze),this.selectNode(he)},cloneRange:function(){tr(this);for(var he=new Cn(re(this)),Ze=Ee.length,Ut;Ze--;)Ut=Ee[Ze],he[Ut]=this[Ut];return he},toString:function(){tr(this);var he=this.startContainer;if(he===this.endContainer&&ue(he))return he.nodeType==3||he.nodeType==4?he.data.slice(this.startOffset,this.endOffset):"";var Ze=[],Ut=new Lt(this,!0);return qe(Ut,function(gn){(gn.nodeType==3||gn.nodeType==4)&&Ze.push(gn.data)}),Ut.detach(),Ze.join("")},compareNode:function(he){tr(this);var Ze=he.parentNode,Ut=we(he);if(!Ze)throw new Ce("NOT_FOUND_ERR");var gn=this.comparePoint(Ze,Ut),Xn=this.comparePoint(Ze,Ut+1);return gn<0?Xn>0?un:Je:Xn>0?Tt:En},comparePoint:function(he,Ze){return tr(this),An(he,"HIERARCHY_REQUEST_ERR"),kt(he,this.startContainer),Ne(he,Ze,this.startContainer,this.startOffset)<0?-1:Ne(he,Ze,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:_e,toHtml:function(){return ae(this)},intersectsNode:function(he,Ze){if(tr(this),ne(he)!=oe(this))return!1;var Ut=he.parentNode,gn=we(he);if(!Ut)return!0;var Xn=Ne(Ut,gn,this.endContainer,this.endOffset),wr=Ne(Ut,gn+1,this.startContainer,this.startOffset);return Ze?Xn<=0&&wr>=0:Xn<0&&wr>0},isPointInRange:function(he,Ze){return tr(this),An(he,"HIERARCHY_REQUEST_ERR"),kt(he,this.startContainer),Ne(he,Ze,this.startContainer,this.startOffset)>=0&&Ne(he,Ze,this.endContainer,this.endOffset)<=0},intersectsRange:function(he){return Fe(this,he,!1)},intersectsOrTouchesRange:function(he){return Fe(this,he,!0)},intersection:function(he){if(this.intersectsRange(he)){var Ze=Ne(this.startContainer,this.startOffset,he.startContainer,he.startOffset),Ut=Ne(this.endContainer,this.endOffset,he.endContainer,he.endOffset),gn=this.cloneRange();return Ze==-1&&gn.setStart(he.startContainer,he.startOffset),Ut==1&&gn.setEnd(he.endContainer,he.endOffset),gn}return null},union:function(he){if(this.intersectsOrTouchesRange(he)){var Ze=this.cloneRange();return Ne(he.startContainer,he.startOffset,this.startContainer,this.startOffset)==-1&&Ze.setStart(he.startContainer,he.startOffset),Ne(he.endContainer,he.endOffset,this.endContainer,this.endOffset)==1&&Ze.setEnd(he.endContainer,he.endOffset),Ze}else throw new Ce("Ranges do not intersect")},containsNode:function(he,Ze){return Ze?this.intersectsNode(he,!1):this.compareNode(he)==En},containsNodeContents:function(he){return this.comparePoint(he,0)>=0&&this.comparePoint(he,Z(he))<=0},containsRange:function(he){var Ze=this.intersection(he);return Ze!==null&&he.equals(Ze)},containsNodeText:function(he){var Ze=this.cloneRange();Ze.selectNode(he);var Ut=Ze.getNodes([3]);if(Ut.length>0){Ze.setStart(Ut[0],0);var gn=Ut.pop();return Ze.setEnd(gn,gn.length),this.containsRange(Ze)}else return this.containsNodeContents(he)},getNodes:function(he,Ze){return tr(this),pt(this,he,Ze)},getDocument:function(){return re(this)},collapseBefore:function(he){this.setEndBefore(he),this.collapse(!1)},collapseAfter:function(he){this.setStartAfter(he),this.collapse(!0)},getBookmark:function(he){var Ze=re(this),Ut=K.createRange(Ze);he=he||ee.getBody(Ze),Ut.selectNodeContents(he);var gn=this.intersection(Ut),Xn=0,wr=0;return gn&&(Ut.setEnd(gn.startContainer,gn.startOffset),Xn=Ut.toString().length,wr=Xn+gn.toString().length),{start:Xn,end:wr,containerNode:he}},moveToBookmark:function(he){var Ze=he.containerNode,Ut=0;this.setStart(Ze,0),this.collapse(!0);for(var gn=[Ze],Xn,wr=!1,en=!1,$n,Un,vr;!en&&(Xn=gn.pop());)if(Xn.nodeType==3)$n=Ut+Xn.length,!wr&&he.start>=Ut&&he.start<=$n&&(this.setStart(Xn,he.start-Ut),wr=!0),wr&&he.end>=Ut&&he.end<=$n&&(this.setEnd(Xn,he.end-Ut),en=!0),Ut=$n;else for(vr=Xn.childNodes,Un=vr.length;Un--;)gn.push(vr[Un])},getName:function(){return"DomRange"},equals:function(he){return Cn.rangesEqual(this,he)},isValid:function(){return ai(this)},inspect:function(){return Ht(this)},detach:function(){}});function ce(he){he.START_TO_START=be,he.START_TO_END=Ke,he.END_TO_END=lt,he.END_TO_START=dt,he.NODE_BEFORE=Je,he.NODE_AFTER=Tt,he.NODE_BEFORE_AND_AFTER=un,he.NODE_INSIDE=En}function Xe(he){ce(he),ce(he.prototype)}function _t(he,Ze){return function(){tr(this);var Ut=this.startContainer,gn=this.startOffset,Xn=this.commonAncestorContainer,wr=new Lt(this,!0),en,$n;Ut!==Xn&&(en=Ie(Ut,Xn,!0),$n=xe(en),Ut=$n.node,gn=$n.offset),qe(wr,Yt),wr.reset();var Un=he(wr);return wr.detach(),Ze(this,Ut,gn,Ut,gn),Un}}function Qt(he,Ze){function Ut(en,$n){return function(Un){Hn(Un,hn),Hn(ne(Un),On);var vr=(en?ye:xe)(Un);($n?gn:Xn)(this,vr.node,vr.offset)}}function gn(en,$n,Un){var vr=en.endContainer,Wi=en.endOffset;($n!==en.startContainer||Un!==en.startOffset)&&((ne($n)!=ne(vr)||Ne($n,Un,vr,Wi)==1)&&(vr=$n,Wi=Un),Ze(en,$n,Un,vr,Wi))}function Xn(en,$n,Un){var vr=en.startContainer,Wi=en.startOffset;($n!==en.endContainer||Un!==en.endOffset)&&((ne($n)!=ne(vr)||Ne($n,Un,vr,Wi)==-1)&&(vr=$n,Wi=Un),Ze(en,vr,Wi,$n,Un))}var wr=function(){};wr.prototype=K.rangePrototype,he.prototype=new wr,fe.extend(he.prototype,{setStart:function(en,$n){dn(en,!0),Bn(en,$n),gn(this,en,$n)},setEnd:function(en,$n){dn(en,!0),Bn(en,$n),Xn(this,en,$n)},setStartAndEnd:function(){var en=arguments,$n=en[0],Un=en[1],vr=$n,Wi=Un;switch(en.length){case 3:Wi=en[2];break;case 4:vr=en[2],Wi=en[3];break}dn($n,!0),Bn($n,Un),dn(vr,!0),Bn(vr,Wi),Ze(this,$n,Un,vr,Wi)},setBoundary:function(en,$n,Un){this["set"+(Un?"Start":"End")](en,$n)},setStartBefore:Ut(!0,!0),setStartAfter:Ut(!1,!0),setEndBefore:Ut(!0,!1),setEndAfter:Ut(!1,!1),collapse:function(en){tr(this),en?Ze(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):Ze(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(en){dn(en,!0),Ze(this,en,0,en,Z(en))},selectNode:function(en){dn(en,!1),Hn(en,hn);var $n=ye(en),Un=xe(en);Ze(this,$n.node,$n.offset,Un.node,Un.offset)},extractContents:_t(tt,Ze),deleteContents:_t(vt,Ze),canSurroundContents:function(){tr(this),Yt(this.startContainer),Yt(this.endContainer);var en=new Lt(this,!0),$n=en._first&&se(en._first,this)||en._last&&se(en._last,this);return en.detach(),!$n},splitBoundaries:function(){Re(this)},splitBoundariesPreservingPositions:function(en){Re(this,en)},normalizeBoundaries:function(){tr(this);var en=this.startContainer,$n=this.startOffset,Un=this.endContainer,vr=this.endOffset,Wi=function(Zi){var To=Zi.nextSibling;To&&To.nodeType==Zi.nodeType&&(Un=Zi,vr=Zi.length,Zi.appendData(To.data),$(To))},Wa=function(Zi){var To=Zi.previousSibling;if(To&&To.nodeType==Zi.nodeType){en=Zi;var Mu=Zi.length;if($n=To.length,Zi.insertData(0,To.data),$(To),en==Un)vr+=$n,Un=en;else if(Un==Zi.parentNode){var al=we(Zi);vr==al?(Un=Zi,vr=Mu):vr>al&&vr--}}},oa=!0,no;if(ue(Un))vr==Un.length?Wi(Un):vr==0&&(no=Un.previousSibling,no&&no.nodeType==Un.nodeType&&(vr=no.length,en==Un&&(oa=!1),no.appendData(Un.data),$(Un),Un=no));else{if(vr>0){var Ma=Un.childNodes[vr-1];Ma&&ue(Ma)&&Wi(Ma)}oa=!this.collapsed}if(oa){if(ue(en))$n==0?Wa(en):$n==en.length&&(no=en.nextSibling,no&&no.nodeType==en.nodeType&&(Un==no&&(Un=en,vr+=en.length),en.appendData(no.data),$(no)));else if($n<en.childNodes.length){var pa=en.childNodes[$n];pa&&ue(pa)&&Wa(pa)}}else en=Un,$n=vr;Ze(this,en,$n,Un,vr)},collapseToPoint:function(en,$n){dn(en,!0),Bn(en,$n),this.setStartAndEnd(en,$n)},parentElement:function(){tr(this);var en=this.commonAncestorContainer;return en?Jt(this.commonAncestorContainer,!0):null}}),Xe(he)}function Tn(he){he.collapsed=he.startContainer===he.endContainer&&he.startOffset===he.endOffset,he.commonAncestorContainer=he.collapsed?he.startContainer:ee.getCommonAncestor(he.startContainer,he.endContainer)}function Nt(he,Ze,Ut,gn,Xn){he.startContainer=Ze,he.startOffset=Ut,he.endContainer=gn,he.endOffset=Xn,he.document=ee.getDocument(Ze),Tn(he)}function Cn(he){Nt(this,he,0,he,0)}Qt(Cn,Nt),fe.extend(Cn,{rangeProperties:Ee,RangeIterator:Lt,copyComparisonConstants:Xe,createPrototypeRange:Qt,inspect:Ht,toHtml:ae,getRangeDocument:re,rangesEqual:function(he,Ze){return he.startContainer===Ze.startContainer&&he.startOffset===Ze.startOffset&&he.endContainer===Ze.endContainer&&he.endOffset===Ze.endOffset}}),K.DomRange=Cn}),O.createCoreModule("WrappedRange",["DomRange"],function(K,U){var ee,fe,ve=K.dom,Ce=K.util,ue=ve.DomPosition,we=K.DomRange,pe=ve.getBody,$e=ve.getContentDocument,Ne=ve.isCharacterDataNode;if(K.features.implementsDomRange&&function(){var $,se=we.rangeProperties;function re(tt){for(var pt=se.length,Ht;pt--;)Ht=se[pt],tt[Ht]=tt.nativeRange[Ht];tt.collapsed=tt.startContainer===tt.endContainer&&tt.startOffset===tt.endOffset}function oe(tt,pt,Ht,Lt,hn){var On=tt.startContainer!==pt||tt.startOffset!=Ht,Yn=tt.endContainer!==Lt||tt.endOffset!=hn,kn=!tt.equals(tt.nativeRange);(On||Yn||kn)&&(tt.setEnd(Lt,hn),tt.setStart(pt,Ht))}var ye;ee=function(tt){if(!tt)throw U.createError("WrappedRange: Range must be specified");this.nativeRange=tt,re(this)},we.createPrototypeRange(ee,oe),$=ee.prototype,$.selectNode=function(tt){this.nativeRange.selectNode(tt),re(this)},$.cloneContents=function(){return this.nativeRange.cloneContents()},$.surroundContents=function(tt){this.nativeRange.surroundContents(tt),re(this)},$.collapse=function(tt){this.nativeRange.collapse(tt),re(this)},$.cloneRange=function(){return new ee(this.nativeRange.cloneRange())},$.refresh=function(){re(this)},$.toString=function(){return this.nativeRange.toString()};var xe=document.createTextNode("test");pe(document).appendChild(xe);var He=document.createRange();He.setStart(xe,0),He.setEnd(xe,0);try{He.setStart(xe,1),$.setStart=function(tt,pt){this.nativeRange.setStart(tt,pt),re(this)},$.setEnd=function(tt,pt){this.nativeRange.setEnd(tt,pt),re(this)},ye=function(tt){return function(pt){this.nativeRange[tt](pt),re(this)}}}catch{$.setStart=function(pt,Ht){try{this.nativeRange.setStart(pt,Ht)}catch{this.nativeRange.setEnd(pt,Ht),this.nativeRange.setStart(pt,Ht)}re(this)},$.setEnd=function(pt,Ht){try{this.nativeRange.setEnd(pt,Ht)}catch{this.nativeRange.setStart(pt,Ht),this.nativeRange.setEnd(pt,Ht)}re(this)},ye=function(pt,Ht){return function(Lt){try{this.nativeRange[pt](Lt)}catch{this.nativeRange[Ht](Lt),this.nativeRange[pt](Lt)}re(this)}}}$.setStartBefore=ye("setStartBefore","setEndBefore"),$.setStartAfter=ye("setStartAfter","setEndAfter"),$.setEndBefore=ye("setEndBefore","setStartBefore"),$.setEndAfter=ye("setEndAfter","setStartAfter"),$.selectNodeContents=function(tt){this.setStartAndEnd(tt,0,ve.getNodeLength(tt))},He.selectNodeContents(xe),He.setEnd(xe,3);var Fe=document.createRange();Fe.selectNodeContents(xe),Fe.setEnd(xe,4),Fe.setStart(xe,2),He.compareBoundaryPoints(He.START_TO_END,Fe)==-1&&He.compareBoundaryPoints(He.END_TO_START,Fe)==1?$.compareBoundaryPoints=function(tt,pt){return pt=pt.nativeRange||pt,tt==pt.START_TO_END?tt=pt.END_TO_START:tt==pt.END_TO_START&&(tt=pt.START_TO_END),this.nativeRange.compareBoundaryPoints(tt,pt)}:$.compareBoundaryPoints=function(tt,pt){return this.nativeRange.compareBoundaryPoints(tt,pt.nativeRange||pt)};var Ve=document.createElement("div");Ve.innerHTML="123";var qe=Ve.firstChild,vt=pe(document);vt.appendChild(Ve),He.setStart(qe,1),He.setEnd(qe,2),He.deleteContents(),qe.data=="13"&&($.deleteContents=function(){this.nativeRange.deleteContents(),re(this)},$.extractContents=function(){var tt=this.nativeRange.extractContents();return re(this),tt}),vt.removeChild(Ve),vt=null,Ce.isHostMethod(He,"createContextualFragment")&&($.createContextualFragment=function(tt){return this.nativeRange.createContextualFragment(tt)}),pe(document).removeChild(xe),$.getName=function(){return"WrappedRange"},K.WrappedRange=ee,K.createNativeRange=function(tt){return tt=$e(tt,U,"createNativeRange"),tt.createRange()}}(),K.features.implementsTextRange){var Le=function($){var se=$.parentElement(),re=$.duplicate();re.collapse(!0);var oe=re.parentElement();re=$.duplicate(),re.collapse(!1);var ye=re.parentElement(),xe=oe==ye?oe:ve.getCommonAncestor(oe,ye);return xe==se?xe:ve.getCommonAncestor(se,xe)},Ie=function($){return $.compareEndPoints("StartToEnd",$)==0},Z=function($,se,re,oe,ye){var xe=$.duplicate();xe.collapse(re);var He=xe.parentElement();if(ve.isOrIsAncestorOf(se,He)||(He=se),!He.canHaveHTML){var Fe=new ue(He.parentNode,ve.getNodeIndex(He));return{boundaryPosition:Fe,nodeInfo:{nodeIndex:Fe.offset,containerElement:Fe.node}}}var Ve=ve.getDocument(He).createElement("span");Ve.parentNode&&ve.removeNode(Ve);for(var qe,vt=re?"StartToStart":"StartToEnd",tt,pt,Ht,Lt,hn=ye&&ye.containerElement==He?ye.nodeIndex:0,On=He.childNodes.length,Yn=On,kn=Yn;kn==On?He.appendChild(Ve):He.insertBefore(Ve,He.childNodes[kn]),xe.moveToElementText(Ve),qe=xe.compareEndPoints(vt,$),!(qe==0||hn==Yn);){if(qe==-1){if(Yn==hn+1)break;hn=kn}else Yn=Yn==hn+1?hn:kn;kn=Math.floor((hn+Yn)/2),He.removeChild(Ve)}if(Lt=Ve.nextSibling,qe==-1&&Lt&&Ne(Lt)){xe.setEndPoint(re?"EndToStart":"EndToEnd",$);var bn;if(/[\r\n]/.test(Lt.data)){var Sn=xe.duplicate(),qn=Sn.text.replace(/\r\n/g,"\r").length;for(bn=Sn.moveStart("character",qn);(qe=Sn.compareEndPoints("StartToEnd",Sn))==-1;)bn++,Sn.moveStart("character",1)}else bn=xe.text.length;Ht=new ue(Lt,bn)}else tt=(oe||!re)&&Ve.previousSibling,pt=(oe||re)&&Ve.nextSibling,pt&&Ne(pt)?Ht=new ue(pt,0):tt&&Ne(tt)?Ht=new ue(tt,tt.data.length):Ht=new ue(He,ve.getNodeIndex(Ve));return ve.removeNode(Ve),{boundaryPosition:Ht,nodeInfo:{nodeIndex:kn,containerElement:He}}},ie=function($,se){var re,oe,ye=$.offset,xe=ve.getDocument($.node),He,Fe,Ve=pe(xe).createTextRange(),qe=Ne($.node);return qe?(re=$.node,oe=re.parentNode):(Fe=$.node.childNodes,re=ye<Fe.length?Fe[ye]:null,oe=$.node),He=xe.createElement("span"),He.innerHTML="&#feff;",re?oe.insertBefore(He,re):oe.appendChild(He),Ve.moveToElementText(He),Ve.collapse(!se),oe.removeChild(He),qe&&Ve[se?"moveStart":"moveEnd"]("character",ye),Ve};fe=function($){this.textRange=$,this.refresh()},fe.prototype=new we(document),fe.prototype.refresh=function(){var $,se,re,oe=Le(this.textRange);Ie(this.textRange)?se=$=Z(this.textRange,oe,!0,!0).boundaryPosition:(re=Z(this.textRange,oe,!0,!1),$=re.boundaryPosition,se=Z(this.textRange,oe,!1,!1,re.nodeInfo).boundaryPosition),this.setStart($.node,$.offset),this.setEnd(se.node,se.offset)},fe.prototype.getName=function(){return"WrappedTextRange"},we.copyComparisonConstants(fe);var ne=function($){if($.collapsed)return ie(new ue($.startContainer,$.startOffset),!0);var se=ie(new ue($.startContainer,$.startOffset),!0),re=ie(new ue($.endContainer,$.endOffset),!1),oe=pe(we.getRangeDocument($)).createTextRange();return oe.setEndPoint("StartToStart",se),oe.setEndPoint("EndToEnd",re),oe};if(fe.rangeToTextRange=ne,fe.prototype.toTextRange=function(){return ne(this)},K.WrappedTextRange=fe,!K.features.implementsDomRange||K.config.preferTextRange){var Te=function($){return $("return this;")()}(Function);typeof Te.Range>"u"&&(Te.Range=fe),K.createNativeRange=function($){return $=$e($,U,"createNativeRange"),pe($).createTextRange()},K.WrappedRange=fe}}K.createRange=function($){return $=$e($,U,"createRange"),new K.WrappedRange(K.createNativeRange($))},K.createRangyRange=function($){return $=$e($,U,"createRangyRange"),new we($)},Ce.createAliasForDeprecatedMethod(K,"createIframeRange","createRange"),Ce.createAliasForDeprecatedMethod(K,"createIframeRangyRange","createRangyRange"),K.addShimListener(function($){var se=$.document;typeof se.createRange>"u"&&(se.createRange=function(){return K.createRange(se)}),se=$=null})}),O.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(K,U){K.config.checkSelectionRanges=!0;var ee="boolean",fe="number",ve=K.dom,Ce=K.util,ue=Ce.isHostMethod,we=K.DomRange,pe=K.WrappedRange,$e=K.DOMException,Ne=ve.DomPosition,Le,Ie,Z=K.features,ie="Control",ne=ve.getDocument,Te=ve.getBody,$=we.rangesEqual;function se(ce){return typeof ce=="string"?/^backward(s)?$/i.test(ce):!!ce}function re(ce,Xe){if(ce){if(ve.isWindow(ce))return ce;if(ce instanceof tr)return ce.win;var _t=ve.getContentDocument(ce,U,Xe);return ve.getWindow(_t)}else return window}function oe(ce){return re(ce,"getWinSelection").getSelection()}function ye(ce){return re(ce,"getDocSelection").document.selection}function xe(ce){var Xe=!1;return ce.anchorNode&&(Xe=ve.comparePoints(ce.anchorNode,ce.anchorOffset,ce.focusNode,ce.focusOffset)==1),Xe}var He=ue(window,"getSelection"),Fe=Ce.isHostObject(document,"selection");Z.implementsWinGetSelection=He,Z.implementsDocSelection=Fe;var Ve=Fe&&(!He||K.config.preferTextRange);if(Ve)Le=ye,K.isSelectionValid=function(ce){var Xe=re(ce,"isSelectionValid").document,_t=Xe.selection;return _t.type!="None"||ne(_t.createRange().parentElement())==Xe};else if(He)Le=oe,K.isSelectionValid=function(){return!0};else return U.fail("Neither document.selection or window.getSelection() detected."),!1;K.getNativeSelection=Le;var qe=Le();if(!qe)return U.fail("Native selection was null (possibly issue 138?)"),!1;var vt=K.createNativeRange(document),tt=Te(document),pt=Ce.areHostProperties(qe,["anchorNode","focusNode","anchorOffset","focusOffset"]);Z.selectionHasAnchorAndFocus=pt;var Ht=ue(qe,"extend");Z.selectionHasExtend=Ht;var Lt=ue(qe,"setBaseAndExtent");Z.selectionHasSetBaseAndExtent=Lt;var hn=typeof qe.rangeCount==fe;Z.selectionHasRangeCount=hn;var On=!1,Yn=!0,kn=Ht?function(ce,Xe){var _t=we.getRangeDocument(Xe),Qt=K.createRange(_t);Qt.collapseToPoint(Xe.endContainer,Xe.endOffset),ce.addRange(dn(Qt)),ce.extend(Xe.startContainer,Xe.startOffset)}:null;Ce.areHostMethods(qe,["addRange","getRangeAt","removeAllRanges"])&&typeof qe.rangeCount==fe&&Z.implementsDomRange&&function(){var ce=window.getSelection();if(ce){for(var Xe=ce.rangeCount,_t=Xe>1,Qt=[],Tn=xe(ce),Nt=0;Nt<Xe;++Nt)Qt[Nt]=ce.getRangeAt(Nt);var Cn=ve.createTestElement(document,"",!1),he=Cn.appendChild(document.createTextNode("   ")),Ze=document.createRange();if(Ze.setStart(he,1),Ze.collapse(!0),ce.removeAllRanges(),ce.addRange(Ze),Yn=ce.rangeCount==1,ce.removeAllRanges(),!_t){var Ut=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(Ut&&parseInt(Ut[1])>=36)On=!1;else{var gn=Ze.cloneRange();Ze.setStart(he,0),gn.setEnd(he,3),gn.setStart(he,2),ce.addRange(Ze),ce.addRange(gn),On=ce.rangeCount==2}}for(ve.removeNode(Cn),ce.removeAllRanges(),Nt=0;Nt<Xe;++Nt)Nt==0&&Tn?kn?kn(ce,Qt[Nt]):(K.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),ce.addRange(Qt[Nt])):ce.addRange(Qt[Nt])}}(),Z.selectionSupportsMultipleRanges=On,Z.collapsedNonEditableSelectionsSupported=Yn;var bn=!1,Sn;tt&&ue(tt,"createControlRange")&&(Sn=tt.createControlRange(),Ce.areHostProperties(Sn,["item","add"])&&(bn=!0)),Z.implementsControlRange=bn,pt?Ie=function(ce){return ce.anchorNode===ce.focusNode&&ce.anchorOffset===ce.focusOffset}:Ie=function(ce){return ce.rangeCount?ce.getRangeAt(ce.rangeCount-1).collapsed:!1};function qn(ce,Xe,_t){var Qt=_t?"end":"start",Tn=_t?"start":"end";ce.anchorNode=Xe[Qt+"Container"],ce.anchorOffset=Xe[Qt+"Offset"],ce.focusNode=Xe[Tn+"Container"],ce.focusOffset=Xe[Tn+"Offset"]}function it(ce){var Xe=ce.nativeSelection;ce.anchorNode=Xe.anchorNode,ce.anchorOffset=Xe.anchorOffset,ce.focusNode=Xe.focusNode,ce.focusOffset=Xe.focusOffset}function It(ce){ce.anchorNode=ce.focusNode=null,ce.anchorOffset=ce.focusOffset=0,ce.rangeCount=0,ce.isCollapsed=!0,ce._ranges.length=0,Jt(ce)}function Jt(ce){ce.type=ce.rangeCount==0?"None":Ie(ce)?"Caret":"Range"}function dn(ce){var Xe;return ce instanceof we?(Xe=K.createNativeRange(ce.getDocument()),Xe.setEnd(ce.endContainer,ce.endOffset),Xe.setStart(ce.startContainer,ce.startOffset)):ce instanceof pe?Xe=ce.nativeRange:Z.implementsDomRange&&ce instanceof ve.getWindow(ce.startContainer).Range&&(Xe=ce),Xe}function Hn(ce){if(!ce.length||ce[0].nodeType!=1)return!1;for(var Xe=1,_t=ce.length;Xe<_t;++Xe)if(!ve.isAncestorOf(ce[0],ce[Xe]))return!1;return!0}function Bn(ce){var Xe=ce.getNodes();if(!Hn(Xe))throw U.createError("getSingleElementFromRange: range "+ce.inspect()+" did not consist of a single element");return Xe[0]}function kt(ce){return!!ce&&typeof ce.text<"u"}function Yt(ce,Xe){var _t=new pe(Xe);ce._ranges=[_t],qn(ce,_t,!1),ce.rangeCount=1,ce.isCollapsed=_t.collapsed,Jt(ce)}function An(ce){if(ce._ranges.length=0,ce.docSelection.type=="None")It(ce);else{var Xe=ce.docSelection.createRange();if(kt(Xe))Yt(ce,Xe);else{ce.rangeCount=Xe.length;for(var _t,Qt=ne(Xe.item(0)),Tn=0;Tn<ce.rangeCount;++Tn)_t=K.createRange(Qt),_t.selectNode(Xe.item(Tn)),ce._ranges.push(_t);ce.isCollapsed=ce.rangeCount==1&&ce._ranges[0].collapsed,qn(ce,ce._ranges[ce.rangeCount-1],!1),Jt(ce)}}}function Sr(ce,Xe){for(var _t=ce.docSelection.createRange(),Qt=Bn(Xe),Tn=ne(_t.item(0)),Nt=Te(Tn).createControlRange(),Cn=0,he=_t.length;Cn<he;++Cn)Nt.add(_t.item(Cn));try{Nt.add(Qt)}catch{throw U.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}Nt.select(),An(ce)}var ai;ue(qe,"getRangeAt")?ai=function(ce,Xe){try{return ce.getRangeAt(Xe)}catch{return null}}:pt&&(ai=function(ce){var Xe=ne(ce.anchorNode),_t=K.createRange(Xe);return _t.setStartAndEnd(ce.anchorNode,ce.anchorOffset,ce.focusNode,ce.focusOffset),_t.collapsed!==this.isCollapsed&&_t.setStartAndEnd(ce.focusNode,ce.focusOffset,ce.anchorNode,ce.anchorOffset),_t});function tr(ce,Xe,_t){this.nativeSelection=ce,this.docSelection=Xe,this._ranges=[],this.win=_t,this.refresh()}tr.prototype=K.selectionPrototype;function si(ce){ce.win=ce.anchorNode=ce.focusNode=ce._ranges=null,ce.rangeCount=ce.anchorOffset=ce.focusOffset=0,ce.detached=!0,Jt(ce)}var xn=[];function _e(ce,Xe){for(var _t=xn.length,Qt,Tn;_t--;)if(Qt=xn[_t],Tn=Qt.selection,Xe=="deleteAll")si(Tn);else if(Qt.win==ce)return Xe=="delete"?(xn.splice(_t,1),!0):Tn;return Xe=="deleteAll"&&(xn.length=0),null}var Re=function(ce){if(ce&&ce instanceof tr)return ce.refresh(),ce;ce=re(ce,"getNativeSelection");var Xe=_e(ce),_t=Le(ce),Qt=Fe?ye(ce):null;return Xe?(Xe.nativeSelection=_t,Xe.docSelection=Qt,Xe.refresh()):(Xe=new tr(_t,Qt,ce),xn.push({win:ce,selection:Xe})),Xe};K.getSelection=Re,Ce.createAliasForDeprecatedMethod(K,"getIframeSelection","getSelection");var ae=tr.prototype;function Ee(ce,Xe){for(var _t=ne(Xe[0].startContainer),Qt=Te(_t).createControlRange(),Tn=0,Nt,Cn=Xe.length;Tn<Cn;++Tn){Nt=Bn(Xe[Tn]);try{Qt.add(Nt)}catch{throw U.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}Qt.select(),An(ce)}if(!Ve&&pt&&Ce.areHostMethods(qe,["removeAllRanges","addRange"])){ae.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),It(this)};var be=function(ce,Xe){kn(ce.nativeSelection,Xe),ce.refresh()};hn?ae.addRange=function(ce,Xe){if(bn&&Fe&&this.docSelection.type==ie)Sr(this,ce);else if(se(Xe)&&Ht)be(this,ce);else{var _t;On?_t=this.rangeCount:(this.removeAllRanges(),_t=0);var Qt=dn(ce).cloneRange();try{this.nativeSelection.addRange(Qt)}catch{}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==_t+1){if(K.config.checkSelectionRanges){var Tn=ai(this.nativeSelection,this.rangeCount-1);Tn&&!$(Tn,ce)&&(ce=new pe(Tn))}this._ranges[this.rangeCount-1]=ce,qn(this,ce,dt(this.nativeSelection)),this.isCollapsed=Ie(this),Jt(this)}else this.refresh()}}:ae.addRange=function(ce,Xe){se(Xe)&&Ht?be(this,ce):(this.nativeSelection.addRange(dn(ce)),this.refresh())},ae.setRanges=function(ce){if(bn&&Fe&&ce.length>1)Ee(this,ce);else{this.removeAllRanges();for(var Xe=0,_t=ce.length;Xe<_t;++Xe)this.addRange(ce[Xe])}}}else if(ue(qe,"empty")&&ue(vt,"select")&&bn&&Ve)ae.removeAllRanges=function(){try{if(this.docSelection.empty(),this.docSelection.type!="None"){var ce;if(this.anchorNode)ce=ne(this.anchorNode);else if(this.docSelection.type==ie){var Xe=this.docSelection.createRange();Xe.length&&(ce=ne(Xe.item(0)))}if(ce){var _t=Te(ce).createTextRange();_t.select(),this.docSelection.empty()}}}catch{}It(this)},ae.addRange=function(ce){this.docSelection.type==ie?Sr(this,ce):(K.WrappedTextRange.rangeToTextRange(ce).select(),this._ranges[0]=ce,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,qn(this,ce,!1),Jt(this))},ae.setRanges=function(ce){this.removeAllRanges();var Xe=ce.length;Xe>1?Ee(this,ce):Xe&&this.addRange(ce[0])};else return U.fail("No means of selecting a Range or TextRange was found"),!1;ae.getRangeAt=function(ce){if(ce<0||ce>=this.rangeCount)throw new $e("INDEX_SIZE_ERR");return this._ranges[ce].cloneRange()};var Ke;if(Ve)Ke=function(ce){var Xe;K.isSelectionValid(ce.win)?Xe=ce.docSelection.createRange():(Xe=Te(ce.win.document).createTextRange(),Xe.collapse(!0)),ce.docSelection.type==ie?An(ce):kt(Xe)?Yt(ce,Xe):It(ce)};else if(ue(qe,"getRangeAt")&&typeof qe.rangeCount==fe)Ke=function(ce){if(bn&&Fe&&ce.docSelection.type==ie)An(ce);else if(ce._ranges.length=ce.rangeCount=ce.nativeSelection.rangeCount,ce.rangeCount){for(var Xe=0,_t=ce.rangeCount;Xe<_t;++Xe)ce._ranges[Xe]=new K.WrappedRange(ce.nativeSelection.getRangeAt(Xe));qn(ce,ce._ranges[ce.rangeCount-1],dt(ce.nativeSelection)),ce.isCollapsed=Ie(ce),Jt(ce)}else It(ce)};else if(pt&&typeof qe.isCollapsed==ee&&typeof vt.collapsed==ee&&Z.implementsDomRange)Ke=function(ce){var Xe,_t=ce.nativeSelection;_t.anchorNode?(Xe=ai(_t,0),ce._ranges=[Xe],ce.rangeCount=1,it(ce),ce.isCollapsed=Ie(ce),Jt(ce)):It(ce)};else return U.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ae.refresh=function(ce){var Xe=ce?this._ranges.slice(0):null,_t=this.anchorNode,Qt=this.anchorOffset;if(Ke(this),ce){var Tn=Xe.length;if(Tn!=this._ranges.length||this.anchorNode!=_t||this.anchorOffset!=Qt)return!0;for(;Tn--;)if(!$(Xe[Tn],this._ranges[Tn]))return!0;return!1}};var lt=function(ce,Xe){var _t=ce.getAllRanges();ce.removeAllRanges();for(var Qt=0,Tn=_t.length;Qt<Tn;++Qt)$(Xe,_t[Qt])||ce.addRange(_t[Qt]);ce.rangeCount||It(ce)};bn&&Fe?ae.removeRange=function(ce){if(this.docSelection.type==ie){for(var Xe=this.docSelection.createRange(),_t=Bn(ce),Qt=ne(Xe.item(0)),Tn=Te(Qt).createControlRange(),Nt,Cn=!1,he=0,Ze=Xe.length;he<Ze;++he)Nt=Xe.item(he),Nt!==_t||Cn?Tn.add(Xe.item(he)):Cn=!0;Tn.select(),An(this)}else lt(this,ce)}:ae.removeRange=function(ce){lt(this,ce)};var dt;!Ve&&pt&&Z.implementsDomRange?(dt=xe,ae.isBackward=function(){return dt(this)}):dt=ae.isBackward=function(){return!1},ae.isBackwards=ae.isBackward,ae.toString=function(){for(var ce=[],Xe=0,_t=this.rangeCount;Xe<_t;++Xe)ce[Xe]=""+this._ranges[Xe];return ce.join("")};function Je(ce,Xe){if(ce.win.document!=ne(Xe))throw new $e("WRONG_DOCUMENT_ERR")}function Tt(ce,Xe){if(Xe<0||Xe>(ve.isCharacterDataNode(ce)?ce.length:ce.childNodes.length))throw new $e("INDEX_SIZE_ERR")}ae.collapse=function(ce,Xe){Je(this,ce);var _t=K.createRange(ce);_t.collapseToPoint(ce,Xe),this.setSingleRange(_t),this.isCollapsed=!0},ae.collapseToStart=function(){if(this.rangeCount){var ce=this._ranges[0];this.collapse(ce.startContainer,ce.startOffset)}else throw new $e("INVALID_STATE_ERR")},ae.collapseToEnd=function(){if(this.rangeCount){var ce=this._ranges[this.rangeCount-1];this.collapse(ce.endContainer,ce.endOffset)}else throw new $e("INVALID_STATE_ERR")},ae.selectAllChildren=function(ce){Je(this,ce);var Xe=K.createRange(ce);Xe.selectNodeContents(ce),this.setSingleRange(Xe)},Lt?ae.setBaseAndExtent=function(ce,Xe,_t,Qt){this.nativeSelection.setBaseAndExtent(ce,Xe,_t,Qt),this.refresh()}:Ht&&(ae.setBaseAndExtent=function(ce,Xe,_t,Qt){Tt(ce,Xe),Tt(_t,Qt),Je(this,ce),Je(this,_t);var Tn=K.createRange(node),Nt=ve.comparePoints(ce,Xe,_t,Qt)==-1;Nt?Tn.setStartAndEnd(_t,Qt,ce,Xe):Tn.setStartAndEnd(ce,Xe,_t,Qt),this.setSingleRange(Tn,Nt)}),ae.deleteFromDocument=function(){if(bn&&Fe&&this.docSelection.type==ie){for(var ce=this.docSelection.createRange(),Xe;ce.length;)Xe=ce.item(0),ce.remove(Xe),ve.removeNode(Xe);this.refresh()}else if(this.rangeCount){var _t=this.getAllRanges();if(_t.length){this.removeAllRanges();for(var Qt=0,Tn=_t.length;Qt<Tn;++Qt)_t[Qt].deleteContents();this.addRange(_t[Tn-1])}}},ae.eachRange=function(ce,Xe){for(var _t=0,Qt=this._ranges.length;_t<Qt;++_t)if(ce(this.getRangeAt(_t)))return Xe},ae.getAllRanges=function(){var ce=[];return this.eachRange(function(Xe){ce.push(Xe)}),ce},ae.setSingleRange=function(ce,Xe){this.removeAllRanges(),this.addRange(ce,Xe)},ae.callMethodOnEachRange=function(ce,Xe){var _t=[];return this.eachRange(function(Qt){_t.push(Qt[ce].apply(Qt,Xe||[]))}),_t};function un(ce){return function(Xe,_t){var Qt;this.rangeCount?(Qt=this.getRangeAt(0),Qt["set"+(ce?"Start":"End")](Xe,_t)):(Qt=K.createRange(this.win.document),Qt.setStartAndEnd(Xe,_t)),this.setSingleRange(Qt,this.isBackward())}}ae.setStart=un(!0),ae.setEnd=un(!1),K.rangePrototype.select=function(ce){Re(this.getDocument()).setSingleRange(this,ce)},ae.changeEachRange=function(ce){var Xe=[],_t=this.isBackward();this.eachRange(function(Qt){ce(Qt),Xe.push(Qt)}),this.removeAllRanges(),_t&&Xe.length==1?this.addRange(Xe[0],"backward"):this.setRanges(Xe)},ae.containsNode=function(ce,Xe){return this.eachRange(function(_t){return _t.containsNode(ce,Xe)},!0)||!1},ae.getBookmark=function(ce){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[ce])}},ae.moveToBookmark=function(ce){for(var Xe=[],_t=0,Qt,Tn;Qt=ce.rangeBookmarks[_t++];)Tn=K.createRange(this.win),Tn.moveToBookmark(Qt),Xe.push(Tn);ce.backward?this.setSingleRange(Xe[0],"backward"):this.setRanges(Xe)},ae.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},ae.restoreRanges=function(ce){this.removeAllRanges();for(var Xe=0,_t;_t=ce.ranges[Xe];++Xe)this.addRange(_t,ce.backward&&Xe==0)},ae.toHtml=function(){var ce=[];return this.eachRange(function(Xe){ce.push(we.toHtml(Xe))}),ce.join("")},Z.implementsTextRange&&(ae.getNativeTextRange=function(){var ce;if(ce=this.docSelection){var Xe=ce.createRange();if(kt(Xe))return Xe;throw U.createError("getNativeTextRange: selection is a control selection")}else{if(this.rangeCount>0)return K.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw U.createError("getNativeTextRange: selection contains no range")}});function En(ce){var Xe=[],_t=new Ne(ce.anchorNode,ce.anchorOffset),Qt=new Ne(ce.focusNode,ce.focusOffset),Tn=typeof ce.getName=="function"?ce.getName():"Selection";if(typeof ce.rangeCount<"u")for(var Nt=0,Cn=ce.rangeCount;Nt<Cn;++Nt)Xe[Nt]=we.inspect(ce.getRangeAt(Nt));return"["+Tn+"(Ranges: "+Xe.join(", ")+")(anchor: "+_t.inspect()+", focus: "+Qt.inspect()+"]"}ae.getName=function(){return"WrappedSelection"},ae.inspect=function(){return En(this)},ae.detach=function(){_e(this.win,"delete"),si(this)},tr.detachAll=function(){_e(null,"deleteAll")},tr.inspect=En,tr.isDirectionBackward=se,K.Selection=tr,K.selectionPrototype=ae,K.addShimListener(function(ce){typeof ce.getSelection>"u"&&(ce.getSelection=function(){return Re(ce)}),ce=null})});var W=!1,te=function(K){W||(W=!0,!O.initialized&&O.config.autoInitialize&&L())};return S&&(document.readyState=="complete"?te():(u(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",te,!1),j(window,"load",te))),O})})(sH);var lH=sH.exports;const NI=Ua(lH);var fOe={exports:{}};(function(t,e){(function(n,r){t.exports=n(lH)})(function(n){return n.createModule("ClassApplier",["WrappedSelection"],function(r,i){var o=r.dom,a=o.DomPosition,s=o.arrayContains,l=r.util,u=l.forEach,c="span",d=l.isHostMethod(document,"createElementNS");function f(Z,ie){for(var ne in Z)if(Z.hasOwnProperty(ne)&&ie(ne,Z[ne])===!1)return!1;return!0}function h(Z){return Z.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function v(Z,ie){return!!Z&&new RegExp("(?:^|\\s)"+ie+"(?:\\s|$)").test(Z)}function m(Z,ie){if(typeof Z.classList=="object")return Z.classList.contains(ie);var ne=typeof Z.className=="string",Te=ne?Z.className:Z.getAttribute("class");return v(Te,ie)}function g(Z,ie){if(typeof Z.classList=="object")Z.classList.add(ie);else{var ne=typeof Z.className=="string",Te=ne?Z.className:Z.getAttribute("class");Te?v(Te,ie)||(Te+=" "+ie):Te=ie,ne?Z.className=Te:Z.setAttribute("class",Te)}}var x=function(){function Z(ie,ne,Te){return ne&&Te?" ":""}return function(ie,ne){if(typeof ie.classList=="object")ie.classList.remove(ne);else{var Te=typeof ie.className=="string",$=Te?ie.className:ie.getAttribute("class");$=$.replace(new RegExp("(^|\\s)"+ne+"(\\s|$)"),Z),Te?ie.className=$:ie.setAttribute("class",$)}}}();function _(Z){var ie=typeof Z.className=="string";return ie?Z.className:Z.getAttribute("class")}function w(Z){return Z&&Z.split(/\s+/).sort().join(" ")}function S(Z){return w(_(Z))}function C(Z,ie){return S(Z)==S(ie)}function O(Z,ie){for(var ne=ie.split(/\s+/),Te=0,$=ne.length;Te<$;++Te)if(!m(Z,h(ne[Te])))return!1;return!0}function T(Z){var ie=Z.parentNode;return ie&&ie.nodeType==1&&!/^(textarea|style|script|select|iframe)$/i.test(ie.nodeName)}function N(Z,ie,ne,Te,$){var se=Z.node,re=Z.offset,oe=se,ye=re;se==Te&&re>$&&++ye,se==ie&&(re==ne||re==ne+1)&&(oe=Te,ye+=$-ne),se==ie&&re>ne+1&&--ye,Z.node=oe,Z.offset=ye}function M(Z,ie,ne){Z.node==ie&&Z.offset>ne&&--Z.offset}function D(Z,ie,ne,Te){ne==-1&&(ne=ie.childNodes.length);var $=Z.parentNode,se=o.getNodeIndex(Z);u(Te,function(re){N(re,$,se,ie,ne)}),ie.childNodes.length==ne?ie.appendChild(Z):ie.insertBefore(Z,ie.childNodes[ne])}function F(Z,ie){var ne=Z.parentNode,Te=o.getNodeIndex(Z);u(ie,function($){M($,ne,Te)}),o.removeNode(Z)}function j(Z,ie,ne,Te,$){for(var se,re=[];se=Z.firstChild;)D(se,ie,ne++,$),re.push(se);return F(Z,$),re}function R(Z,ie){return j(Z,Z.parentNode,o.getNodeIndex(Z),!0,ie)}function I(Z,ie){var ne=Z.cloneRange();ne.selectNodeContents(ie);var Te=ne.intersection(Z),$=Te?Te.toString():"";return $!=""}function L(Z){for(var ie=Z.getNodes([3]),ne=0,Te;(Te=ie[ne])&&!I(Z,Te);)++ne;for(var $=ie.length-1;(Te=ie[$])&&!I(Z,Te);)--$;return ie.slice(ne,$+1)}function k(Z,ie){if(Z.attributes.length!=ie.attributes.length)return!1;for(var ne=0,Te=Z.attributes.length,$,se,re;ne<Te;++ne)if($=Z.attributes[ne],re=$.name,re!="class"&&(se=ie.attributes.getNamedItem(re),$===null!=(se===null)||$.specified!=se.specified||$.specified&&$.nodeValue!==se.nodeValue))return!1;return!0}function B(Z,ie){for(var ne=0,Te=Z.attributes.length,$;ne<Te;++ne)if($=Z.attributes[ne].name,!(ie&&s(ie,$))&&Z.attributes[ne].specified&&$!="class")return!0;return!1}var q=o.getComputedStyleProperty,X=function(){var Z=document.createElement("div");return typeof Z.isContentEditable=="boolean"?function(ie){return ie&&ie.nodeType==1&&ie.isContentEditable}:function(ie){return!ie||ie.nodeType!=1||ie.contentEditable=="false"?!1:ie.contentEditable=="true"||X(ie.parentNode)}}();function z(Z){var ie;return Z&&Z.nodeType==1&&((ie=Z.parentNode)&&ie.nodeType==9&&ie.designMode=="on"||X(Z)&&!X(Z.parentNode))}function H(Z){return(X(Z)||Z.nodeType!=1&&X(Z.parentNode))&&!z(Z)}var Q=/^inline(-block|-table)?$/i;function V(Z){return Z&&Z.nodeType==1&&!Q.test(q(Z,"display"))}var W=/[^\r\n\t\f \u200B]/;function te(Z){if(Z.data.length==0)return!0;if(W.test(Z.data))return!1;var ie=q(Z.parentNode,"whiteSpace");switch(ie){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(Z.data))return!1}return V(Z.previousSibling)||V(Z.nextSibling)}function K(Z){var ie=[],ne,Te;for(ne=0;Te=Z[ne++];)ie.push(new a(Te.startContainer,Te.startOffset),new a(Te.endContainer,Te.endOffset));return ie}function U(Z,ie){for(var ne=0,Te,$,se,re=Z.length;ne<re;++ne)Te=Z[ne],$=ie[ne*2],se=ie[ne*2+1],Te.setStartAndEnd($.node,$.offset,se.node,se.offset)}function ee(Z,ie){return o.isCharacterDataNode(Z)?ie==0?!!Z.previousSibling:ie==Z.length?!!Z.nextSibling:!0:ie>0&&ie<Z.childNodes.length}function fe(Z,ie,ne,Te){var $,se,re=ne==0;if(o.isAncestorOf(ie,Z))return Z;if(o.isCharacterDataNode(ie)){var oe=o.getNodeIndex(ie);if(ne==0)ne=oe;else if(ne==ie.length)ne=oe+1;else throw i.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+ne+" in "+ie.data);ie=ie.parentNode}if(ee(ie,ne)){$=ie.cloneNode(!1),se=ie.parentNode,$.id&&$.removeAttribute("id");for(var ye,xe=0;ye=ie.childNodes[ne];)D(ye,$,xe++,Te);return D($,se,o.getNodeIndex(ie)+1,Te),ie==Z?$:fe(Z,se,o.getNodeIndex($),Te)}else if(Z!=ie){$=ie.parentNode;var He=o.getNodeIndex(ie);return re||He++,fe(Z,$,He,Te)}return Z}function ve(Z,ie){return Z.namespaceURI==ie.namespaceURI&&Z.tagName.toLowerCase()==ie.tagName.toLowerCase()&&C(Z,ie)&&k(Z,ie)&&q(Z,"display")=="inline"&&q(ie,"display")=="inline"}function Ce(Z){var ie=Z?"nextSibling":"previousSibling";return function(ne,Te){var $=ne.parentNode,se=ne[ie];if(se){if(se&&se.nodeType==3)return se}else if(Te&&(se=$[ie],se&&se.nodeType==1&&ve($,se))){var re=se[Z?"firstChild":"lastChild"];if(re&&re.nodeType==3)return re}return null}}var ue=Ce(!1),we=Ce(!0);function pe(Z){this.isElementMerge=Z.nodeType==1,this.textNodes=[];var ie=this.isElementMerge?Z.lastChild:Z;ie&&(this.textNodes[0]=ie)}pe.prototype={doMerge:function(Z){var ie=this.textNodes,ne=ie[0];if(ie.length>1){var Te=o.getNodeIndex(ne),$=[],se=0,re;u(ie,function(oe,ye){re=oe.parentNode,ye>0&&(re.removeChild(oe),re.hasChildNodes()||o.removeNode(re),Z&&u(Z,function(xe){xe.node==oe&&(xe.node=ne,xe.offset+=se),xe.node==re&&xe.offset>Te&&(--xe.offset,xe.offset==Te+1&&ye<ie.length-1&&(xe.node=ne,xe.offset=se))})),$[ye]=oe.data,se+=oe.data.length}),ne.data=$.join("")}return ne.data},getLength:function(){for(var Z=this.textNodes.length,ie=0;Z--;)ie+=this.textNodes[Z].length;return ie},toString:function(){var Z=[];return u(this.textNodes,function(ie,ne){Z[ne]="'"+ie.data+"'"}),"[Merge("+Z.join(",")+")]"}};var $e=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],Ne={};function Le(Z,ie,ne){var Te,$,se,re,oe=this;oe.cssClass=oe.className=Z;var ye=null,xe={};if(typeof ie=="object"&&ie!==null){for(typeof ie.elementTagName<"u"&&(ie.elementTagName=ie.elementTagName.toLowerCase()),ne=ie.tagNames,ye=ie.elementProperties,xe=ie.elementAttributes,$=0;re=$e[$++];)ie.hasOwnProperty(re)&&(oe[re]=ie[re]);Te=ie.normalize}else Te=ie;oe.normalize=typeof Te>"u"?!0:Te,oe.attrExceptions=[];var He=document.createElement(oe.elementTagName);oe.elementProperties=oe.copyPropertiesToElement(ye,He,!0),f(xe,function(Ve,qe){oe.attrExceptions.push(Ve),xe[Ve]=""+qe}),oe.elementAttributes=xe,oe.elementSortedClassName=oe.elementProperties.hasOwnProperty("className")?w(oe.elementProperties.className+" "+Z):Z,oe.applyToAnyTagName=!1;var Fe=typeof ne;if(Fe=="string")ne=="*"?oe.applyToAnyTagName=!0:oe.tagNames=h(ne.toLowerCase()).split(/\s*,\s*/);else if(Fe=="object"&&typeof ne.length=="number")for(oe.tagNames=[],$=0,se=ne.length;$<se;++$)ne[$]=="*"?oe.applyToAnyTagName=!0:oe.tagNames.push(ne[$].toLowerCase());else oe.tagNames=[oe.elementTagName]}Le.prototype={elementTagName:c,elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(Z,ie,ne){var Te,$,se={},re,oe,ye,xe;for(var He in Z)if(Z.hasOwnProperty(He))if(oe=Z[He],ye=ie[He],He=="className")g(ie,oe),g(ie,this.className),ie[He]=w(ie[He]),ne&&(se[He]=oe);else if(He=="style"){$=ye,ne&&(se[He]=re={});for(Te in Z[He])Z[He].hasOwnProperty(Te)&&($[Te]=oe[Te],ne&&(re[Te]=$[Te]));this.attrExceptions.push(He)}else ie[He]=oe,ne&&(se[He]=ie[He],xe=Ne.hasOwnProperty(He)?Ne[He]:He,this.attrExceptions.push(xe));return ne?se:""},copyAttributesToElement:function(Z,ie){for(var ne in Z)Z.hasOwnProperty(ne)&&!/^class(?:Name)?$/i.test(ne)&&ie.setAttribute(ne,Z[ne])},appliesToElement:function(Z){return s(this.tagNames,Z.tagName.toLowerCase())},getEmptyElements:function(Z){var ie=this;return Z.getNodes([1],function(ne){return ie.appliesToElement(ne)&&!ne.hasChildNodes()})},hasClass:function(Z){return Z.nodeType==1&&(this.applyToAnyTagName||this.appliesToElement(Z))&&m(Z,this.className)},getSelfOrAncestorWithClass:function(Z){for(;Z;){if(this.hasClass(Z))return Z;Z=Z.parentNode}return null},isModifiable:function(Z){return!this.applyToEditableOnly||H(Z)},isIgnorableWhiteSpaceNode:function(Z){return this.ignoreWhiteSpace&&Z&&Z.nodeType==3&&te(Z)},postApply:function(Z,ie,ne,Te){var $=Z[0],se=Z[Z.length-1],re=[],oe,ye=$,xe=se,He=0,Fe=se.length,Ve;u(Z,function(pt){Ve=ue(pt,!Te),Ve?(oe||(oe=new pe(Ve),re.push(oe)),oe.textNodes.push(pt),pt===$&&(ye=oe.textNodes[0],He=ye.length),pt===se&&(xe=oe.textNodes[0],Fe=oe.getLength())):oe=null});var qe=we(se,!Te);if(qe&&(oe||(oe=new pe(se),re.push(oe)),oe.textNodes.push(qe)),re.length){for(var vt=0,tt=re.length;vt<tt;++vt)re[vt].doMerge(ne);ie.setStartAndEnd(ye,He,xe,Fe)}},createContainer:function(Z){var ie=o.getDocument(Z),ne=d&&!o.isHtmlNamespace(Z)&&Z.namespaceURI?ie.createElementNS(Z.namespaceURI,this.elementTagName):ie.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,ne,!1),this.copyAttributesToElement(this.elementAttributes,ne),g(ne,this.className),this.onElementCreate&&this.onElementCreate(ne,this),ne},elementHasProperties:function(Z,ie){var ne=this;return f(ie,function(Te,$){if(Te=="className")return O(Z,$);if(typeof $=="object"){if(!ne.elementHasProperties(Z[Te],$))return!1}else if(Z[Te]!==$)return!1})},elementHasAttributes:function(Z,ie){return f(ie,function(ne,Te){if(Z.getAttribute(ne)!==Te)return!1})},applyToTextNode:function(Z,ie){if(T(Z)){var ne=Z.parentNode;if(ne.childNodes.length==1&&this.useExistingElements&&this.appliesToElement(ne)&&this.elementHasProperties(ne,this.elementProperties)&&this.elementHasAttributes(ne,this.elementAttributes))g(ne,this.className);else{var Te=Z.parentNode,$=this.createContainer(Te);Te.insertBefore($,Z),$.appendChild(Z)}}},isRemovable:function(Z){return Z.tagName.toLowerCase()==this.elementTagName&&S(Z)==this.elementSortedClassName&&this.elementHasProperties(Z,this.elementProperties)&&!B(Z,this.attrExceptions)&&this.elementHasAttributes(Z,this.elementAttributes)&&this.isModifiable(Z)},isEmptyContainer:function(Z){var ie=Z.childNodes.length;return Z.nodeType==1&&this.isRemovable(Z)&&(ie==0||ie==1&&this.isEmptyContainer(Z.firstChild))},removeEmptyContainers:function(Z){var ie=this,ne=Z.getNodes([1],function(se){return ie.isEmptyContainer(se)}),Te=[Z],$=K(Te);u(ne,function(se){F(se,$)}),U(Te,$)},undoToTextNode:function(Z,ie,ne,Te){if(!ie.containsNode(ne)){var $=ie.cloneRange();$.selectNode(ne),$.isPointInRange(ie.endContainer,ie.endOffset)&&(fe(ne,ie.endContainer,ie.endOffset,Te),ie.setEndAfter(ne)),$.isPointInRange(ie.startContainer,ie.startOffset)&&(ne=fe(ne,ie.startContainer,ie.startOffset,Te))}this.isRemovable(ne)?R(ne,Te):x(ne,this.className)},splitAncestorWithClass:function(Z,ie,ne){var Te=this.getSelfOrAncestorWithClass(Z);Te&&fe(Te,Z,ie,ne)},undoToAncestor:function(Z,ie){this.isRemovable(Z)?R(Z,ie):x(Z,this.className)},applyToRange:function(Z,ie){var ne=this;ie=ie||[];var Te=K(ie||[]);Z.splitBoundariesPreservingPositions(Te),ne.removeEmptyElements&&ne.removeEmptyContainers(Z);var $=L(Z);if($.length){u($,function(oe){!ne.isIgnorableWhiteSpaceNode(oe)&&!ne.getSelfOrAncestorWithClass(oe)&&ne.isModifiable(oe)&&ne.applyToTextNode(oe,Te)});var se=$[$.length-1];Z.setStartAndEnd($[0],0,se,se.length),ne.normalize&&ne.postApply($,Z,Te,!1),U(ie,Te)}var re=ne.getEmptyElements(Z);u(re,function(oe){g(oe,ne.className)})},applyToRanges:function(Z){for(var ie=Z.length;ie--;)this.applyToRange(Z[ie],Z);return Z},applyToSelection:function(Z){var ie=r.getSelection(Z);ie.setRanges(this.applyToRanges(ie.getAllRanges()))},undoToRange:function(Z,ie){var ne=this;ie=ie||[];var Te=K(ie);Z.splitBoundariesPreservingPositions(Te),ne.removeEmptyElements&&ne.removeEmptyContainers(Z,Te);var $=L(Z),se,re,oe=$[$.length-1];if($.length){ne.splitAncestorWithClass(Z.endContainer,Z.endOffset,Te),ne.splitAncestorWithClass(Z.startContainer,Z.startOffset,Te);for(var ye=0,xe=$.length;ye<xe;++ye)se=$[ye],re=ne.getSelfOrAncestorWithClass(se),re&&ne.isModifiable(se)&&ne.undoToAncestor(re,Te);Z.setStartAndEnd($[0],0,oe,oe.length),ne.normalize&&ne.postApply($,Z,Te,!0),U(ie,Te)}var He=ne.getEmptyElements(Z);u(He,function(Fe){x(Fe,ne.className)})},undoToRanges:function(Z){for(var ie=Z.length;ie--;)this.undoToRange(Z[ie],Z);return Z},undoToSelection:function(Z){var ie=r.getSelection(Z),ne=r.getSelection(Z).getAllRanges();this.undoToRanges(ne),ie.setRanges(ne)},isAppliedToRange:function(Z){if(Z.collapsed||Z.toString()=="")return!!this.getSelfOrAncestorWithClass(Z.commonAncestorContainer);var ie=Z.getNodes([3]);if(ie.length){for(var ne=0,Te;Te=ie[ne++];)if(!this.isIgnorableWhiteSpaceNode(Te)&&I(Z,Te)&&this.isModifiable(Te)&&!this.getSelfOrAncestorWithClass(Te))return!1}return!0},isAppliedToRanges:function(Z){var ie=Z.length;if(ie==0)return!1;for(;ie--;)if(!this.isAppliedToRange(Z[ie]))return!1;return!0},isAppliedToSelection:function(Z){var ie=r.getSelection(Z);return this.isAppliedToRanges(ie.getAllRanges())},toggleRange:function(Z){this.isAppliedToRange(Z)?this.undoToRange(Z):this.applyToRange(Z)},toggleSelection:function(Z){this.isAppliedToSelection(Z)?this.undoToSelection(Z):this.applyToSelection(Z)},getElementsWithClassIntersectingRange:function(Z){var ie=[],ne=this;return Z.getNodes([3],function(Te){var $=ne.getSelfOrAncestorWithClass(Te);$&&!s(ie,$)&&ie.push($)}),ie},detach:function(){}};function Ie(Z,ie,ne){return new Le(Z,ie,ne)}Le.util={hasClass:m,addClass:g,removeClass:x,getClass:_,hasSameClasses:C,hasAllClasses:O,replaceWithOwnChildren:R,elementsHaveSameNonClassAttributes:k,elementHasNonClassAttributes:B,splitNodeAt:fe,isEditableElement:X,isEditingHost:z,isEditable:H},r.CssClassApplier=r.ClassApplier=Le,r.createClassApplier=Ie,l.createAliasForDeprecatedMethod(r,"createCssClassApplier","createClassApplier",i)}),n})})(fOe);var MI={toolbar:{allowMultiParagraphSelection:!0,buttons:["bold","colorpicker","italic","underline","strikethrough","quote","justifyLeft","justifyCenter","justifyRight","justifyFull","superscript","subscript","orderedlist","unorderedlist","pre","removeFormat","outdent","indent","h2","h3"],standardizeSelectionStart:!1,updateOnEmptySelection:!1},placeholder:{text:"请输入内容",hideOnClick:!0},disableEditing:!0},II=YS.extensions.button.extend({name:"colorpicker",tagNames:["mark"],contentDefault:"<b>Color</b>",aria:"Color Picker",action:"colorPicker",init:function(){var t=this;NI.init(),YS.extensions.button.prototype.init.call(this),this.colorPicker=new aH({parent:this.button,color:"#000",onDone:function(e){t.coloredText&&t.coloredText.isAppliedToSelection()&&t.coloredText.undoToSelection(),t.coloredText=NI.createClassApplier("colored",{elementTagName:"span",elementProperties:{style:{color:e.hex}},normalize:!0}),t.coloredText.toggleSelection(),t.base.checkContentChanged(),t.setInactive()}})},getButton:function(){return this.button},handleClick:function(){this.setActive(),this.colorPicker.show()},isAlreadyApplied:function(t){return t.nodeName.toLowerCase()==="mark"},isActive:function(){return this.button.classList.contains("medium-editor-button-active")},setInactive:function(){this.button.classList.remove("medium-editor-button-active")},setActive:function(){this.button.classList.add("medium-editor-button-active")}}),hOe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pOe=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},DI=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},LI=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};(function(t){hOe(e,t);function e(n){var r=t.call(this,n)||this;r.labelMap=new Map;var i=n.lf,o=n.graphModel;return r.lf=i,r.graphModel=o,r.state={tick:0},r}return e.prototype.componentDidMount=function(){var n=this,r=this.props.graphModel;this.editor=new YS(".lf-label-editor",Cu(MI,{autoLink:!0,extensions:{colorPicker:new II}})),r.eventCenter.on("text:update,node:mousemove,node:resize,node:rotate,node:drag,label:drop,node:drop",function(){}),r.eventCenter.on("node:properties-change,node:properties-delete",function(){n.setState({tick:n.state.tick+1})})},e.prototype.componentDidUpdate=function(){var n;this.editor&&this.editor.elements.length>0?this.editor.addElements(".lf-label-editor"):((n=this.editor)===null||n===void 0||n.destroy(),this.editor=new YS(".lf-label-editor",Cu(MI,{autoLink:!0,extensions:{colorPicker:new II}})))},e.prototype.componentWillUnmount=function(){var n;(n=this.editor)===null||n===void 0||n.destroy()},e.prototype.getLabels=function(){var n=this,r=this.props,i=r.lf.extension,o=r.graphModel,a=LI(LI([],DI(o.nodes),!1),DI(o.edges),!1),s=i.label;if(s){var l=[];return Ai(a,function(u){var c,d,f=u.getData(),h=(d=(c=f.properties)===null||c===void 0?void 0:c._label)!==null&&d!==void 0?d:[];Ai(h,function(v){var m=n.labelMap,g=new rOe(v,u,o);m.set(g.id,g),l.push(Ct(tOe,{label:g,element:u,graphModel:o},g.id))})}),l}return null},e.prototype.render=function(){return Ct("foreignObject",{id:"lf-label-overlay",class:"lf-label-overlay",children:this.getLabels()})},e.toolName="label-edit-tool",e=pOe([ts],e),e})(ii);var bE=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})},xE=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},vOe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},mOe=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},M0={};function uH(t){return t.startsWith("data:text/plain")}function cH(t){return bE(this,void 0,void 0,function(){return xE(this,function(e){return M0[t]?[2,M0[t]]:[2,new Promise(function(n,r){try{fetch(t).then(function(i){return i.blob()}).then(function(i){var o=new FileReader;o.onloadend=function(){n(M0[t]=o.result)},o.onerror=r,o.readAsDataURL(i)}).catch(function(){n(M0[t]=t)})}catch{return M0[t]=t}})]})})}function kI(t,e){return bE(this,void 0,void 0,function(){var n,r,i;return xE(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n=t.getAttribute(e)||"",n.startsWith("data:")?[2]:[4,cH(n)];case 1:return r=o.sent(),uH(r)?[2]:(t.setAttribute(e,r),[3,3]);case 2:return i=o.sent(),console.error(i),[3,3];case 3:return[2]}})})}function $I(t,e){return bE(this,void 0,void 0,function(){var n,r;return xE(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e.startsWith("data:")?[2]:[4,cH(e)];case 1:return n=i.sent(),uH(n)?[2]:(t.style.backgroundImage="url(".concat(n,")"),[3,3]);case 2:return r=i.sent(),console.error(r),[3,3];case 3:return[2]}})})}function $2(t){return bE(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,l,u;return xE(this,function(c){switch(c.label){case 0:for(e=[t],r=[];e.length;)n=e.shift(),n.children.length&&e.push.apply(e,mOe([],vOe(n.children),!1)),n instanceof HTMLElement&&(i=n.style,o=i.background,a=i.backgroundImage,s=o.match(/url\(["']?(.*?)["']?\)/),s&&s[1]&&(u=s[1],r.push($I(n,u))),l=a.match(/url\(["']?(.*?)["']?\)/),l&&l[1]&&(u=l[1],r.push($I(n,u)))),n instanceof HTMLImageElement?r.push(kI(n,"src")):n instanceof SVGImageElement&&r.push(kI(n,"href"));return[4,Promise.all(r)];case 1:return c.sent(),[2]}})})}function I0(t,e,n){var r=document.createElement("canvas");r.width=e,r.height=n;var i=r.getContext("2d");return i&&i.drawImage(t,0,0,t.width,t.height,0,0,e,n),r}var ad=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})},sd=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},gOe=function(){function t(e){var n=e.lf,r=this;this.lf=n,this.customCssRules="",this.useGlobalRules=!0,n.getSnapshot=function(i,o){return ad(r,void 0,void 0,function(){return sd(this,function(a){switch(a.label){case 0:return[4,this.getSnapshot(i,o)];case 1:return[2,a.sent()]}})})},n.getSnapshotBlob=function(i,o){return ad(r,void 0,void 0,function(){return sd(this,function(a){switch(a.label){case 0:return[4,this.getSnapshotBlob(i,o)];case 1:return[2,a.sent()]}})})},n.getSnapshotBase64=function(i,o){return ad(r,void 0,void 0,function(){return sd(this,function(a){switch(a.label){case 0:return[4,this.getSnapshotBase64(i,o)];case 1:return[2,a.sent()]}})})}}return t.prototype.getSvgRootElement=function(e){var n=e.container.querySelector(".lf-canvas-overlay");return n},t.prototype.triggerDownload=function(e){var n=new MouseEvent("click",{view:document.defaultView,bubbles:!1,cancelable:!0}),r=document.createElement("a");r.setAttribute("download",this.fileName),r.setAttribute("href",e),r.setAttribute("target","_blank"),r.dispatchEvent(n)},t.prototype.removeAnchor=function(e){for(var n=e.childNodes,r=e.childNodes&&e.childNodes.length,i=0;i<r;i++){var o=n[i],a=o.classList&&Array.from(o.classList)||[];a.indexOf("lf-anchor")>-1&&(e.removeChild(e.childNodes[i]),r--,i--)}},t.prototype.removeRotateControl=function(e){for(var n=e.childNodes,r=e.childNodes&&e.childNodes.length,i=0;i<r;i++){var o=n[i],a=o.classList&&Array.from(o.classList)||[];a.indexOf("lf-rotate-control")>-1&&(e.removeChild(e.childNodes[i]),r--,i--)}},t.prototype.getSnapshot=function(e,n){return ad(this,void 0,void 0,function(){var r,i,o,a,s=this;return sd(this,function(l){switch(l.label){case 0:return r=this.lf.graphModel.getPartial(),i=(n??{}).partial,o=i===void 0?r:i,a=this.lf.getEditConfig(),this.lf.updateEditConfig({isSilentMode:!0,stopScrollGraph:!0,stopMoveGraph:!0}),r===o?[3,1]:(this.lf.graphModel.setPartial(o),this.lf.graphModel.eventCenter.once("graph:updated",function(){return ad(s,void 0,void 0,function(){return sd(this,function(u){switch(u.label){case 0:return[4,this.snapshot(e,n)];case 1:return u.sent(),this.lf.graphModel.setPartial(r),[2]}})})}),[3,3]);case 1:return[4,this.snapshot(e,n)];case 2:l.sent(),l.label=3;case 3:return this.lf.updateEditConfig(a),[2]}})})},t.prototype.snapshot=function(e,n){return ad(this,void 0,void 0,function(){var r,i,o,a,s,l,u,c,d,f=this;return sd(this,function(h){switch(h.label){case 0:return r=n??{},i=r.fileType,o=i===void 0?"png":i,a=r.quality,this.fileName="".concat(e??"logic-flow.".concat(Date.now()),".").concat(o),s=this.getSvgRootElement(this.lf),[4,$2(s)];case 1:return h.sent(),o==="svg"?(l=this.cloneSvg(s),u=new XMLSerializer().serializeToString(l),c=new Blob([u],{type:"image/svg+xml;charset=utf-8"}),d=URL.createObjectURL(c),this.triggerDownload(d)):this.getCanvasData(s,n??{}).then(function(v){var m=v.toDataURL("image/".concat(o),a).replace("image/".concat(o),"image/octet-stream");f.triggerDownload(m)}),[2]}})})},t.prototype.getSnapshotBase64=function(e,n){return ad(this,void 0,void 0,function(){var r,i=this;return sd(this,function(o){switch(o.label){case 0:return r=this.getSvgRootElement(this.lf),[4,$2(r)];case 1:return o.sent(),[2,new Promise(function(a){i.getCanvasData(r,{backgroundColor:e}).then(function(s){var l=s.toDataURL("image/".concat(n??"png"));a({data:l,width:s.width,height:s.height})})})]}})})},t.prototype.getSnapshotBlob=function(e,n){return ad(this,void 0,void 0,function(){var r,i=this;return sd(this,function(o){switch(o.label){case 0:return r=this.getSvgRootElement(this.lf),[4,$2(r)];case 1:return o.sent(),[2,new Promise(function(a){i.getCanvasData(r,{backgroundColor:e}).then(function(s){s.toBlob(function(l){a({data:l,width:s.width,height:s.height})},"image/".concat(n??"png"))})})]}})})},t.prototype.getClassRules=function(){var e="";if(this.useGlobalRules)for(var n=document.styleSheets,r=0;r<n.length;r++){var i=n[r];try{for(var o=0;o<i.cssRules.length;o++)e+=i.cssRules[o].cssText}catch{console.log("CSS scripts from different sources have been filtered out")}}return this.customCssRules&&(e+=this.customCssRules),e},t.prototype.getCanvasData=function(e,n){return ad(this,void 0,void 0,function(){var r,i,o,a,s,l,u,c,d,f,h,v,m,g,x,_,w,S,C,O,T,N,M,D,F,j;return sd(this,function(R){return r=n.width,i=n.height,o=n.backgroundColor,a=n.padding,s=a===void 0?40:a,l=this.cloneSvg(e,!1),u=window.devicePixelRatio||1,u<1&&(u=1),c=this.lf.graphModel.rootEl.querySelector(".lf-base"),d=c.getBoundingClientRect(),f=this.lf.container.querySelector(".lf-canvas-overlay"),h=f.getBoundingClientRect(),v=d.x-h.x,m=d.y-h.y,g=this.lf.graphModel,x=g.transformModel,_=x.SCALE_X,w=x.SCALE_Y,S=x.TRANSLATE_X,C=x.TRANSLATE_Y,l.lastChild.style.transform="matrix(1, 0, 0, 1, ".concat((-v+S)*(1/_),", ").concat((-m+C)*(1/w),")"),O=Math.ceil(d.width/_),T=Math.ceil(d.height/w),N=document.createElement("canvas"),N.style.width="".concat(O,"px"),N.style.height="".concat(T,"px"),N.width=O*u+s*2,N.height=T*u+s*2,M=N.getContext("2d"),M&&(M.clearRect(0,0,N.width,N.height),M.scale(u,u),o?(M.fillStyle=o,M.fillRect(0,0,N.width,N.height)):M.clearRect(0,0,N.width,N.height)),D=new Image,F=document.createElement("style"),F.innerHTML=this.getClassRules(),j=document.createElement("foreignObject"),j.appendChild(F),l.appendChild(j),[2,new Promise(function(I){D.onload=function(){var B=navigator.userAgent.indexOf("Firefox")>-1;try{B?createImageBitmap(D,{resizeWidth:r&&i?I0(N,r,i).width:N.width,resizeHeight:r&&i?I0(N,r,i).height:N.height}).then(function(q){M==null||M.drawImage(q,s/u,s/u),I(r&&i?I0(N,r,i):N)}):(M==null||M.drawImage(D,s/u,s/u),I(r&&i?I0(N,r,i):N))}catch{M==null||M.drawImage(D,s/u,s/u),I(r&&i?I0(N,r,i):N)}};var L="data:image/svg+xml;charset=utf-8,".concat(new XMLSerializer().serializeToString(l)),k=L.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");D.src=k})]})})},t.prototype.cloneSvg=function(e,n){var r=this,i;n===void 0&&(n=!0);var o=e.cloneNode(!0),a=o.lastChild,s=(i=a==null?void 0:a.childNodes)===null||i===void 0?void 0:i.length;if(s)for(var l=0;l<s;l++){var u=a==null?void 0:a.childNodes[l],c=u.classList&&Array.from(u.classList);if(c&&c.indexOf("lf-base")<0)a==null||a.removeChild(a.childNodes[l]),s--,l--;else{var d=a==null?void 0:a.childNodes[l];d&&d.childNodes.forEach(function(v){var m=v;r.removeAnchor(m.firstChild),r.removeRotateControl(m.firstChild)})}}if(n){var f=document.createElement("style");f.innerHTML=this.getClassRules();var h=document.createElement("foreignObject");h.appendChild(f),o.appendChild(h)}return o},t.pluginName="snapshot",t}();var yOe=function(){function t(e){var n=e.lf,r=this;this.lf=n,this.lf.setPatternItems=function(i){r.setPatternItems(i)}}return t.prototype.render=function(e,n){var r=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=n;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){var o;(o=r.panelEl)===null||o===void 0||o.appendChild(r.createDndItem(i))}),n.appendChild(this.panelEl),this.domContainer=n},t.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},t.prototype.setPatternItems=function(e){this.shapeList=e,this.domContainer&&this.render(this.lf,this.domContainer)},t.prototype.createDndItem=function(e){var n=this,r=document.createElement("div");r.className=e.className?"lf-dnd-item ".concat(e.className):"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",e.icon&&(i.style.backgroundImage="url(".concat(e.icon,")")),r.appendChild(i),e.label){var o=document.createElement("div");o.innerText=e.label,o.className="lf-dnd-text",r.appendChild(o)}return e.disabled?(r.classList.add("disabled"),r.onmousedown=function(){e.callback&&e.callback(n.lf,n.domContainer)},r):(r.onmousedown=function(){e.type&&n.lf.dnd.startDrag({type:e.type,properties:e.properties,text:e.text}),e.callback&&e.callback(n.lf,n.domContainer)},r.ondblclick=function(a){n.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:a,data:e})},r.onclick=function(a){n.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:a,data:e})},r.oncontextmenu=function(a){n.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:a,data:e})},r)},t.pluginName="dndPanel",t}(),bOe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xOe=function(){function t(e){var n=e.lf,r=e.LogicFlow,i=e.options,o=this;this.width=200,this.height=150,this.scale=1,this.translateX=0,this.translateY=0,this.showEdge=!1,this.viewPortTop=0,this.viewPortLeft=0,this.viewPortWidth=150,this.viewPortHeight=75,this.isShow=!1,this.isShowHeader=!1,this.isShowCloseIcon=!1,this.headerTitle="导航",this.disabledPlugins=["miniMap","control","selectionSelect"],this.onGraphResize=function(){o.updateViewPortBounds(),o.isShow&&o.updateViewPort()},this.render=function(s,l){o.container=l,o.lf.on("history:change",function(){o.isShow&&o.setView()}),o.lf.on("graph:transform",function(){o.isShow&&o.setView(!1)})},this.show=function(s,l){o.isShow||(o.createMiniMap(s,l),o.setView()),o.isShow=!0},this.hide=function(){o.isShow&&(o.removeMiniMap(),o.lf.emit("miniMap:close",{})),o.isShow=!1},this.updatePosition=function(s){if(typeof s=="object")(s.left!==void 0||s.right!==void 0)&&(o.leftPosition=s.left,o.rightPosition=s.right),(s.top!==void 0||s.bottom!==void 0)&&(o.topPosition=s.top,o.bottomPosition=s.bottom);else switch(s){case"left-top":o.leftPosition=0,o.rightPosition=void 0,o.topPosition=0,o.bottomPosition=void 0;break;case"right-top":o.leftPosition=void 0,o.rightPosition=0,o.topPosition=0,o.bottomPosition=void 0;break;case"left-bottom":o.leftPosition=0,o.rightPosition=void 0,o.topPosition=void 0,o.bottomPosition=0;break;case"right-bottom":o.leftPosition=void 0,o.rightPosition=0,o.topPosition=void 0,o.bottomPosition=0;break}o.updateMiniMapPosition()},this.reset=function(){o.lf.resetTranslate(),o.lf.resetZoom()},this.setShowEdge=function(s){o.showEdge!==s&&(o.showEdge=s,o.setView())},this.startDrag=function(s){document.addEventListener("mousemove",o.drag),document.addEventListener("mouseup",o.drop);var l=s.x,u=s.y;o.startPosition={x:l,y:u}},this.drag=function(s){var l=s.x,u=s.y,c=(l-o.startPosition.x)/o.scale,d=(u-o.startPosition.y)/o.scale,f=o.viewPortLeft+c+o.viewPortWidth/o.scale/2,h=o.viewPortTop+d+o.viewPortHeight/o.scale/2;o.startPosition={x:l,y:u},o.lf.focusOn({coordinate:{x:f,y:h}})},this.drop=function(){document.removeEventListener("mousemove",o.drag),document.removeEventListener("mouseup",o.drop)},this.mapClick=function(s){var l=s.offsetX,u=s.offsetY,c=o.translateX+l/o.scale,d=o.translateY+u/o.scale;o.lf.focusOn({coordinate:{x:c,y:d}})},this.lf=n,this.LFCtor=r,i&&this.setOption(i),this.viewPortWidth=n.graphModel.width,this.viewPortHeight=n.graphModel.height;var a={left:0,right:this.viewPortWidth,top:0,bottom:this.viewPortHeight};this.bounds=a,this.elementAreaBounds=a,this.viewPortBounds=a,this.initMiniMap(),n.on("graph:resize",this.onGraphResize)}return t.prototype.setOption=function(e){var n=e.width,r=n===void 0?150:n,i=e.height,o=i===void 0?220:i,a=e.showEdge,s=a===void 0?!1:a,l=e.isShowHeader,u=l===void 0?!1:l,c=e.isShowCloseIcon,d=c===void 0?!1:c,f=e.leftPosition,h=e.topPosition,v=e.rightPosition,m=v===void 0?0:v,g=e.bottomPosition,x=g===void 0?0:g,_=e.headerTitle,w=_===void 0?"导航":_;this.width=r,this.height=o,this.showEdge=s,this.isShowHeader=u,this.isShowCloseIcon=d,this.leftPosition=f,this.rightPosition=f!==void 0?void 0:m,this.topPosition=h,this.bottomPosition=h!==void 0?void 0:x,this.headerTitle=w},t.prototype.initMiniMap=function(){var e=document.createElement("div");e.className="lf-mini-map-graph",e.style.width="".concat(this.width,"px"),e.style.height="".concat(this.height,"px"),this.lfMap=new this.LFCtor({container:e,grid:!1,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!1,history:!1,snapline:!1,disabledPlugins:this.disabledPlugins}),this.miniMapWrap=e,this.createViewPort(),e.addEventListener("click",this.mapClick)},t.prototype.createMiniMap=function(e,n){var r,i=document.createElement("div");this.miniMapContainer=i,i.appendChild(this.miniMapWrap),i.style.position="absolute",(e!==void 0||n!==void 0)&&(this.leftPosition=e||0,this.topPosition=n||0,this.rightPosition=void 0,this.bottomPosition=void 0),this.updateMiniMapPosition(),i.className="lf-mini-map",this.isShowCloseIcon||i.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||i.classList.add("lf-mini-map-no-header"),(r=this.container)===null||r===void 0||r.appendChild(i),this.miniMapWrap.appendChild(this.viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText=this.headerTitle,i.appendChild(o);var a=document.createElement("span");a.className="lf-mini-map-close",a.addEventListener("click",this.hide),i.appendChild(a)},t.prototype.updateMiniMapPosition=function(){if(this.miniMapContainer){var e=this.miniMapContainer.style;this.rightPosition!==void 0?(e.right="".concat(this.rightPosition,"px"),e.left=""):(e.left="".concat(this.leftPosition,"px"),e.right=""),this.bottomPosition!==void 0?(e.bottom="".concat(this.bottomPosition,"px"),e.top=""):(e.top="".concat(this.topPosition,"px"),e.bottom="")}},t.prototype.removeMiniMap=function(){var e;this.miniMapContainer&&((e=this.container)===null||e===void 0||e.removeChild(this.miniMapContainer))},t.prototype.updateBounds=function(e){e&&this.updateElementAreaBounds(e),this.updateViewPortBounds(),this.bounds={left:Math.min(this.elementAreaBounds.left,this.viewPortBounds.left),right:Math.max(this.elementAreaBounds.right,this.viewPortBounds.right),top:Math.min(this.elementAreaBounds.top,this.viewPortBounds.top),bottom:Math.max(this.elementAreaBounds.bottom,this.viewPortBounds.bottom)}},t.prototype.updateElementAreaBounds=function(e){var n={left:0,right:0,top:0,bottom:0},r=e.nodes;r&&r.length>0&&r.forEach(function(i){var o,a,s=i.x,l=i.y,u=(o=i.width)!==null&&o!==void 0?o:200,c=(a=i.height)!==null&&a!==void 0?a:200,d=s-u/2,f=s+u/2,h=l-c/2,v=l+c/2;n.left=Math.min(d,n.left),n.right=Math.max(f,n.right),n.top=Math.min(h,n.top),n.bottom=Math.max(v,n.bottom)}),this.elementAreaBounds=n},t.prototype.updateViewPortBounds=function(){var e=this.lf.getTransform(),n=e.TRANSLATE_X,r=e.TRANSLATE_Y,i=e.SCALE_X,o=e.SCALE_Y,a=this.lf.graphModel,s=a.width,l=a.height;this.viewPortBounds={left:-n/i,right:(-n+s)/i,top:-r/o,bottom:(-r+l)/o}},t.prototype.resetData=function(e){var n=e.nodes,r=e.edges;return n.forEach(function(i){i.text=void 0}),this.showEdge&&r.forEach(function(i){i.text=void 0}),{nodes:n,edges:this.showEdge?r:[]}},t.prototype.setView=function(e){var n,r;if(e===void 0&&(e=!0),e){var i=this.lf.getGraphRawData(),o=this.resetData(i),a=this.lf.viewMap,s=this.lf.graphModel.modelMap,l=this.lfMap.viewMap;try{for(var u=bOe(a.keys()),c=u.next();!c.done;c=u.next()){var d=c.value;l.has(d)||this.lfMap.register({type:d,view:a.get(d),model:s.get(d)})}}catch(M){n={error:M}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}this.lfMap.render(o),this.updateBounds(o)}else this.updateBounds();var f=this.bounds,h=f.left,v=f.top,m=f.right,g=f.bottom,x=m-h,_=g-v,w=this.width/x,S=this.height/_,C=Math.min(w,S);this.scale=C;var O=h-(this.width/C-x)/2,T=v-(this.height/C-_)/2;if(this.lfMap.graphModel.transformModel.translate(-O+this.translateX,-T+this.translateY),this.translateX=O,this.translateY=T,this.miniMapWrap.firstChild){var N=this.miniMapWrap.firstChild.style;N.pointerEvents="none",N.transform="matrix(".concat(C,", 0, 0, ").concat(C,", 0, 0)"),N.transformOrigin="left top",N.height="".concat(this.height/C,"px"),N.width="".concat(this.width/C,"px"),this.updateViewPort()}},t.prototype.updateViewPort=function(){var e=this.viewport.style,n=this.lf.getTransform(),r=n.TRANSLATE_X,i=n.TRANSLATE_Y,o=n.SCALE_X,a=n.SCALE_Y,s=this.lf.graphModel,l=s.width,u=s.height;this.viewPortLeft=-r/o,this.viewPortTop=-i/a,this.viewPortWidth=l/o*this.scale,this.viewPortHeight=u/a*this.scale,e.width="".concat(this.viewPortWidth,"px"),e.height="".concat(this.viewPortHeight,"px"),e.left="".concat((this.viewPortLeft-this.translateX)*this.scale,"px"),e.top="".concat((this.viewPortTop-this.translateY)*this.scale,"px")},t.prototype.createViewPort=function(){var e=document.createElement("div");e.className="lf-minimap-viewport",e.addEventListener("mousedown",this.startDrag),e.addEventListener("click",function(n){n.stopPropagation()}),this.viewport=e},t.prototype.destroy=function(){this.lf.off("graph:resize",this.onGraphResize)},t.pluginName="miniMap",t}(),_Oe=function(){function t(e){var n=e.lf,r=this;this.disabled=!0,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.draw=function(o){var a=r.lf.getPointByClient(o.clientX,o.clientY).domOverlayPosition,s=a.x,l=a.y;if(r.endPoint={x:s,y:l},r.startPoint){var u=r.startPoint,c=u.x,d=u.y,f=c,h=d,v=s-c,m=l-d;s<c&&(f=s,v=c-s),l<d&&(h=l,m=d-l),r.wrapper&&(r.wrapper.style.left="".concat(f,"px"),r.wrapper.style.top="".concat(h,"px"),r.wrapper.style.width="".concat(v,"px"),r.wrapper.style.height="".concat(m,"px"))}},this.drawOff=function(){var o;if(document.removeEventListener("mousemove",r.draw),document.removeEventListener("mouseup",r.drawOff),r.wrapper&&(r.wrapper.oncontextmenu=null,(o=r.container)===null||o===void 0||o.removeChild(r.wrapper)),r.startPoint&&r.endPoint){var a=r.startPoint,s=a.x,l=a.y,u=r.endPoint,c=u.x,d=u.y,f=[Math.min(s,c),Math.min(l,d)],h=[Math.max(s,c),Math.max(l,d)];if(r.lf.emit("selection:selected-area",{topLeft:f,bottomRight:h}),Math.abs(c-s)<10&&Math.abs(d-l)<10)return;var v=r.lf.graphModel.getAreaElement(f,h,r.isWholeEdge,r.isWholeNode,!0),m=r.lf.graphModel,g=m.dynamicGroup,x=m.group;v.forEach(function(_){(!x||!x.getNodeGroup(_.id))&&r.lf.selectElementById(_.id,!0),(!g||!g.getGroupByNodeId(_.id))&&r.lf.selectElementById(_.id,!0)}),r.lf.emit("selection:selected",{elements:v,leftTopPoint:f,rightBottomPoint:h})}},this.lf=n;var i=n.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=i,n.openSelectionSelect=function(){r.openSelectionSelect()},n.closeSelectionSelect=function(){r.closeSelectionSelect()}}return t.prototype.render=function(e,n){var r=this;this.container=n,e.on("blank:mousedown",function(i){var o=i.e,a=e.getEditConfig();if(!(!a.stopMoveGraph||r.disabled)){var s=o.button===2;if(!s){var l=e.getPointByClient(o.clientX,o.clientY).domOverlayPosition,u=l.x,c=l.y;r.startPoint={x:u,y:c},r.endPoint={x:u,y:c};var d=document.createElement("div");d.className="lf-selection-select",d.oncontextmenu=function(h){h.preventDefault()},d.style.top="".concat(r.startPoint.y,"px"),d.style.left="".concat(r.startPoint.x,"px"),n.appendChild(d),r.wrapper=d,document.addEventListener("mousemove",r.draw),document.addEventListener("mouseup",r.drawOff)}}})},t.prototype.setSelectionSense=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0),this.isWholeEdge=e,this.isWholeNode=n},t.prototype.openSelectionSelect=function(){var e=this.lf.getEditConfig().stopMoveGraph;e||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},t.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},t.prototype.open=function(){this.disabled=!1},t.prototype.close=function(){this.disabled=!0},t.pluginName="selectionSelect",t}();var dH=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dm=function(){return dm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},dm.apply(this,arguments)},Ny=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},SOe={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function wOe(t){for(var e=t,n=1;n<e.length-1;){var r=Ny(e[n-1],2),i=r[0],o=r[1],a=Ny(e[n],2),s=a[0],l=a[1],u=Ny(e[n+1],2),c=u[0],d=u[1];i===s&&s===c||o===l&&l===d?e.splice(n,1):n++}return e}function EOe(t,e,n,r){var i=[t[0],t[1]],o=[t[0],t[1]];switch(n){case"tl":return e==="tr"?(i[1]+=r,o[0]+=r):e==="lb"&&(i[0]+=r,o[1]+=r),[i,o];case"tr":return e==="tl"?(i[1]+=r,o[0]-=r):e==="rb"&&(i[0]-=r,o[1]+=r),[i,o];case"bl":return e==="br"?(i[1]-=r,o[0]+=r):e==="lt"&&(i[0]+=r,o[1]-=r),[i,o];case"br":return e==="bl"?(i[1]-=r,o[0]-=r):e==="rt"&&(i[0]-=r,o[1]-=r),[i,o];default:return[]}}function COe(t,e,n,r){var i,o="",a="";t[0]===e[0]?o=t[1]>e[1]?"t":"b":t[1]===e[1]&&(o=t[0]>e[0]?"l":"r"),e[0]===n[0]?a=e[1]>n[1]?"t":"b":e[1]===n[1]&&(a=e[0]>n[0]?"l":"r");var s=Math.min(Math.hypot(e[0]-t[0],e[1]-t[1])/2,Math.hypot(n[0]-e[0],n[1]-e[1])/2,r)||1/5*r,l="".concat(o).concat(a),u=SOe[l]||"-",c="L ".concat(t[0]," ").concat(t[1]);if(u==="-")c+="L ".concat(e[0]," ").concat(e[1]," L ").concat(n[0]," ").concat(n[1]);else{var d=Ny(EOe(e,l,u,s),2),f=d[0],h=d[1];f&&h&&(c+="L ".concat(f[0]," ").concat(f[1]," Q ").concat(e[0]," ").concat(e[1]," ").concat(h[0]," ").concat(h[1]),i=Ny(h,2),e[0]=i[0],e[1]=i[1])}return c}function TOe(t,e){var n=0,r="";if(t.length===2)r+="M".concat(t[n][0]," ").concat(t[n++][1]," L ").concat(t[n][0]," ").concat(t[n][1]);else{for(r+="M".concat(t[n][0]," ").concat(t[n++][1]);n+1<t.length;){var i=t[n-1],o=t[n],a=t[n+++1];r+=COe(i,o,a,e)}r+="L ".concat(t[n][0]," ").concat(t[n][1])}return r}(function(t){dH(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEdge=function(){var n=this.props.model,r=n.points,i=n.isAnimation,o=n.arrowConfig,a=n.radius,s=a===void 0?5:a,l=n.getEdgeStyle(),u=n.getEdgeAnimationStyle(),c=wOe(r.split(" ").map(function(h){return h.split(",").map(function(v){return+v})})),d=TOe(c,s),f=dm(dm(dm({style:i?u:{}},l),o),{fill:"none"});return fr("path",dm({d},f))},e})(Hm);(function(t){dH(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Bm);var fH=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qS=function(){return qS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qS.apply(this,arguments)},FI=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},jI=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},ROe=function(t){fH(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var n=this.props.model,r=n.id,i=n.x,o=n.y,a=n.width,s=n.height,l=n.properties,u=this.props.model.getNodeStyle();return fr("svg",{x:i-a/2,y:o-s/2,width:50,height:24,style:"z-index: 0; background: none; overflow: auto;"},[l.labelText?fr("text",{x:0,y:-5,fontSize:"16px",fill:u.stroke},l.labelText):"",l.disabledDelete?"":fr("text",{x:l.labelText?50:0,y:-5,fontSize:"24px",cursor:"pointer",fill:u.stroke,onclick:this.handleCustomDeleteIconClick.bind(this,r)},"x")])},e.prototype.getShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.id,l=this.props.model.getNodeStyle();return fr("g",{},[fr("rect",qS(qS({},l),{x:r-o/2,y:i-a/2,width:o,height:a,id:s})),this.getLabelShape()])},e.prototype.toFront=function(){},e.prototype.handleCustomDeleteIconClick=function(n){var r=this.props.graphModel;r.deleteNode(n)},e}(xS),POe=function(t){fH(e,t);function e(){var n=t.apply(this,jI([],FI(arguments),!1))||this;return n.d=10,n.isResize=!1,n}return e.prototype.initNodeData=function(n){n.text={value:"",x:n.x,y:n.y,draggable:!1,editable:!1},t.prototype.initNodeData.call(this,n),this.zIndex=0,this.draggable=!0},e.prototype.setAttributes=function(){var n=this,r;this.points=[],((r=this.properties)===null||r===void 0?void 0:r.node_selection_ids).length>1&&setTimeout(function(){var i;n.updatePointsByNodes(((i=n.properties)===null||i===void 0?void 0:i.node_selection_ids)||[])})},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this);return n.stroke=this.properties.strokeColor||"#008000",n.strokeDasharray="10 5",n},e.prototype.getDefaultAnchor=function(){return[]},e.prototype.updatePoints=function(n){this.points=n},e.prototype.updateCoordinate=function(n){var r=n.x,i=n.y;this.x=r,this.y=i},e.prototype.updatePointsByNodes=function(n){var r=this,i=[],o=1/0,a=1/0,s=-1/0,l=-1/0;n.forEach(function(u){var c=r.graphModel.getNodeModelById(u);if(c){var d=c.width,f=c.height,h=c.x,v=c.y;o=Math.min(o,h-d/2-r.d),a=Math.min(a,v-f/2-r.d),s=Math.max(s,h+d/2+r.d),l=Math.max(l,v+f/2+r.d)}}),i.push([o,a],[s,a],[s,l],[o,l]),![o,a,s,l].some(function(u){return Math.abs(u)===1/0})&&(this.updatePoints(i),this.updateCoordinate({x:(s+o)/2,y:(l+a)/2}))},e.prototype.resize=function(n){var r;this.isResize=!0;for(var i=n.width,o=n.height,a={x:i/this.width,y:o/this.height},s=(this.properties.node_selection_ids||[]).slice(),l=[],u=new Set;s.length;){var c=s.shift(),d=(r=this.graphModel.nodesMap[c])===null||r===void 0?void 0:r.model;if(d){if(!R_(d)){l.push(d);continue}u.has(d.id)||(u.add(d.id),s.push.apply(s,jI([],FI(d.properties.node_selection_ids||[]),!1)))}}var f={x:this.x-this.width/2,y:this.y-this.height/2},h=t.prototype.resize.call(this,n),v={x:this.x-this.width/2,y:this.y-this.height/2};return l.forEach(function(m){m.width=m.width*a.x,m.height=m.height*a.y;var g=(m.x-f.x)*a.x+v.x-m.x,x=(m.y-f.y)*a.y+v.y-m.y;m.move(g,x,!0)}),this.isResize=!1,h},e}(vS),iP="node-selection";(function(){function t(e){var n=e.lf;this.selectNodes=[],this.d=10,this.lf=n,n.register({type:iP,view:ROe,model:POe})}return Object.defineProperty(t.prototype,"selectNodesIds",{get:function(){return this.selectNodes.map(function(e){return e.id})},enumerable:!1,configurable:!0}),t.prototype.addNodeSelection=function(){var e=this.lf.addNode({type:"node-selection",text:"",properties:{node_selection_ids:this.selectNodesIds},x:0,y:0});e.updatePointsByNodes(this.selectNodesIds)},t.prototype.updateNodeSelection=function(){var e,n=this.getNodeSelection();n&&(this.lf.setProperties(n.id,{node_selection_ids:this.selectNodesIds}),(e=this.lf.getNodeModelById(n.id))===null||e===void 0||e.updatePointsByNodes(this.selectNodesIds))},t.prototype.getNodeSelection=function(){var e=this,n=this.selectNodesIds,r=this.lf.getGraphRawData(),i=n.filter(function(o){return o!==e.currentClickNode.id});return r.nodes.find(function(o){if(o.type==="node-selection"){var a=Rb(o,"properties.node_selection_ids",[]);return i.every(function(s){return a.includes(s)})}return!1})},t.prototype.onNodeChange=function(e,n){var r=e.graphModel.nodes.filter(function(i){if(!R_(i))return!1;var o=i.properties.node_selection_ids||[];return o.includes(n.id)});Promise.resolve().then(function(){r.forEach(function(i){i.updatePointsByNodes(i.properties.node_selection_ids||[])})})},t.prototype.render=function(e){var n=this;this.lf=e,e.on("node:click",function(r){var i;if(!(!r.e.shiftKey||r.data.type===iP)){n.currentClickNode=r.data;var o=!1;n.selectNodesIds.includes(r.data.id)&&((i=n.lf.getNodeModelById(r.data.id))===null||i===void 0||i.setSelected(!1),o=!0);var a=e.getSelectElements(!0).nodes;n.selectNodes=a,n.selectNodes.length===1?o?n.updateNodeSelection():n.addNodeSelection():n.selectNodes.length>1&&n.updateNodeSelection()}}),e.graphModel.addNodeMoveRules(function(r,i,o){if(n.onNodeChange(e,r),R_(r)&&!r.isResize){var a=r.properties.node_selection_ids||[];return e.graphModel.moveNodes(a,i,o,!0),!0}return!0}),e.graphModel.addNodeResizeRules(function(r){return R_(r)||n.onNodeChange(e,r),!0})},t.pluginName="node-selection",t})();var R_=function(t){return!!(t&&t.type===iP)},AOe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZS=function(){return ZS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ZS.apply(this,arguments)};(function(t){AOe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.properties;return fr("text",{x:r-o/2+5,y:i-a/2+16,fontSize:12,fill:"blue"},s.moreText)},e.prototype.getShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=this.props.model.getNodeStyle();return fr("g",{},[fr("rect",ZS(ZS({},s),{fill:"#FFFFFF",x:r-o/2,y:i-a/2})),this.getLabelShape()])},e})(wp);const OOe="*";class NOe{constructor(){jr(this,"_events");this._events={}}on(e,n,r){return e.split(",").forEach(o=>{this._events[o]||(this._events[o]=[]),this._events[o].push({callback:n,once:!!r})}),this}once(e,n){return this.on(e,n,!0)}emit(e,n){const r=this._events[e]||[],i=this._events[OOe]||[],o=a=>{let{length:s}=a;for(let l=0;l<s;l++){if(!a[l])continue;const{callback:u,once:c}=a[l];c&&(a.splice(l,1),a.length===0&&delete this._events[e],s--,l--),u.apply(this,[n])}};o(r),o(i)}off(e,n){if(!e)this._events={};else if(!n)delete this._events[e];else{const r=this._events[e]||[];let{length:i}=r;for(let o=0;o<i;o++)r[o].callback===n&&(r.splice(o,1),i--,o--);r.length===0&&delete this._events[e]}return this}getEvents(){return this._events}}class MOe{constructor(e={}){jr(this,"_stacks",[]);jr(this,"_pointer",-1);jr(this,"options");this.options=Object.assign({limit:10,onChange:()=>{}},e||{}),this._stacks=[],this._pointer=-1}get current(){return this._stacks[this._pointer]}get canUndo(){return this._pointer>0}get canRedo(){return this._pointer<this._stacks.length-1}get count(){return this._stacks.length}get stacks(){return this._stacks}add(e){if(this._stacks)return this._stacks.splice(this._pointer+1,this._stacks.length-this._pointer-1),this._stacks.length===this.options.limit?(this._stacks.shift(),this._pointer=this.options.limit-1):this._pointer++,this._stacks.push(e),this.options.onChange(this),this.current}undo(){if(this.canUndo)return this._pointer--,this.options.onChange(this),this.current}redo(){if(this.canRedo)return this._pointer++,this.options.onChange(this),this.current}destroy(){this._stacks=null,this.options=null,this._pointer=null}}let IOe=class{constructor(e){jr(this,"history");jr(this,"eventCenter");jr(this,"logicList");this.eventCenter=new NOe,this.history=new MOe,this.logicList=e.logicList}};class DOe{constructor(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=()=>{}}layout(e){return this.init(e),this.execute(!0)}init(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[]}execute(e){}executeWithWorker(){}getDefaultCfg(){return{}}updateCfg(e){e&&Object.assign(this,e)}getType(){return"base"}destroy(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}const BI=Array.isArray,JS=t=>typeof t=="number",hH=t=>t!==null&&typeof t=="object",QS=t=>{if(t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){const e=[];return t.forEach(n=>{e.push(n)}),e.map(n=>QS(n))}if(typeof t=="object"&&t!=={}){const e=Object.assign({},t);return Object.keys(e).forEach(n=>{e[n]=QS(e[n])}),e}return t},Wx=(t,e)=>{const n=t[e];return hH(n)?n.cell:n};function LOe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ew;if(typeof LOe=="function")try{ew=bfe}catch{}ew||(ew=window._);var zl=ew,Pr=zl,vO=fi,kOe="\0",Rp="\0",zI="";function fi(t){this._isDirected=Pr.has(t,"directed")?t.directed:!0,this._isMultigraph=Pr.has(t,"multigraph")?t.multigraph:!1,this._isCompound=Pr.has(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Pr.constant(void 0),this._defaultEdgeLabelFn=Pr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Rp]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}fi.prototype._nodeCount=0;fi.prototype._edgeCount=0;fi.prototype.isDirected=function(){return this._isDirected};fi.prototype.isMultigraph=function(){return this._isMultigraph};fi.prototype.isCompound=function(){return this._isCompound};fi.prototype.setGraph=function(t){return this._label=t,this};fi.prototype.graph=function(){return this._label};fi.prototype.setDefaultNodeLabel=function(t){return Pr.isFunction(t)||(t=Pr.constant(t)),this._defaultNodeLabelFn=t,this};fi.prototype.nodeCount=function(){return this._nodeCount};fi.prototype.nodes=function(){return Pr.keys(this._nodes)};fi.prototype.sources=function(){return Pr.filter(this.nodes(),Pr.bind(function(t){return Pr.isEmpty(this._in[t])},this))};fi.prototype.sinks=function(){return Pr.filter(this.nodes(),Pr.bind(function(t){return Pr.isEmpty(this._out[t])},this))};fi.prototype.setNodes=function(t,e){var n=arguments;return Pr.each(t,Pr.bind(function(r){n.length>1?this.setNode(r,e):this.setNode(r)},this)),this};fi.prototype.setNode=function(t,e){return Pr.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=Rp,this._children[t]={},this._children[Rp][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)};fi.prototype.node=function(t){return this._nodes[t]};fi.prototype.hasNode=function(t){return Pr.has(this._nodes,t)};fi.prototype.removeNode=function(t){var e=this;if(Pr.has(this._nodes,t)){var n=function(r){e.removeEdge(e._edgeObjs[r])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],Pr.each(this.children(t),Pr.bind(function(r){this.setParent(r)},this)),delete this._children[t]),Pr.each(Pr.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],Pr.each(Pr.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this};fi.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Pr.isUndefined(e))e=Rp;else{e+="";for(var n=e;!Pr.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this};fi.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]};fi.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==Rp)return e}};fi.prototype.children=function(t){if(Pr.isUndefined(t)&&(t=Rp),this._isCompound){var e=this._children[t];if(e)return Pr.keys(e)}else{if(t===Rp)return this.nodes();if(this.hasNode(t))return[]}};fi.prototype.predecessors=function(t){var e=this._preds[t];if(e)return Pr.keys(e)};fi.prototype.successors=function(t){var e=this._sucs[t];if(e)return Pr.keys(e)};fi.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return Pr.union(e,this.successors(t))};fi.prototype.isLeaf=function(t){var e;return this.isDirected()?e=this.successors(t):e=this.neighbors(t),e.length===0};fi.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph()),Pr.each(this._nodes,Pr.bind(function(o,a){t(a)&&e.setNode(a,o)},this)),Pr.each(this._edgeObjs,Pr.bind(function(o){e.hasNode(o.v)&&e.hasNode(o.w)&&e.setEdge(o,this.edge(o))},this));var n=this,r={};function i(o){var a=n.parent(o);return a===void 0||e.hasNode(a)?(r[o]=a,a):a in r?r[a]:i(a)}return this._isCompound&&Pr.each(e.nodes(),function(o){e.setParent(o,i(o))}),e};fi.prototype.setDefaultEdgeLabel=function(t){return Pr.isFunction(t)||(t=Pr.constant(t)),this._defaultEdgeLabelFn=t,this};fi.prototype.edgeCount=function(){return this._edgeCount};fi.prototype.edges=function(){return Pr.values(this._edgeObjs)};fi.prototype.setPath=function(t,e){var n=this,r=arguments;return Pr.reduce(t,function(i,o){return r.length>1?n.setEdge(i,o,e):n.setEdge(i,o),o}),this};fi.prototype.setEdge=function(){var t,e,n,r,i=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(t=o.v,e=o.w,n=o.name,arguments.length===2&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,Pr.isUndefined(n)||(n=""+n);var a=Jb(this._isDirected,t,e,n);if(Pr.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!Pr.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(t,e,n);var s=$Oe(this._isDirected,t,e,n);return t=s.v,e=s.w,Object.freeze(s),this._edgeObjs[a]=s,HI(this._preds[e],t),HI(this._sucs[t],e),this._in[e][a]=s,this._out[t][a]=s,this._edgeCount++,this};fi.prototype.edge=function(t,e,n){var r=arguments.length===1?mO(this._isDirected,arguments[0]):Jb(this._isDirected,t,e,n);return this._edgeLabels[r]};fi.prototype.hasEdge=function(t,e,n){var r=arguments.length===1?mO(this._isDirected,arguments[0]):Jb(this._isDirected,t,e,n);return Pr.has(this._edgeLabels,r)};fi.prototype.removeEdge=function(t,e,n){var r=arguments.length===1?mO(this._isDirected,arguments[0]):Jb(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],UI(this._preds[e],t),UI(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this};fi.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=Pr.values(n);return e?Pr.filter(r,function(i){return i.v===e}):r}};fi.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=Pr.values(n);return e?Pr.filter(r,function(i){return i.w===e}):r}};fi.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};function HI(t,e){t[e]?t[e]++:t[e]=1}function UI(t,e){--t[e]||delete t[e]}function Jb(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}return i+zI+o+zI+(Pr.isUndefined(r)?kOe:r)}function $Oe(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function mO(t,e){return Jb(t,e.v,e.w,e.name)}var FOe="2.1.4",jOe={Graph:vO,version:FOe},fc=zl,BOe=vO,zOe={write:HOe,read:WOe};function HOe(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:UOe(t),edges:GOe(t)};return fc.isUndefined(t.graph())||(e.value=fc.clone(t.graph())),e}function UOe(t){return fc.map(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return fc.isUndefined(n)||(i.value=n),fc.isUndefined(r)||(i.parent=r),i})}function GOe(t){return fc.map(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return fc.isUndefined(e.name)||(r.name=e.name),fc.isUndefined(n)||(r.value=n),r})}function WOe(t){var e=new BOe(t.options).setGraph(t.value);return fc.each(t.nodes,function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),fc.each(t.edges,function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}var Vx=zl,VOe=XOe;function XOe(t){var e={},n=[],r;function i(o){Vx.has(e,o)||(e[o]=!0,r.push(o),Vx.each(t.successors(o),i),Vx.each(t.predecessors(o),i))}return Vx.each(t.nodes(),function(o){r=[],i(o),r.length&&n.push(r)}),n}var pH=zl,vH=Hl;function Hl(){this._arr=[],this._keyIndices={}}Hl.prototype.size=function(){return this._arr.length};Hl.prototype.keys=function(){return this._arr.map(function(t){return t.key})};Hl.prototype.has=function(t){return pH.has(this._keyIndices,t)};Hl.prototype.priority=function(t){var e=this._keyIndices[t];if(e!==void 0)return this._arr[e].priority};Hl.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};Hl.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!pH.has(n,t)){var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0}return!1};Hl.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key};Hl.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)};Hl.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))};Hl.prototype._decrease=function(t){for(var e=this._arr,n=e[t].priority,r;t!==0&&(r=t>>1,!(e[r].priority<n));)this._swap(t,r),t=r};Hl.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e};var KOe=zl,YOe=vH,mH=ZOe,qOe=KOe.constant(1);function ZOe(t,e,n,r){return JOe(t,String(e),n||qOe,r||function(i){return t.outEdges(i)})}function JOe(t,e,n,r){var i={},o=new YOe,a,s,l=function(u){var c=u.v!==a?u.v:u.w,d=i[c],f=n(u),h=s.distance+f;if(f<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+f);h<d.distance&&(d.distance=h,d.predecessor=a,o.decrease(c,h))};for(t.nodes().forEach(function(u){var c=u===e?0:Number.POSITIVE_INFINITY;i[u]={distance:c},o.add(u,c)});o.size()>0&&(a=o.removeMin(),s=i[a],s.distance!==Number.POSITIVE_INFINITY);)r(a).forEach(l);return i}var QOe=mH,eNe=zl,tNe=nNe;function nNe(t,e,n){return eNe.transform(t.nodes(),function(r,i){r[i]=QOe(t,i,e,n)},{})}var GI=zl,gH=rNe;function rNe(t){var e=0,n=[],r={},i=[];function o(a){var s=r[a]={onStack:!0,lowlink:e,index:e++};if(n.push(a),t.successors(a).forEach(function(c){GI.has(r,c)?r[c].onStack&&(s.lowlink=Math.min(s.lowlink,r[c].index)):(o(c),s.lowlink=Math.min(s.lowlink,r[c].lowlink))}),s.lowlink===s.index){var l=[],u;do u=n.pop(),r[u].onStack=!1,l.push(u);while(a!==u);i.push(l)}}return t.nodes().forEach(function(a){GI.has(r,a)||o(a)}),i}var iNe=zl,oNe=gH,aNe=sNe;function sNe(t){return iNe.filter(oNe(t),function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})}var lNe=zl,uNe=dNe,cNe=lNe.constant(1);function dNe(t,e,n){return fNe(t,e||cNe,n||function(r){return t.outEdges(r)})}function fNe(t,e,n){var r={},i=t.nodes();return i.forEach(function(o){r[o]={},r[o][o]={distance:0},i.forEach(function(a){o!==a&&(r[o][a]={distance:Number.POSITIVE_INFINITY})}),n(o).forEach(function(a){var s=a.v===o?a.w:a.v,l=e(a);r[o][s]={distance:l,predecessor:o}})}),i.forEach(function(o){var a=r[o];i.forEach(function(s){var l=r[s];i.forEach(function(u){var c=l[o],d=a[u],f=l[u],h=c.distance+d.distance;h<f.distance&&(f.distance=h,f.predecessor=d.predecessor)})})}),r}var D0=zl,yH=bH;bH.CycleException=oP;function bH(t){var e={},n={},r=[];function i(o){if(D0.has(n,o))throw new oP;D0.has(e,o)||(n[o]=!0,e[o]=!0,D0.each(t.predecessors(o),i),delete n[o],r.push(o))}if(D0.each(t.sinks(),i),D0.size(e)!==t.nodeCount())throw new oP;return r}function oP(){}var WI=yH,hNe=pNe;function pNe(t){try{WI(t)}catch(e){if(e instanceof WI.CycleException)return!1;throw e}return!0}var tw=zl,xH=vNe;function vNe(t,e,n){tw.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return tw.each(e,function(a){if(!t.hasNode(a))throw new Error("Graph does not have node: "+a);_H(t,a,n==="post",o,r,i)}),i}function _H(t,e,n,r,i,o){tw.has(r,e)||(r[e]=!0,n||o.push(e),tw.each(i(e),function(a){_H(t,a,n,r,i,o)}),n&&o.push(e))}var mNe=xH,gNe=yNe;function yNe(t,e){return mNe(t,e,"post")}var bNe=xH,xNe=_Ne;function _Ne(t,e){return bNe(t,e,"pre")}var VI=zl,SNe=vO,wNe=vH,ENe=CNe;function CNe(t,e){var n=new SNe,r={},i=new wNe,o;function a(l){var u=l.v===o?l.w:l.v,c=i.priority(u);if(c!==void 0){var d=e(l);d<c&&(r[u]=o,i.decrease(u,d))}}if(t.nodeCount()===0)return n;VI.each(t.nodes(),function(l){i.add(l,Number.POSITIVE_INFINITY),n.setNode(l)}),i.decrease(t.nodes()[0],0);for(var s=!1;i.size()>0;){if(o=i.removeMin(),VI.has(r,o))n.setEdge(o,r[o]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(o).forEach(a)}return n}var TNe={components:VOe,dijkstra:mH,dijkstraAll:tNe,findCycles:aNe,floydWarshall:uNe,isAcyclic:hNe,postorder:gNe,preorder:xNe,prim:ENe,tarjan:gH,topsort:yH},XI=jOe,RNe={Graph:XI.Graph,json:zOe,alg:TNe,version:XI.version};const PNe=Ua(RNe);let aP=PNe;!aP&&typeof window<"u"&&(aP=window.graphlib);Array.prototype.flat||(Array.prototype.flat=function(t){let e=t||1;if(!isFinite(e))return;const n=this.length;let r=[];if(this.length===0)return this;for(;e--;){const i=[];let o=!1;if(r.length===0){o=!0;for(let a=0;a<n;a++)this[a]instanceof Array?r.push(...this[a]):r.push(this[a])}else{for(let a=0;a<r.length;a++)r[a]instanceof Array?(o=!0,i.push(...r[a])):i.push(r[a]);r=i}if(!o&&e===1/0)break}return r});const zd=aP,KI=t=>{t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev},ANe=(t,e)=>{if(t!=="_next"&&t!=="_prev")return e};class ONe{constructor(){const e={};e._next=e._prev=e,this.isentinel=e}dequeue(){const e=this.isentinel,n=e._prev;if(n!==e)return KI(n),n}enqueue(){const e=this.isentinel,n=e._prev;if(n!==e)return KI(n),n}toString(){const e=[],n=this.isentinel;let r=n._prev;for(;r!==n;)e.push(JSON.stringify(r,ANe)),r=r._prev;return`[${e.join(", ")}]`}}const NNe=zd.Graph,MNe=()=>1,INe=(t,e)=>{var n;if(t.nodeCount()<=1)return[];const r=LNe(t,e||MNe);return(n=DNe(r.graph,r.buckets,r.zeroIdx).map(o=>t.outEdges(o.v,o.w)))===null||n===void 0?void 0:n.flat()},DNe=(t,e,n)=>{let r=[];const i=e[e.length-1],o=e[0];let a;for(;t.nodeCount();){for(;a=o.dequeue();)F2(t,e,n,a);for(;a=i.dequeue();)F2(t,e,n,a);if(t.nodeCount()){for(let s=e.length-2;s>0;--s)if(a=e[s].dequeue(),a){r=r.concat(F2(t,e,n,a,!0));break}}}return r},F2=(t,e,n,r,i)=>{var o,a;const s=i?[]:void 0;return(o=t.inEdges(r.v))===null||o===void 0||o.forEach(l=>{const u=t.edge(l),c=t.node(l.v);i&&s.push({v:l.v,w:l.w}),c.out===void 0&&(c.out=0),c.out-=u,sP(e,n,c)}),(a=t.outEdges(r.v))===null||a===void 0||a.forEach(l=>{const u=t.edge(l),c=l.w,d=t.node(c);d.in===void 0&&(d.in=0),d.in-=u,sP(e,n,d)}),t.removeNode(r.v),s},LNe=(t,e)=>{const n=new NNe;let r=0,i=0;t.nodes().forEach(l=>{n.setNode(l,{v:l,in:0,out:0})}),t.edges().forEach(l=>{const u=n.edge(l.v,l.w)||0,c=e==null?void 0:e(l),d=u+c;n.setEdge(l.v,l.w,d),i=Math.max(i,n.node(l.v).out+=c),r=Math.max(r,n.node(l.w).in+=c)});const o=[],a=i+r+3;for(let l=0;l<a;l++)o.push(new ONe);const s=r+1;return n.nodes().forEach(l=>{sP(o,s,n.node(l))}),{buckets:o,zeroIdx:s,graph:n}},sP=(t,e,n)=>{n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)},kNe=t=>{const e=r=>i=>r.edge(i).weight,n=t.graph().acyclicer==="greedy"?INe(t,e(t)):$Ne(t);n==null||n.forEach(r=>{const i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,`rev-${Math.random()}`)})},$Ne=t=>{const e=[],n={},r={},i=o=>{var a;r.hasOwnProperty(o)||(r[o]=!0,n[o]=!0,(a=t.outEdges(o))===null||a===void 0||a.forEach(s=>{n.hasOwnProperty(s.w)?e.push(s):i(s.w)}),delete n[o])};return t.nodes().forEach(i),e},FNe=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n.reversed){t.removeEdge(e);const r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})},YI={run:kNe,undo:FNe},SH=zd.Graph,wH=(t,e,n,r)=>{let i;do i=`${r}${Math.random()}`;while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i},EH=t=>{const e=new SH().setGraph(t.graph());return t.nodes().forEach(n=>{e.setNode(n,t.node(n))}),t.edges().forEach(n=>{const r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e},jNe=t=>{const e=new SH({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach(n=>{var r;!((r=t.children(n))===null||r===void 0)&&r.length||e.setNode(n,t.node(n))}),t.edges().forEach(n=>e.setEdge(n,t.edge(n))),e},_E=(t,e)=>{const n={};return t==null||t.forEach((r,i)=>{n[r]=e[i]}),n},BNe=t=>{const e=t.nodes().map(n=>{var r;const i={};return(r=t.outEdges(n))===null||r===void 0||r.forEach(o=>{i[o.w]=(i[o.w]||0)+t.edge(o).weight}),i});return _E(t.nodes(),e)},zNe=t=>{const e=t.nodes().map(n=>{var r;const i={};return(r=t.inEdges(n))===null||r===void 0||r.forEach(o=>{i[o.v]=(i[o.v]||0)+t.edge(o).weight}),i});return _E(t.nodes(),e)},HNe=(t,e)=>{const n=t.x,r=t.y,i=e.x-n,o=e.y-r;let a=t.width/2,s=t.height/2;if(!i&&!o)return{x:0,y:0};let l,u;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),l=s*i/o,u=s):(i<0&&(a=-a),l=a,u=a*o/i),{x:n+l,y:r+u}},UNe=t=>{const e=[],n=[],r=RH(t)+1;for(let i=0;i<r;i++)e.push([]),n.push([]);return t.nodes().forEach(i=>{const a=t.node(i).rank;a!==void 0&&e[a]&&n[a].push(i)}),n==null||n.forEach((i,o)=>{i==null||i.sort((a,s)=>{var l,u;return((l=t.node(a))===null||l===void 0?void 0:l.order)-((u=t.node(s))===null||u===void 0?void 0:u.order)}),i.forEach(a=>{e[o].push(a)})}),e},CH=t=>{const e=t.nodes().filter(r=>t.node(r).rank!==void 0).map(r=>t.node(r).rank),n=Math.min(...e);t.nodes().forEach(r=>{const i=t.node(r);i.hasOwnProperty("rank")&&(i.rank||(i.rank=0),i.rank-=n)})},TH=t=>{const e=t.nodes().filter(a=>t.node(a).rank!==void 0).map(a=>t.node(a).rank),n=Math.min(...e),r=[];t.nodes().forEach(a=>{var s;const l=(((s=t.node(a))===null||s===void 0?void 0:s.rank)||0)-n;r[l]||(r[l]=[]),r[l].push(a)});let i=0;const o=t.graph().nodeRankFactor||0;for(let a=0;a<r.length;a++){const s=r[a];s===void 0&&a%o!==0?--i:i&&(s==null||s.forEach(l=>{t.node(l).rank||(t.node(l).rank=0),t.node(l).rank+=i}))}},GNe=(t,e,n,r)=>{const i={width:0,height:0};return JS(n)&&JS(r)&&(i.rank=n,i.order=r),wH(t,"border",i,e)},RH=t=>{const e=t.nodes().map(n=>{const r=t.node(n).rank;return r!==void 0?r:-1/0});return Math.max(...e)},WNe=(t,e)=>{const n={lhs:[],rhs:[]};return t==null||t.forEach(r=>{e(r)?n.lhs.push(r):n.rhs.push(r)}),n},PH=(t,e)=>{const n=Date.now();try{return e()}finally{console.log(`${t} time: ${Date.now()-n}ms`)}},AH=(t,e)=>e(),gO=(t,e)=>{let n=1/0,r;return t==null||t.forEach(i=>{const o=e(i);n>o&&(n=o,r=i)}),r},Ho={addDummyNode:wH,simplify:EH,asNonCompoundGraph:jNe,successorWeights:BNe,predecessorWeights:zNe,intersectRect:HNe,buildLayerMatrix:UNe,normalizeRanks:CH,removeEmptyRanks:TH,addBorderNode:GNe,maxRank:RH,partition:WNe,time:PH,notime:AH,zipObject:_E,minBy:gO},VNe=t=>{t.graph().dummyChains=[],t.edges().forEach(e=>XNe(t,e))},XNe=(t,e)=>{var n,r;let i=e.v,o=t.node(i).rank;const a=e.w,s=t.node(a).rank,l=e.name,u=t.edge(e),c=u.labelRank;if(s===o+1)return;t.removeEdge(e);let d,f,h;for(h=0,++o;o<s;++h,++o)u.points=[],f={edgeLabel:u,width:0,height:0,edgeObj:e,rank:o},d=Ho.addDummyNode(t,"edge",f,"_d"),o===c&&(f.width=u.width,f.height=u.height,f.dummy="edge-label",f.labelpos=u.labelpos),t.setEdge(i,d,{weight:u.weight},l),h===0&&(t.graph().dummyChains||(t.graph().dummyChains=[]),(r=(n=t.graph())===null||n===void 0?void 0:n.dummyChains)===null||r===void 0||r.push(d)),i=d;t.setEdge(i,a,{weight:u.weight},l)},KNe=t=>{var e;(e=t.graph().dummyChains)===null||e===void 0||e.forEach(n=>{var r;let i=t.node(n);const o=i.edgeLabel;let a;i.edgeObj&&t.setEdge(i.edgeObj,o);let s=n;for(;i.dummy;)a=(r=t.successors(s))===null||r===void 0?void 0:r[0],t.removeNode(s),o.points.push({x:i.x,y:i.y}),i.dummy==="edge-label"&&(o.x=i.x,o.y=i.y,o.width=i.width,o.height=i.height),s=a,i=t.node(s)})},qI={run:VNe,undo:KNe},OH=t=>{var e;const n={},r=i=>{var o;const a=t.node(i);if(n.hasOwnProperty(i))return a.rank;n[i]=!0;const s=(o=t.outEdges(i))===null||o===void 0?void 0:o.map(u=>r(u.w)-t.edge(u).minlen||1/0);let l=Math.min(...s);return(l===Number.POSITIVE_INFINITY||l===void 0||l===null)&&(l=0),a.rank=l,l};(e=t.sources())===null||e===void 0||e.forEach(i=>r(i))},YNe=t=>{var e;const n={};let r=0;const i=a=>{var s;const l=t.node(a);if(n.hasOwnProperty(a))return l.rank;n[a]=!0;const u=(s=t.outEdges(a))===null||s===void 0?void 0:s.map(d=>i(d.w)-t.edge(d).minlen||1/0);let c=Math.min(...u);return(c===Number.POSITIVE_INFINITY||c===void 0||c===null)&&(c=0),l.rank=c,r=Math.min(l.rank,r),l.rank};(e=t.sources())===null||e===void 0||e.forEach(a=>i(a)),r+=1;const o=(a,s)=>{var l;const u=t.node(a),c=isNaN(u.layer)?s:u.layer;(u.rank===void 0||u.rank<c)&&(u.rank=c),(l=t.outEdges(a))===null||l===void 0||l.map(d=>{o(d.w,c+t.edge(d).minlen)})};t.nodes().forEach(a=>{const s=t.node(a);isNaN(s.layer)?s.rank-=r:o(a,s.layer)})},Jf=(t,e)=>t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen,NH=zd.Graph,qNe=t=>{const e=new NH({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});let i,o;for(;ZNe(e,t)<r;)i=MH(e,t),o=e.hasNode(i.v)?Jf(t,i):-Jf(t,i),IH(e,t,o);return e},ZNe=(t,e)=>{const n=r=>{e.nodeEdges(r).forEach(i=>{const o=i.v,a=r===o?i.w:o;!t.hasNode(a)&&!Jf(e,i)&&(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})};return t.nodes().forEach(n),t.nodeCount()},JNe=t=>{const e=new NH({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});let i,o;for(;QNe(e,t)<r;)i=MH(e,t),o=e.hasNode(i.v)?Jf(t,i):-Jf(t,i),IH(e,t,o);return e},QNe=(t,e)=>{const n=r=>{var i;(i=e.nodeEdges(r))===null||i===void 0||i.forEach(o=>{const a=o.v,s=r===a?o.w:a;!t.hasNode(s)&&(e.node(s).layer!==void 0||!Jf(e,o))&&(t.setNode(s,{}),t.setEdge(r,s,{}),n(s))})};return t.nodes().forEach(n),t.nodeCount()},MH=(t,e)=>gO(e.edges(),n=>t.hasNode(n.v)!==t.hasNode(n.w)?Jf(e,n):1/0),IH=(t,e,n)=>{t.nodes().forEach(r=>{e.node(r).rank||(e.node(r).rank=0),e.node(r).rank+=n})},e3e=zd.alg,{preorder:t3e,postorder:n3e}=e3e,Up=t=>{t=EH(t),OH(t);const e=qNe(t);bO(e),yO(e,t);let n,r;for(;n=kH(e);)r=$H(e,t,n),FH(e,t,n,r)},yO=(t,e)=>{let n=n3e(t,t.nodes());n=n==null?void 0:n.slice(0,(n==null?void 0:n.length)-1),n==null||n.forEach(r=>{r3e(t,e,r)})},r3e=(t,e,n)=>{const i=t.node(n).parent;t.edge(n,i).cutvalue=DH(t,e,n)},DH=(t,e,n)=>{var r;const o=t.node(n).parent;let a=!0,s=e.edge(n,o),l=0;return s||(a=!1,s=e.edge(o,n)),l=s.weight,(r=e.nodeEdges(n))===null||r===void 0||r.forEach(u=>{const c=u.v===n,d=c?u.w:u.v;if(d!==o){const f=c===a,h=e.edge(u).weight;if(l+=f?h:-h,o3e(t,n,d)){const v=t.edge(n,d).cutvalue;l+=f?-v:v}}}),l},bO=(t,e)=>{e!==void 0&&(e=t.nodes()[0]),LH(t,{},1,e)},LH=(t,e,n,r,i)=>{var o;const a=n;let s=n;const l=t.node(r);return e[r]=!0,(o=t.neighbors(r))===null||o===void 0||o.forEach(u=>{e.hasOwnProperty(u)||(s=LH(t,e,s,u,r))}),l.low=a,l.lim=s++,i?l.parent=i:delete l.parent,s},kH=t=>t.edges().find(e=>t.edge(e).cutvalue<0),$H=(t,e,n)=>{let r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);const o=t.node(r),a=t.node(i);let s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);const u=e.edges().filter(c=>l===ZI(t,t.node(c.v),s)&&l!==ZI(t,t.node(c.w),s));return gO(u,c=>Jf(e,c))},FH=(t,e,n,r)=>{const i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),bO(t),yO(t,e),i3e(t,e)},i3e=(t,e)=>{const n=t.nodes().find(i=>!e.node(i).parent);let r=t3e(t,n);r=r==null?void 0:r.slice(1),r==null||r.forEach(i=>{const o=t.node(i).parent;let a=e.edge(i,o),s=!1;a||(a=e.edge(o,i),s=!0),e.node(i).rank=e.node(o).rank+(s?a.minlen:-a.minlen)})},o3e=(t,e,n)=>t.hasEdge(e,n),ZI=(t,e,n)=>n.low<=e.lim&&e.lim<=n.lim;Up.initLowLimValues=bO;Up.initCutValues=yO;Up.calcCutValue=DH;Up.leaveEdge=kH;Up.enterEdge=$H;Up.exchangeEdges=FH;const a3e=t=>{switch(t.graph().ranker){case"network-simplex":l3e(t);break;case"tight-tree":JI(t);break;case"longest-path":s3e(t);break;default:JI(t)}},s3e=OH,JI=t=>{YNe(t),JNe(t)},l3e=t=>{Up(t)},u3e=t=>{var e;const n=d3e(t);(e=t.graph().dummyChains)===null||e===void 0||e.forEach(r=>{var i,o;let a=t.node(r);const s=a.edgeObj;if(!s)return;const l=c3e(t,n,s.v,s.w),u=l.path,c=l.lca;let d=0,f=u[d],h=!0;for(;r!==s.w;){if(a=t.node(r),h){for(;(f=u[d])!==c&&t.node(f).maxRank<a.rank;)d++;f===c&&(h=!1)}if(!h){for(;d<u.length-1&&((i=t.node(f=u[d+1]))===null||i===void 0?void 0:i.minRank)<=a.rank;)d++;f=u[d]}t.setParent(r,f),r=(o=t.successors(r))===null||o===void 0?void 0:o[0]}})},c3e=(t,e,n,r)=>{const i=[],o=[],a=Math.min(e[n].low,e[r].low),s=Math.max(e[n].lim,e[r].lim);let l,u;l=n;do l=t.parent(l),i.push(l);while(l&&(e[l].low>a||s>e[l].lim));for(u=l,l=r;(l=t.parent(l))!==u;)o.push(l);return{lca:u,path:i.concat(o.reverse())}},d3e=t=>{var e;const n={};let r=0;const i=o=>{var a;const s=r;(a=t.children(o))===null||a===void 0||a.forEach(i),n[o]={low:s,lim:r++}};return(e=t.children())===null||e===void 0||e.forEach(i),n},f3e=t=>{var e;const n=Ho.addDummyNode(t,"root",{},"_root"),r=h3e(t),i=Math.max(...Object.values(r))-1,o=2*i+1;t.graph().nestingRoot=n,t.edges().forEach(s=>{t.edge(s).minlen*=o});const a=p3e(t)+1;(e=t.children())===null||e===void 0||e.forEach(s=>{jH(t,n,o,a,i,r,s)}),t.graph().nodeRankFactor=o},jH=(t,e,n,r,i,o,a)=>{const s=t.children(a);if(!(s!=null&&s.length)){a!==e&&t.setEdge(e,a,{weight:0,minlen:n});return}const l=Ho.addBorderNode(t,"_bt"),u=Ho.addBorderNode(t,"_bb"),c=t.node(a);t.setParent(l,a),c.borderTop=l,t.setParent(u,a),c.borderBottom=u,s==null||s.forEach(d=>{jH(t,e,n,r,i,o,d);const f=t.node(d),h=f.borderTop?f.borderTop:d,v=f.borderBottom?f.borderBottom:d,m=f.borderTop?r:2*r,g=h!==v?1:i-o[a]+1;t.setEdge(l,h,{minlen:g,weight:m,nestingEdge:!0}),t.setEdge(v,u,{minlen:g,weight:m,nestingEdge:!0})}),t.parent(a)||t.setEdge(e,l,{weight:0,minlen:i+o[a]})},h3e=t=>{var e;const n={},r=(i,o)=>{const a=t.children(i);a==null||a.forEach(s=>r(s,o+1)),n[i]=o};return(e=t.children())===null||e===void 0||e.forEach(i=>r(i,1)),n},p3e=t=>{let e=0;return t.edges().forEach(n=>{e+=t.edge(n).weight}),e},v3e=t=>{const e=t.graph();e.nestingRoot&&t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach(n=>{t.edge(n).nestingEdge&&t.removeEdge(n)})},QI={run:f3e,cleanup:v3e},m3e=t=>{var e;const n=r=>{const i=t.children(r),o=t.node(r);if(i!=null&&i.length&&i.forEach(a=>n(a)),o.hasOwnProperty("minRank")){o.borderLeft=[],o.borderRight=[];for(let a=o.minRank,s=o.maxRank+1;a<s;++a)eD(t,"borderLeft","_bl",r,o,a),eD(t,"borderRight","_br",r,o,a)}};(e=t.children())===null||e===void 0||e.forEach(r=>n(r))},eD=(t,e,n,r,i,o)=>{const a={rank:o,width:0,height:0,borderType:e},s=i[e][o-1],l=Ho.addDummyNode(t,"border",a,n);i[e][o]=l,t.setParent(l,r),s&&t.setEdge(s,l,{weight:1})},g3e=t=>{var e;const n=(e=t.graph().rankdir)===null||e===void 0?void 0:e.toLowerCase();(n==="lr"||n==="rl")&&BH(t)},y3e=t=>{var e;const n=(e=t.graph().rankdir)===null||e===void 0?void 0:e.toLowerCase();(n==="bt"||n==="rl")&&b3e(t),(n==="lr"||n==="rl")&&(x3e(t),BH(t))},BH=t=>{t.nodes().forEach(e=>{tD(t.node(e))}),t.edges().forEach(e=>{tD(t.edge(e))})},tD=t=>{const e=t.width;t.width=t.height,t.height=e},b3e=t=>{t.nodes().forEach(e=>{j2(t.node(e))}),t.edges().forEach(e=>{var n;const r=t.edge(e);(n=r.points)===null||n===void 0||n.forEach(i=>j2(i)),r.hasOwnProperty("y")&&j2(r)})},j2=t=>{t.y=-t.y},x3e=t=>{t.nodes().forEach(e=>{B2(t.node(e))}),t.edges().forEach(e=>{var n;const r=t.edge(e);(n=r.points)===null||n===void 0||n.forEach(i=>B2(i)),r.hasOwnProperty("x")&&B2(r)})},B2=t=>{const e=t.x;t.x=t.y,t.y=e},nD={adjust:g3e,undo:y3e},rD=t=>{const e={},n=t.nodes().filter(c=>{var d;return!(!((d=t.children(c))===null||d===void 0)&&d.length)}),r=n.map(c=>t.node(c).rank),i=Math.max(...r),o=[];for(let c=0;c<i+1;c++)o.push([]);const a=c=>{var d;if(e.hasOwnProperty(c))return;e[c]=!0;const f=t.node(c);isNaN(f.rank)||o[f.rank].push(c),(d=t.successors(c))===null||d===void 0||d.forEach(h=>a(h))},s=n.sort((c,d)=>t.node(c).rank-t.node(d).rank),u=s.filter(c=>t.node(c).fixorder!==void 0).sort((c,d)=>t.node(c).fixorder-t.node(d).fixorder);return u==null||u.forEach(c=>{isNaN(t.node(c).rank)||o[t.node(c).rank].push(c),e[c]=!0}),s==null||s.forEach(a),o},_3e=(t,e,n)=>{const r=_E(n,n.map((c,d)=>d)),o=e.map(c=>{var d;const f=(d=t.outEdges(c))===null||d===void 0?void 0:d.map(h=>({pos:r[h.w]||0,weight:t.edge(h).weight}));return f==null?void 0:f.sort((h,v)=>h.pos-v.pos)}).flat().filter(c=>c!==void 0);let a=1;for(;a<n.length;)a<<=1;const s=2*a-1;a-=1;const l=Array(s).fill(0,0,s);let u=0;return o==null||o.forEach(c=>{let d=c.pos+a;l[d]+=c.weight;let f=0;for(;d>0;)d%2&&(f+=l[d+1]),d=d-1>>1,l[d]+=c.weight;u+=c.weight*f}),u},iD=(t,e)=>{let n=0;for(let r=1;r<(e==null?void 0:e.length);++r)n+=_3e(t,e[r-1],e[r]);return n},S3e=zd.Graph,w3e=(t,e,n)=>{const r=E3e(t),i=new S3e({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(o=>t.node(o));return t.nodes().forEach(o=>{const a=t.node(o),s=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),t[n](o).forEach(l=>{const u=l.v===o?l.w:l.v,c=i.edge(u,o),d=c!==void 0?c.weight:0;i.setEdge(u,o,{weight:t.edge(l).weight+d})}),a.hasOwnProperty("minRank")&&i.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),i},E3e=t=>{let e;for(;t.hasNode(e=`_root${Math.random()}`););return e},C3e=(t,e,n)=>{const r={};let i;n==null||n.forEach(o=>{let a=t.parent(o),s,l;for(;a;){if(s=t.parent(a),s?(l=r[s],r[s]=a):(l=i,i=a),l&&l!==a){e.setEdge(l,a);return}a=s}})},T3e=(t,e)=>e.map(n=>{const r=t.inEdges(n);if(!(r!=null&&r.length))return{v:n};{const i={sum:0,weight:0};return r==null||r.forEach(o=>{const a=t.edge(o),s=t.node(o.v);i.sum+=a.weight*s.order,i.weight+=a.weight}),{v:n,barycenter:i.sum/i.weight,weight:i.weight}}}),R3e=(t,e)=>{var n,r,i;const o={};t==null||t.forEach((s,l)=>{const u=o[s.v]={i:l,indegree:0,in:[],out:[],vs:[s.v]};s.barycenter!==void 0&&(u.barycenter=s.barycenter,u.weight=s.weight)}),(n=e.edges())===null||n===void 0||n.forEach(s=>{const l=o[s.v],u=o[s.w];l!==void 0&&u!==void 0&&(u.indegree++,l.out.push(o[s.w]))});const a=(i=(r=Object.values(o)).filter)===null||i===void 0?void 0:i.call(r,s=>!s.indegree);return P3e(a)},P3e=t=>{var e,n;const r=[],i=l=>u=>{u.merged||(u.barycenter===void 0||l.barycenter===void 0||u.barycenter>=l.barycenter)&&A3e(l,u)},o=l=>u=>{u.in.push(l),--u.indegree===0&&t.push(u)};for(;t!=null&&t.length;){const l=t.pop();r.push(l),(e=l.in.reverse())===null||e===void 0||e.forEach(u=>i(l)(u)),(n=l.out)===null||n===void 0||n.forEach(u=>o(l)(u))}const a=r.filter(l=>!l.merged),s=["vs","i","barycenter","weight"];return a.map(l=>{const u={};return s==null||s.forEach(c=>{l[c]!==void 0&&(u[c]=l[c])}),u})},A3e=(t,e)=>{var n;let r=0,i=0;t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.vs=(n=e.vs)===null||n===void 0?void 0:n.concat(t.vs),t.barycenter=r/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0},O3e=(t,e,n)=>{const r=Ho.partition(t,d=>d.hasOwnProperty("fixorder")&&!isNaN(d.fixorder)||d.hasOwnProperty("barycenter")),i=r.lhs,o=r.rhs.sort((d,f)=>-d.i- -f.i),a=[];let s=0,l=0,u=0;i==null||i.sort(N3e(!!e,!!n)),u=oD(a,o,u),i==null||i.forEach(d=>{var f;u+=(f=d.vs)===null||f===void 0?void 0:f.length,a.push(d.vs),s+=d.barycenter*d.weight,l+=d.weight,u=oD(a,o,u)});const c={vs:a.flat()};return l&&(c.barycenter=s/l,c.weight=l),c},oD=(t,e,n)=>{let r=n,i;for(;e.length&&(i=e[e.length-1]).i<=r;)e.pop(),t==null||t.push(i.vs),r++;return r},N3e=(t,e)=>(n,r)=>{if(n.fixorder!==void 0&&r.fixorder!==void 0)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(e&&n.order!==void 0&&r.order!==void 0){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return t?r.i-n.i:n.i-r.i},zH=(t,e,n,r,i)=>{var o,a,s,l;let u=t.children(e);const c=t.node(e),d=c?c.borderLeft:void 0,f=c?c.borderRight:void 0,h={};d&&(u=u==null?void 0:u.filter(x=>x!==d&&x!==f));const v=T3e(t,u||[]);v==null||v.forEach(x=>{var _;if(!((_=t.children(x.v))===null||_===void 0)&&_.length){const w=zH(t,x.v,n,r);h[x.v]=w,w.hasOwnProperty("barycenter")&&I3e(x,w)}});const m=R3e(v,n);M3e(m,h),(o=m.filter(x=>{var _;return!!x.vs||((_=x.vs)===null||_===void 0?void 0:_.length)>0}))===null||o===void 0||o.forEach(x=>{const _=t.node(x.vs[0]);x.fixorder=_.fixorder,x.order=_.order});const g=O3e(m,r,i);if(d&&(g.vs=[d,g.vs,f].flat(),!((a=t.predecessors(d))===null||a===void 0)&&a.length)){const x=t.node(((s=t.predecessors(d))===null||s===void 0?void 0:s[0])||{}),_=t.node(((l=t.predecessors(f))===null||l===void 0?void 0:l[0])||{});g.hasOwnProperty("barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+x.order+_.order)/(g.weight+2),g.weight+=2}return g},M3e=(t,e)=>{t==null||t.forEach(n=>{var r;const i=(r=n.vs)===null||r===void 0?void 0:r.map(o=>e[o]?e[o].vs:o);n.vs=i.flat()})},I3e=(t,e)=>{t.barycenter!==void 0?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)},D3e=zd.Graph,L3e=t=>{const e=Ho.maxRank(t),n=[],r=[];for(let u=1;u<e+1;u++)n.push(u);for(let u=e-1;u>-1;u--)r.push(u);const i=aD(t,n,"inEdges"),o=aD(t,r,"outEdges");let a=rD(t);z2(t,a);let s=Number.POSITIVE_INFINITY,l;for(let u=0,c=0;c<4;++u,++c){sD(u%2?i:o,u%4>=2),a=Ho.buildLayerMatrix(t);const d=iD(t,a);d<s&&(c=0,l=QS(a),s=d)}a=rD(t),z2(t,a);for(let u=0,c=0;c<4;++u,++c){sD(u%2?i:o,u%4>=2,!0),a=Ho.buildLayerMatrix(t);const d=iD(t,a);d<s&&(c=0,l=QS(a),s=d)}z2(t,l)},aD=(t,e,n)=>e.map(r=>w3e(t,r,n)),sD=(t,e,n)=>{const r=new D3e;t==null||t.forEach(i=>{var o;const a=i.graph().root,s=zH(i,a,r,e,n);for(let l=0;l<((o=s.vs)===null||o===void 0?void 0:o.length);l++)i.node(s.vs[l]).order=l;C3e(i,r,s.vs)})},z2=(t,e)=>{e==null||e.forEach(n=>{n==null||n.forEach((r,i)=>{t.node(r).order=i})})},k3e=zd.Graph,$3e=(t,e)=>{const n={},r=(i,o)=>{let a=0,s=0;const l=i.length,u=o==null?void 0:o[(o==null?void 0:o.length)-1];return o==null||o.forEach((c,d)=>{var f;const h=j3e(t,c),v=h?t.node(h).order:l;(h||c===u)&&((f=o.slice(s,d+1))===null||f===void 0||f.forEach(m=>{var g;(g=t.predecessors(m))===null||g===void 0||g.forEach(x=>{const _=t.node(x),w=_.order;(w<a||v<w)&&!(_.dummy&&t.node(m).dummy)&&HH(n,x,m)})}),s=d+1,a=v)}),o};return e!=null&&e.length&&e.reduce(r),n},F3e=(t,e)=>{const n={},r=(o,a,s,l,u)=>{let c;const d=[];for(let f=a;f<s;f++)d.push(f);d.forEach(f=>{var h;c=o[f],t.node(c).dummy&&((h=t.predecessors(c))===null||h===void 0||h.forEach(v=>{const m=t.node(v);m.dummy&&(m.order<l||m.order>u)&&HH(n,v,c)}))})},i=(o,a)=>{let s=-1,l,u=0;return a==null||a.forEach((c,d)=>{if(t.node(c).dummy==="border"){const f=t.predecessors(c)||[];f.length&&(l=t.node(f[0]).order,r(a,u,d,s,l),u=d,s=l)}r(a,u,a.length,l,o.length)}),a};return e!=null&&e.length&&e.reduce(i),n},j3e=(t,e)=>{var n;if(t.node(e).dummy)return(n=t.predecessors(e))===null||n===void 0?void 0:n.find(r=>t.node(r).dummy)},HH=(t,e,n)=>{let r=e,i=n;if(r>i){const a=r;r=i,i=a}let o=t[r];o||(t[r]=o={}),o[i]=!0},B3e=(t,e,n)=>{let r=e,i=n;if(r>i){const o=e;r=i,i=o}return t[r]&&t[r].hasOwnProperty(i)},z3e=(t,e,n,r)=>{const i={},o={},a={};return e==null||e.forEach(s=>{s==null||s.forEach((l,u)=>{i[l]=l,o[l]=l,a[l]=u})}),e==null||e.forEach(s=>{let l=-1;s==null||s.forEach(u=>{let c=r(u);if(c.length){c=c.sort((f,h)=>a[f]-a[h]);const d=(c.length-1)/2;for(let f=Math.floor(d),h=Math.ceil(d);f<=h;++f){const v=c[f];o[u]===u&&l<a[v]&&!B3e(n,u,v)&&(o[v]=u,o[u]=i[u]=i[v],l=a[v])}}})}),{root:i,align:o}},H3e=(t,e,n,r,i)=>{var o;const a={},s=U3e(t,e,n,i),l=i?"borderLeft":"borderRight",u=(f,h)=>{let v=s.nodes(),m=v.pop();const g={};for(;m;)g[m]?f(m):(g[m]=!0,v.push(m),v=v.concat(h(m))),m=v.pop()},c=f=>{a[f]=(s.inEdges(f)||[]).reduce((h,v)=>Math.max(h,(a[v.v]||0)+s.edge(v)),0)},d=f=>{const h=(s.outEdges(f)||[]).reduce((m,g)=>Math.min(m,(a[g.w]||0)-s.edge(g)),Number.POSITIVE_INFINITY),v=t.node(f);h!==Number.POSITIVE_INFINITY&&v.borderType!==l&&(a[f]=Math.max(a[f],h))};return u(c,s.predecessors.bind(s)),u(d,s.successors.bind(s)),(o=Object.values(r))===null||o===void 0||o.forEach(f=>{a[f]=a[n[f]]}),a},U3e=(t,e,n,r)=>{const i=new k3e,o=t.graph(),a=X3e(o.nodesep,o.edgesep,r);return e==null||e.forEach(s=>{let l;s==null||s.forEach(u=>{const c=n[u];if(i.setNode(c),l){const d=n[l],f=i.edge(d,c);i.setEdge(d,c,Math.max(a(t,u,l),f||0))}l=u})}),i},G3e=(t,e)=>Ho.minBy(Object.values(e),n=>{var r;let i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return(r=Object.keys(n))===null||r===void 0||r.forEach(a=>{const s=n[a],l=K3e(t,a)/2;i=Math.max(s+l,i),o=Math.min(s-l,o)}),i-o});function W3e(t,e){const n=Object.values(e),r=Math.min(...n),i=Math.max(...n);["u","d"].forEach(o=>{["l","r"].forEach(a=>{const s=o+a,l=t[s];let u;if(l===e)return;const c=Object.values(l);u=a==="l"?r-Math.min(...c):i-Math.max(...c),u&&(t[s]={},Object.keys(l).forEach(d=>{t[s][d]=l[d]+u}))})})}const V3e=(t,e)=>{const n={};return Object.keys(t.ul).forEach(r=>{if(e)n[r]=t[e.toLowerCase()][r];else{const o=Object.values(t).map(a=>a[r]).sort((a,s)=>a-s);n[r]=(o[1]+o[2])/2}}),n},X3e=(t,e,n)=>(r,i,o)=>{const a=r.node(i),s=r.node(o);let l=0,u;if(l+=a.width/2,a.hasOwnProperty("labelpos"))switch((a.labelpos||"").toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(a.dummy?e:t)/2,l+=(s.dummy?e:t)/2,l+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(l+=n?u:-u),u=0,l},K3e=(t,e)=>{var n;return((n=t.node(e))===null||n===void 0?void 0:n.width)||0},Y3e=t=>{const e=Ho.buildLayerMatrix(t),n=t.graph().ranksep;let r=0;e==null||e.forEach(i=>{const o=i.map(s=>t.node(s).height),a=Math.max(...o);i==null||i.forEach(s=>{t.node(s).y=r+a/2}),r+=a+n})},q3e=t=>{const e=Ho.buildLayerMatrix(t),n=Object.assign($3e(t,e),F3e(t,e)),r={};let i;["u","d"].forEach(a=>{i=a==="u"?e:Object.values(e).reverse(),["l","r"].forEach(s=>{s==="r"&&(i=i.map(d=>Object.values(d).reverse()));const l=(a==="u"?t.predecessors:t.successors).bind(t),u=z3e(t,i,n,l),c=H3e(t,i,u.root,u.align,s==="r");s==="r"&&Object.keys(c).forEach(d=>c[d]=-c[d]),r[a+s]=c})});const o=G3e(t,r);return o&&W3e(r,o),V3e(r,t.graph().align)},Z3e=t=>{var e;t=Ho.asNonCompoundGraph(t),Y3e(t);const n=q3e(t);(e=Object.keys(n))===null||e===void 0||e.forEach(r=>{t.node(r).x=n[r]})},J3e=(t,e)=>{const r=t.nodes().filter(a=>{var s;return!(!((s=t.children(a))===null||s===void 0)&&s.length)}).map(a=>t.node(a).rank),i=Math.max(...r),o=[];for(let a=0;a<i+1;a++)o.push([]);e==null||e.forEach(a=>{const s=t.node(a);!s||s.dummy||isNaN(s.rank)||(s.fixorder=o[s.rank].length,o[s.rank].push(a))})},Q3e=zd.Graph,eMe=(t,e)=>{const n=e&&e.debugTiming?Ho.time:Ho.notime;n("layout",()=>{e&&!e.keepNodeOrder&&e.prevGraph&&n("  inheritOrder",()=>{nMe(t,e.prevGraph)});const r=n("  buildLayoutGraph",()=>uMe(t));e&&e.edgeLabelSpace===!1||n("  makeSpaceForEdgeLabels",()=>{cMe(r)});try{n("  runLayout",()=>{tMe(r,n,e)})}catch(i){if(i.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,i);return}throw i}n("  updateInputGraph",()=>{rMe(t,r)})})},tMe=(t,e,n)=>{e("    removeSelfEdges",()=>{bMe(t)}),e("    acyclic",()=>{YI.run(t)}),e("    nestingGraph.run",()=>{QI.run(t)}),e("    rank",()=>{a3e(Ho.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",()=>{dMe(t)}),e("    removeEmptyRanks",()=>{TH(t)}),e("    nestingGraph.cleanup",()=>{QI.cleanup(t)}),e("    normalizeRanks",()=>{CH(t)}),e("    assignRankMinMax",()=>{fMe(t)}),e("    removeEdgeLabelProxies",()=>{hMe(t)}),e("    normalize.run",()=>{qI.run(t)}),e("    parentDummyChains",()=>{u3e(t)}),e("    addBorderSegments",()=>{m3e(t)}),n&&n.keepNodeOrder&&e("    initDataOrder",()=>{J3e(t,n.nodeOrder)}),e("    order",()=>{L3e(t)}),e("    insertSelfEdges",()=>{xMe(t)}),e("    adjustCoordinateSystem",()=>{nD.adjust(t)}),e("    position",()=>{Z3e(t)}),e("    positionSelfEdges",()=>{_Me(t)}),e("    removeBorderNodes",()=>{yMe(t)}),e("    normalize.undo",()=>{qI.undo(t)}),e("    fixupEdgeLabelCoords",()=>{mMe(t)}),e("    undoCoordinateSystem",()=>{nD.undo(t)}),e("    translateGraph",()=>{pMe(t)}),e("    assignNodeIntersects",()=>{vMe(t)}),e("    reversePoints",()=>{gMe(t)}),e("    acyclic.undo",()=>{YI.undo(t)})},nMe=(t,e)=>{const n=e._nodes||{};t.nodes().forEach(r=>{const i=t.node(r);n[r]!==void 0?(i.fixorder=n[r]._order,delete n[r]._order):delete i.fixorder})},rMe=(t,e)=>{t.nodes().forEach(n=>{var r;const i=t.node(n),o=e.node(n);i&&(i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,!((r=e.children(n))===null||r===void 0)&&r.length&&(i.width=o.width,i.height=o.height))}),t.edges().forEach(n=>{const r=t.edge(n),i=e.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height},iMe=["nodesep","edgesep","ranksep","marginx","marginy"],oMe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},H2=["acyclicer","ranker","rankdir","align"],aMe=["width","height","layer","fixorder"],lD={width:0,height:0},sMe=["minlen","weight","width","height","labeloffset"],lMe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},U2=["labelpos"],uMe=t=>{const e=new Q3e({multigraph:!0,compound:!0}),n=W2(t.graph()),r={};return H2==null||H2.forEach(i=>{n[i]!==void 0&&(r[i]=n[i])}),e.setGraph(Object.assign({},oMe,G2(n,iMe),r)),t.nodes().forEach(i=>{const o=W2(t.node(i)),a=G2(o,aMe);Object.keys(lD).forEach(s=>{a[s]===void 0&&(a[s]=lD[s])}),e.setNode(i,a),e.setParent(i,t.parent(i))}),t.edges().forEach(i=>{const o=W2(t.edge(i)),a={};U2==null||U2.forEach(s=>{o[s]!==void 0&&(a[s]=o[s])}),e.setEdge(i,Object.assign({},lMe,G2(o,sMe),a))}),e},cMe=t=>{const e=t.graph();e.ranksep||(e.ranksep=0),e.ranksep/=2,t.nodes().forEach(n=>{const r=t.node(n);isNaN(r.layer)||(r.layer?r.layer*=2:r.layer=0)}),t.edges().forEach(n=>{var r;const i=t.edge(n);i.minlen*=2,((r=i.labelpos)===null||r===void 0?void 0:r.toLowerCase())!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})},dMe=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n.width&&n.height){const r=t.node(e.v),i=t.node(e.w),o={e,rank:(i.rank-r.rank)/2+r.rank};Ho.addDummyNode(t,"edge-proxy",o,"_ep")}})},fMe=t=>{let e=0;t.nodes().forEach(n=>{const r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Math.max(e,r.maxRank||-1/0))}),t.graph().maxRank=e},hMe=t=>{t.nodes().forEach(e=>{const n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})},pMe=t=>{let e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0;const o=t.graph(),a=o.marginx||0,s=o.marginy||0,l=u=>{if(!u)return;const c=u.x,d=u.y,f=u.width,h=u.height;!isNaN(c)&&!isNaN(f)&&(e=Math.min(e,c-f/2),n=Math.max(n,c+f/2)),!isNaN(d)&&!isNaN(h)&&(r=Math.min(r,d-h/2),i=Math.max(i,d+h/2))};t.nodes().forEach(u=>{l(t.node(u))}),t.edges().forEach(u=>{const c=t.edge(u);c.hasOwnProperty("x")&&l(c)}),e-=a,r-=s,t.nodes().forEach(u=>{const c=t.node(u);c.x-=e,c.y-=r}),t.edges().forEach(u=>{var c;const d=t.edge(u);(c=d.points)===null||c===void 0||c.forEach(f=>{f.x-=e,f.y-=r}),d.hasOwnProperty("x")&&(d.x-=e),d.hasOwnProperty("y")&&(d.y-=r)}),o.width=n-e+a,o.height=i-r+s},vMe=t=>{t.edges().forEach(e=>{const n=t.edge(e),r=t.node(e.v),i=t.node(e.w);let o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(Ho.intersectRect(r,o)),n.points.push(Ho.intersectRect(i,a))})},mMe=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n.hasOwnProperty("x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})},gMe=t=>{t.edges().forEach(e=>{const n=t.edge(e);n.reversed&&n.points.reverse()})},yMe=t=>{t.nodes().forEach(e=>{var n,r,i;if(!((n=t.children(e))===null||n===void 0)&&n.length){const o=t.node(e),a=t.node(o.borderTop),s=t.node(o.borderBottom),l=t.node(o.borderLeft[((r=o.borderLeft)===null||r===void 0?void 0:r.length)-1]),u=t.node(o.borderRight[((i=o.borderRight)===null||i===void 0?void 0:i.length)-1]);o.width=Math.abs((u==null?void 0:u.x)-(l==null?void 0:l.x))||10,o.height=Math.abs((s==null?void 0:s.y)-(a==null?void 0:a.y))||10,o.x=((l==null?void 0:l.x)||0)+o.width/2,o.y=((a==null?void 0:a.y)||0)+o.height/2}}),t.nodes().forEach(e=>{t.node(e).dummy==="border"&&t.removeNode(e)})},bMe=t=>{t.edges().forEach(e=>{if(e.v===e.w){const n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})},xMe=t=>{const e=Ho.buildLayerMatrix(t);e==null||e.forEach(n=>{let r=0;n==null||n.forEach((i,o)=>{var a;const s=t.node(i);s.order=o+r,(a=s.selfEdges)===null||a===void 0||a.forEach(l=>{Ho.addDummyNode(t,"selfedge",{width:l.label.width,height:l.label.height,rank:s.rank,order:o+ ++r,e:l.e,label:l.label},"_se")}),delete s.selfEdges})})},_Me=t=>{t.nodes().forEach(e=>{const n=t.node(e);if(n.dummy==="selfedge"){const r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})},G2=(t,e)=>{const n={};return e==null||e.forEach(r=>{t[r]!==void 0&&(n[r]=+t[r])}),n},W2=t=>{const e={};return Object.keys(t).forEach(n=>{const r=t[n];e[n.toLowerCase()]=r}),e},V2={graphlib:zd,layout:eMe,util:{time:PH,notime:AH}};class SMe extends DOe{constructor(e){super(),this.rankdir="TB",this.nodesep=50,this.ranksep=50,this.controlPoints=!1,this.sortByCombo=!1,this.edgeLabelSpace=!0,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.layoutNode=n=>{const r=this,{nodes:i}=r,o=i.find(a=>a.id===n);return o?o.layout!==!1:!0},this.updateCfg(e)}getDefaultCfg(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}execute(){const e=this,{nodes:n,nodeSize:r,rankdir:i,combos:o,begin:a}=e;if(!n)return;const s=e.edges||[],l=new V2.graphlib.Graph({multigraph:!0,compound:!0});let u;r?BI(r)?u=()=>r:u=()=>[r,r]:u=m=>m.size?BI(m.size)?m.size:hH(m.size)?[m.size.width||40,m.size.height||40]:[m.size,m.size]:[40,40];let c=Xx(e.nodesepFunc,e.nodesep,50),d=Xx(e.ranksepFunc,e.ranksep,50);(i==="LR"||i==="RL")&&(c=Xx(e.ranksepFunc,e.ranksep,50),d=Xx(e.nodesepFunc,e.nodesep,50)),l.setDefaultEdgeLabel(()=>({})),l.setGraph(e);const f={};n.filter(m=>m.layout!==!1).forEach(m=>{const g=u(m),x=d(m),_=c(m),w=g[0]+2*_,S=g[1]+2*x,C=m.layer;JS(C)?l.setNode(m.id,{width:w,height:S,layer:C}):l.setNode(m.id,{width:w,height:S}),this.sortByCombo&&m.comboId&&(f[m.comboId]||(f[m.comboId]=!0,l.setNode(m.comboId,{})),l.setParent(m.id,m.comboId))}),this.sortByCombo&&o&&o.forEach(m=>{m.parentId&&(f[m.parentId]||(f[m.parentId]=!0,l.setNode(m.parentId,{})),l.setParent(m.id,m.parentId))}),s.forEach(m=>{const g=Wx(m,"source"),x=Wx(m,"target");this.layoutNode(g)&&this.layoutNode(x)&&l.setEdge(g,x,{weight:m.weight||1})});let h;e.preset&&(h=new V2.graphlib.Graph({multigraph:!0,compound:!0}),e.preset.nodes.forEach(m=>{h==null||h.setNode(m.id,m)})),V2.layout(l,{prevGraph:h,edgeLabelSpace:e.edgeLabelSpace,keepNodeOrder:!!e.nodeOrder,nodeOrder:e.nodeOrder});const v=[0,0];if(a){let m=1/0,g=1/0;l.nodes().forEach(x=>{const _=l.node(x);m>_.x&&(m=_.x),g>_.y&&(g=_.y)}),l.edges().forEach(x=>{l.edge(x).points.forEach(w=>{m>w.x&&(m=w.x),g>w.y&&(g=w.y)})}),v[0]=a[0]-m,v[1]=a[1]-g}return l.nodes().forEach(m=>{const g=l.node(m),x=n.findIndex(_=>_.id===m);n[x]&&(n[x].x=g.x+v[0],n[x].y=g.y+v[1],n[x]._order=g._order)}),l.edges().forEach(m=>{const g=l.edge(m),x=s.findIndex(_=>{const w=Wx(_,"source"),S=Wx(_,"target");return w===m.v&&S===m.w});e.edgeLabelSpace&&e.controlPoints&&s[x].type!=="loop"&&(s[x].controlPoints=g.points.slice(1,g.points.length-1),s[x].controlPoints.forEach(_=>{_.x+=v[0],_.y+=v[1]}))}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:n,edges:s}}getType(){return"dagre"}}function Xx(t,e,n){let r;return t?r=t:JS(e)?r=()=>e:r=()=>n,r}function ar(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function sr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),o.initializer===void 0?(Object.defineProperty(t,e,o),null):o}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var uD;(function(t){(function(e){var n=typeof Ra=="object"?Ra:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(t);typeof n.Reflect>"u"?n.Reflect=t:r=i(n.Reflect,r),e(r);function i(o,a){return function(s,l){typeof o[s]!="function"&&Object.defineProperty(o,s,{configurable:!0,writable:!0,value:l}),a&&a(s,l)}}})(function(e){var n=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",s={__proto__:[]}instanceof Array,l=!a&&!s,u={create:a?function(){return $(Object.create(null))}:s?function(){return $({__proto__:null})}:function(){return $({})},has:l?function(se,re){return n.call(se,re)}:function(se,re){return re in se},get:l?function(se,re){return n.call(se,re)?se[re]:void 0}:function(se,re){return se[re]}},c=Object.getPrototypeOf(Function),d=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",f=!d&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:ie(),h=!d&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ne(),v=!d&&typeof WeakMap=="function"?WeakMap:Te(),m=new v;function g(se,re,oe,ye){if(H(oe)){if(!ve(se))throw new TypeError;if(!ue(re))throw new TypeError;return D(se,re)}else{if(!ve(se))throw new TypeError;if(!W(re))throw new TypeError;if(!W(ye)&&!H(ye)&&!Q(ye))throw new TypeError;return Q(ye)&&(ye=void 0),oe=fe(oe),F(se,re,oe,ye)}}e("decorate",g);function x(se,re){function oe(ye,xe){if(!W(ye))throw new TypeError;if(!H(xe)&&!we(xe))throw new TypeError;B(se,re,ye,xe)}return oe}e("metadata",x);function _(se,re,oe,ye){if(!W(oe))throw new TypeError;return H(ye)||(ye=fe(ye)),B(se,re,oe,ye)}e("defineMetadata",_);function w(se,re,oe){if(!W(re))throw new TypeError;return H(oe)||(oe=fe(oe)),R(se,re,oe)}e("hasMetadata",w);function S(se,re,oe){if(!W(re))throw new TypeError;return H(oe)||(oe=fe(oe)),I(se,re,oe)}e("hasOwnMetadata",S);function C(se,re,oe){if(!W(re))throw new TypeError;return H(oe)||(oe=fe(oe)),L(se,re,oe)}e("getMetadata",C);function O(se,re,oe){if(!W(re))throw new TypeError;return H(oe)||(oe=fe(oe)),k(se,re,oe)}e("getOwnMetadata",O);function T(se,re){if(!W(se))throw new TypeError;return H(re)||(re=fe(re)),q(se,re)}e("getMetadataKeys",T);function N(se,re){if(!W(se))throw new TypeError;return H(re)||(re=fe(re)),X(se,re)}e("getOwnMetadataKeys",N);function M(se,re,oe){if(!W(re))throw new TypeError;H(oe)||(oe=fe(oe));var ye=j(re,oe,!1);if(H(ye)||!ye.delete(se))return!1;if(ye.size>0)return!0;var xe=m.get(re);return xe.delete(oe),xe.size>0||m.delete(re),!0}e("deleteMetadata",M);function D(se,re){for(var oe=se.length-1;oe>=0;--oe){var ye=se[oe],xe=ye(re);if(!H(xe)&&!Q(xe)){if(!ue(xe))throw new TypeError;re=xe}}return re}function F(se,re,oe,ye){for(var xe=se.length-1;xe>=0;--xe){var He=se[xe],Fe=He(re,oe,ye);if(!H(Fe)&&!Q(Fe)){if(!W(Fe))throw new TypeError;ye=Fe}}return ye}function j(se,re,oe){var ye=m.get(se);if(H(ye)){if(!oe)return;ye=new f,m.set(se,ye)}var xe=ye.get(re);if(H(xe)){if(!oe)return;xe=new f,ye.set(re,xe)}return xe}function R(se,re,oe){var ye=I(se,re,oe);if(ye)return!0;var xe=Z(re);return Q(xe)?!1:R(se,xe,oe)}function I(se,re,oe){var ye=j(re,oe,!1);return H(ye)?!1:U(ye.has(se))}function L(se,re,oe){var ye=I(se,re,oe);if(ye)return k(se,re,oe);var xe=Z(re);if(!Q(xe))return L(se,xe,oe)}function k(se,re,oe){var ye=j(re,oe,!1);if(!H(ye))return ye.get(se)}function B(se,re,oe,ye){var xe=j(oe,ye,!0);xe.set(se,re)}function q(se,re){var oe=X(se,re),ye=Z(se);if(ye===null)return oe;var xe=q(ye,re);if(xe.length<=0)return oe;if(oe.length<=0)return xe;for(var He=new h,Fe=[],Ve=0,qe=oe;Ve<qe.length;Ve++){var vt=qe[Ve],tt=He.has(vt);tt||(He.add(vt),Fe.push(vt))}for(var pt=0,Ht=xe;pt<Ht.length;pt++){var vt=Ht[pt],tt=He.has(vt);tt||(He.add(vt),Fe.push(vt))}return Fe}function X(se,re){var oe=[],ye=j(se,re,!1);if(H(ye))return oe;for(var xe=ye.keys(),He=$e(xe),Fe=0;;){var Ve=Le(He);if(!Ve)return oe.length=Fe,oe;var qe=Ne(Ve);try{oe[Fe]=qe}catch(vt){try{Ie(He)}finally{throw vt}}Fe++}}function z(se){if(se===null)return 1;switch(typeof se){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return se===null?1:6;default:return 6}}function H(se){return se===void 0}function Q(se){return se===null}function V(se){return typeof se=="symbol"}function W(se){return typeof se=="object"?se!==null:typeof se=="function"}function te(se,re){switch(z(se)){case 0:return se;case 1:return se;case 2:return se;case 3:return se;case 4:return se;case 5:return se}var oe="string",ye=pe(se,i);if(ye!==void 0){var xe=ye.call(se,oe);if(W(xe))throw new TypeError;return xe}return K(se)}function K(se,re){var oe,ye;{var xe=se.toString;if(Ce(xe)){var ye=xe.call(se);if(!W(ye))return ye}var oe=se.valueOf;if(Ce(oe)){var ye=oe.call(se);if(!W(ye))return ye}}throw new TypeError}function U(se){return!!se}function ee(se){return""+se}function fe(se){var re=te(se);return V(re)?re:ee(re)}function ve(se){return Array.isArray?Array.isArray(se):se instanceof Object?se instanceof Array:Object.prototype.toString.call(se)==="[object Array]"}function Ce(se){return typeof se=="function"}function ue(se){return typeof se=="function"}function we(se){switch(z(se)){case 3:return!0;case 4:return!0;default:return!1}}function pe(se,re){var oe=se[re];if(oe!=null){if(!Ce(oe))throw new TypeError;return oe}}function $e(se){var re=pe(se,o);if(!Ce(re))throw new TypeError;var oe=re.call(se);if(!W(oe))throw new TypeError;return oe}function Ne(se){return se.value}function Le(se){var re=se.next();return re.done?!1:re}function Ie(se){var re=se.return;re&&re.call(se)}function Z(se){var re=Object.getPrototypeOf(se);if(typeof se!="function"||se===c||re!==c)return re;var oe=se.prototype,ye=oe&&Object.getPrototypeOf(oe);if(ye==null||ye===Object.prototype)return re;var xe=ye.constructor;return typeof xe!="function"||xe===se?re:xe}function ie(){var se={},re=[],oe=function(){function Fe(Ve,qe,vt){this._index=0,this._keys=Ve,this._values=qe,this._selector=vt}return Fe.prototype["@@iterator"]=function(){return this},Fe.prototype[o]=function(){return this},Fe.prototype.next=function(){var Ve=this._index;if(Ve>=0&&Ve<this._keys.length){var qe=this._selector(this._keys[Ve],this._values[Ve]);return Ve+1>=this._keys.length?(this._index=-1,this._keys=re,this._values=re):this._index++,{value:qe,done:!1}}return{value:void 0,done:!0}},Fe.prototype.throw=function(Ve){throw this._index>=0&&(this._index=-1,this._keys=re,this._values=re),Ve},Fe.prototype.return=function(Ve){return this._index>=0&&(this._index=-1,this._keys=re,this._values=re),{value:Ve,done:!0}},Fe}();return function(){function Fe(){this._keys=[],this._values=[],this._cacheKey=se,this._cacheIndex=-2}return Object.defineProperty(Fe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Fe.prototype.has=function(Ve){return this._find(Ve,!1)>=0},Fe.prototype.get=function(Ve){var qe=this._find(Ve,!1);return qe>=0?this._values[qe]:void 0},Fe.prototype.set=function(Ve,qe){var vt=this._find(Ve,!0);return this._values[vt]=qe,this},Fe.prototype.delete=function(Ve){var qe=this._find(Ve,!1);if(qe>=0){for(var vt=this._keys.length,tt=qe+1;tt<vt;tt++)this._keys[tt-1]=this._keys[tt],this._values[tt-1]=this._values[tt];return this._keys.length--,this._values.length--,Ve===this._cacheKey&&(this._cacheKey=se,this._cacheIndex=-2),!0}return!1},Fe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=se,this._cacheIndex=-2},Fe.prototype.keys=function(){return new oe(this._keys,this._values,ye)},Fe.prototype.values=function(){return new oe(this._keys,this._values,xe)},Fe.prototype.entries=function(){return new oe(this._keys,this._values,He)},Fe.prototype["@@iterator"]=function(){return this.entries()},Fe.prototype[o]=function(){return this.entries()},Fe.prototype._find=function(Ve,qe){return this._cacheKey!==Ve&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Ve)),this._cacheIndex<0&&qe&&(this._cacheIndex=this._keys.length,this._keys.push(Ve),this._values.push(void 0)),this._cacheIndex},Fe}();function ye(Fe,Ve){return Fe}function xe(Fe,Ve){return Ve}function He(Fe,Ve){return[Fe,Ve]}}function ne(){return function(){function se(){this._map=new f}return Object.defineProperty(se.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),se.prototype.has=function(re){return this._map.has(re)},se.prototype.add=function(re){return this._map.set(re,re),this},se.prototype.delete=function(re){return this._map.delete(re)},se.prototype.clear=function(){this._map.clear()},se.prototype.keys=function(){return this._map.keys()},se.prototype.values=function(){return this._map.values()},se.prototype.entries=function(){return this._map.entries()},se.prototype["@@iterator"]=function(){return this.keys()},se.prototype[o]=function(){return this.keys()},se}()}function Te(){var se=16,re=u.create(),oe=ye();return function(){function qe(){this._key=ye()}return qe.prototype.has=function(vt){var tt=xe(vt,!1);return tt!==void 0?u.has(tt,this._key):!1},qe.prototype.get=function(vt){var tt=xe(vt,!1);return tt!==void 0?u.get(tt,this._key):void 0},qe.prototype.set=function(vt,tt){var pt=xe(vt,!0);return pt[this._key]=tt,this},qe.prototype.delete=function(vt){var tt=xe(vt,!1);return tt!==void 0?delete tt[this._key]:!1},qe.prototype.clear=function(){this._key=ye()},qe}();function ye(){var qe;do qe="@@WeakMap@@"+Ve();while(u.has(re,qe));return re[qe]=!0,qe}function xe(qe,vt){if(!n.call(qe,oe)){if(!vt)return;Object.defineProperty(qe,oe,{value:u.create()})}return qe[oe]}function He(qe,vt){for(var tt=0;tt<vt;++tt)qe[tt]=Math.random()*255|0;return qe}function Fe(qe){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(qe)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(qe)):He(new Uint8Array(qe),qe):He(new Array(qe),qe)}function Ve(){var qe=Fe(se);qe[6]=qe[6]&79|64,qe[8]=qe[8]&191|128;for(var vt="",tt=0;tt<se;++tt){var pt=qe[tt];(tt===4||tt===6||tt===8)&&(vt+="-"),pt<16&&(vt+="0"),vt+=pt.toString(16).toLowerCase()}return vt}}function $(se){return se.__=void 0,delete se.__,se}})})(uD||(uD={}));var UH={exports:{}};(function(t){var e=z2e.default;function n(){t.exports=n=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var r,i={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(X,z,H){X[z]=H.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(X,z,H){return Object.defineProperty(X,z,{value:H,enumerable:!0,configurable:!0,writable:!0}),X[z]}try{f({},"")}catch{f=function(H,Q,V){return H[Q]=V}}function h(X,z,H,Q){var V=z&&z.prototype instanceof S?z:S,W=Object.create(V.prototype),te=new B(Q||[]);return s(W,"_invoke",{value:R(X,H,te)}),W}function v(X,z,H){try{return{type:"normal",arg:X.call(z,H)}}catch(Q){return{type:"throw",arg:Q}}}i.wrap=h;var m="suspendedStart",g="suspendedYield",x="executing",_="completed",w={};function S(){}function C(){}function O(){}var T={};f(T,u,function(){return this});var N=Object.getPrototypeOf,M=N&&N(N(q([])));M&&M!==o&&a.call(M,u)&&(T=M);var D=O.prototype=S.prototype=Object.create(T);function F(X){["next","throw","return"].forEach(function(z){f(X,z,function(H){return this._invoke(z,H)})})}function j(X,z){function H(V,W,te,K){var U=v(X[V],X,W);if(U.type!=="throw"){var ee=U.arg,fe=ee.value;return fe&&e(fe)=="object"&&a.call(fe,"__await")?z.resolve(fe.__await).then(function(ve){H("next",ve,te,K)},function(ve){H("throw",ve,te,K)}):z.resolve(fe).then(function(ve){ee.value=ve,te(ee)},function(ve){return H("throw",ve,te,K)})}K(U.arg)}var Q;s(this,"_invoke",{value:function(W,te){function K(){return new z(function(U,ee){H(W,te,U,ee)})}return Q=Q?Q.then(K,K):K()}})}function R(X,z,H){var Q=m;return function(V,W){if(Q===x)throw Error("Generator is already running");if(Q===_){if(V==="throw")throw W;return{value:r,done:!0}}for(H.method=V,H.arg=W;;){var te=H.delegate;if(te){var K=I(te,H);if(K){if(K===w)continue;return K}}if(H.method==="next")H.sent=H._sent=H.arg;else if(H.method==="throw"){if(Q===m)throw Q=_,H.arg;H.dispatchException(H.arg)}else H.method==="return"&&H.abrupt("return",H.arg);Q=x;var U=v(X,z,H);if(U.type==="normal"){if(Q=H.done?_:g,U.arg===w)continue;return{value:U.arg,done:H.done}}U.type==="throw"&&(Q=_,H.method="throw",H.arg=U.arg)}}}function I(X,z){var H=z.method,Q=X.iterator[H];if(Q===r)return z.delegate=null,H==="throw"&&X.iterator.return&&(z.method="return",z.arg=r,I(X,z),z.method==="throw")||H!=="return"&&(z.method="throw",z.arg=new TypeError("The iterator does not provide a '"+H+"' method")),w;var V=v(Q,X.iterator,z.arg);if(V.type==="throw")return z.method="throw",z.arg=V.arg,z.delegate=null,w;var W=V.arg;return W?W.done?(z[X.resultName]=W.value,z.next=X.nextLoc,z.method!=="return"&&(z.method="next",z.arg=r),z.delegate=null,w):W:(z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,w)}function L(X){var z={tryLoc:X[0]};1 in X&&(z.catchLoc=X[1]),2 in X&&(z.finallyLoc=X[2],z.afterLoc=X[3]),this.tryEntries.push(z)}function k(X){var z=X.completion||{};z.type="normal",delete z.arg,X.completion=z}function B(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(L,this),this.reset(!0)}function q(X){if(X||X===""){var z=X[u];if(z)return z.call(X);if(typeof X.next=="function")return X;if(!isNaN(X.length)){var H=-1,Q=function V(){for(;++H<X.length;)if(a.call(X,H))return V.value=X[H],V.done=!1,V;return V.value=r,V.done=!0,V};return Q.next=Q}}throw new TypeError(e(X)+" is not iterable")}return C.prototype=O,s(D,"constructor",{value:O,configurable:!0}),s(O,"constructor",{value:C,configurable:!0}),C.displayName=f(O,d,"GeneratorFunction"),i.isGeneratorFunction=function(X){var z=typeof X=="function"&&X.constructor;return!!z&&(z===C||(z.displayName||z.name)==="GeneratorFunction")},i.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,O):(X.__proto__=O,f(X,d,"GeneratorFunction")),X.prototype=Object.create(D),X},i.awrap=function(X){return{__await:X}},F(j.prototype),f(j.prototype,c,function(){return this}),i.AsyncIterator=j,i.async=function(X,z,H,Q,V){V===void 0&&(V=Promise);var W=new j(h(X,z,H,Q),V);return i.isGeneratorFunction(z)?W:W.next().then(function(te){return te.done?te.value:W.next()})},F(D),f(D,d,"Generator"),f(D,u,function(){return this}),f(D,"toString",function(){return"[object Generator]"}),i.keys=function(X){var z=Object(X),H=[];for(var Q in z)H.push(Q);return H.reverse(),function V(){for(;H.length;){var W=H.pop();if(W in z)return V.value=W,V.done=!1,V}return V.done=!0,V}},i.values=q,B.prototype={constructor:B,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!z)for(var H in this)H.charAt(0)==="t"&&a.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=r)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var H=this;function Q(ee,fe){return te.type="throw",te.arg=z,H.next=ee,fe&&(H.method="next",H.arg=r),!!fe}for(var V=this.tryEntries.length-1;V>=0;--V){var W=this.tryEntries[V],te=W.completion;if(W.tryLoc==="root")return Q("end");if(W.tryLoc<=this.prev){var K=a.call(W,"catchLoc"),U=a.call(W,"finallyLoc");if(K&&U){if(this.prev<W.catchLoc)return Q(W.catchLoc,!0);if(this.prev<W.finallyLoc)return Q(W.finallyLoc)}else if(K){if(this.prev<W.catchLoc)return Q(W.catchLoc,!0)}else{if(!U)throw Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return Q(W.finallyLoc)}}}},abrupt:function(z,H){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var V=this.tryEntries[Q];if(V.tryLoc<=this.prev&&a.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var W=V;break}}W&&(z==="break"||z==="continue")&&W.tryLoc<=H&&H<=W.finallyLoc&&(W=null);var te=W?W.completion:{};return te.type=z,te.arg=H,W?(this.method="next",this.next=W.finallyLoc,w):this.complete(te)},complete:function(z,H){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&H&&(this.next=H),w},finish:function(z){for(var H=this.tryEntries.length-1;H>=0;--H){var Q=this.tryEntries[H];if(Q.finallyLoc===z)return this.complete(Q.completion,Q.afterLoc),k(Q),w}},catch:function(z){for(var H=this.tryEntries.length-1;H>=0;--H){var Q=this.tryEntries[H];if(Q.tryLoc===z){var V=Q.completion;if(V.type==="throw"){var W=V.arg;k(Q)}return W}}throw Error("illegal catch attempt")},delegateYield:function(z,H,Q){return this.delegate={iterator:q(z),resultName:H,nextLoc:Q},this.method==="next"&&(this.arg=r),w}},i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(UH);var wMe=UH.exports,P_=wMe(),EMe=P_;try{regeneratorRuntime=P_}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=P_:Function("r","regeneratorRuntime = r")(P_)}const zn=Ua(EMe);var CMe=-1,TMe=1;function sc(){return TMe++}var Gp=function t(e){Vn(this,t)},Wp=function(){function t(e){Vn(this,t),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=e}return dr(t,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(n){return this.lookup[n]>-1}},{key:"create",value:function(n,r){this.lookup[n]=this.components.length;var i=new this.clazz(r||{});return this.components.push(i),this.entities.push(n),i}},{key:"remove",value:function(n){var r=this.lookup[n];r>-1&&r<this.components.length-1&&(this.components[r]=this.components[this.components.length-1],this.entities[r]=this.entities[this.entities.length-1],this.lookup[this.entities[r]]=r),this.components.pop(),this.entities.pop(),delete this.lookup[n]}},{key:"removeKeepSorted",value:function(n){var r=this.lookup[n];if(r>-1){var i=this.entities[r];if(r<this.components.length-1){for(var o=r+1;o<this.components.length;++o)this.components[o-1]=this.components[o];for(var a=r+1;a<this.entities.length;++a)this.entities[a-1]=this.entities[a],this.lookup[this.entities[a-1]]=a-1}this.components.pop(),this.entities.pop(),delete this.lookup[i]}}},{key:"moveItem",value:function(n,r){if(n!==r){for(var i=this.components[n],o=this.entities[n],a=n<r?1:-1,s=n;s!==r;s+=a){var l=s+a;this.components[s]=this.components[l],this.entities[s]=this.entities[l],this.lookup[this.entities[s]]=s}this.components[r]=i,this.entities[r]=o,this.lookup[o]=r}}},{key:"getEntity",value:function(n){return this.entities[n]}},{key:"getComponent",value:function(n){return this.components[n]}},{key:"getComponentByEntity",value:function(n){var r=this.lookup[n];return r>-1?this.components[r]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(n){for(var r=0,i=Object.keys(this.lookup);r<i.length;r++){var o=i[r],a=Number(o);if(this.lookup[a]===n)return a}return CMe}},{key:"find",value:function(n){for(var r=0;r<this.getCount();r++){var i=this.getComponent(r);if(n(i,r))return i}return null}},{key:"findIndex",value:function(n){for(var r=0;r<this.getCount();r++){var i=this.getComponent(r);if(n(i,r))return r}return-1}},{key:"forEach",value:function(n){for(var r=0,i=Object.keys(this.lookup);r<i.length;r++){var o=i[r],a=Number(o),s=this.lookup[a];n(a,this.getComponent(s))}}},{key:"forEachAsync",value:function(){var e=Ln(zn.mark(function r(i){var o,a,s,l,u;return zn.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:o=0,a=Object.keys(this.lookup);case 1:if(!(o<a.length)){d.next=10;break}return s=a[o],l=Number(s),u=this.lookup[l],d.next=7,i(l,this.getComponent(u));case 7:o++,d.next=1;break;case 10:case"end":return d.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"map",value:function(n){for(var r=[],i=0,o=Object.keys(this.lookup);i<o.length;i++){var a=o[i],s=Number(a),l=this.lookup[s];r.push(n(s,this.getComponent(l)))}return r}}]),t}(),mu="named",GH="name",xO="unmanaged",WH="optional",SE="inject",bb="multi_inject",VH="inversify:tagged",XH="inversify:tagged_props",lP="inversify:paramtypes",RMe="design:paramtypes",cD="post_construct";function PMe(){return[SE,bb,GH,xO,mu,WH]}var dD=PMe(),Ea={Request:"Request",Singleton:"Singleton",Transient:"Transient"},wa={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},Ed={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},AMe=0;function Qb(){return AMe++}var OMe=function(){function t(e,n){this.id=Qb(),this.activated=!1,this.serviceIdentifier=e,this.scope=n,this.type=wa.Invalid,this.constraint=function(r){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===Ea.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}(),NMe="Cannot apply @injectable decorator multiple times.",MMe="Metadata key was used more than once in a parameter:",L0="NULL argument",fD="Key Not Found",IMe="Ambiguous match found for serviceIdentifier:",DMe="Could not unbind serviceIdentifier:",LMe="No matching bindings found for serviceIdentifier:",kMe="Missing required @injectable annotation in:",$Me="Missing required @inject or @multiInject annotation in:",FMe=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},jMe="Circular dependency found:",BMe="Invalid binding type:",zMe="No snapshot available to restore.",HMe="Invalid return type in middleware. Middleware must return!",UMe="Value provided to function binding must be a function!",GMe="The toSelf function can only be applied when a constructor is used as service identifier",WMe="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",VMe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")},XMe="Invalid Container constructor argument. Container options must be an object.",KMe="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",YMe="Invalid Container option. Auto bind injectable must be a boolean",qMe="Invalid Container option. Skip base check must be a boolean",ZMe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},JMe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency "+("in one of the '"+t[0]+"' bindings. Please investigate bindings with")+("service identifier '"+t[1]+"'.")},QMe="Maximum call stack size exceeded",e4e=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var n=Reflect.getMetadata(lP,e),r=Reflect.getMetadata(VH,e);return{compilerGeneratedMetadata:n,userGeneratedMetadata:r||{}}},t.prototype.getPropertiesMetadata=function(e){var n=Reflect.getMetadata(XH,e)||[];return n},t}(),A_={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function KH(t){return t instanceof RangeError||t.message===QMe}function xb(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}function hD(t,e,n){var r="",i=n(t,e);return i.length!==0&&(r=`
Registered bindings:`,i.forEach(function(o){var a="Object";o.implementationType!==null&&(a=wE(o.implementationType)),r=r+`
 `+a,o.constraint.metaData&&(r=r+" - "+o.constraint.metaData)})),r}function YH(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:YH(t.parentRequest,e)}function t4e(t){function e(r,i){i===void 0&&(i=[]);var o=xb(r.serviceIdentifier);return i.push(o),r.parentRequest!==null?e(r.parentRequest,i):i}var n=e(t);return n.reverse().join(" --> ")}function qH(t){t.childRequests.forEach(function(e){if(YH(e,e.serviceIdentifier)){var n=t4e(e);throw new Error(jMe+" "+n)}else qH(e)})}function n4e(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return r!==null&&(n+=r.toString()+`
`),i!==null&&i.forEach(function(o){n+=o.toString()+`
`})," "+t+`
 `+t+" - "+n}else return" "+t}function wE(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}var ZH=function(){function t(e){this.id=Qb(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}(),Qf=function(){function t(e,n){this.key=e,this.value=n}return t.prototype.toString=function(){return this.key===mu?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}(),r4e=function(){function t(e,n){this.parentContext=e,this.rootRequest=n}return t}();function JH(t,e,n,r){var i=VH;eU(i,t,e,r,n)}function QH(t,e,n){var r=XH;eU(r,t.constructor,e,n)}function eU(t,e,n,r,i){var o={},a=typeof i=="number",s=i!==void 0&&a?i.toString():n;if(a&&n!==void 0)throw new Error(WMe);Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var l=o[s];if(!Array.isArray(l))l=[];else for(var u=0,c=l;u<c.length;u++){var d=c[u];if(d.key===r.key)throw new Error(MMe+" "+d.key.toString())}l.push(r),o[s]=l,Reflect.defineMetadata(t,o,e)}var i4e=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();function lr(t){return function(e,n,r){if(t===void 0)throw new Error(FMe(e.name));var i=new Qf(SE,t);typeof r=="number"?JH(e,n,r,i):QH(e,n,i)}}var o4e=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var n="",r=e.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},r)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}(),EE=function(){function t(e,n,r,i){this.id=Qb(),this.type=e,this.serviceIdentifier=r,this.name=new o4e(n||""),this.metadata=new Array;var o=null;typeof i=="string"?o=new Qf(mu,i):i instanceof Qf&&(o=i),o!==null&&this.metadata.push(o)}return t.prototype.hasTag=function(e){for(var n=0,r=this.metadata;n<r.length;n++){var i=r[n];if(i.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(bb)},t.prototype.matchesArray=function(e){return this.matchesTag(bb)(e)},t.prototype.isNamed=function(){return this.hasTag(mu)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return dD.every(function(n){return e.key!==n})})},t.prototype.isOptional=function(){return this.matchesTag(WH)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===mu})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return dD.every(function(n){return e.key!==n})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(mu)(e)},t.prototype.matchesTag=function(e){var n=this;return function(r){for(var i=0,o=n.metadata;i<o.length;i++){var a=o[i];if(a.key===e&&a.value===r)return!0}return!1}},t}(),nw=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function a4e(t,e){var n=wE(e),r=tU(t,n,e,!1);return r}function tU(t,e,n,r){var i=t.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(o===void 0){var a=kMe+" "+e+".";throw new Error(a)}var s=i.userGeneratedMetadata,l=Object.keys(s),u=n.length===0&&l.length>0,c=l.length>n.length,d=u||c?l.length:n.length,f=l4e(r,e,o,s,d),h=nU(t,n),v=nw(nw([],f),h);return v}function s4e(t,e,n,r,i){var o=i[t.toString()]||[],a=iU(o),s=a.unmanaged!==!0,l=r[t],u=a.inject||a.multiInject;if(l=u||l,l instanceof i4e&&(l=l.unwrap()),s){var c=l===Object,d=l===Function,f=l===void 0,h=c||d||f;if(!e&&h){var v=$Me+" argument "+t+" in class "+n+".";throw new Error(v)}var m=new EE(Ed.ConstructorArgument,a.targetName,l);return m.metadata=o,m}return null}function l4e(t,e,n,r,i){for(var o=[],a=0;a<i;a++){var s=a,l=s4e(s,t,e,n,r);l!==null&&o.push(l)}return o}function nU(t,e){for(var n=t.getPropertiesMetadata(e),r=[],i=Object.keys(n),o=0,a=i;o<a.length;o++){var s=a[o],l=n[s],u=iU(n[s]),c=u.targetName||s,d=u.inject||u.multiInject,f=new EE(Ed.ClassProperty,c,d);f.metadata=l,r.push(f)}var h=Object.getPrototypeOf(e.prototype).constructor;if(h!==Object){var v=nU(t,h);r=nw(nw([],r),v)}return r}function rU(t,e){var n=Object.getPrototypeOf(e.prototype).constructor;if(n!==Object){var r=wE(n),i=tU(t,r,n,!0),o=i.map(function(l){return l.metadata.filter(function(u){return u.key===xO})}),a=[].concat.apply([],o).length,s=i.length-a;return s>0?s:rU(t,n)}else return 0}function iU(t){var e={};return t.forEach(function(n){e[n.key.toString()]=n.value}),{inject:e[SE],multiInject:e[bb],targetName:e[GH],unmanaged:e[xO]}}var _O=function(){function t(e,n,r,i,o){this.id=Qb(),this.serviceIdentifier=e,this.parentContext=n,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=r===null?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();function uP(t){return t._bindingDictionary}function u4e(t,e,n,r,i,o){var a=t?bb:SE,s=new Qf(a,n),l=new EE(e,r,n,s);if(i!==void 0){var u=new Qf(i,o);l.metadata.push(u)}return l}function pD(t,e,n,r,i){var o=_b(n.container,i.serviceIdentifier),a=[];return o.length===A_.NoBindingsAvailable&&n.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),o=_b(n.container,i.serviceIdentifier)),e?a=o:a=o.filter(function(s){var l=new _O(s.serviceIdentifier,n,r,s,i);return s.constraint(l)}),c4e(i.serviceIdentifier,a,i,n.container),a}function c4e(t,e,n,r){switch(e.length){case A_.NoBindingsAvailable:if(n.isOptional())return e;var i=xb(t),o=LMe;throw o+=n4e(i,n),o+=hD(r,i,_b),new Error(o);case A_.OnlyOneBindingAvailable:if(!n.isArray())return e;case A_.MultipleBindingsAvailable:default:if(n.isArray())return e;var i=xb(t),o=IMe+" "+i;throw o+=hD(r,i,_b),new Error(o)}}function oU(t,e,n,r,i,o){var a,s;if(i===null){a=pD(t,e,r,null,o),s=new _O(n,r,null,a,o);var l=new r4e(r,s);r.addPlan(l)}else a=pD(t,e,r,i,o),s=i.addChildRequest(o.serviceIdentifier,a,o);a.forEach(function(u){var c=null;if(o.isArray())c=s.addChildRequest(u.serviceIdentifier,u,o);else{if(u.cache)return;c=s}if(u.type===wa.Instance&&u.implementationType!==null){var d=a4e(t,u.implementationType);if(!r.container.options.skipBaseClassChecks){var f=rU(t,u.implementationType);if(d.length<f){var h=VMe(wE(u.implementationType));throw new Error(h)}}d.forEach(function(v){oU(t,!1,v.serviceIdentifier,r,c,v)})}})}function _b(t,e){var n=[],r=uP(t);return r.hasKey(e)?n=r.get(e):t.parent!==null&&(n=_b(t.parent,e)),n}function d4e(t,e,n,r,i,o,a,s){s===void 0&&(s=!1);var l=new ZH(e),u=u4e(n,r,i,"",o,a);try{return oU(t,s,i,l,null,u),l}catch(c){throw KH(c)&&l.plan&&qH(l.plan.rootRequest),c}}function f4e(t,e,n,r){var i=new EE(Ed.Variable,"",e,new Qf(n,r)),o=new ZH(t),a=new _O(e,o,null,[],i);return a}var h4e=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function p4e(t,e,n){var r=e.filter(function(o){return o.target!==null&&o.target.type===Ed.ClassProperty}),i=r.map(n);return r.forEach(function(o,a){var s="";s=o.target.name.value();var l=i[a];t[s]=l}),t}function v4e(t,e){return new(t.bind.apply(t,h4e([void 0],e)))}function m4e(t,e){if(Reflect.hasMetadata(cD,t)){var n=Reflect.getMetadata(cD,t);try{e[n.value]()}catch(r){throw new Error(ZMe(t.name,r.message))}}}function g4e(t,e,n){var r=null;if(e.length>0){var i=e.filter(function(a){return a.target!==null&&a.target.type===Ed.ConstructorArgument}),o=i.map(n);r=v4e(t,o),r=p4e(r,e,n)}else r=new t;return m4e(t,r),r}var X2=function(t,e,n){try{return n()}catch(r){throw KH(r)?new Error(JMe(t,e.toString())):r}},cP=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,r=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return r.map(function(d){var f=cP(t);return f(d)});var a=null;if(e.target.isOptional()&&n.length===0)return;var s=n[0],l=s.scope===Ea.Singleton,u=s.scope===Ea.Request;if(l&&s.activated)return s.cache;if(u&&t!==null&&t.has(s.id))return t.get(s.id);if(s.type===wa.ConstantValue)a=s.cache,s.activated=!0;else if(s.type===wa.Function)a=s.cache,s.activated=!0;else if(s.type===wa.Constructor)a=s.implementationType;else if(s.type===wa.DynamicValue&&s.dynamicValue!==null)a=X2("toDynamicValue",s.serviceIdentifier,function(){return s.dynamicValue(e.parentContext)});else if(s.type===wa.Factory&&s.factory!==null)a=X2("toFactory",s.serviceIdentifier,function(){return s.factory(e.parentContext)});else if(s.type===wa.Provider&&s.provider!==null)a=X2("toProvider",s.serviceIdentifier,function(){return s.provider(e.parentContext)});else if(s.type===wa.Instance&&s.implementationType!==null)a=g4e(s.implementationType,r,cP(t));else{var c=xb(e.serviceIdentifier);throw new Error(BMe+" "+c)}return typeof s.onActivation=="function"&&(a=s.onActivation(e.parentContext,a)),l&&(s.cache=a,s.activated=!0),u&&t!==null&&!t.has(s.id)&&t.set(s.id,a),a}};function y4e(t){var e=cP(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}var hd=function(t,e){var n=t.parentRequest;return n!==null?e(n)?!0:hd(n,e):!1},uy=function(t){return function(e){var n=function(r){return r!==null&&r.target!==null&&r.target.matchesTag(t)(e)};return n.metaData=new Qf(t,e),n}},Kx=uy(mu),K2=function(t){return function(e){var n=null;if(e!==null)if(n=e.bindings[0],typeof t=="string"){var r=n.serviceIdentifier;return r===t}else{var i=e.bindings[0].implementationType;return t===i}return!1}},SO=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new _a(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=Kx(e),new _a(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){var n=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return n},new _a(this._binding)},t.prototype.whenTargetTagged=function(e,n){return this._binding.constraint=uy(e)(n),new _a(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(n){return K2(e)(n.parentRequest)},new _a(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(n){return Kx(e)(n.parentRequest)},new _a(this._binding)},t.prototype.whenParentTagged=function(e,n){return this._binding.constraint=function(r){return uy(e)(n)(r.parentRequest)},new _a(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(n){return hd(n,K2(e))},new _a(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(n){return!hd(n,K2(e))},new _a(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(n){return hd(n,Kx(e))},new _a(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(n){return!hd(n,Kx(e))},new _a(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._binding.constraint=function(r){return hd(r,uy(e)(n))},new _a(this._binding)},t.prototype.whenNoAncestorTagged=function(e,n){return this._binding.constraint=function(r){return!hd(r,uy(e)(n))},new _a(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(n){return hd(n,e)},new _a(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(n){return!hd(n,e)},new _a(this._binding)},t}(),_a=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new SO(this._binding)},t}(),Nf=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new SO(this._binding),this._bindingOnSyntax=new _a(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t}(),b4e=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=Ea.Request,new Nf(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=Ea.Singleton,new Nf(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=Ea.Transient,new Nf(this._binding)},t}(),vD=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new SO(this._binding),this._bindingOnSyntax=new _a(this._binding),this._bindingInSyntax=new b4e(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t}(),x4e=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=wa.Instance,this._binding.implementationType=e,new vD(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+GMe);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=wa.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=Ea.Singleton,new Nf(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=wa.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new vD(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=wa.Constructor,this._binding.implementationType=e,this._binding.scope=Ea.Singleton,new Nf(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=wa.Factory,this._binding.factory=e,this._binding.scope=Ea.Singleton,new Nf(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(UMe);var n=this.toConstantValue(e);return this._binding.type=wa.Function,this._binding.scope=Ea.Singleton,n},t.prototype.toAutoFactory=function(e){return this._binding.type=wa.Factory,this._binding.factory=function(n){var r=function(){return n.container.get(e)};return r},this._binding.scope=Ea.Singleton,new Nf(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=wa.Provider,this._binding.provider=e,this._binding.scope=Ea.Singleton,new Nf(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(n){return n.container.get(e)})},t}(),_4e=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}(),mD=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,n){if(e==null)throw new Error(L0);if(n==null)throw new Error(L0);var r=this._map.get(e);r!==void 0?(r.push(n),this._map.set(e,r)):this._map.set(e,[n])},t.prototype.get=function(e){if(e==null)throw new Error(L0);var n=this._map.get(e);if(n!==void 0)return n;throw new Error(fD)},t.prototype.remove=function(e){if(e==null)throw new Error(L0);if(!this._map.delete(e))throw new Error(fD)},t.prototype.removeByCondition=function(e){var n=this;this._map.forEach(function(r,i){var o=r.filter(function(a){return!e(a)});o.length>0?n._map.set(i,o):n._map.delete(i)})},t.prototype.hasKey=function(e){if(e==null)throw new Error(L0);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(n,r){n.forEach(function(i){return e.add(r,i.clone())})}),e},t.prototype.traverse=function(e){this._map.forEach(function(n,r){e(r,n)})},t}(),S4e=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})},w4e=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},E4e=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},aU=function(){function t(e){this._appliedMiddleware=[];var n=e||{};if(typeof n!="object")throw new Error(""+XMe);if(n.defaultScope===void 0)n.defaultScope=Ea.Transient;else if(n.defaultScope!==Ea.Singleton&&n.defaultScope!==Ea.Transient&&n.defaultScope!==Ea.Request)throw new Error(""+KMe);if(n.autoBindInjectable===void 0)n.autoBindInjectable=!1;else if(typeof n.autoBindInjectable!="boolean")throw new Error(""+YMe);if(n.skipBaseClassChecks===void 0)n.skipBaseClassChecks=!1;else if(typeof n.skipBaseClassChecks!="boolean")throw new Error(""+qMe);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=Qb(),this._bindingDictionary=new mD,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new e4e}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new t,a=E4e([e,n],r).map(function(u){return uP(u)}),s=uP(o);function l(u,c){u.traverse(function(d,f){f.forEach(function(h){c.add(h.serviceIdentifier,h.clone())})})}return a.forEach(function(u){l(u,s)}),o},t.prototype.load=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var a=o[i],s=r(a.id);a.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)}},t.prototype.loadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return S4e(this,void 0,void 0,function(){var r,i,o,a,s;return w4e(this,function(l){switch(l.label){case 0:r=this._getContainerModuleHelpersFactory(),i=0,o=e,l.label=1;case 1:return i<o.length?(a=o[i],s=r(a.id),[4,a.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)]):[3,4];case 2:l.sent(),l.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=function(o){return function(a){return a.moduleId===o}};n.forEach(function(o){var a=i(o.id);e._bindingDictionary.removeByCondition(a)})},t.prototype.bind=function(e){var n=this.options.defaultScope||Ea.Transient,r=new OMe(e,n);return this._bindingDictionary.add(e,r),new x4e(r)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(DMe+" "+xb(e))}},t.prototype.unbindAll=function(){this._bindingDictionary=new mD},t.prototype.isBound=function(e){var n=this._bindingDictionary.hasKey(e);return!n&&this.parent&&(n=this.parent.isBound(e)),n},t.prototype.isBoundNamed=function(e,n){return this.isBoundTagged(e,mu,n)},t.prototype.isBoundTagged=function(e,n,r){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),a=f4e(this,e,n,r);i=o.some(function(s){return s.constraint(a)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,n,r)),i},t.prototype.snapshot=function(){this._snapshots.push(_4e.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(zMe);this._bindingDictionary=e.bindings,this._middleware=e.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._appliedMiddleware=this._appliedMiddleware.concat(e);var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},r)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){return this._get(!1,!1,Ed.Variable,e)},t.prototype.getTagged=function(e,n,r){return this._get(!1,!1,Ed.Variable,e,n,r)},t.prototype.getNamed=function(e,n){return this.getTagged(e,mu,n)},t.prototype.getAll=function(e){return this._get(!0,!0,Ed.Variable,e)},t.prototype.getAllTagged=function(e,n,r){return this._get(!1,!0,Ed.Variable,e,n,r)},t.prototype.getAllNamed=function(e,n){return this.getAllTagged(e,mu,n)},t.prototype.resolve=function(e){var n=this.createChild();return n.bind(e).toSelf(),this._appliedMiddleware.forEach(function(r){n.applyMiddleware(r)}),n.get(e)},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,n=function(s,l){s._binding.moduleId=l},r=function(s){return function(l){var u=e.bind.bind(e),c=u(l);return n(c,s),c}},i=function(s){return function(l){var u=e.unbind.bind(e);u(l)}},o=function(s){return function(l){var u=e.isBound.bind(e);return u(l)}},a=function(s){return function(l){var u=e.rebind.bind(e),c=u(l);return n(c,s),c}};return function(s){return{bindFunction:r(s),isboundFunction:o(),rebindFunction:a(s),unbindFunction:i()}}},t.prototype._get=function(e,n,r,i,o,a){var s=null,l={avoidConstraints:e,contextInterceptor:function(u){return u},isMultiInject:n,key:o,serviceIdentifier:i,targetType:r,value:a};if(this._middleware){if(s=this._middleware(l),s==null)throw new Error(HMe)}else s=this._planAndResolve()(l);return s},t.prototype._planAndResolve=function(){var e=this;return function(n){var r=d4e(e._metadataReader,e,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);r=n.contextInterceptor(r);var i=y4e(r);return i}},t}();function _i(){return function(t){if(Reflect.hasOwnMetadata(lP,t))throw new Error(NMe);var e=Reflect.getMetadata(RMe,t)||[];return Reflect.defineMetadata(lP,e,t),t}}function bc(t){return function(e,n,r){var i=new Qf(mu,t);typeof r=="number"?JH(e,n,r,i):QH(e,n,i)}}var Wt={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},C4e=function t(){Vn(this,t),this.index=void 0},T4e=function t(){Vn(this,t),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},R4e=function(){function t(){Vn(this,t),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return dr(t,[{key:"read",value:function(n){return this.reads.find(function(r){return r.index===n.index})||this.reads.push(n),n}},{key:"sample",value:function(n){return this.read(n),n}},{key:"write",value:function(n,r){var i=this.writes.find(function(l){return l.index===r.index});if(i)return r;var o=n.getResourceNode(r);o.resource.version++,o.resource.imported&&(this.hasSideEffect=!0);var a=n.createResourceNode(o.resource),s=n.getResourceNode(a);return s.writer=this,this.writes.push(a),a}}]),t}(),P4e=function t(){Vn(this,t),this.first=void 0,this.last=void 0};function A4e(t){var e=O4e();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function O4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var gD=function(t){ia(n,t);var e=A4e(n);function n(){var r;Vn(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.version=0,r.refs=0,r.name=void 0,r.imported=void 0,r.priority=void 0,r.discardStart=!0,r.discardEnd=!1,r.descriptor=void 0,r.resource=void 0,r}return dr(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}(P4e),N4e=function t(){Vn(this,t),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},yD,bD,xD,Y2,_D,SD;function xl(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=M4e(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=t[Symbol.iterator]()},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function M4e(t,e){if(t){if(typeof t=="string")return wD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wD(t,e)}}function wD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var I4e=(yD=_i(),bD=lr(Wt.RenderEngine),yD(xD=(Y2=(SD=function(){function t(){Vn(this,t),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],ar(this,"engine",_D,this)}return dr(t,[{key:"execute",value:function(){var e=Ln(zn.mark(function r(i){return zn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.compile(),a.next=3,this.executePassNodes(i);case 3:case"end":return a.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(n){n.tearDown&&n.tearDown()}),this.reset()}},{key:"addPass",value:function(n,r,i,o){var a=new T4e;a.execute=i,o&&(a.tearDown=o),a.name=n;var s=new R4e;return s.name=n,this.passNodes.push(s),this.frameGraphPasses.push(a),r(this,s,a),a}},{key:"getPass",value:function(n){return this.frameGraphPasses.find(function(r){return r.name===n})}},{key:"compile",value:function(){var n=this,r=xl(this.passNodes),i;try{for(r.s();!(i=r.n()).done;){var o=i.value;o.refCount=o.writes.length+(o.hasSideEffect?1:0),o.reads.forEach(function(q){n.resourceNodes[q.index].readerCount++})}}catch(q){r.e(q)}finally{r.f()}var a=[],s=xl(this.resourceNodes),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.readerCount===0&&a.push(u)}}catch(q){s.e(q)}finally{s.f()}for(;a.length;){var c=a.pop(),d=c&&c.writer;if(d&&--d.refCount===0){var f=xl(d.reads),h;try{for(f.s();!(h=f.n()).done;){var v=h.value,m=this.resourceNodes[v.index];--m.readerCount===0&&a.push(m)}}catch(q){f.e(q)}finally{f.f()}}}this.resourceNodes.forEach(function(q){q.resource.refs+=q.readerCount});var g=xl(this.passNodes),x;try{for(g.s();!(x=g.n()).done;){var _=x.value;if(_.refCount){var w=xl(_.reads),S;try{for(w.s();!(S=w.n()).done;){var C=S.value,O=this.resourceNodes[C.index].resource;O.first=O.first?O.first:_,O.last=_}}catch(q){w.e(q)}finally{w.f()}var T=xl(_.writes),N;try{for(T.s();!(N=T.n()).done;){var M=N.value,D=this.resourceNodes[M.index].resource;D.first=D.first?D.first:_,D.last=_}}catch(q){T.e(q)}finally{T.f()}}}}catch(q){g.e(q)}finally{g.f()}for(var F=0;F<2;F++){var j=xl(this.resourceNodes),R;try{for(j.s();!(R=j.n()).done;){var I=R.value,L=I.resource;if(L.priority===F&&L.refs){var k=L.first,B=L.last;k&&B&&(k.devirtualize.push(L),B.destroy.push(L))}}}catch(q){j.e(q)}finally{j.f()}}}},{key:"executePassNodes",value:function(){var e=Ln(zn.mark(function r(i){var o,a,s,l,u,c,d,f,h,v,m,g,x,_,w,S,C;return zn.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:o=xl(this.passNodes.entries()),T.prev=1,o.s();case 3:if((a=o.n()).done){T.next=18;break}if(s=ht(a.value,2),l=s[0],u=s[1],!u.refCount){T.next=16;break}c=xl(u.devirtualize);try{for(c.s();!(d=c.n()).done;)f=d.value,f.preExecuteDevirtualize(this.engine)}catch(N){c.e(N)}finally{c.f()}h=xl(u.destroy);try{for(h.s();!(v=h.n()).done;)m=v.value,m.preExecuteDestroy(this.engine)}catch(N){h.e(N)}finally{h.f()}return T.next=12,this.frameGraphPasses[l].execute(this,this.frameGraphPasses[l],i);case 12:g=xl(u.devirtualize);try{for(g.s();!(x=g.n()).done;)_=x.value,_.postExecuteDevirtualize(this.engine)}catch(N){g.e(N)}finally{g.f()}w=xl(u.destroy);try{for(w.s();!(S=w.n()).done;)C=S.value,C.postExecuteDestroy(this.engine)}catch(N){w.e(N)}finally{w.f()}case 16:T.next=3;break;case 18:T.next=23;break;case 20:T.prev=20,T.t0=T.catch(1),o.e(T.t0);case 23:return T.prev=23,o.f(),T.finish(23);case 26:this.reset();case 27:case"end":return T.stop()}},r,this,[[1,20,23,26]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(n){return this.resourceNodes[n.index]}},{key:"createResourceNode",value:function(n){var r=new N4e;r.resource=n,r.version=n.version,this.resourceNodes.push(r);var i=new C4e;return i.index=this.resourceNodes.length-1,i}},{key:"createTexture",value:function(n,r,i){var o=new gD;return o.name=r,o.descriptor=i,this.createResourceNode(o)}},{key:"createRenderTarget",value:function(n,r,i){var o=new gD;return o.name=r,o.descriptor=i,this.createResourceNode(o)}},{key:"present",value:function(n){this.addPass("Present",function(r,i){i.read(n),i.hasSideEffect=!0},Ln(zn.mark(function r(){return zn.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:case"end":return o.stop()}},r)})))}}]),t}(),SD),_D=sr(Y2.prototype,"engine",[bD],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y2))||xD),O_=1e-6,rs=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function e1(){var t=new rs(9);return rs!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function D4e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function L4e(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=e[9],f=e[10],h=e[11],v=e[12],m=e[13],g=e[14],x=e[15],_=n*s-r*a,w=n*l-i*a,S=n*u-o*a,C=r*l-i*s,O=r*u-o*s,T=i*u-o*l,N=c*m-d*v,M=c*g-f*v,D=c*x-h*v,F=d*g-f*m,j=d*x-h*m,R=f*x-h*g,I=_*R-w*j+S*F+C*D-O*M+T*N;return I?(I=1/I,t[0]=(s*R-l*j+u*F)*I,t[1]=(l*D-a*R-u*M)*I,t[2]=(a*j-s*D+u*N)*I,t[3]=(i*j-r*R-o*F)*I,t[4]=(n*R-i*D+o*M)*I,t[5]=(r*D-n*j-o*N)*I,t[6]=(m*T-g*O+x*C)*I,t[7]=(g*S-v*T-x*w)*I,t[8]=(v*O-m*S+x*_)*I,t):null}function Es(){var t=new rs(16);return rs!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function k4e(t){var e=new rs(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function dP(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function sU(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function rw(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=e[9],f=e[10],h=e[11],v=e[12],m=e[13],g=e[14],x=e[15],_=n*s-r*a,w=n*l-i*a,S=n*u-o*a,C=r*l-i*s,O=r*u-o*s,T=i*u-o*l,N=c*m-d*v,M=c*g-f*v,D=c*x-h*v,F=d*g-f*m,j=d*x-h*m,R=f*x-h*g,I=_*R-w*j+S*F+C*D-O*M+T*N;return I?(I=1/I,t[0]=(s*R-l*j+u*F)*I,t[1]=(i*j-r*R-o*F)*I,t[2]=(m*T-g*O+x*C)*I,t[3]=(f*O-d*T-h*C)*I,t[4]=(l*D-a*R-u*M)*I,t[5]=(n*R-i*D+o*M)*I,t[6]=(g*S-v*T-x*w)*I,t[7]=(c*T-f*S+h*w)*I,t[8]=(a*j-s*D+u*N)*I,t[9]=(r*D-n*j-o*N)*I,t[10]=(v*O-m*S+x*_)*I,t[11]=(d*S-c*O-h*_)*I,t[12]=(s*M-a*F-l*N)*I,t[13]=(n*F-r*M+i*N)*I,t[14]=(m*w-v*C-g*_)*I,t[15]=(c*C-d*w+f*_)*I,t):null}function pp(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=e[9],h=e[10],v=e[11],m=e[12],g=e[13],x=e[14],_=e[15],w=n[0],S=n[1],C=n[2],O=n[3];return t[0]=w*r+S*s+C*d+O*m,t[1]=w*i+S*l+C*f+O*g,t[2]=w*o+S*u+C*h+O*x,t[3]=w*a+S*c+C*v+O*_,w=n[4],S=n[5],C=n[6],O=n[7],t[4]=w*r+S*s+C*d+O*m,t[5]=w*i+S*l+C*f+O*g,t[6]=w*o+S*u+C*h+O*x,t[7]=w*a+S*c+C*v+O*_,w=n[8],S=n[9],C=n[10],O=n[11],t[8]=w*r+S*s+C*d+O*m,t[9]=w*i+S*l+C*f+O*g,t[10]=w*o+S*u+C*h+O*x,t[11]=w*a+S*c+C*v+O*_,w=n[12],S=n[13],C=n[14],O=n[15],t[12]=w*r+S*s+C*d+O*m,t[13]=w*i+S*l+C*f+O*g,t[14]=w*o+S*u+C*h+O*x,t[15]=w*a+S*c+C*v+O*_,t}function k0(t,e,n){var r=n[0],i=n[1],o=n[2],a,s,l,u,c,d,f,h,v,m,g,x;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*o+e[12],t[13]=e[1]*r+e[5]*i+e[9]*o+e[13],t[14]=e[2]*r+e[6]*i+e[10]*o+e[14],t[15]=e[3]*r+e[7]*i+e[11]*o+e[15]):(a=e[0],s=e[1],l=e[2],u=e[3],c=e[4],d=e[5],f=e[6],h=e[7],v=e[8],m=e[9],g=e[10],x=e[11],t[0]=a,t[1]=s,t[2]=l,t[3]=u,t[4]=c,t[5]=d,t[6]=f,t[7]=h,t[8]=v,t[9]=m,t[10]=g,t[11]=x,t[12]=a*r+c*i+v*o+e[12],t[13]=s*r+d*i+m*o+e[13],t[14]=l*r+f*i+g*o+e[14],t[15]=u*r+h*i+x*o+e[15]),t}function $4e(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+d*r,t[7]=l*i+f*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=d*i-s*r,t[11]=f*i-l*r,t}function F4e(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],d=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-u*r,t[1]=a*i-c*r,t[2]=s*i-d*r,t[3]=l*i-f*r,t[8]=o*r+u*i,t[9]=a*r+c*i,t[10]=s*r+d*i,t[11]=l*r+f*i,t}function $0(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function im(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],l=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(l,u,c),t}function F0(t,e){var n=new rs(3);im(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],a=e[0]*r,s=e[1]*i,l=e[2]*o,u=e[4]*r,c=e[5]*i,d=e[6]*o,f=e[8]*r,h=e[9]*i,v=e[10]*o,m=a+c+v,g=0;return m>0?(g=Math.sqrt(m+1)*2,t[3]=.25*g,t[0]=(d-h)/g,t[1]=(f-l)/g,t[2]=(s-u)/g):a>c&&a>v?(g=Math.sqrt(1+a-c-v)*2,t[3]=(d-h)/g,t[0]=.25*g,t[1]=(s+u)/g,t[2]=(f+l)/g):c>v?(g=Math.sqrt(1+c-a-v)*2,t[3]=(f-l)/g,t[0]=(s+u)/g,t[1]=.25*g,t[2]=(d+h)/g):(g=Math.sqrt(1+v-a-c)*2,t[3]=(s-u)/g,t[0]=(f+l)/g,t[1]=(d+h)/g,t[2]=.25*g),t}function j4e(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],l=i+i,u=o+o,c=a+a,d=i*l,f=i*u,h=i*c,v=o*u,m=o*c,g=a*c,x=s*l,_=s*u,w=s*c,S=r[0],C=r[1],O=r[2];return t[0]=(1-(v+g))*S,t[1]=(f+w)*S,t[2]=(h-_)*S,t[3]=0,t[4]=(f-w)*C,t[5]=(1-(d+g))*C,t[6]=(m+x)*C,t[7]=0,t[8]=(h+_)*O,t[9]=(m-x)*O,t[10]=(1-(d+v))*O,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ED(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,d=r*s,f=i*a,h=i*s,v=i*l,m=o*a,g=o*s,x=o*l;return t[0]=1-d-v,t[1]=c+x,t[2]=f-g,t[3]=0,t[4]=c-x,t[5]=1-u-v,t[6]=h+m,t[7]=0,t[8]=f+g,t[9]=h-m,t[10]=1-u-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function B4e(t,e,n,r,i){var o=1/Math.tan(e/2),a;return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(a=1/(r-i),t[10]=(i+r)*a,t[14]=2*i*r*a):(t[10]=-1,t[14]=-2*r),t}var z4e=B4e;function H4e(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t}var U4e=H4e;function G4e(t,e,n,r){var i,o,a,s,l,u,c,d,f,h,v=e[0],m=e[1],g=e[2],x=r[0],_=r[1],w=r[2],S=n[0],C=n[1],O=n[2];return Math.abs(v-S)<O_&&Math.abs(m-C)<O_&&Math.abs(g-O)<O_?sU(t):(c=v-S,d=m-C,f=g-O,h=1/Math.hypot(c,d,f),c*=h,d*=h,f*=h,i=_*f-w*d,o=w*c-x*f,a=x*d-_*c,h=Math.hypot(i,o,a),h?(h=1/h,i*=h,o*=h,a*=h):(i=0,o=0,a=0),s=d*a-f*o,l=f*i-c*a,u=c*o-d*i,h=Math.hypot(s,l,u),h?(h=1/h,s*=h,l*=h,u*=h):(s=0,l=0,u=0),t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=o,t[5]=l,t[6]=d,t[7]=0,t[8]=a,t[9]=u,t[10]=f,t[11]=0,t[12]=-(i*v+o*m+a*g),t[13]=-(s*v+l*m+u*g),t[14]=-(c*v+d*m+f*g),t[15]=1,t)}function Pi(){var t=new rs(3);return rs!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function gd(t){var e=new rs(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function N_(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Br(t,e,n){var r=new rs(3);return r[0]=t,r[1]=e,r[2]=n,r}function Ca(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Vv(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Cd(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function fP(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function W4e(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Sb(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function V4e(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function My(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function iw(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function q2(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t}function Pp(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function wO(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function EO(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function X4e(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],l=e[1],u=e[2],c=i*u-o*l,d=o*s-r*u,f=r*l-i*s,h=i*f-o*d,v=o*c-r*f,m=r*d-i*c,g=a*2;return c*=g,d*=g,f*=g,h*=2,v*=2,m*=2,t[0]=s+c+h,t[1]=l+d+v,t[2]=u+f+m,t}var hP=fP,CD=V4e,lU=N_;(function(){var t=Pi();return function(e,n,r,i,o,a){var s,l;for(n||(n=3),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}})();function cy(){var t=new rs(4);return rs!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function uU(t,e,n,r){var i=new rs(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function K4e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Y4e(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function dy(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}(function(){var t=cy();return function(e,n,r,i,o,a){var s,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}})();function ra(){var t=new rs(4);return rs!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function qh(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function El(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+i*u-o*l,t[1]=i*c+a*l+o*s-r*u,t[2]=o*c+a*u+r*l-i*s,t[3]=a*c-r*s-i*l-o*u,t}function M_(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],l=n[0],u=n[1],c=n[2],d=n[3],f,h,v,m,g;return h=i*l+o*u+a*c+s*d,h<0&&(h=-h,l=-l,u=-u,c=-c,d=-d),1-h>O_?(f=Math.acos(h),v=Math.sin(f),m=Math.sin((1-r)*f)/v,g=Math.sin(r*f)/v):(m=1-r,g=r),t[0]=m*i+g*l,t[1]=m*o+g*u,t[2]=m*a+g*c,t[3]=m*s+g*d,t}function TD(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function q4e(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[o*3+o]-e[a*3+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[o*3+a]-e[a*3+o])*r,t[o]=(e[o*3+i]+e[i*3+o])*r,t[a]=(e[a*3+i]+e[i*3+a])*r}return t}function Z2(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),l=Math.cos(n),u=Math.sin(r),c=Math.cos(r);return t[0]=o*l*c-a*s*u,t[1]=a*s*c+o*l*u,t[2]=a*l*u-o*s*c,t[3]=a*l*c+o*s*u,t}var J2=uU,j0=K4e,Z4e=El,fm=Y4e;(function(){var t=Pi(),e=Br(1,0,0),n=Br(0,1,0);return function(r,i,o){var a=iw(i,o);return a<-.999999?(q2(t,e,i),lU(t)<1e-6&&q2(t,n,i),My(t,t),qh(r,t,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(q2(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+a,fm(r,r))}})();(function(){var t=ra(),e=ra();return function(n,r,i,o,a,s){return M_(t,r,a,s),M_(e,i,o,s),M_(n,t,e,2*s*(1-s)),n}})();(function(){var t=e1();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],fm(e,q4e(e,t))}})();var J4e=9007199254740991,Q4e="[object Arguments]",eIe="[object Array]",tIe="[object Boolean]",nIe="[object Date]",rIe="[object Error]",iIe="[object Function]",oIe="[object Map]",aIe="[object Number]",sIe="[object Object]",lIe="[object RegExp]",uIe="[object Set]",cIe="[object String]",dIe="[object WeakMap]",fIe="[object ArrayBuffer]",hIe="[object DataView]",pIe="[object Float32Array]",vIe="[object Float64Array]",mIe="[object Int8Array]",gIe="[object Int16Array]",yIe="[object Int32Array]",bIe="[object Uint8Array]",xIe="[object Uint8ClampedArray]",_Ie="[object Uint16Array]",SIe="[object Uint32Array]",ho={};ho[pIe]=ho[vIe]=ho[mIe]=ho[gIe]=ho[yIe]=ho[bIe]=ho[xIe]=ho[_Ie]=ho[SIe]=!0;ho[Q4e]=ho[eIe]=ho[fIe]=ho[tIe]=ho[hIe]=ho[nIe]=ho[rIe]=ho[iIe]=ho[oIe]=ho[aIe]=ho[sIe]=ho[lIe]=ho[uIe]=ho[cIe]=ho[dIe]=!1;var wIe=Object.prototype,EIe=wIe.toString;function CIe(t){return RIe(t)&&TIe(t.length)&&!!ho[EIe.call(t)]}function TIe(t){return typeof t=="number"&&t>-1&&t%1===0&&t<=J4e}function RIe(t){return!!t&&ur(t)==="object"}var RD=CIe;function PD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PIe(t){var e=AIe();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function AIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var OIe=function(t){ia(n,t);var e=PIe(n);function n(r){var i;return Vn(this,n),i=e.call(this,r),i.dirty=!0,i.attributes=[],i.indices=void 0,i.indicesBuffer=void 0,i.vertexCount=0,i.maxInstancedCount=void 0,i.aabb=void 0,i.entity=void 0,Object.assign(Oi(i),r),i}return dr(n,[{key:"setAttribute",value:function(i,o,a,s){var l=this.attributes.find(function(u){return u.name===i});return l?(l.data=o,l.dirty=!0):this.attributes.push(AD(AD({dirty:!0,name:i,data:o},a),{},{bufferGetter:s})),this.dirty=!0,this}},{key:"setIndex",value:function(i){return this.indices=new Uint32Array(i.buffer?i.buffer:i),this.dirty=!0,this}},{key:"applyMatrix",value:function(i){var o=this.attributes.find(function(f){var h=f.name;return h==="position"}),a=this.attributes.find(function(f){var h=f.name;return h==="normal"});if(o&&(o.dirty=!0,o.data&&o.data.length))for(var s=0;s<o.data.length;s+=3){var l=uU(o.data[s],o.data[s+1],o.data[s+2],1);dy(l,l,i),RD(o.data)?o.data.set([l[0],l[1],l[2]],s):(o.data[s]=l[0],o.data[s+1]=l[1],o.data[s+2]=l[2])}if(a){var u=L4e(e1(),i);if(a.data&&a.data.length)for(var c=0;c<a.data.length;c+=3){var d=Br(a.data[c],a.data[c+1],a.data[c+2]);EO(d,d,u),My(d,d),RD(a.data)?a.data.set([d[0],d[1],d[2]],c):(a.data[c]=d[0],a.data[c+1]=d[1],a.data[c+2]=d[2])}}}}]),n}(Gp),at;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.MAX_EXT=32776]="MAX_EXT",t[t.MIN_EXT=32775]="MIN_EXT",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.CULL_FACE=2884]="CULL_FACE",t[t.BLEND=3042]="BLEND",t[t.DITHER=3024]="DITHER",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.COPY_SRC=1]="COPY_SRC",t[t.COPY_DST=2]="COPY_DST",t[t.SAMPLED=4]="SAMPLED",t[t.STORAGE=8]="STORAGE",t[t.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(at||(at={}));var OD,ND,MD,ID,Yx,DD,LD,kD,NIe=(OD=_i(),ND=lr(Wt.GeometryComponentManager),MD=lr(Wt.RenderEngine),OD(ID=(Yx=(kD=function(){function t(){Vn(this,t),ar(this,"geometry",DD,this),ar(this,"engine",LD,this)}return dr(t,[{key:"execute",value:function(){var e=Ln(zn.mark(function r(){var i=this;return zn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this.geometry.forEach(function(s,l){l.dirty&&(l.attributes.forEach(function(u){if(u.dirty&&u.data){if(!u.buffer)u.buffer=i.engine.createBuffer({data:u.data,type:at.FLOAT});else{var c;(c=u.buffer)===null||c===void 0||c.subData({data:u.data,offset:0})}u.dirty=!1}}),l.indices&&(l.indicesBuffer?l.indicesBuffer.subData({data:l.indices,offset:0}):l.indicesBuffer=i.engine.createElements({data:l.indices,count:l.indices.length,type:at.UNSIGNED_INT,usage:at.STATIC_DRAW})),l.dirty=!1)});case 1:case"end":return a.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.geometry.forEach(function(n,r){r.indicesBuffer&&r.indicesBuffer.destroy(),r.attributes.forEach(function(i){i.buffer&&i.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},r=n.vertexCount,i=sc();return this.geometry.create(i,{vertexCount:r})}},{key:"createInstancedBufferGeometry",value:function(n){var r=n.maxInstancedCount,i=n.vertexCount,o=sc();return this.geometry.create(o,{maxInstancedCount:r,vertexCount:i})}}]),t}(),kD),DD=sr(Yx.prototype,"geometry",[ND],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),LD=sr(Yx.prototype,"engine",[MD],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yx))||ID);function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MIe(t){var e=IIe();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function IIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var DIe=function(t){ia(n,t);var e=MIe(n);function n(r){var i;return Vn(this,n),i=e.call(this,r),i.vertexShaderGLSL=void 0,i.fragmentShaderGLSL=void 0,i.defines={},i.dirty=!0,i.uniforms=[],i.cull={enable:!0,face:at.BACK},i.depth={enable:!0},i.blend=void 0,i.entity=void 0,i.type=void 0,Object.assign(Oi(i),r),i}return dr(n,[{key:"setDefines",value:function(i){return this.defines=FD(FD({},this.defines),i),this}},{key:"setCull",value:function(i){return this.cull=i,this}},{key:"setDepth",value:function(i){return this.depth=i,this}},{key:"setBlend",value:function(i){return this.blend=i,this}},{key:"setUniform",value:function(i,o){var a=this;if(typeof i!="string")return Object.keys(i).forEach(function(l){return a.setUniform(l,i[l])}),this;var s=this.uniforms.find(function(l){return l.name===i});return s?(s.dirty=!0,s.data=o):this.uniforms.push({name:i,dirty:!0,data:o}),this.dirty=!0,this}}]),n}(Gp),jD,BD,zD,HD,UD,B0,GD,WD,VD,XD;function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var LIe=(jD=_i(),BD=lr(Wt.MaterialComponentManager),zD=lr(Wt.RenderEngine),HD=lr(Wt.ShaderModuleService),jD(UD=(B0=(XD=function(){function t(){Vn(this,t),ar(this,"material",GD,this),ar(this,"engine",WD,this),ar(this,"shaderModule",VD,this)}return dr(t,[{key:"execute",value:function(){var e=Ln(zn.mark(function r(){return zn.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:case"end":return o.stop()}},r)}));function n(){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(n){var r=sc(),i=n.vertexShader,o=n.fragmentShader,a=[];if(!this.engine.supportWebGPU){var s="material-".concat(r);this.shaderModule.registerModule(s,{vs:n.vertexShader,fs:n.fragmentShader});var l=this.shaderModule.getModule(s);i=l.vs,o=l.fs,l.uniforms&&(a=Object.keys(l.uniforms).map(function(u){return{dirty:!0,name:u,data:l.uniforms[u]}}))}return this.material.create(r,YD(YD({vertexShaderGLSL:i,fragmentShaderGLSL:o},n),{},{uniforms:a}))}}]),t}(),XD),GD=sr(B0.prototype,"material",[BD],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),WD=sr(B0.prototype,"engine",[zD],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),VD=sr(B0.prototype,"shaderModule",[HD],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B0))||UD);function kIe(t){var e=$Ie();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function $Ie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var pP;(function(t){t[t.Standard=0]="Standard"})(pP||(pP={}));var FIe=function(t){ia(n,t);var e=kIe(n);function n(r){var i;return Vn(this,n),i=e.call(this,r),i.strategy=pP.Standard,i.visibilityPlaneMask=0,i.visible=!1,Object.assign(Oi(i),r),i}return n}(Gp),CO=function(){function t(e,n){Vn(this,t),this.center=void 0,this.halfExtents=void 0,this.min=Pi(),this.max=Pi(),this.update(e,n)}return dr(t,[{key:"update",value:function(n,r){this.center=n||Pi(),this.halfExtents=r||Br(.5,.5,.5),this.min=hP(this.min,this.center,this.halfExtents),this.max=Cd(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(n,r){Cd(this.center,r,n),Sb(this.center,this.center,.5),hP(this.halfExtents,r,n),Sb(this.halfExtents,this.halfExtents,.5),Ca(this.min,n),Ca(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(n){var r=this.center,i=r[0],o=r[1],a=r[2],s=this.halfExtents,l=s[0],u=s[1],c=s[2],d=i-l,f=i+l,h=o-u,v=o+u,m=a-c,g=a+c,x=n.center,_=x[0],w=x[1],S=x[2],C=n.halfExtents,O=C[0],T=C[1],N=C[2],M=_-O,D=_+O,F=w-T,j=w+T,R=S-N,I=S+N;M<d&&(d=M),D>f&&(f=D),F<h&&(h=F),j>v&&(v=j),R<m&&(m=R),I>g&&(g=I),r[0]=(d+f)*.5,r[1]=(h+v)*.5,r[2]=(m+g)*.5,s[0]=(f-d)*.5,s[1]=(v-h)*.5,s[2]=(g-m)*.5,this.min[0]=d,this.min[1]=h,this.min[2]=m,this.max[0]=f,this.max[1]=v,this.max[2]=g}},{key:"intersects",value:function(n){var r=this.getMax(),i=this.getMin(),o=n.getMax(),a=n.getMin();return i[0]<=o[0]&&r[0]>=a[0]&&i[1]<=o[1]&&r[1]>=a[1]&&i[2]<=o[2]&&r[2]>=a[2]}},{key:"containsPoint",value:function(n){var r=this.getMin(),i=this.getMax();return!(n[0]<r[0]||n[0]>i[0]||n[1]<r[1]||n[1]>i[1]||n[2]<r[2]||n[2]>i[2])}},{key:"getNegativeFarPoint",value:function(n){return n.pnVertexFlag===273?Ca(Pi(),this.min):n.pnVertexFlag===272?Br(this.min[0],this.min[1],this.max[2]):n.pnVertexFlag===257?Br(this.min[0],this.max[1],this.min[2]):n.pnVertexFlag===256?Br(this.min[0],this.max[1],this.max[2]):n.pnVertexFlag===17?Br(this.max[0],this.min[1],this.min[2]):n.pnVertexFlag===16?Br(this.max[0],this.min[1],this.max[2]):n.pnVertexFlag===1?Br(this.max[0],this.max[1],this.min[2]):Br(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(n){return n.pnVertexFlag===273?Ca(Pi(),this.max):n.pnVertexFlag===272?Br(this.max[0],this.max[1],this.min[2]):n.pnVertexFlag===257?Br(this.max[0],this.min[1],this.max[2]):n.pnVertexFlag===256?Br(this.max[0],this.min[1],this.min[2]):n.pnVertexFlag===17?Br(this.min[0],this.max[1],this.max[2]):n.pnVertexFlag===16?Br(this.min[0],this.max[1],this.min[2]):n.pnVertexFlag===1?Br(this.min[0],this.min[1],this.max[2]):Br(this.min[0],this.min[1],this.min[2])}}]),t}();function jIe(t){var e=BIe();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function BIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var zIe=function(t){ia(n,t);var e=jIe(n);function n(r){var i;return Vn(this,n),i=e.call(this,r),i.material=void 0,i.geometry=void 0,i.aabb=new CO,i.aabbDirty=!0,i.model=void 0,i.visible=!0,i.children=[],Object.assign(Oi(i),r),i}return n}(Gp),HIe=function(){function t(e,n){Vn(this,t),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=e||0,this.normal=n||Br(0,1,0),this.updatePNVertexFlag()}return dr(t,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(n){return iw(n,this.normal)-this.distance}},{key:"normalize",value:function(){var n=1/lU(this.normal);Sb(this.normal,this.normal,n),this.distance*=n}},{key:"intersectsLine",value:function(n,r,i){var o=this.distanceToPoint(n),a=this.distanceToPoint(r),s=o/(o-a),l=s>=0&&s<=1;return l&&i&&Pp(i,n,r,s),l}}]),t}(),Pf;(function(t){t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE"})(Pf||(Pf={}));var UIe=function(){function t(e){if(Vn(this,t),this.planes=[],e)this.planes=e;else for(var n=0;n<6;n++)this.planes.push(new HIe)}return dr(t,[{key:"extractFromVPMatrix",value:function(n){var r=ht(n,16),i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],u=r[5],c=r[6],d=r[7],f=r[8],h=r[9],v=r[10],m=r[11],g=r[12],x=r[13],_=r[14],w=r[15];Vv(this.planes[0].normal,s-i,d-l,m-f),this.planes[0].distance=-(w-g),Vv(this.planes[1].normal,s+i,d+l,m+f),this.planes[1].distance=-(w+g),Vv(this.planes[2].normal,s+o,d+u,m+h),this.planes[2].distance=-(w+x),Vv(this.planes[3].normal,s-o,d-u,m-h),this.planes[3].distance=-(w-x),Vv(this.planes[4].normal,s-a,d-c,m-v),this.planes[4].distance=-(w-_),Vv(this.planes[5].normal,s+a,d+c,m+v),this.planes[5].distance=-(w+_),this.planes.forEach(function(S){S.normalize(),S.updatePNVertexFlag()})}}]),t}();function GIe(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function WIe(t){var e=ht(t,3),n=e[0],r=e[1],i=e[2],o=n+r*256+i*65536-1;return o}var qD,ZD,JD,QD,e5,t5,n5,Vh,r5,i5,o5,a5,s5,l5;function u5(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=VIe(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=t[Symbol.iterator]()},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function VIe(t,e){if(t){if(typeof t=="string")return c5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c5(t,e)}}function c5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var XIe=(qD=_i(),ZD=lr(Wt.MeshComponentManager),JD=lr(Wt.CullableComponentManager),QD=lr(Wt.GeometryComponentManager),e5=lr(Wt.HierarchyComponentManager),t5=lr(Wt.TransformComponentManager),qD(n5=(Vh=(l5=function(){function t(){Vn(this,t),ar(this,"mesh",r5,this),ar(this,"cullable",i5,this),ar(this,"geometry",o5,this),ar(this,"hierarchy",a5,this),ar(this,"transform",s5,this),this.planes=void 0}return dr(t,[{key:"setFrustumPlanes",value:function(n){this.planes=n}},{key:"execute",value:function(){var e=Ln(zn.mark(function r(i){var o,a,s,l,u,c,d,f,h,v,m,g,x,_,w,S,C,O,T,N,M;return zn.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:o=u5(i);try{for(o.s();!(a=o.n()).done;){s=a.value,l=s.getScene(),u=s.getCamera(),c=u5(l.getEntities());try{for(c.s();!(d=c.n()).done;)f=d.value,h=this.mesh.getComponentByEntity(f),h&&(v=this.hierarchy.getComponentByEntity(f),m=this.cullable.getComponentByEntity(f),g=h.geometry,x=this.transform.getComponentByEntity(f),g&&g.aabb&&x&&h.aabbDirty&&(_=x.worldTransform,w=g.aabb,S=w.center,C=w.halfExtents,O=wO(Pi(),S,_),T=GIe(_,e1()),N=EO(Pi(),C,T),h.aabb.update(O,N),h.aabbDirty=!1),m&&g&&(M=this.cullable.getComponentByEntity((v==null?void 0:v.parentID)||-1),m.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(h.aabb,(M==null?void 0:M.visibilityPlaneMask)||Pf.INDETERMINATE,this.planes||u.getFrustum().planes),m.visible=m.visibilityPlaneMask!==Pf.OUTSIDE))}catch(j){c.e(j)}finally{c.f()}}}catch(j){o.e(j)}finally{o.f()}case 2:case"end":return F.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(n,r,i){if(r===Pf.OUTSIDE||r===Pf.INSIDE)return r;for(var o=Pf.INSIDE,a=0,s=i.length;a<s;++a){var l=a<31?1<<a:0;if(!(a<31&&!(r&l))){var u=i[a],c=u.normal,d=u.distance;if(iw(c,n.getNegativeFarPoint(i[a]))+d>0)return Pf.OUTSIDE;iw(c,n.getPositiveFarPoint(i[a]))+d>0&&(o|=l)}}return o}}]),t}(),l5),r5=sr(Vh.prototype,"mesh",[ZD],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i5=sr(Vh.prototype,"cullable",[JD],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o5=sr(Vh.prototype,"geometry",[QD],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a5=sr(Vh.prototype,"hierarchy",[e5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s5=sr(Vh.prototype,"transform",[t5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vh))||n5),d5,f5,h5,p5,v5,m5,g5,y5,b5,x5,_5,S5,ou,w5,E5,C5,T5,R5,P5,A5,O5,N5,M5,I5;function qx(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=KIe(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=t[Symbol.iterator]()},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function KIe(t,e){if(t){if(typeof t=="string")return D5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D5(t,e)}}function D5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jm=(d5=_i(),f5=lr(Wt.MeshComponentManager),h5=lr(Wt.GeometryComponentManager),p5=lr(Wt.MaterialComponentManager),v5=lr(Wt.CullableComponentManager),m5=lr(Wt.TransformComponentManager),g5=lr(Wt.HierarchyComponentManager),y5=lr(Wt.Systems),b5=bc(Wt.FrameGraphSystem),x5=lr(Wt.RenderEngine),_5=lr(Wt.ResourcePool),d5(S5=(ou=(I5=M5=function(){function t(){var e=this;Vn(this,t),ar(this,"mesh",w5,this),ar(this,"geometry",E5,this),ar(this,"material",C5,this),ar(this,"cullable",T5,this),ar(this,"transform",R5,this),ar(this,"hierarchy",P5,this),ar(this,"frameGraphSystem",A5,this),ar(this,"engine",O5,this),ar(this,"resourcePool",N5,this),this.modelCache={},this.setup=function(n,r,i){var o=n.createRenderTarget(r,"color buffer",{width:1,height:1,usage:at.RENDER_ATTACHMENT|at.SAMPLED|at.COPY_SRC});i.data={output:r.write(n,o)}},this.execute=function(){var n=Ln(zn.mark(function r(i,o,a){var s,l,u,c,d,f;return zn.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:s=i.getResourceNode(o.data.output),l=e.resourcePool.getOrCreateResource(s.resource),u=qx(a),v.prev=3,u.s();case 5:if((c=u.n()).done){v.next=11;break}return d=c.value,v.next=9,e.initView(d);case 9:v.next=5;break;case 11:v.next=16;break;case 13:v.prev=13,v.t0=v.catch(3),u.e(v.t0);case 16:return v.prev=16,u.f(),v.finish(16);case 19:f=e.engine.getCanvas(),l.resize({width:f.width,height:f.height}),e.engine.setScissor({enable:!1}),e.engine.clear({framebuffer:l,color:a[0].getClearColor(),depth:1}),e.engine.useFramebuffer(l,function(){var m=qx(a),g;try{for(m.s();!(g=m.n()).done;){var x=g.value;e.renderView(x)}}catch(_){m.e(_)}finally{m.f()}});case 24:case"end":return v.stop()}},r,null,[[3,13,16,19]])}));return function(r,i,o){return n.apply(this,arguments)}}()}return dr(t,[{key:"renderView",value:function(n){var r=n.getScene(),i=n.getCamera(),o=i.getViewTransform(),a=pp(Es(),i.getPerspective(),o);i.getFrustum().extractFromVPMatrix(a);var s=n.getViewport(),l=s.x,u=s.y,c=s.width,d=s.height;this.engine.viewport({x:l,y:u,width:c,height:d});var f=qx(r.getEntities()),h;try{for(f.s();!(h=f.n()).done;){var v=h.value;this.renderMesh(v,{camera:i,view:n,viewMatrix:o})}}catch(m){f.e(m)}finally{f.f()}}},{key:"renderMesh",value:function(n,r){var i=r.camera,o=r.view,a=r.viewMatrix,s=this.mesh.getComponentByEntity(n);if(!(!s||!s.visible)){var l=s.material,u=s.geometry;if(!(!u||u.dirty||!l)){var c=this.transform.getComponentByEntity(n),d=pp(Es(),a,c.worldTransform),f=o.getViewport(),h=f.width,v=f.height;l.setUniform({projectionMatrix:i.getPerspective(),modelViewMatrix:d,modelMatrix:c.worldTransform,viewMatrix:a,cameraPosition:i.getPosition(),u_viewport:[h,v]}),s.model&&(s.model.draw({uniforms:l.uniforms.reduce(function(m,g){return m[g.name]=g.data,m},{})}),l.uniforms.forEach(function(m){m.dirty=!1}),l.dirty=!1)}}}},{key:"initMesh",value:function(){var e=Ln(zn.mark(function r(i,o){var a,s,l,u,c,d,f,h;return zn.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(a=this.mesh.getComponentByEntity(i),a){m.next=3;break}return m.abrupt("return");case 3:if(s=a.material,l=a.geometry,!(!l||l.dirty||!s)){m.next=7;break}return m.abrupt("return");case 7:if(a.model){m.next=24;break}if(u="m-".concat(s.entity,"-g-").concat(l.entity),!this.modelCache[u]){m.next=12;break}return a.model=this.modelCache[u],m.abrupt("return");case 12:return s.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),c=this.engine,d=c.createModel,f=c.createAttribute,h={vs:s.vertexShaderGLSL,fs:s.fragmentShaderGLSL,defines:s.defines,attributes:l.attributes.reduce(function(g,x){return x.data&&x.buffer&&(g[x.name]=f({buffer:x.buffer,attributes:x.attributes,arrayStride:x.arrayStride,stepMode:x.stepMode,divisor:x.stepMode==="vertex"?0:1})),g},{}),uniforms:s.uniforms.reduce(function(g,x){return g[x.name]=x.data,g},{}),scissor:{enable:!0,box:function(){return o.getViewport()}}},s.cull&&(h.cull=s.cull),s.depth&&(h.depth=s.depth),s.blend&&(h.blend=s.blend),l.indicesBuffer&&(h.elements=l.indicesBuffer),l.maxInstancedCount&&(h.instances=l.maxInstancedCount,h.count=l.vertexCount||3),m.next=22,d(h);case 22:a.model=m.sent,this.modelCache[u]=a.model;case 24:case"end":return m.stop()}},r,this)}));function n(r,i){return e.apply(this,arguments)}return n}()},{key:"initView",value:function(){var e=Ln(zn.mark(function r(i){var o,a,s,l;return zn.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o=i.getScene(),a=qx(o.getEntities()),c.prev=2,a.s();case 4:if((s=a.n()).done){c.next=10;break}return l=s.value,c.next=8,this.initMesh(l,i);case 8:c.next=4;break;case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(2),a.e(c.t0);case 15:return c.prev=15,a.f(),c.finish(15);case 18:case"end":return c.stop()}},r,this,[[2,12,15,18]])}));function n(r){return e.apply(this,arguments)}return n}()}]),t}(),M5.IDENTIFIER="Render Pass",I5),w5=sr(ou.prototype,"mesh",[f5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E5=sr(ou.prototype,"geometry",[h5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C5=sr(ou.prototype,"material",[p5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T5=sr(ou.prototype,"cullable",[v5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R5=sr(ou.prototype,"transform",[m5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P5=sr(ou.prototype,"hierarchy",[g5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A5=sr(ou.prototype,"frameGraphSystem",[y5,b5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O5=sr(ou.prototype,"engine",[x5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N5=sr(ou.prototype,"resourcePool",[_5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ou))||S5),L5,k5,$5,F5,j5,B5,Xv,z5,H5,U5,G5,W5,V5;function Q2(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=YIe(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=t[Symbol.iterator]()},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function YIe(t,e){if(t){if(typeof t=="string")return X5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X5(t,e)}}function X5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eT={NONE:0,ENCODE:1,HIGHLIGHT:2},vP=(L5=_i(),k5=lr(Wt.RenderEngine),$5=lr(Wt.ResourcePool),F5=lr(Wt.RenderPassFactory),j5=lr(Wt.MeshComponentManager),L5(B5=(Xv=(V5=W5=function(){function t(){var e=this;Vn(this,t),ar(this,"engine",z5,this),ar(this,"resourcePool",H5,this),ar(this,"renderPassFactory",U5,this),ar(this,"mesh",G5,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(n,r,i){var o=n.createRenderTarget(r,"picking fbo",{width:1,height:1});i.data={output:r.write(n,o)},r.hasSideEffect=!0},this.execute=function(){var n=Ln(zn.mark(function r(i,o,a){var s,l,u;return zn.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(e.views=a,!e.alreadyInRendering){d.next=3;break}return d.abrupt("return");case 3:s=Q2(a);try{for(u=function(){var h=l.value,v=h.getViewport(),m=v.width,g=v.height;e.alreadyInRendering=!0;var x=i.getResourceNode(o.data.output);e.pickingFBO=e.resourcePool.getOrCreateResource(x.resource),e.pickingFBO.resize({width:m,height:g}),e.engine.useFramebuffer(e.pickingFBO,function(){e.engine.clear({framebuffer:e.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var _=e.renderPassFactory(Jm.IDENTIFIER),w=[],S=h.getScene(),C=Q2(S.getEntities()),O;try{for(C.s();!(O=C.n()).done;){var T=O.value,N=e.mesh.getComponentByEntity(T),M=N.material;M.setUniform("u_PickingStage",eT.ENCODE),w.push(N)}}catch(D){C.e(D)}finally{C.f()}_.renderView(h),w.forEach(function(D){var F=D.material;F.setUniform("u_PickingStage",eT.HIGHLIGHT)}),e.alreadyInRendering=!1})},s.s();!(l=s.n()).done;)u()}catch(f){s.e(f)}finally{s.f()}case 5:case"end":return d.stop()}},r)}));return function(r,i,o){return n.apply(this,arguments)}}(),this.pick=function(n,r){var i=n.x,o=n.y,a=e.engine,s=a.readPixels,l=a.useFramebuffer,u=r.getViewport(),c=u.width,d=u.height,f=i*window.devicePixelRatio,h=o*window.devicePixelRatio;if(!(f>c||f<0||h>d||h<0)){var v,m;return l(e.pickingFBO,function(){v=s({x:Math.round(f),y:Math.round(d-(o+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:e.pickingFBO}),(v[0]!==0||v[1]!==0||v[2]!==0)&&(m=WIe(v),e.highlightEnabled&&e.highlightPickedFeature(v,r))}),m}}}return dr(t,[{key:"enableHighlight",value:function(n){this.highlightEnabled=n}},{key:"setHighlightColor",value:function(n){this.highlightColor=n}},{key:"highlightPickedFeature",value:function(n,r){if(n){var i=Q2(r.getScene().getEntities()),o;try{for(i.s();!(o=i.n()).done;){var a=o.value,s=this.mesh.getComponentByEntity(a),l=s.material;l.setUniform("u_PickingStage",eT.HIGHLIGHT),l.setUniform("u_PickingColor",[n[0],n[1],n[2]]),l.setUniform("u_HighlightColor",this.highlightColor)}}catch(u){i.e(u)}finally{i.f()}}}}]),t}(),W5.IDENTIFIER="PixelPicking Pass",V5),z5=sr(Xv.prototype,"engine",[k5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H5=sr(Xv.prototype,"resourcePool",[$5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U5=sr(Xv.prototype,"renderPassFactory",[F5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G5=sr(Xv.prototype,"mesh",[j5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xv))||B5),K5,Y5,q5,Z5,Zx,J5,Q5,e6,t6,qIe=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,ZIe=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,JIe=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,QIe=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,ow=(K5=_i(),Y5=lr(Wt.RenderEngine),q5=lr(Wt.ResourcePool),K5(Z5=(Zx=(t6=e6=function t(){var e=this;Vn(this,t),ar(this,"engine",J5,this),ar(this,"resourcePool",Q5,this),this.model=void 0,this.setup=function(n,r,i){var o=n.getPass(Jm.IDENTIFIER);if(o){var a=n.createRenderTarget(r,"render to screen",{width:1,height:1});i.data={input:r.read(o.data.output),output:r.write(n,a)}}},this.execute=function(){var n=Ln(zn.mark(function r(i,o){var a,s,l,u,c,d,f;return zn.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(a=e.engine,s=a.createModel,l=a.createAttribute,u=a.createBuffer,e.model){v.next=6;break}return v.next=4,s({vs:e.engine.supportWebGPU?QIe:ZIe,fs:e.engine.supportWebGPU?JIe:qIe,attributes:{a_Position:l({buffer:u({data:[-4,-4,4,-4,0,4],type:at.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:c=v.sent,e.model=c;case 6:d=i.getResourceNode(o.data.input),f=e.resourcePool.getOrCreateResource(d.resource),e.engine.useFramebuffer(null,function(){e.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),e.model.draw({uniforms:{u_Texture:f}})});case 9:case"end":return v.stop()}},r)}));return function(r,i){return n.apply(this,arguments)}}(),this.tearDown=function(){e.model=void 0}},e6.IDENTIFIER="Copy Pass",t6),J5=sr(Zx.prototype,"engine",[Y5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q5=sr(Zx.prototype,"resourcePool",[q5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zx))||Z5),n6,r6,i6,o6,a6,s6,l6,Kv,u6,c6,d6,f6,h6,eDe=(n6=_i(),r6=lr(Wt.Systems),i6=bc(Wt.FrameGraphSystem),o6=lr(Wt.RenderPassFactory),a6=lr(Wt.ConfigService),s6=lr(Wt.ResourcePool),n6(l6=(Kv=(h6=function(){function t(){Vn(this,t),ar(this,"frameGraphSystem",u6,this),ar(this,"renderPassFactory",c6,this),ar(this,"configService",d6,this),ar(this,"resourcePool",f6,this)}return dr(t,[{key:"execute",value:function(){var e=Ln(zn.mark(function r(i){var o,a,s,l,u,c,d,f;return zn.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:o=this.renderPassFactory(Jm.IDENTIFIER),a=o.setup,s=o.execute,this.frameGraphSystem.addPass(Jm.IDENTIFIER,a,s),l=this.renderPassFactory(ow.IDENTIFIER),u=l.setup,c=l.execute,d=l.tearDown,f=this.frameGraphSystem.addPass(ow.IDENTIFIER,u,c,d),this.frameGraphSystem.present(f.data.output);case 5:case"end":return v.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(n,r){var i=this.renderPassFactory(vP.IDENTIFIER);return i.pick(n,r)}}]),t}(),h6),u6=sr(Kv.prototype,"frameGraphSystem",[r6,i6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c6=sr(Kv.prototype,"renderPassFactory",[o6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d6=sr(Kv.prototype,"configService",[a6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f6=sr(Kv.prototype,"resourcePool",[s6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kv))||l6);function tDe(t){var e=nDe();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function nDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var rDe=function(t){ia(n,t);var e=tDe(n);function n(r){var i;return Vn(this,n),i=e.call(this,r),i.parentID=void 0,Object.assign(Oi(i),r),i}return n}(Gp),p6,v6,m6,g6,y6,z0,b6,x6,_6,S6,iDe=(p6=_i(),v6=lr(Wt.HierarchyComponentManager),m6=lr(Wt.TransformComponentManager),g6=lr(Wt.MeshComponentManager),p6(y6=(z0=(S6=function(){function t(){Vn(this,t),ar(this,"hierarchy",b6,this),ar(this,"transform",x6,this),ar(this,"mesh",_6,this)}return dr(t,[{key:"execute",value:function(){var e=Ln(zn.mark(function r(){return zn.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return o.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var n=this;this.transform.forEach(function(r,i){(i.isDirty()||i.isLocalDirty())&&(n.setMeshAABBDirty(n.mesh.getComponentByEntity(r)),i.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var n=this;this.hierarchy.forEach(function(r,i){var o=n.transform.getComponentByEntity(r),a=n.transform.getComponentByEntity(i.parentID);o!==null&&a!==null&&o.updateTransformWithParent(a)})}},{key:"attach",value:function(n,r,i){this.hierarchy.contains(n)&&this.detach(n),this.hierarchy.create(n,{parentID:r});var o=this.mesh.getComponentByEntity(r);if(this.setMeshAABBDirty(o),o&&o.children.indexOf(n)===-1&&o.children.push(n),this.hierarchy.getCount()>1)for(var a=this.hierarchy.getCount()-1;a>0;--a)for(var s=this.hierarchy.getEntity(a),l=0;l<a;++l){var u=this.hierarchy.getComponent(l);if(u.parentID===s){this.hierarchy.moveItem(a,l),++a;break}}this.hierarchy.getComponentByEntity(n);var c=this.transform.getComponentByEntity(r);c===null&&(c=this.transform.create(r));var d=this.transform.getComponentByEntity(n);d===null&&(d=this.transform.create(n),c=this.transform.getComponentByEntity(r)),d.parent=c,!i&&c&&(d.matrixTransform(rw(Es(),c.worldTransform)),d.updateTransform()),c&&d.updateTransformWithParent(c)}},{key:"detach",value:function(n){var r=this.hierarchy.getComponentByEntity(n);if(r!==null){var i=this.transform.getComponentByEntity(n);i!==null&&(i.parent=null,i.applyTransform()),this.hierarchy.removeKeepSorted(n);var o=this.mesh.getComponentByEntity(r.parentID);if(o){var a=o.children.indexOf(n);o.children.splice(a,1)}this.setMeshAABBDirty(o)}}},{key:"detachChildren",value:function(n){var r=this.mesh.getComponentByEntity(n);r&&(r.children=[]);for(var i=0;i<this.hierarchy.getCount();){var o;if(((o=this.hierarchy.getComponent(i))===null||o===void 0?void 0:o.parentID)===n){var a=this.hierarchy.getEntity(i);this.detach(a)}else++i}}},{key:"setMeshAABBDirty",value:function(n){n&&(n.aabbDirty=!0)}}]),t}(),S6),b6=sr(z0.prototype,"hierarchy",[v6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x6=sr(z0.prototype,"transform",[m6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_6=sr(z0.prototype,"mesh",[g6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z0))||y6);function oDe(t){var e=aDe();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function aDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var cU=function(t){ia(n,t);var e=oDe(n);function n(r){var i;return Vn(this,n),i=e.call(this,r),i.dirtyFlag=void 0,i.localDirtyFlag=void 0,i.parent=null,i.localPosition=Br(0,0,0),i.localRotation=J2(0,0,0,1),i.localScale=Br(1,1,1),i.localTransform=Es(),i.position=Br(0,0,0),i.rotation=J2(0,0,0,1),i.scaling=Br(1,1,1),i.worldTransform=Es(),i.matrixTransform=function(){var o=Es();return function(a){pp(o,i.getLocalTransform(),a),im(i.localScale,o),$0(i.localPosition,o),F0(i.localRotation,o)}}(),i.rotateRollPitchYaw=function(){var o=ra(),a=ra(),s=ra();return function(l,u,c){i.setDirty(),Z2(o,l,0,0),Z2(a,0,u,0),Z2(s,0,0,c),El(i.localRotation,o,i.localRotation),El(i.localRotation,i.localRotation,a),El(i.localRotation,s,i.localRotation),fm(i.localRotation,i.localRotation)}}(),i.lerp=function(){var o=Pi(),a=ra(),s=Pi(),l=Pi(),u=ra(),c=Pi();return function(d,f,h){i.setDirty(),im(o,d.worldTransform),$0(s,d.worldTransform),F0(a,d.worldTransform),im(l,f.worldTransform),$0(c,f.worldTransform),F0(u,f.worldTransform),Pp(i.localScale,o,l,h),M_(i.localRotation,a,u,h),Pp(i.localPosition,s,c,h)}}(),i.translate=function(){var o=Pi();return function(a){return Cd(o,i.getPosition(),a),i.setPosition(o),i.setDirty(!0),Oi(i)}}(),i.translateLocal=function(){return function(o){return X4e(o,o,i.localRotation),Cd(i.localPosition,i.localPosition,o),i.setLocalDirty(!0),Oi(i)}}(),i.setPosition=function(){var o=Es();return function(a){return i.position=a,i.setLocalDirty(!0),i.parent===null?Ca(i.localPosition,a):(dP(o,i.parent.worldTransform),rw(o,o),wO(i.localPosition,a,o)),Oi(i)}}(),i.rotate=function(){var o=ra();return function(a){if(i.parent===null)El(i.localRotation,i.localRotation,a),fm(i.localRotation,i.localRotation);else{var s=i.getRotation(),l=i.parent.getRotation();j0(o,l),TD(o,o),El(o,o,a),El(i.localRotation,a,s),fm(i.localRotation,i.localRotation)}return i.setLocalDirty(),Oi(i)}}(),i.rotateLocal=function(){return function(o){return El(i.localRotation,i.localRotation,o),fm(i.localRotation,i.localRotation),i.setLocalDirty(!0),Oi(i)}}(),i.setRotation=function(){var o=ra();return function(a){return i.parent===null?j0(i.localRotation,a):(j0(o,i.parent.getRotation()),TD(o,o),j0(i.localRotation,o),Z4e(i.localRotation,i.localRotation,a)),i.setLocalDirty(!0),Oi(i)}}(),i}return dr(n,[{key:"setLocalPosition",value:function(i){Ca(this.localPosition,i),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(i){Ca(this.localScale,i),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(i){return j0(this.localRotation,i),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i?(this.localDirtyFlag|=n.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(dP(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(i){pp(this.worldTransform,i.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),im(this.localScale,this.worldTransform),$0(this.localPosition,this.worldTransform),F0(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=Br(0,0,0),this.localRotation=J2(0,0,0,1),this.localScale=Br(1,1,1)}},{key:"scaleLocal",value:function(i){return this.setLocalDirty(),W4e(this.localScale,this.localScale,i),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(j4e(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return $0(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return F0(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return im(this.scaling,this.worldTransform),this.scaling}}]),n}(Gp);cU.DIRTY=1;var w6,E6,C6,tT,T6,R6,sDe=(w6=_i(),E6=lr(Wt.RenderEngine),w6(C6=(tT=(R6=function(){function t(){Vn(this,t),ar(this,"engine",T6,this),this.resourcePool={}}return dr(t,[{key:"getOrCreateResource",value:function(n){if(!this.resourcePool[n.name]){var r=n.descriptor,i=r.width,o=r.height,a=r.usage;this.resourcePool[n.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:i,height:o,wrapS:at.CLAMP_TO_EDGE,wrapT:at.CLAMP_TO_EDGE,usage:a})})}return this.resourcePool[n.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),t}(),R6),T6=sr(tT.prototype,"engine",[E6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tT))||C6);function lDe(t){var e=uDe();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function uDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var cDe=function(t){ia(n,t);var e=lDe(n);function n(r){var i;return Vn(this,n),i=e.call(this,r),i.name=void 0,i.name=r.name||"",i}return n}(Gp),P6,A6,O6,dDe=(P6=_i(),P6(A6=(O6=function(){function t(){Vn(this,t),this.config=void 0}return dr(t,[{key:"get",value:function(){return this.config}},{key:"set",value:function(n){this.config=n}}]),t}(),O6))||A6),N6,M6,I6;(function(t){t.PANSTART="PANSTART",t.PANEND="PANEND",t.PANMOVE="PANMOVE",t.PINCH="PINCH",t.KEYDOWN="KEYDOWN",t.KEYUP="KEYUP",t.HOVER="HOVER"})(I6||(I6={}));var fDe=(N6=_i(),N6(M6=function(){function t(){Vn(this,t)}return dr(t,[{key:"listen",value:function(n){}},{key:"on",value:function(n,r){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),t}())||M6);function hDe(t){var e=0;switch(t){case"vec2":case"ivec2":e=2;break;case"vec3":case"ivec3":e=3;break;case"vec4":case"ivec4":case"mat2":e=4;break;case"mat3":e=9;break;case"mat4":e=16;break}return e}var pDe=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function D6(t){var e={};return t=t.replace(pDe,function(n,r,i){var o=i.split(":"),a=o[0].trim(),s="";switch(o.length>1&&(s=o[1].trim()),r){case"bool":s=s==="true";break;case"float":case"int":s=Number(s);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":s?s=s.replace("[","").replace("]","").split(",").reduce(function(l,u){return l.push(Number(u.trim())),l},[]):s=new Array(hDe(r)).fill(0);break}return e[a]=s,"uniform ".concat(r," ").concat(a,`;
`)}),{content:t,uniforms:e}}function vDe(t){return t.filter(function(e,n,r){return r.indexOf(e)===n})}var L6,k6,$6;function F6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var mDe=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,gDe=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,yDe=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,bDe=/precision\s+(high|low|medium)p\s+float/,xDe=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,_De=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,SDe=(L6=_i(),L6(k6=($6=function(){function t(){Vn(this,t),this.moduleCache={},this.rawContentCache={}}return dr(t,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:gDe,fs:mDe}),this.registerModule("sdf2d",{vs:"",fs:yDe})}},{key:"registerModule",value:function(n,r){if(!this.rawContentCache[n]){var i=r.vs,o=i===void 0?"":i,a=r.fs,s=a===void 0?"":a,l=r.uniforms,u=D6(o),c=u.content,d=u.uniforms,f=D6(s),h=f.content,v=f.uniforms;this.rawContentCache[n]={fs:h,uniforms:H0(H0(H0({},d),v),l),vs:c}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(n){var r=this;if(this.moduleCache[n])return this.moduleCache[n];var i=this.rawContentCache[n].vs||"",o=this.rawContentCache[n].fs||"",a=this.processModule(i,[],"vs"),s=a.content,l=a.includeList,u=this.processModule(o,[],"fs"),c=u.content,d=u.includeList,f=c,h=vDe(l.concat(d).concat(n)).reduce(function(v,m){return H0(H0({},v),r.rawContentCache[m].uniforms)},{});return bDe.test(c)||(f=xDe+c),this.moduleCache[n]={fs:f.trim(),uniforms:h,vs:s.trim()},this.moduleCache[n]}},{key:"processModule",value:function(n,r,i){var o=this,a=n.replace(_De,function(s,l){var u=l.split(" "),c=u[0].replace(/"/g,"");if(r.indexOf(c)>-1)return"";var d=o.rawContentCache[c][i];r.push(c);var f=o.processModule(d||"",r,i),h=f.content;return h});return{content:a,includeList:r}}}]),t}(),$6))||k6),Hd=new aU;Hd.bind(Wt.ShaderModuleService).to(SDe).inSingletonScope();Hd.bind(Wt.NameComponentManager).toConstantValue(new Wp(cDe));Hd.bind(Wt.HierarchyComponentManager).toConstantValue(new Wp(rDe));Hd.bind(Wt.TransformComponentManager).toConstantValue(new Wp(cU));Hd.bind(Wt.MeshComponentManager).toConstantValue(new Wp(zIe));Hd.bind(Wt.CullableComponentManager).toConstantValue(new Wp(FIe));Hd.bind(Wt.GeometryComponentManager).toConstantValue(new Wp(OIe));Hd.bind(Wt.MaterialComponentManager).toConstantValue(new Wp(DIe));function wDe(){var t=new aU;return t.parent=Hd,t.bind(Wt.Systems).to(iDe).inSingletonScope().whenTargetNamed(Wt.SceneGraphSystem),t.bind(Wt.Systems).to(I4e).inSingletonScope().whenTargetNamed(Wt.FrameGraphSystem),t.bind(Wt.Systems).to(XIe).inSingletonScope().whenTargetNamed(Wt.MeshSystem),t.bind(Wt.Systems).to(NIe).inSingletonScope().whenTargetNamed(Wt.GeometrySystem),t.bind(Wt.Systems).to(LIe).inSingletonScope().whenTargetNamed(Wt.MaterialSystem),t.bind(Wt.Systems).to(eDe).inSingletonScope().whenTargetNamed(Wt.RendererSystem),t.bind(Wt.ResourcePool).to(sDe).inSingletonScope(),t.bind(Wt.ConfigService).to(dDe).inSingletonScope(),t.bind(Wt.InteractorService).to(fDe).inSingletonScope(),t.bind(Wt.RenderPass).to(Jm).inSingletonScope().whenTargetNamed(Jm.IDENTIFIER),t.bind(Wt.RenderPass).to(ow).inSingletonScope().whenTargetNamed(ow.IDENTIFIER),t.bind(Wt.RenderPass).to(vP).inSingletonScope().whenTargetNamed(vP.IDENTIFIER),t.bind(Wt.RenderPassFactory).toFactory(function(e){return function(n){return e.container.getNamed(Wt.RenderPass,n)}}),t}function TO(t){for(var e=new CO,n=Br(t[0],t[1],t[2]),r=Br(t[0],t[1],t[2]),i=3;i<t.length;){var o=t[i++],a=t[i++],s=t[i++];o<n[0]&&(n[0]=o),a<n[1]&&(n[1]=a),s<n[2]&&(n[2]=s),o>r[0]&&(r[0]=o),a>r[1]&&(r[1]=a),s>r[2]&&(r[2]=s)}return e.setMinMax(n,r),e}var Ss=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);Pi();Pi();Pi();Pi();Pi();Pi();var j6;(function(t){t.Normal="normal",t.PostProcessing="post-processing"})(j6||(j6={}));var Ap;(function(t){t.Void="Void",t.Boolean="Boolean",t.Float="Float",t.Uint32="Uint32",t.Int32="Int32",t.Vector="Vector",t.Vector2Float="vec2<f32>",t.Vector3Float="vec3<f32>",t.Vector4Float="vec4<f32>",t.Vector2Boolean="vec2<bool>",t.Vector3Boolean="vec3<bool>",t.Vector4Boolean="vec4<bool>",t.Vector2Uint="vec2<u32>",t.Vector3Uint="vec3<u32>",t.Vector4Uint="vec4<u32>",t.Vector2Int="vec2<i32>",t.Vector3Int="vec3<i32>",t.Vector4Int="vec4<i32>",t.Matrix="Matrix",t.Matrix3x3Float="mat3x3<f32>",t.Matrix4x4Float="mat4x4<i32>",t.Struct="Struct",t.FloatArray="Float[]",t.Vector4FloatArray="vec4<f32>[]"})(Ap||(Ap={}));var B6;(function(t){t.Program="Program",t.Identifier="Identifier",t.VariableDeclaration="VariableDeclaration",t.BlockStatement="BlockStatement",t.ReturnStatement="ReturnStatement",t.FunctionDeclaration="FunctionDeclaration",t.VariableDeclarator="VariableDeclarator",t.AssignmentExpression="AssignmentExpression",t.LogicalExpression="LogicalExpression",t.BinaryExpression="BinaryExpression",t.ArrayExpression="ArrayExpression",t.UnaryExpression="UnaryExpression",t.UpdateExpression="UpdateExpression",t.FunctionExpression="FunctionExpression",t.MemberExpression="MemberExpression",t.ConditionalExpression="ConditionalExpression",t.ExpressionStatement="ExpressionStatement",t.CallExpression="CallExpression",t.NumThreadStatement="NumThreadStatement",t.StorageStatement="StorageStatement",t.DoWhileStatement="DoWhileStatement",t.WhileStatement="WhileStatement",t.ForStatement="ForStatement",t.BreakStatement="BreakStatement",t.ContinueStatement="ContinueStatement",t.IfStatement="IfStatement",t.ImportedFunctionStatement="ImportedFunctionStatement"})(B6||(B6={}));var eh;(function(t){t.Input="Input",t.Output="Output",t.Uniform="Uniform",t.Workgroup="Workgroup",t.UniformConstant="UniformConstant",t.Image="Image",t.StorageBuffer="StorageBuffer",t.Private="Private",t.Function="Function"})(eh||(eh={}));var Iy;(function(t){t.GLSL100="GLSL100",t.GLSL450="GLSL450",t.WGSL="WGSL"})(Iy||(Iy={}));var EDe="__DefineValuePlaceholder__";function RO(t){return typeof t=="number"}function ld(t){return t===void 0?0:t>360||t<-360?t%360:t}function Xh(t,e,n){return RO(t)?Br(t,e,n):t.length===3?gd(t):Br(t[0],t[1],t[2])}var z6=function(){function t(e,n){Vn(this,t),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=e,this.matrix=k4e(n.matrix),this.right=gd(n.right),this.up=gd(n.up),this.forward=gd(n.forward),this.position=gd(n.position),this.focalPoint=gd(n.focalPoint),this.distanceVector=gd(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return dr(t,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(n){n.matrix=dP(n.matrix,this.matrix),n.right=Ca(n.right,this.right),n.up=Ca(n.up,this.up),n.forward=Ca(n.forward,this.forward),n.position=Ca(n.position,this.position),n.focalPoint=Ca(n.focalPoint,this.focalPoint),n.distanceVector=Ca(n.distanceVector,this.distanceVector),n.azimuth=this.azimuth,n.elevation=this.elevation,n.roll=this.roll,n.relAzimuth=this.relAzimuth,n.relElevation=this.relElevation,n.relRoll=this.relRoll,n.dollyingStep=this.dollyingStep,n.distance=this.distance}}]),t}(),H6,U6,G6,nT,W6,V6,X6,Hi;(function(t){t.ORBITING="ORBITING",t.EXPLORING="EXPLORING",t.TRACKING="TRACKING"})(Hi||(Hi={}));var aw;(function(t){t.DEFAULT="DEFAULT",t.ROTATIONAL="ROTATIONAL",t.TRANSLATIONAL="TRANSLATIONAL",t.CINEMATIC="CINEMATIC"})(aw||(aw={}));var op;(function(t){t.ORTHOGRAPHIC="ORTHOGRAPHIC",t.PERSPECTIVE="PERSPECTIVE"})(op||(op={}));var ud=Math.PI/180,bf=180/Math.PI,K6=(H6=_i(),U6=lr(Wt.InteractorService),H6(G6=(nT=(X6=V6=function(){function t(){Vn(this,t),this.matrix=Es(),this.right=Br(1,0,0),this.up=Br(0,1,0),this.forward=Br(0,0,1),this.position=Br(0,0,1),this.focalPoint=Br(0,0,0),this.distanceVector=Br(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,ar(this,"interactor",W6,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Es(),this.view=void 0,this.following=void 0,this.type=Hi.EXPLORING,this.trackingMode=aw.DEFAULT,this.projectionMode=op.PERSPECTIVE,this.frustum=new UIe,this.landmarks=[],this.landmarkAnimationID=void 0}return dr(t,[{key:"clone",value:function(){var n=new t;return n.setType(this.type,void 0),n.interactor=this.interactor,n}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(n,r){return this.type=n,this.type===Hi.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Hi.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(n){return this.projectionMode=n,this}},{key:"setTrackingMode",value:function(n){if(this.type!==Hi.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=n,this}},{key:"setWorldRotation",value:function(n){this.rotateWorld=n,this._getAngles()}},{key:"getViewTransform",value:function(){return rw(Es(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(n){return this.matrix=n,this._update(),this}},{key:"setAspect",value:function(n){return this.setPerspective(this.near,this.far,this.fov,n),this}},{key:"setViewOffset",value:function(n,r,i,o,a,s){return this.aspect=n/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=o,this.view.width=a,this.view.height=s,this.projectionMode===op.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===op.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(n,r,i,o){return this.projectionMode=op.PERSPECTIVE,this.fov=i,this.near=n,this.far=r,this.aspect=o,z4e(this.perspective,this.fov*ud,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(n,r,i,o,a,s){this.projectionMode=op.ORTHOGRAPHIC,this.rright=r,this.left=n,this.top=i,this.bottom=o,this.near=a,this.far=s;var l=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),c=(this.rright+this.left)/2,d=(this.top+this.bottom)/2,f=c-l,h=c+l,v=d+u,m=d-u;if(this.view!==void 0&&this.view.enabled){var g=(this.rright-this.left)/this.view.fullWidth/this.zoom,x=(this.top-this.bottom)/this.view.fullHeight/this.zoom;f+=g*this.view.offsetX,h=f+g*this.view.width,v-=x*this.view.offsetY,m=v-x*this.view.height}return U4e(this.perspective,f,h,v,m,a,s),this}},{key:"setPosition",value:function(n,r,i){return this._setPosition(n,r,i),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(n,r,i){var o=Br(0,1,0);if(this.focalPoint=Xh(n,r,i),this.trackingMode===aw.CINEMATIC){var a=fP(Pi(),this.focalPoint,this.position);n=a[0],r=a[1],i=a[2];var s=N_(a),l=Math.asin(r/s)*bf,u=90+Math.atan2(i,n)*bf,c=Es();F4e(c,c,u*ud),$4e(c,c,l*ud),o=wO(Pi(),[0,1,0],c)}return rw(this.matrix,G4e(Es(),this.position,this.focalPoint,o)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(n){if(!(this.distance===n||n<0)){this.distance=n,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var r=Pi();n=this.distance;var i=this.forward,o=this.focalPoint;return r[0]=n*i[0]+o[0],r[1]=n*i[1]+o[1],r[2]=n*i[2]+o[2],this._setPosition(r),this}}},{key:"setMaxDistance",value:function(n){return this.maxDistance=n,this}},{key:"setMinDistance",value:function(n){return this.minDistance=n,this}},{key:"changeAzimuth",value:function(n){return this.setAzimuth(this.azimuth+n),this}},{key:"changeElevation",value:function(n){return this.setElevation(this.elevation+n),this}},{key:"changeRoll",value:function(n){return this.setRoll(this.roll+n),this}},{key:"setAzimuth",value:function(n){return this.azimuth=ld(n),this.computeMatrix(),this._getAxes(),this.type===Hi.ORBITING||this.type===Hi.EXPLORING?this._getPosition():this.type===Hi.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(n){return this.elevation=ld(n),this.computeMatrix(),this._getAxes(),this.type===Hi.ORBITING||this.type===Hi.EXPLORING?this._getPosition():this.type===Hi.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(n){return this.roll=ld(n),this.computeMatrix(),this._getAxes(),this.type===Hi.ORBITING||this.type===Hi.EXPLORING?this._getPosition():this.type===Hi.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(n,r,i){if(this.type===Hi.EXPLORING){n=ld(n),r=ld(r),i=ld(i);var o=qh(ra(),[1,0,0],(this.rotateWorld?1:-1)*r*ud),a=qh(ra(),[0,1,0],(this.rotateWorld?1:-1)*n*ud),s=qh(ra(),[0,0,1],i*ud),l=El(ra(),a,o);l=El(ra(),l,s);var u=ED(Es(),l);k0(this.matrix,this.matrix,[0,0,-this.distance]),pp(this.matrix,this.matrix,u),k0(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+r)>90)return;this.relElevation=ld(r),this.relAzimuth=ld(n),this.relRoll=ld(i),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===Hi.ORBITING||this.type===Hi.EXPLORING?this._getPosition():this.type===Hi.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(n,r){var i=Xh(n,r,0),o=gd(this.position);return Cd(o,o,Sb(Pi(),this.right,i[0])),Cd(o,o,Sb(Pi(),this.up,i[1])),this._setPosition(o),this}},{key:"dolly",value:function(n){var r=this.forward,i=gd(this.position),o=n*this.dollyingStep,a=this.distance+n*this.dollyingStep;return o=Math.max(Math.min(a,this.maxDistance),this.minDistance)-this.distance,i[0]+=o*r[0],i[1]+=o*r[1],i[2]+=o*r[2],this._setPosition(i),this.type===Hi.ORBITING||this.type===Hi.EXPLORING?this._getDistance():this.type===Hi.TRACKING&&Cd(this.focalPoint,i,this.distanceVector),this}},{key:"createLandmark",value:function(n,r){var i=this.clone();i.setPosition(r.position),i.setFocalPoint(r.focalPoint),r.roll!==void 0&&i.setRoll(r.roll);var o=new z6(n,i);return this.landmarks.push(o),o}},{key:"setLandmark",value:function(n){var r=new z6(n,this);return this.landmarks.push(r),this}},{key:"gotoLandmark",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,o=this.landmarks.find(function(d){return d.name===n});if(o){if(i===0){o.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var a=o.getPosition(),s=o.getFocalPoint(),l=o.getRoll(),u,c=function d(f){u===void 0&&(u=f);var h=f-u,v=(1-Math.cos(h/i*Math.PI))/2,m=Pi(),g=Pi(),x=0;Pp(m,r.focalPoint,s,v),Pp(g,r.position,a,v),x=r.roll*(1-v)+l*v,r.setFocalPoint(m),r.setPosition(g),r.setRoll(x),r.computeMatrix();var _=CD(m,s)+CD(g,a);if(!(_>.01)){r.setFocalPoint(m),r.setPosition(g),r.setRoll(x),r.computeMatrix(),r.interactor.connect();return}h<i&&(r.landmarkAnimationID=window.requestAnimationFrame(d))};window.requestAnimationFrame(c)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var n,r,i=qh(ra(),[0,0,1],this.roll*ud);sU(this.matrix),n=qh(ra(),[1,0,0],(this.rotateWorld&&this.type!==Hi.TRACKING||this.type===Hi.TRACKING?1:-1)*this.elevation*ud),r=qh(ra(),[0,1,0],(this.rotateWorld&&this.type!==Hi.TRACKING||this.type===Hi.TRACKING?1:-1)*this.azimuth*ud);var o=El(ra(),r,n);o=El(ra(),o,i);var a=ED(Es(),o);this.type===Hi.ORBITING||this.type===Hi.EXPLORING?(k0(this.matrix,this.matrix,this.focalPoint),pp(this.matrix,this.matrix,a),k0(this.matrix,this.matrix,[0,0,this.distance])):this.type===Hi.TRACKING&&(k0(this.matrix,this.matrix,this.position),pp(this.matrix,this.matrix,a))}},{key:"_setPosition",value:function(n,r,i){this.position=Xh(n,r,i);var o=this.matrix;o[12]=this.position[0],o[13]=this.position[1],o[14]=this.position[2],o[15]=1}},{key:"_getAxes",value:function(){Ca(this.right,Xh(dy(cy(),[1,0,0,0],this.matrix))),Ca(this.up,Xh(dy(cy(),[0,1,0,0],this.matrix))),Ca(this.forward,Xh(dy(cy(),[0,0,1,0],this.matrix))),My(this.right,this.right),My(this.up,this.up),My(this.forward,this.forward)}},{key:"_getAngles",value:function(){var n=this.distanceVector[0],r=this.distanceVector[1],i=this.distanceVector[2],o=N_(this.distanceVector);if(o===0){this.elevation=0,this.azimuth=0;return}this.type===Hi.TRACKING?(this.elevation=Math.asin(r/o)*bf,this.azimuth=Math.atan2(-n,-i)*bf):this.rotateWorld?(this.elevation=Math.asin(r/o)*bf,this.azimuth=Math.atan2(-n,-i)*bf):(this.elevation=-Math.asin(r/o)*bf,this.azimuth=-Math.atan2(-n,-i)*bf)}},{key:"_getPosition",value:function(){Ca(this.position,Xh(dy(cy(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){EO(this.distanceVector,[0,0,-this.distance],D4e(e1(),this.matrix)),Cd(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=fP(Pi(),this.focalPoint,this.position),this.distance=N_(this.distanceVector),this.dollyingStep=this.distance/100}}]),t}(),V6.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},X6),W6=sr(nT.prototype,"interactor",[U6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nT))||G6),Y6,q6,Z6,rT,J6,U0,Q6,Ff=(Y6=_i(),q6=lr(Wt.GeometryComponentManager),Y6(Z6=(rT=(Q6=U0=function(){function t(){Vn(this,t),this.config=void 0,ar(this,"geometry",J6,this),this.entity=void 0,this.component=void 0}return dr(t,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(n){this.config=n}},{key:"setEntity",value:function(n){this.entity=n,this.component=this.geometry.create(n),this.component.entity=n,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),t}(),U0.BOX="box",U0.SPHERE="sphere",U0.PLANE="plane",U0.MERGED="merged",Q6),J6=sr(rT.prototype,"geometry",[q6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rT))||Z6),yn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TextureCompressionBC="texture-compression-bc"}(t.ExtensionName||(t.ExtensionName={})),function(e){e.ClampToEdge="clamp-to-edge",e.Repeat="repeat",e.MirrorRepeat="mirror-repeat"}(t.AddressMode||(t.AddressMode={})),function(e){e.UniformBuffer="uniform-buffer",e.StorageBuffer="storage-buffer",e.ReadonlyStorageBuffer="readonly-storage-buffer",e.Sampler="sampler",e.ComparisonSampler="comparison-sampler",e.SampledTexture="sampled-texture",e.ReadonlyStorageTexture="readonly-storage-texture",e.WriteonlyStorageTexture="writeonly-storage-texture"}(t.BindingType||(t.BindingType={})),function(e){e.Zero="zero",e.One="one",e.SrcColor="src-color",e.OneMinusSrcColor="one-minus-src-color",e.SrcAlpha="src-alpha",e.OneMinusSrcAlpha="one-minus-src-alpha",e.DstColor="dst-color",e.OneMinusDstColor="one-minus-dst-color",e.DstAlpha="dst-alpha",e.OneMinusDstAlpha="one-minus-dst-alpha",e.SrcAlphaSaturated="src-alpha-saturated",e.BlendColor="blend-color",e.OneMinusBlendColor="one-minus-blend-color"}(t.BlendFactor||(t.BlendFactor={})),function(e){e.Add="add",e.Subtract="subtract",e.ReverseSubtract="reverse-subtract",e.Min="min",e.Max="max"}(t.BlendOperation||(t.BlendOperation={})),function(e){e.Never="never",e.Less="less",e.Equal="equal",e.LessEqual="less-equal",e.Greater="greater",e.NotEqual="not-equal",e.GreaterEqual="greater-equal",e.Always="always"}(t.CompareFunction||(t.CompareFunction={})),function(e){e.None="none",e.Front="front",e.Back="back"}(t.CullMode||(t.CullMode={})),function(e){e.Nearest="nearest",e.Linear="linear"}(t.FilterMode||(t.FilterMode={})),function(e){e.CCW="ccw",e.CW="cw"}(t.FrontFace||(t.FrontFace={})),function(e){e.Uint16="uint16",e.Uint32="uint32"}(t.IndexFormat||(t.IndexFormat={})),function(e){e.Vertex="vertex",e.Instance="instance"}(t.InputStepMode||(t.InputStepMode={})),function(e){e.Load="load"}(t.LoadOp||(t.LoadOp={})),function(e){e.PointList="point-list",e.LineList="line-list",e.LineStrip="line-strip",e.TriangleList="triangle-list",e.TriangleStrip="triangle-strip"}(t.PrimitiveTopology||(t.PrimitiveTopology={})),function(e){e.Keep="keep",e.Zero="zero",e.Replace="replace",e.Invert="invert",e.IncrementClamp="increment-clamp",e.DecrementClamp="decrement-clamp",e.IncrementWrap="increment-wrap",e.DecrementWrap="decrement-wrap"}(t.StencilOperation||(t.StencilOperation={})),function(e){e.Store="store",e.Clear="clear"}(t.StoreOp||(t.StoreOp={})),function(e){e.E1d="1d",e.E2d="2d",e.E3d="3d"}(t.TextureDimension||(t.TextureDimension={})),function(e){e.R8Unorm="r8unorm",e.R8Snorm="r8snorm",e.R8Uint="r8uint",e.R8Sint="r8sint",e.R16Uint="r16uint",e.R16Sint="r16sint",e.R16Float="r16float",e.RG8Unorm="rg8unorm",e.RG8Snorm="rg8snorm",e.RG8Uint="rg8uint",e.RG8Sint="rg8sint",e.R32Uint="r32uint",e.R32Sint="r32sint",e.R32Float="r32float",e.RG16Uint="rg16uint",e.RG16Sint="rg16sint",e.RG16Float="rg16float",e.RGBA8Unorm="rgba8unorm",e.RGBA8UnormSRGB="rgba8unorm-srgb",e.RGBA8Snorm="rgba8snorm",e.RGBA8Uint="rgba8uint",e.RGBA8Sint="rgba8sint",e.BGRA8Unorm="bgra8unorm",e.BGRA8UnormSRGB="bgra8unorm-srgb",e.RGB10A2Unorm="rgb10a2unorm",e.RG11B10Float="rg11b10float",e.RG32Uint="rg32uint",e.RG32Sint="rg32sint",e.RG32Float="rg32float",e.RGBA16Uint="rgba16uint",e.RGBA16Sint="rgba16sint",e.RGBA16Float="rgba16float",e.RGBA32Uint="rgba32uint",e.RGBA32Sint="rgba32sint",e.RGBA32Float="rgba32float",e.Depth32Float="depth32float",e.Depth24Plus="depth24plus",e.Depth24PlusStencil8="depth24plus-stencil8"}(t.TextureFormat||(t.TextureFormat={})),function(e){e.Float="float",e.Sint="sint",e.Uint="uint"}(t.TextureComponentType||(t.TextureComponentType={})),function(e){e.E1d="1d",e.E2d="2d",e.E2dArray="2d-array",e.Cube="cube",e.CubeArray="cube-array",e.E3d="3d"}(t.TextureViewDimension||(t.TextureViewDimension={})),function(e){e.Uchar2="uchar2",e.Uchar4="uchar4",e.Char2="char2",e.Char4="char4",e.Uchar2Norm="uchar2norm",e.Uchar4Norm="uchar4norm",e.Char2Norm="char2norm",e.Char4Norm="char4norm",e.Ushort2="ushort2",e.Ushort4="ushort4",e.Short2="short2",e.Short4="short4",e.Ushort2Norm="ushort2norm",e.Ushort4Norm="ushort4norm",e.Short2Norm="short2norm",e.Short4Norm="short4norm",e.Half2="half2",e.Half4="half4",e.Float="float",e.Float2="float2",e.Float3="float3",e.Float4="float4",e.Uint="uint",e.Uint2="uint2",e.Uint3="uint3",e.Uint4="uint4",e.Int="int",e.Int2="int2",e.Int3="int3",e.Int4="int4"}(t.VertexFormat||(t.VertexFormat={})),function(e){e.All="all",e.StencilOnly="stencil-only",e.DepthOnly="depth-only"}(t.TextureAspect||(t.TextureAspect={})),function(e){e.Error="error",e.Warning="warning",e.Info="info"}(t.CompilationMessageType||(t.CompilationMessageType={})),function(e){e.Occlusion="occlusion"}(t.QueryType||(t.QueryType={})),function(e){e[e.MapRead=1]="MapRead",e[e.MapWrite=2]="MapWrite",e[e.CopySrc=4]="CopySrc",e[e.CopyDst=8]="CopyDst",e[e.Index=16]="Index",e[e.Vertex=32]="Vertex",e[e.Uniform=64]="Uniform",e[e.Storage=128]="Storage",e[e.Indirect=256]="Indirect",e[e.QueryResolve=512]="QueryResolve"}(t.BufferUsage||(t.BufferUsage={})),function(e){e[e.Red=1]="Red",e[e.Green=2]="Green",e[e.Blue=4]="Blue",e[e.Alpha=8]="Alpha",e[e.All=15]="All"}(t.ColorWrite||(t.ColorWrite={})),function(e){e[e.Vertex=1]="Vertex",e[e.Fragment=2]="Fragment",e[e.Compute=4]="Compute"}(t.ShaderStage||(t.ShaderStage={})),function(e){e[e.CopySrc=1]="CopySrc",e[e.CopyDst=2]="CopyDst",e[e.Sampled=4]="Sampled",e[e.Storage=8]="Storage",e[e.OutputAttachment=16]="OutputAttachment"}(t.TextureUsage||(t.TextureUsage={})),function(e){e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.MapMode||(t.MapMode={}))})(yn);function dU(){if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var CDe={}.toString,TDe=function(e,n){return CDe.call(e)==="[object "+n+"]"};const RDe=function(t){return Array.isArray?Array.isArray(t):TDe(t,"Array")};var PDe=9007199254740991,ADe="[object Arguments]",ODe="[object Array]",NDe="[object Boolean]",MDe="[object Date]",IDe="[object Error]",DDe="[object Function]",LDe="[object Map]",kDe="[object Number]",$De="[object Object]",FDe="[object RegExp]",jDe="[object Set]",BDe="[object String]",zDe="[object WeakMap]",HDe="[object ArrayBuffer]",UDe="[object DataView]",GDe="[object Float32Array]",WDe="[object Float64Array]",VDe="[object Int8Array]",XDe="[object Int16Array]",KDe="[object Int32Array]",YDe="[object Uint8Array]",qDe="[object Uint8ClampedArray]",ZDe="[object Uint16Array]",JDe="[object Uint32Array]",po={};po[GDe]=po[WDe]=po[VDe]=po[XDe]=po[KDe]=po[YDe]=po[qDe]=po[ZDe]=po[JDe]=!0;po[ADe]=po[ODe]=po[HDe]=po[NDe]=po[UDe]=po[MDe]=po[IDe]=po[DDe]=po[LDe]=po[kDe]=po[$De]=po[FDe]=po[jDe]=po[BDe]=po[zDe]=!1;var QDe=Object.prototype,e5e=QDe.toString;function t5e(t){return r5e(t)&&n5e(t.length)&&!!po[e5e.call(t)]}function n5e(t){return typeof t=="number"&&t>-1&&t%1===0&&t<=PDe}function r5e(t){return!!t&&ur(t)==="object"}var fU=t5e,eL,tL,nL,rL,Jx,iL,oL,aL;function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var uL=(eL=_i(),tL=lr(Wt.RenderEngine),nL=lr(Wt.ConfigService),eL(rL=(Jx=(aL=function(){function t(){Vn(this,t),ar(this,"engine",iL,this),ar(this,"configService",oL,this),this.entity=sc(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return dr(t,[{key:"init",value:function(){var n=this.configService.get(),r=n.canvas,i=n.engineOptions;this.initPromise=this.engine.init(lL({canvas:r||dU(),swapChainFormat:yn.TextureFormat.BGRA8Unorm,antialiasing:!1},i))}},{key:"setBundle",value:function(n){this.compiledBundle=JSON.parse(JSON.stringify(n))}},{key:"setDispatch",value:function(n){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=n),this}},{key:"setMaxIteration",value:function(n){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=n),this}},{key:"setBinding",value:function(n,r){var i=this;if(typeof n=="string"){var o=RO(r)||fU(r)||RDe(r);if(this.compiledBundle&&this.compiledBundle.context){var a=this.compiledBundle.context.defines.find(function(l){return l.name===n});if(a)return a.value=r,this;var s=this.compiledBundle.context.uniforms.find(function(l){return l.name===n});s&&(o?(s.data=r,s.isReferer=!1,s.storageClass===eh.Uniform?this.model&&this.model.updateUniform(n,r):this.model&&this.model.updateBuffer(n,r)):(s.isReferer=!0,s.data=r))}}else Object.keys(n).forEach(function(l){i.setBinding(l,n[l])});return this}},{key:"execute",value:function(){var e=Ln(zn.mark(function r(){var i=this,o,a,s=arguments;return zn.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(o=s.length>0&&s[0]!==void 0?s[0]:1,!this.dirty){u.next=6;break}return this.compiledBundle.context&&(o>1?this.compiledBundle.context.maxIteration=o:this.compiledBundle.context.maxIteration++),u.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(c){var d=c.isReferer;return d}).forEach(function(c){var d=c.data,f=c.name;i.model.confirmInput(d.model,f)}),a=0;a<o;a++)this.model.run();return this.engine.endFrame(),u.abrupt("return",this);case 12:case"end":return u.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"getOutput",value:function(){var e=Ln(zn.mark(function r(){return zn.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.model.readData());case 1:case"end":return o.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"compile",value:function(){var e=Ln(zn.mark(function r(){var i,o,a;return zn.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.initPromise;case 2:return i=lL({},this.compiledBundle.context),o=this.engine.supportWebGPU?this.engine.useWGSL?Iy.WGSL:Iy.GLSL450:Iy.GLSL100,a=this.compiledBundle.shaders[o],i.defines.filter(function(u){return u.runtime}).forEach(function(u){var c="".concat(EDe).concat(u.name);a=a.replace(c,"".concat(u.value))}),i.shader=a,i.uniforms.forEach(function(u){if(!u.data&&u.storageClass===eh.StorageBuffer){var c=1;u.type===Ap.FloatArray?c=1:u.type===Ap.Vector4FloatArray&&(c=4),u.data=new Float32Array(i.output.length*c).fill(0)}}),this.compiledBundle.context=i,l.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=l.sent;case 12:case"end":return l.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()}]),t}(),aL),iL=sr(Jx.prototype,"engine",[tL],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oL=sr(Jx.prototype,"configService",[nL],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jx))||rL),cL,dL,fL,iT,hL,pL,vL,hU=(cL=_i(),dL=lr(Wt.MaterialComponentManager),cL(fL=(iT=(vL=pL=function(){function t(){Vn(this,t),this.config=void 0,ar(this,"material",hL,this),this.entity=void 0,this.component=void 0}return dr(t,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(n){this.config=n}},{key:"setEntity",value:function(n,r){this.entity=n,this.component=this.material.create(n),this.component.entity=n,this.component.type=r,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),t}(),pL.BASIC="basic",vL),hL=sr(iT.prototype,"material",[dL],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iT))||fL),mL,gL,yL,bL,xL,_L,SL,Yv,wL,EL,CL,TL,Qx,RL,Mf=(mL=_i(),gL=lr(Wt.MeshComponentManager),yL=lr(Wt.CullableComponentManager),bL=lr(Wt.TransformComponentManager),xL=lr(Wt.Systems),_L=bc(Wt.SceneGraphSystem),mL(SL=(Yv=(RL=Qx=function(){function t(){Vn(this,t),this.attributes={},this.config=void 0,ar(this,"mesh",wL,this),ar(this,"cullable",EL,this),ar(this,"transform",CL,this),ar(this,"sceneGraphSystem",TL,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return dr(t,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(n){this.config=n}},{key:"setEntity",value:function(n){this.entity=n,this.cullable.create(n),this.meshComponent=this.mesh.create(n),this.transformComponent=this.transform.create(n),this.onEntityCreated()}},{key:"setMaterial",value:function(n){return this.meshComponent.material=n,this}},{key:"setGeometry",value:function(n){return this.meshComponent.geometry=n,this}},{key:"setAttributes",value:function(n){var r=this;Object.keys(n).forEach(function(i){n[i]!==void 0&&n[i]!==r.attributes[i]&&(r.onAttributeChanged({name:i,data:n[i]}),r.attributes[i]=n[i])})}},{key:"setVisible",value:function(n){var r=this;return this.meshComponent.visible=n,this.meshComponent.children.forEach(function(i){var o=r.mesh.getComponentByEntity(i);o&&(o.visible=n)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(n){return this.sceneGraphSystem.attach(this.entity,n.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(n){var r=n.name,i=n.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(r),i)}},{key:"convertAttributeName2UniformName",value:function(n){return n}}]),t}(),Qx.POINT="point",Qx.LINE="line",Qx.GRID="grid",RL),wL=sr(Yv.prototype,"mesh",[gL],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),EL=sr(Yv.prototype,"cullable",[yL],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),CL=sr(Yv.prototype,"transform",[bL],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),TL=sr(Yv.prototype,"sceneGraphSystem",[xL,_L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yv))||SL),pU={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ra,function(){var n=function(Y){return Y instanceof Uint8Array||Y instanceof Uint16Array||Y instanceof Uint32Array||Y instanceof Int8Array||Y instanceof Int16Array||Y instanceof Int32Array||Y instanceof Float32Array||Y instanceof Float64Array||Y instanceof Uint8ClampedArray},r=function(Y,de){for(var ke=Object.keys(de),gt=0;gt<ke.length;++gt)Y[ke[gt]]=de[ke[gt]];return Y},i=`
`;function o(Y){return typeof atob<"u"?atob(Y):"base64:"+Y}function a(Y){var de=new Error("(regl) "+Y);throw console.error(de),de}function s(Y,de){Y||a(de)}function l(Y){return Y?": "+Y:""}function u(Y,de,ke){Y in de||a("unknown parameter ("+Y+")"+l(ke)+". possible values: "+Object.keys(de).join())}function c(Y,de){n(Y)||a("invalid parameter type"+l(de)+". must be a typed array")}function d(Y,de){switch(de){case"number":return typeof Y=="number";case"object":return typeof Y=="object";case"string":return typeof Y=="string";case"boolean":return typeof Y=="boolean";case"function":return typeof Y=="function";case"undefined":return typeof Y>"u";case"symbol":return typeof Y=="symbol"}}function f(Y,de,ke){d(Y,de)||a("invalid parameter type"+l(ke)+". expected "+de+", got "+typeof Y)}function h(Y,de){Y>=0&&(Y|0)===Y||a("invalid parameter type, ("+Y+")"+l(de)+". must be a nonnegative integer")}function v(Y,de,ke){de.indexOf(Y)<0&&a("invalid value"+l(ke)+". must be one of: "+de)}var m=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function g(Y){Object.keys(Y).forEach(function(de){m.indexOf(de)<0&&a('invalid regl constructor argument "'+de+'". must be one of '+m)})}function x(Y,de){for(Y=Y+"";Y.length<de;)Y=" "+Y;return Y}function _(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function w(Y,de){this.number=Y,this.line=de,this.errors=[]}function S(Y,de,ke){this.file=Y,this.line=de,this.message=ke}function C(){var Y=new Error,de=(Y.stack||Y).toString(),ke=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(de);if(ke)return ke[1];var gt=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(de);return gt?gt[1]:"unknown"}function O(){var Y=new Error,de=(Y.stack||Y).toString(),ke=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(de);if(ke)return ke[1];var gt=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(de);return gt?gt[1]:"unknown"}function T(Y,de){var ke=Y.split(`
`),gt=1,Rt=0,yt={unknown:new _,0:new _};yt.unknown.name=yt[0].name=de||C(),yt.unknown.lines.push(new w(0,""));for(var St=0;St<ke.length;++St){var Xt=ke[St],$t=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Xt);if($t)switch($t[1]){case"line":var nn=/(\d+)(\s+\d+)?/.exec($t[2]);nn&&(gt=nn[1]|0,nn[2]&&(Rt=nn[2]|0,Rt in yt||(yt[Rt]=new _)));break;case"define":var qt=/SHADER_NAME(_B64)?\s+(.*)$/.exec($t[2]);qt&&(yt[Rt].name=qt[1]?o(qt[2]):qt[2]);break}yt[Rt].lines.push(new w(gt++,Xt))}return Object.keys(yt).forEach(function(an){var vn=yt[an];vn.lines.forEach(function(Kt){vn.index[Kt.number]=Kt})}),yt}function N(Y){var de=[];return Y.split(`
`).forEach(function(ke){if(!(ke.length<5)){var gt=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(ke);gt?de.push(new S(gt[1]|0,gt[2]|0,gt[3].trim())):ke.length>0&&de.push(new S("unknown",0,ke))}}),de}function M(Y,de){de.forEach(function(ke){var gt=Y[ke.file];if(gt){var Rt=gt.index[ke.line];if(Rt){Rt.errors.push(ke),gt.hasErrors=!0;return}}Y.unknown.hasErrors=!0,Y.unknown.lines[0].errors.push(ke)})}function D(Y,de,ke,gt,Rt){if(!Y.getShaderParameter(de,Y.COMPILE_STATUS)){var yt=Y.getShaderInfoLog(de),St=gt===Y.FRAGMENT_SHADER?"fragment":"vertex";B(ke,"string",St+" shader source must be a string",Rt);var Xt=T(ke,Rt),$t=N(yt);M(Xt,$t),Object.keys(Xt).forEach(function(nn){var qt=Xt[nn];if(!qt.hasErrors)return;var an=[""],vn=[""];function Kt(cn,ot){an.push(cn),vn.push(ot||"")}Kt("file number "+nn+": "+qt.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),qt.lines.forEach(function(cn){if(cn.errors.length>0){Kt(x(cn.number,4)+"|  ","background-color:yellow; font-weight:bold"),Kt(cn.line+i,"color:red; background-color:yellow; font-weight:bold");var ot=0;cn.errors.forEach(function(wt){var Vt=wt.message,sn=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Vt);if(sn){var Ft=sn[1];switch(Vt=sn[2],Ft){case"assign":Ft="=";break}ot=Math.max(cn.line.indexOf(Ft,ot),0)}else ot=0;Kt(x("| ",6)),Kt(x("^^^",ot+3)+i,"font-weight:bold"),Kt(x("| ",6)),Kt(Vt+i,"font-weight:bold")}),Kt(x("| ",6)+i)}else Kt(x(cn.number,4)+"|  "),Kt(cn.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(vn[0]=an.join("%c"),console.log.apply(console,vn)):console.log(an.join(""))}),s.raise("Error compiling "+St+" shader, "+Xt[0].name)}}function F(Y,de,ke,gt,Rt){if(!Y.getProgramParameter(de,Y.LINK_STATUS)){var yt=Y.getProgramInfoLog(de),St=T(ke,Rt),Xt=T(gt,Rt),$t='Error linking program with vertex shader, "'+Xt[0].name+'", and fragment shader "'+St[0].name+'"';typeof document<"u"?console.log("%c"+$t+i+"%c"+yt,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log($t+i+yt),s.raise($t)}}function j(Y){Y._commandRef=C()}function R(Y,de,ke,gt){j(Y);function Rt($t){return $t?gt.id($t):0}Y._fragId=Rt(Y.static.frag),Y._vertId=Rt(Y.static.vert);function yt($t,nn){Object.keys(nn).forEach(function(qt){$t[gt.id(qt)]=!0})}var St=Y._uniformSet={};yt(St,de.static),yt(St,de.dynamic);var Xt=Y._attributeSet={};yt(Xt,ke.static),yt(Xt,ke.dynamic),Y._hasCount="count"in Y.static||"count"in Y.dynamic||"elements"in Y.static||"elements"in Y.dynamic}function I(Y,de){var ke=O();a(Y+" in command "+(de||C())+(ke==="unknown"?"":" called from "+ke))}function L(Y,de,ke){Y||I(de,ke||C())}function k(Y,de,ke,gt){Y in de||I("unknown parameter ("+Y+")"+l(ke)+". possible values: "+Object.keys(de).join(),gt||C())}function B(Y,de,ke,gt){d(Y,de)||I("invalid parameter type"+l(ke)+". expected "+de+", got "+typeof Y,gt||C())}function q(Y){Y()}function X(Y,de,ke){Y.texture?v(Y.texture._texture.internalformat,de,"unsupported texture format for attachment"):v(Y.renderbuffer._renderbuffer.format,ke,"unsupported renderbuffer format for attachment")}var z=33071,H=9728,Q=9984,V=9985,W=9986,te=9987,K=5120,U=5121,ee=5122,fe=5123,ve=5124,Ce=5125,ue=5126,we=32819,pe=32820,$e=33635,Ne=34042,Le=36193,Ie={};Ie[K]=Ie[U]=1,Ie[ee]=Ie[fe]=Ie[Le]=Ie[$e]=Ie[we]=Ie[pe]=2,Ie[ve]=Ie[Ce]=Ie[ue]=Ie[Ne]=4;function Z(Y,de){return Y===pe||Y===we||Y===$e?2:Y===Ne?4:Ie[Y]*de}function ie(Y){return!(Y&Y-1)&&!!Y}function ne(Y,de,ke){var gt,Rt=de.width,yt=de.height,St=de.channels;s(Rt>0&&Rt<=ke.maxTextureSize&&yt>0&&yt<=ke.maxTextureSize,"invalid texture shape"),(Y.wrapS!==z||Y.wrapT!==z)&&s(ie(Rt)&&ie(yt),"incompatible wrap mode for texture, both width and height must be power of 2"),de.mipmask===1?Rt!==1&&yt!==1&&s(Y.minFilter!==Q&&Y.minFilter!==W&&Y.minFilter!==V&&Y.minFilter!==te,"min filter requires mipmap"):(s(ie(Rt)&&ie(yt),"texture must be a square power of 2 to support mipmapping"),s(de.mipmask===(Rt<<1)-1,"missing or incomplete mipmap data")),de.type===ue&&(ke.extensions.indexOf("oes_texture_float_linear")<0&&s(Y.minFilter===H&&Y.magFilter===H,"filter not supported, must enable oes_texture_float_linear"),s(!Y.genMipmaps,"mipmap generation not supported with float textures"));var Xt=de.images;for(gt=0;gt<16;++gt)if(Xt[gt]){var $t=Rt>>gt,nn=yt>>gt;s(de.mipmask&1<<gt,"missing mipmap data");var qt=Xt[gt];if(s(qt.width===$t&&qt.height===nn,"invalid shape for mip images"),s(qt.format===de.format&&qt.internalformat===de.internalformat&&qt.type===de.type,"incompatible type for mip image"),!qt.compressed)if(qt.data){var an=Math.ceil(Z(qt.type,St)*$t/qt.unpackAlignment)*qt.unpackAlignment;s(qt.data.byteLength===an*nn,"invalid data for image, buffer size is inconsistent with image format")}else qt.element||qt.copy}else Y.genMipmaps||s((de.mipmask&1<<gt)===0,"extra mipmap data");de.compressed&&s(!Y.genMipmaps,"mipmap generation for compressed images not supported")}function Te(Y,de,ke,gt){var Rt=Y.width,yt=Y.height,St=Y.channels;s(Rt>0&&Rt<=gt.maxTextureSize&&yt>0&&yt<=gt.maxTextureSize,"invalid texture shape"),s(Rt===yt,"cube map must be square"),s(de.wrapS===z&&de.wrapT===z,"wrap mode not supported by cube map");for(var Xt=0;Xt<ke.length;++Xt){var $t=ke[Xt];s($t.width===Rt&&$t.height===yt,"inconsistent cube map face shape"),de.genMipmaps&&(s(!$t.compressed,"can not generate mipmap for compressed textures"),s($t.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var nn=$t.images,qt=0;qt<16;++qt){var an=nn[qt];if(an){var vn=Rt>>qt,Kt=yt>>qt;s($t.mipmask&1<<qt,"missing mipmap data"),s(an.width===vn&&an.height===Kt,"invalid shape for mip images"),s(an.format===Y.format&&an.internalformat===Y.internalformat&&an.type===Y.type,"incompatible type for mip image"),an.compressed||(an.data?s(an.data.byteLength===vn*Kt*Math.max(Z(an.type,St),an.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):an.element||an.copy)}}}}var $=r(s,{optional:q,raise:a,commandRaise:I,command:L,parameter:u,commandParameter:k,constructor:g,type:f,commandType:B,isTypedArray:c,nni:h,oneOf:v,shaderError:D,linkError:F,callSite:O,saveCommandRef:j,saveDrawInfo:R,framebufferFormat:X,guessCommand:C,texture2D:ne,textureCube:Te}),se=0,re=0,oe=5,ye=6;function xe(Y,de){this.id=se++,this.type=Y,this.data=de}function He(Y){return Y.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Fe(Y){if(Y.length===0)return[];var de=Y.charAt(0),ke=Y.charAt(Y.length-1);if(Y.length>1&&de===ke&&(de==='"'||de==="'"))return['"'+He(Y.substr(1,Y.length-2))+'"'];var gt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Y);if(gt)return Fe(Y.substr(0,gt.index)).concat(Fe(gt[1])).concat(Fe(Y.substr(gt.index+gt[0].length)));var Rt=Y.split(".");if(Rt.length===1)return['"'+He(Y)+'"'];for(var yt=[],St=0;St<Rt.length;++St)yt=yt.concat(Fe(Rt[St]));return yt}function Ve(Y){return"["+Fe(Y).join("][")+"]"}function qe(Y,de){return new xe(Y,Ve(de+""))}function vt(Y){return typeof Y=="function"&&!Y._reglType||Y instanceof xe}function tt(Y,de){if(typeof Y=="function")return new xe(re,Y);if(typeof Y=="number"||typeof Y=="boolean")return new xe(oe,Y);if(Array.isArray(Y))return new xe(ye,Y.map((ke,gt)=>tt(ke,de+"["+gt+"]")));if(Y instanceof xe)return Y;$(!1,"invalid option type in uniform "+de)}var pt={DynamicVariable:xe,define:qe,isDynamic:vt,unbox:tt,accessor:Ve},Ht={next:typeof requestAnimationFrame=="function"?function(Y){return requestAnimationFrame(Y)}:function(Y){return setTimeout(Y,16)},cancel:typeof cancelAnimationFrame=="function"?function(Y){return cancelAnimationFrame(Y)}:clearTimeout},Lt=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function hn(){var Y={"":0},de=[""];return{id:function(ke){var gt=Y[ke];return gt||(gt=Y[ke]=de.length,de.push(ke),gt)},str:function(ke){return de[ke]}}}function On(Y,de,ke){var gt=document.createElement("canvas");r(gt.style,{border:0,margin:0,padding:0,top:0,left:0}),Y.appendChild(gt),Y===document.body&&(gt.style.position="absolute",r(Y.style,{margin:0,padding:0}));function Rt(){var Xt=window.innerWidth,$t=window.innerHeight;if(Y!==document.body){var nn=Y.getBoundingClientRect();Xt=nn.right-nn.left,$t=nn.bottom-nn.top}gt.width=ke*Xt,gt.height=ke*$t,r(gt.style,{width:Xt+"px",height:$t+"px"})}var yt;Y!==document.body&&typeof ResizeObserver=="function"?(yt=new ResizeObserver(function(){setTimeout(Rt)}),yt.observe(Y)):window.addEventListener("resize",Rt,!1);function St(){yt?yt.disconnect():window.removeEventListener("resize",Rt),Y.removeChild(gt)}return Rt(),{canvas:gt,onDestroy:St}}function Yn(Y,de){function ke(gt){try{return Y.getContext(gt,de)}catch{return null}}return ke("webgl")||ke("experimental-webgl")||ke("webgl-experimental")}function kn(Y){return typeof Y.nodeName=="string"&&typeof Y.appendChild=="function"&&typeof Y.getBoundingClientRect=="function"}function bn(Y){return typeof Y.drawArrays=="function"||typeof Y.drawElements=="function"}function Sn(Y){return typeof Y=="string"?Y.split():($(Array.isArray(Y),"invalid extension array"),Y)}function qn(Y){return typeof Y=="string"?($(typeof document<"u","not supported outside of DOM"),document.querySelector(Y)):Y}function it(Y){var de=Y||{},ke,gt,Rt,yt,St={},Xt=[],$t=[],nn=typeof window>"u"?1:window.devicePixelRatio,qt=!1,an=function(cn){cn&&$.raise(cn)},vn=function(){};if(typeof de=="string"?($(typeof document<"u","selector queries only supported in DOM enviroments"),ke=document.querySelector(de),$(ke,"invalid query string for element")):typeof de=="object"?kn(de)?ke=de:bn(de)?(yt=de,Rt=yt.canvas):($.constructor(de),"gl"in de?yt=de.gl:"canvas"in de?Rt=qn(de.canvas):"container"in de&&(gt=qn(de.container)),"attributes"in de&&(St=de.attributes,$.type(St,"object","invalid context attributes")),"extensions"in de&&(Xt=Sn(de.extensions)),"optionalExtensions"in de&&($t=Sn(de.optionalExtensions)),"onDone"in de&&($.type(de.onDone,"function","invalid or missing onDone callback"),an=de.onDone),"profile"in de&&(qt=!!de.profile),"pixelRatio"in de&&(nn=+de.pixelRatio,$(nn>0,"invalid pixel ratio"))):$.raise("invalid arguments to regl"),ke&&(ke.nodeName.toLowerCase()==="canvas"?Rt=ke:gt=ke),!yt){if(!Rt){$(typeof document<"u","must manually specify webgl context outside of DOM environments");var Kt=On(gt||document.body,an,nn);if(!Kt)return null;Rt=Kt.canvas,vn=Kt.onDestroy}St.premultipliedAlpha===void 0&&(St.premultipliedAlpha=!0),yt=Yn(Rt,St)}return yt?{gl:yt,canvas:Rt,container:gt,extensions:Xt,optionalExtensions:$t,pixelRatio:nn,profile:qt,onDone:an,onDestroy:vn}:(vn(),an("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function It(Y,de){var ke={};function gt(St){$.type(St,"string","extension name must be string");var Xt=St.toLowerCase(),$t;try{$t=ke[Xt]=Y.getExtension(Xt)}catch{}return!!$t}for(var Rt=0;Rt<de.extensions.length;++Rt){var yt=de.extensions[Rt];if(!gt(yt))return de.onDestroy(),de.onDone('"'+yt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return de.optionalExtensions.forEach(gt),{extensions:ke,restore:function(){Object.keys(ke).forEach(function(St){if(ke[St]&&!gt(St))throw new Error("(regl): error restoring extension "+St)})}}}function Jt(Y,de){for(var ke=Array(Y),gt=0;gt<Y;++gt)ke[gt]=de(gt);return ke}var dn=5120,Hn=5121,Bn=5122,kt=5123,Yt=5124,An=5125,Sr=5126;function ai(Y){for(var de=16;de<=1<<28;de*=16)if(Y<=de)return de;return 0}function tr(Y){var de,ke;return de=(Y>65535)<<4,Y>>>=de,ke=(Y>255)<<3,Y>>>=ke,de|=ke,ke=(Y>15)<<2,Y>>>=ke,de|=ke,ke=(Y>3)<<1,Y>>>=ke,de|=ke,de|Y>>1}function si(){var Y=Jt(8,function(){return[]});function de(yt){var St=ai(yt),Xt=Y[tr(St)>>2];return Xt.length>0?Xt.pop():new ArrayBuffer(St)}function ke(yt){Y[tr(yt.byteLength)>>2].push(yt)}function gt(yt,St){var Xt=null;switch(yt){case dn:Xt=new Int8Array(de(St),0,St);break;case Hn:Xt=new Uint8Array(de(St),0,St);break;case Bn:Xt=new Int16Array(de(2*St),0,St);break;case kt:Xt=new Uint16Array(de(2*St),0,St);break;case Yt:Xt=new Int32Array(de(4*St),0,St);break;case An:Xt=new Uint32Array(de(4*St),0,St);break;case Sr:Xt=new Float32Array(de(4*St),0,St);break;default:return null}return Xt.length!==St?Xt.subarray(0,St):Xt}function Rt(yt){ke(yt.buffer)}return{alloc:de,free:ke,allocType:gt,freeType:Rt}}var xn=si();xn.zero=si();var _e=3408,Re=3410,ae=3411,Ee=3412,be=3413,Ke=3414,lt=3415,dt=33901,Je=33902,Tt=3379,un=3386,En=34921,ce=36347,Xe=36348,_t=35661,Qt=35660,Tn=34930,Nt=36349,Cn=34076,he=34024,Ze=7936,Ut=7937,gn=7938,Xn=35724,wr=34047,en=36063,$n=34852,Un=3553,vr=34067,Wi=34069,Wa=33984,oa=6408,no=5126,Ma=5121,pa=36160,Zi=36053,To=36064,Mu=16384,al=function(Y,de){var ke=1;de.ext_texture_filter_anisotropic&&(ke=Y.getParameter(wr));var gt=1,Rt=1;de.webgl_draw_buffers&&(gt=Y.getParameter($n),Rt=Y.getParameter(en));var yt=!!de.oes_texture_float;if(yt){var St=Y.createTexture();Y.bindTexture(Un,St),Y.texImage2D(Un,0,oa,1,1,0,oa,no,null);var Xt=Y.createFramebuffer();if(Y.bindFramebuffer(pa,Xt),Y.framebufferTexture2D(pa,To,Un,St,0),Y.bindTexture(Un,null),Y.checkFramebufferStatus(pa)!==Zi)yt=!1;else{Y.viewport(0,0,1,1),Y.clearColor(1,0,0,1),Y.clear(Mu);var $t=xn.allocType(no,4);Y.readPixels(0,0,1,1,oa,no,$t),Y.getError()?yt=!1:(Y.deleteFramebuffer(Xt),Y.deleteTexture(St),yt=$t[0]===1),xn.freeType($t)}}var nn=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),qt=!0;if(!nn){var an=Y.createTexture(),vn=xn.allocType(Ma,36);Y.activeTexture(Wa),Y.bindTexture(vr,an),Y.texImage2D(Wi,0,oa,3,3,0,oa,Ma,vn),xn.freeType(vn),Y.bindTexture(vr,null),Y.deleteTexture(an),qt=!Y.getError()}return{colorBits:[Y.getParameter(Re),Y.getParameter(ae),Y.getParameter(Ee),Y.getParameter(be)],depthBits:Y.getParameter(Ke),stencilBits:Y.getParameter(lt),subpixelBits:Y.getParameter(_e),extensions:Object.keys(de).filter(function(Kt){return!!de[Kt]}),maxAnisotropic:ke,maxDrawbuffers:gt,maxColorAttachments:Rt,pointSizeDims:Y.getParameter(dt),lineWidthDims:Y.getParameter(Je),maxViewportDims:Y.getParameter(un),maxCombinedTextureUnits:Y.getParameter(_t),maxCubeMapSize:Y.getParameter(Cn),maxRenderbufferSize:Y.getParameter(he),maxTextureUnits:Y.getParameter(Tn),maxTextureSize:Y.getParameter(Tt),maxAttributes:Y.getParameter(En),maxVertexUniforms:Y.getParameter(ce),maxVertexTextureUnits:Y.getParameter(Qt),maxVaryingVectors:Y.getParameter(Xe),maxFragmentUniforms:Y.getParameter(Nt),glsl:Y.getParameter(Xn),renderer:Y.getParameter(Ut),vendor:Y.getParameter(Ze),version:Y.getParameter(gn),readFloat:yt,npotTextureCube:qt}};function Lo(Y){return!!Y&&typeof Y=="object"&&Array.isArray(Y.shape)&&Array.isArray(Y.stride)&&typeof Y.offset=="number"&&Y.shape.length===Y.stride.length&&(Array.isArray(Y.data)||n(Y.data))}var aa=function(Y){return Object.keys(Y).map(function(de){return Y[de]})},Ir={shape:Gl,flatten:Ul};function Kr(Y,de,ke){for(var gt=0;gt<de;++gt)ke[gt]=Y[gt]}function Ro(Y,de,ke,gt){for(var Rt=0,yt=0;yt<de;++yt)for(var St=Y[yt],Xt=0;Xt<ke;++Xt)gt[Rt++]=St[Xt]}function sa(Y,de,ke,gt,Rt,yt){for(var St=yt,Xt=0;Xt<de;++Xt)for(var $t=Y[Xt],nn=0;nn<ke;++nn)for(var qt=$t[nn],an=0;an<gt;++an)Rt[St++]=qt[an]}function _o(Y,de,ke,gt,Rt){for(var yt=1,St=ke+1;St<de.length;++St)yt*=de[St];var Xt=de[ke];if(de.length-ke===4){var $t=de[ke+1],nn=de[ke+2],qt=de[ke+3];for(St=0;St<Xt;++St)sa(Y[St],$t,nn,qt,gt,Rt),Rt+=yt}else for(St=0;St<Xt;++St)_o(Y[St],de,ke+1,gt,Rt),Rt+=yt}function Ul(Y,de,ke,gt){var Rt=1;if(de.length)for(var yt=0;yt<de.length;++yt)Rt*=de[yt];else Rt=0;var St=gt||xn.allocType(ke,Rt);switch(de.length){case 0:break;case 1:Kr(Y,de[0],St);break;case 2:Ro(Y,de[0],de[1],St);break;case 3:sa(Y,de[0],de[1],de[2],St,0);break;default:_o(Y,de,0,St,0)}return St}function Gl(Y){for(var de=[],ke=Y;ke.length;ke=ke[0])de.push(ke.length);return de}var Ls={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Pc=5120,Ud=5122,PE=5124,AE=5121,OE=5123,NE=5125,Og=5126,ME=5126,Ac={int8:Pc,int16:Ud,int32:PE,uint8:AE,uint16:OE,uint32:NE,float:Og,float32:ME},IE=35048,DE=35040,Vp={dynamic:IE,stream:DE,static:35044},Vi=Ir.flatten,Xi=Ir.shape,n1=35044,LE=35040,Ng=5121,Mg=5126,Iu=[];Iu[5120]=1,Iu[5122]=2,Iu[5124]=4,Iu[5121]=1,Iu[5123]=2,Iu[5125]=4,Iu[5126]=4;function Xp(Y){return Ls[Object.prototype.toString.call(Y)]|0}function Ig(Y,de){for(var ke=0;ke<de.length;++ke)Y[ke]=de[ke]}function r1(Y,de,ke,gt,Rt,yt,St){for(var Xt=0,$t=0;$t<ke;++$t)for(var nn=0;nn<gt;++nn)Y[Xt++]=de[Rt*$t+yt*nn+St]}function Zo(Y,de,ke,gt){var Rt=0,yt={};function St(ot){this.id=Rt++,this.buffer=Y.createBuffer(),this.type=ot,this.usage=n1,this.byteLength=0,this.dimension=1,this.dtype=Ng,this.persistentData=null,ke.profile&&(this.stats={size:0})}St.prototype.bind=function(){Y.bindBuffer(this.type,this.buffer)},St.prototype.destroy=function(){vn(this)};var Xt=[];function $t(ot,wt){var Vt=Xt.pop();return Vt||(Vt=new St(ot)),Vt.bind(),an(Vt,wt,LE,0,1,!1),Vt}function nn(ot){Xt.push(ot)}function qt(ot,wt,Vt){ot.byteLength=wt.byteLength,Y.bufferData(ot.type,wt,Vt)}function an(ot,wt,Vt,sn,Ft,wn){var Bt;if(ot.usage=Vt,Array.isArray(wt)){if(ot.dtype=sn||Mg,wt.length>0){var fn;if(Array.isArray(wt[0])){Bt=Xi(wt);for(var zt=1,ln=1;ln<Bt.length;++ln)zt*=Bt[ln];ot.dimension=zt,fn=Vi(wt,Bt,ot.dtype),qt(ot,fn,Vt),wn?ot.persistentData=fn:xn.freeType(fn)}else if(typeof wt[0]=="number"){ot.dimension=Ft;var Wn=xn.allocType(ot.dtype,wt.length);Ig(Wn,wt),qt(ot,Wn,Vt),wn?ot.persistentData=Wn:xn.freeType(Wn)}else n(wt[0])?(ot.dimension=wt[0].length,ot.dtype=sn||Xp(wt[0])||Mg,fn=Vi(wt,[wt.length,wt[0].length],ot.dtype),qt(ot,fn,Vt),wn?ot.persistentData=fn:xn.freeType(fn)):$.raise("invalid buffer data")}}else if(n(wt))ot.dtype=sn||Xp(wt),ot.dimension=Ft,qt(ot,wt,Vt),wn&&(ot.persistentData=new Uint8Array(new Uint8Array(wt.buffer)));else if(Lo(wt)){Bt=wt.shape;var hr=wt.stride,mn=wt.offset,on=0,jt=0,or=0,yr=0;Bt.length===1?(on=Bt[0],jt=1,or=hr[0],yr=0):Bt.length===2?(on=Bt[0],jt=Bt[1],or=hr[0],yr=hr[1]):$.raise("invalid shape"),ot.dtype=sn||Xp(wt.data)||Mg,ot.dimension=jt;var Mn=xn.allocType(ot.dtype,on*jt);r1(Mn,wt.data,on,jt,or,yr,mn),qt(ot,Mn,Vt),wn?ot.persistentData=Mn:xn.freeType(Mn)}else wt instanceof ArrayBuffer?(ot.dtype=Ng,ot.dimension=Ft,qt(ot,wt,Vt),wn&&(ot.persistentData=new Uint8Array(new Uint8Array(wt)))):$.raise("invalid buffer data")}function vn(ot){de.bufferCount--,gt(ot);var wt=ot.buffer;$(wt,"buffer must not be deleted already"),Y.deleteBuffer(wt),ot.buffer=null,delete yt[ot.id]}function Kt(ot,wt,Vt,sn){de.bufferCount++;var Ft=new St(wt);yt[Ft.id]=Ft;function wn(zt){var ln=n1,Wn=null,hr=0,mn=0,on=1;return Array.isArray(zt)||n(zt)||Lo(zt)||zt instanceof ArrayBuffer?Wn=zt:typeof zt=="number"?hr=zt|0:zt&&($.type(zt,"object","buffer arguments must be an object, a number or an array"),"data"in zt&&($(Wn===null||Array.isArray(Wn)||n(Wn)||Lo(Wn),"invalid data for buffer"),Wn=zt.data),"usage"in zt&&($.parameter(zt.usage,Vp,"invalid buffer usage"),ln=Vp[zt.usage]),"type"in zt&&($.parameter(zt.type,Ac,"invalid buffer type"),mn=Ac[zt.type]),"dimension"in zt&&($.type(zt.dimension,"number","invalid dimension"),on=zt.dimension|0),"length"in zt&&($.nni(hr,"buffer length must be a nonnegative integer"),hr=zt.length|0)),Ft.bind(),Wn?an(Ft,Wn,ln,mn,on,sn):(hr&&Y.bufferData(Ft.type,hr,ln),Ft.dtype=mn||Ng,Ft.usage=ln,Ft.dimension=on,Ft.byteLength=hr),ke.profile&&(Ft.stats.size=Ft.byteLength*Iu[Ft.dtype]),wn}function Bt(zt,ln){$(ln+zt.byteLength<=Ft.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+zt.byteLength+" starting from offset "+ln+" to a buffer of size "+Ft.byteLength),Y.bufferSubData(Ft.type,ln,zt)}function fn(zt,ln){var Wn=(ln||0)|0,hr;if(Ft.bind(),n(zt)||zt instanceof ArrayBuffer)Bt(zt,Wn);else if(Array.isArray(zt)){if(zt.length>0)if(typeof zt[0]=="number"){var mn=xn.allocType(Ft.dtype,zt.length);Ig(mn,zt),Bt(mn,Wn),xn.freeType(mn)}else if(Array.isArray(zt[0])||n(zt[0])){hr=Xi(zt);var on=Vi(zt,hr,Ft.dtype);Bt(on,Wn),xn.freeType(on)}else $.raise("invalid buffer data")}else if(Lo(zt)){hr=zt.shape;var jt=zt.stride,or=0,yr=0,Mn=0,Or=0;hr.length===1?(or=hr[0],yr=1,Mn=jt[0],Or=0):hr.length===2?(or=hr[0],yr=hr[1],Mn=jt[0],Or=jt[1]):$.raise("invalid shape");var pr=Array.isArray(zt.data)?Ft.dtype:Xp(zt.data),Er=xn.allocType(pr,or*yr);r1(Er,zt.data,or,yr,Mn,Or,zt.offset),Bt(Er,Wn),xn.freeType(Er)}else $.raise("invalid data for buffer subdata");return wn}return Vt||wn(ot),wn._reglType="buffer",wn._buffer=Ft,wn.subdata=fn,ke.profile&&(wn.stats=Ft.stats),wn.destroy=function(){vn(Ft)},wn}function cn(){aa(yt).forEach(function(ot){ot.buffer=Y.createBuffer(),Y.bindBuffer(ot.type,ot.buffer),Y.bufferData(ot.type,ot.persistentData||ot.byteLength,ot.usage)})}return ke.profile&&(de.getTotalBufferSize=function(){var ot=0;return Object.keys(yt).forEach(function(wt){ot+=yt[wt].stats.size}),ot}),{create:Kt,createStream:$t,destroyStream:nn,clear:function(){aa(yt).forEach(vn),Xt.forEach(vn)},getBuffer:function(ot){return ot&&ot._buffer instanceof St?ot._buffer:null},restore:cn,_initBuffer:an}}var Dg=0,Oc=0,i1=1,Lg=1,us=4,o1=4,Nc={points:Dg,point:Oc,lines:i1,line:Lg,triangles:us,triangle:o1,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},a1=0,s1=1,Gd=4,l1=5120,Wo=5121,u1=5122,Jo=5123,c1=5124,Du=5125,sl=34963,Kp=35040,kg=35044;function ro(Y,de,ke,gt){var Rt={},yt=0,St={uint8:Wo,uint16:Jo};de.oes_element_index_uint&&(St.uint32=Du);function Xt(cn){this.id=yt++,Rt[this.id]=this,this.buffer=cn,this.primType=Gd,this.vertCount=0,this.type=0}Xt.prototype.bind=function(){this.buffer.bind()};var $t=[];function nn(cn){var ot=$t.pop();return ot||(ot=new Xt(ke.create(null,sl,!0,!1)._buffer)),an(ot,cn,Kp,-1,-1,0,0),ot}function qt(cn){$t.push(cn)}function an(cn,ot,wt,Vt,sn,Ft,wn){cn.buffer.bind();var Bt;if(ot){var fn=wn;!wn&&(!n(ot)||Lo(ot)&&!n(ot.data))&&(fn=de.oes_element_index_uint?Du:Jo),ke._initBuffer(cn.buffer,ot,wt,fn,3)}else Y.bufferData(sl,Ft,wt),cn.buffer.dtype=Bt||Wo,cn.buffer.usage=wt,cn.buffer.dimension=3,cn.buffer.byteLength=Ft;if(Bt=wn,!wn){switch(cn.buffer.dtype){case Wo:case l1:Bt=Wo;break;case Jo:case u1:Bt=Jo;break;case Du:case c1:Bt=Du;break;default:$.raise("unsupported type for element array")}cn.buffer.dtype=Bt}cn.type=Bt,$(Bt!==Du||!!de.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var zt=sn;zt<0&&(zt=cn.buffer.byteLength,Bt===Jo?zt>>=1:Bt===Du&&(zt>>=2)),cn.vertCount=zt;var ln=Vt;if(Vt<0){ln=Gd;var Wn=cn.buffer.dimension;Wn===1&&(ln=a1),Wn===2&&(ln=s1),Wn===3&&(ln=Gd)}cn.primType=ln}function vn(cn){gt.elementsCount--,$(cn.buffer!==null,"must not double destroy elements"),delete Rt[cn.id],cn.buffer.destroy(),cn.buffer=null}function Kt(cn,ot){var wt=ke.create(null,sl,!0),Vt=new Xt(wt._buffer);gt.elementsCount++;function sn(Ft){if(!Ft)wt(),Vt.primType=Gd,Vt.vertCount=0,Vt.type=Wo;else if(typeof Ft=="number")wt(Ft),Vt.primType=Gd,Vt.vertCount=Ft|0,Vt.type=Wo;else{var wn=null,Bt=kg,fn=-1,zt=-1,ln=0,Wn=0;Array.isArray(Ft)||n(Ft)||Lo(Ft)?wn=Ft:($.type(Ft,"object","invalid arguments for elements"),"data"in Ft&&(wn=Ft.data,$(Array.isArray(wn)||n(wn)||Lo(wn),"invalid data for element buffer")),"usage"in Ft&&($.parameter(Ft.usage,Vp,"invalid element buffer usage"),Bt=Vp[Ft.usage]),"primitive"in Ft&&($.parameter(Ft.primitive,Nc,"invalid element buffer primitive"),fn=Nc[Ft.primitive]),"count"in Ft&&($(typeof Ft.count=="number"&&Ft.count>=0,"invalid vertex count for elements"),zt=Ft.count|0),"type"in Ft&&($.parameter(Ft.type,St,"invalid buffer type"),Wn=St[Ft.type]),"length"in Ft?ln=Ft.length|0:(ln=zt,Wn===Jo||Wn===u1?ln*=2:(Wn===Du||Wn===c1)&&(ln*=4))),an(Vt,wn,Bt,fn,zt,ln,Wn)}return sn}return sn(cn),sn._reglType="elements",sn._elements=Vt,sn.subdata=function(Ft,wn){return wt.subdata(Ft,wn),sn},sn.destroy=function(){vn(Vt)},sn}return{create:Kt,createStream:nn,destroyStream:qt,getElements:function(cn){return typeof cn=="function"&&cn._elements instanceof Xt?cn._elements:null},clear:function(){aa(Rt).forEach(vn)}}}var Wl=new Float32Array(1),$g=new Uint32Array(Wl.buffer),kE=5123;function Yp(Y){for(var de=xn.allocType(kE,Y.length),ke=0;ke<Y.length;++ke)if(isNaN(Y[ke]))de[ke]=65535;else if(Y[ke]===1/0)de[ke]=31744;else if(Y[ke]===-1/0)de[ke]=64512;else{Wl[0]=Y[ke];var gt=$g[0],Rt=gt>>>31<<15,yt=(gt<<1>>>24)-127,St=gt>>13&1023;if(yt<-24)de[ke]=Rt;else if(yt<-14){var Xt=-14-yt;de[ke]=Rt+(St+1024>>Xt)}else yt>15?de[ke]=Rt+31744:de[ke]=Rt+(yt+15<<10)+St}return de}function uo(Y){return Array.isArray(Y)||n(Y)}var d1=function(Y){return!(Y&Y-1)&&!!Y},$E=34467,ks=3553,Wd=34067,Vl=34069,Mc=6408,qp=6406,fh=6407,Ic=6409,Vd=6410,Fg=32854,jg=32855,Zp=36194,Bg=32819,FE=32820,f1=33635,Va=34042,hh=6402,Lu=34041,Jp=35904,Qp=35906,Xd=36193,zg=33776,Hg=33777,Ug=33778,Gg=33779,Dc=35986,h1=35987,p1=34798,ev=35840,Wg=35841,Xl=35842,ph=35843,v1=36196,Kd=5121,Vg=5123,ku=5125,va=5126,m1=10242,jE=10243,BE=10497,Xg=33071,zE=33648,HE=10240,Yd=10241,ct=9728,Gt=9729,At=9984,Gn=9985,Dr=9986,vi=9987,ko=33170,Ci=4352,Kg=4353,UE=4354,cs=34046,tv=3317,GE=37440,qd=37441,nv=37443,vh=37444,mi=33984,WE=[At,Dr,Gn,vi],mh=[0,Ic,Vd,fh,Mc],ma={};ma[Ic]=ma[qp]=ma[hh]=1,ma[Lu]=ma[Vd]=2,ma[fh]=ma[Jp]=3,ma[Mc]=ma[Qp]=4;function Zd(Y){return"[object "+Y+"]"}var g1=Zd("HTMLCanvasElement"),y1=Zd("OffscreenCanvas"),gh=Zd("CanvasRenderingContext2D"),Kl=Zd("ImageBitmap"),yh=Zd("HTMLImageElement"),Yg=Zd("HTMLVideoElement"),rv=Object.keys(Ls).concat([g1,y1,gh,Kl,yh,Yg]),Lc=[];Lc[Kd]=1,Lc[va]=4,Lc[Xd]=2,Lc[Vg]=2,Lc[ku]=4;var $o=[];$o[Fg]=2,$o[jg]=2,$o[Zp]=2,$o[Lu]=4,$o[zg]=.5,$o[Hg]=.5,$o[Ug]=1,$o[Gg]=1,$o[Dc]=.5,$o[h1]=1,$o[p1]=1,$o[ev]=.5,$o[Wg]=.25,$o[Xl]=.5,$o[ph]=.25,$o[v1]=.5;function bh(Y){return Array.isArray(Y)&&(Y.length===0||typeof Y[0]=="number")}function qg(Y){if(!Array.isArray(Y))return!1;var de=Y.length;return!(de===0||!uo(Y[0]))}function $s(Y){return Object.prototype.toString.call(Y)}function $u(Y){return $s(Y)===g1}function xh(Y){return $s(Y)===y1}function VE(Y){return $s(Y)===gh}function XE(Y){return $s(Y)===Kl}function KE(Y){return $s(Y)===yh}function iv(Y){return $s(Y)===Yg}function Jd(Y){if(!Y)return!1;var de=$s(Y);return rv.indexOf(de)>=0?!0:bh(Y)||qg(Y)||Lo(Y)}function ov(Y){return Ls[Object.prototype.toString.call(Y)]|0}function YE(Y,de){var ke=de.length;switch(Y.type){case Kd:case Vg:case ku:case va:var gt=xn.allocType(Y.type,ke);gt.set(de),Y.data=gt;break;case Xd:Y.data=Yp(de);break;default:$.raise("unsupported texture type, must specify a typed array")}}function Zg(Y,de){return xn.allocType(Y.type===Xd?va:Y.type,de)}function b1(Y,de){Y.type===Xd?(Y.data=Yp(de),xn.freeType(de)):Y.data=de}function qE(Y,de,ke,gt,Rt,yt){for(var St=Y.width,Xt=Y.height,$t=Y.channels,nn=St*Xt*$t,qt=Zg(Y,nn),an=0,vn=0;vn<Xt;++vn)for(var Kt=0;Kt<St;++Kt)for(var cn=0;cn<$t;++cn)qt[an++]=de[ke*Kt+gt*vn+Rt*cn+yt];b1(Y,qt)}function go(Y,de,ke,gt,Rt,yt){var St;if(typeof $o[Y]<"u"?St=$o[Y]:St=ma[Y]*Lc[de],yt&&(St*=6),Rt){for(var Xt=0,$t=ke;$t>=1;)Xt+=St*$t*$t,$t/=2;return Xt}else return St*ke*gt}function la(Y,de,ke,gt,Rt,yt,St){var Xt={"don't care":Ci,"dont care":Ci,nice:UE,fast:Kg},$t={repeat:BE,clamp:Xg,mirror:zE},nn={nearest:ct,linear:Gt},qt=r({mipmap:vi,"nearest mipmap nearest":At,"linear mipmap nearest":Gn,"nearest mipmap linear":Dr,"linear mipmap linear":vi},nn),an={none:0,browser:vh},vn={uint8:Kd,rgba4:Bg,rgb565:f1,"rgb5 a1":FE},Kt={alpha:qp,luminance:Ic,"luminance alpha":Vd,rgb:fh,rgba:Mc,rgba4:Fg,"rgb5 a1":jg,rgb565:Zp},cn={};de.ext_srgb&&(Kt.srgb=Jp,Kt.srgba=Qp),de.oes_texture_float&&(vn.float32=vn.float=va),de.oes_texture_half_float&&(vn.float16=vn["half float"]=Xd),de.webgl_depth_texture&&(r(Kt,{depth:hh,"depth stencil":Lu}),r(vn,{uint16:Vg,uint32:ku,"depth stencil":Va})),de.webgl_compressed_texture_s3tc&&r(cn,{"rgb s3tc dxt1":zg,"rgba s3tc dxt1":Hg,"rgba s3tc dxt3":Ug,"rgba s3tc dxt5":Gg}),de.webgl_compressed_texture_atc&&r(cn,{"rgb atc":Dc,"rgba atc explicit alpha":h1,"rgba atc interpolated alpha":p1}),de.webgl_compressed_texture_pvrtc&&r(cn,{"rgb pvrtc 4bppv1":ev,"rgb pvrtc 2bppv1":Wg,"rgba pvrtc 4bppv1":Xl,"rgba pvrtc 2bppv1":ph}),de.webgl_compressed_texture_etc1&&(cn["rgb etc1"]=v1);var ot=Array.prototype.slice.call(Y.getParameter($E));Object.keys(cn).forEach(function(De){var xt=cn[De];ot.indexOf(xt)>=0&&(Kt[De]=xt)});var wt=Object.keys(Kt);ke.textureFormats=wt;var Vt=[];Object.keys(Kt).forEach(function(De){var xt=Kt[De];Vt[xt]=De});var sn=[];Object.keys(vn).forEach(function(De){var xt=vn[De];sn[xt]=De});var Ft=[];Object.keys(nn).forEach(function(De){var xt=nn[De];Ft[xt]=De});var wn=[];Object.keys(qt).forEach(function(De){var xt=qt[De];wn[xt]=De});var Bt=[];Object.keys($t).forEach(function(De){var xt=$t[De];Bt[xt]=De});var fn=wt.reduce(function(De,xt){var ft=Kt[xt];return ft===Ic||ft===qp||ft===Ic||ft===Vd||ft===hh||ft===Lu||de.ext_srgb&&(ft===Jp||ft===Qp)?De[ft]=ft:ft===jg||xt.indexOf("rgba")>=0?De[ft]=Mc:De[ft]=fh,De},{});function zt(){this.internalformat=Mc,this.format=Mc,this.type=Kd,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=vh,this.width=0,this.height=0,this.channels=0}function ln(De,xt){De.internalformat=xt.internalformat,De.format=xt.format,De.type=xt.type,De.compressed=xt.compressed,De.premultiplyAlpha=xt.premultiplyAlpha,De.flipY=xt.flipY,De.unpackAlignment=xt.unpackAlignment,De.colorSpace=xt.colorSpace,De.width=xt.width,De.height=xt.height,De.channels=xt.channels}function Wn(De,xt){if(!(typeof xt!="object"||!xt)){if("premultiplyAlpha"in xt&&($.type(xt.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),De.premultiplyAlpha=xt.premultiplyAlpha),"flipY"in xt&&($.type(xt.flipY,"boolean","invalid texture flip"),De.flipY=xt.flipY),"alignment"in xt&&($.oneOf(xt.alignment,[1,2,4,8],"invalid texture unpack alignment"),De.unpackAlignment=xt.alignment),"colorSpace"in xt&&($.parameter(xt.colorSpace,an,"invalid colorSpace"),De.colorSpace=an[xt.colorSpace]),"type"in xt){var ft=xt.type;$(de.oes_texture_float||!(ft==="float"||ft==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),$(de.oes_texture_half_float||!(ft==="half float"||ft==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),$(de.webgl_depth_texture||!(ft==="uint16"||ft==="uint32"||ft==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),$.parameter(ft,vn,"invalid texture type"),De.type=vn[ft]}var Rn=De.width,Nr=De.height,Me=De.channels,me=!1;"shape"in xt?($(Array.isArray(xt.shape)&&xt.shape.length>=2,"shape must be an array"),Rn=xt.shape[0],Nr=xt.shape[1],xt.shape.length===3&&(Me=xt.shape[2],$(Me>0&&Me<=4,"invalid number of channels"),me=!0),$(Rn>=0&&Rn<=ke.maxTextureSize,"invalid width"),$(Nr>=0&&Nr<=ke.maxTextureSize,"invalid height")):("radius"in xt&&(Rn=Nr=xt.radius,$(Rn>=0&&Rn<=ke.maxTextureSize,"invalid radius")),"width"in xt&&(Rn=xt.width,$(Rn>=0&&Rn<=ke.maxTextureSize,"invalid width")),"height"in xt&&(Nr=xt.height,$(Nr>=0&&Nr<=ke.maxTextureSize,"invalid height")),"channels"in xt&&(Me=xt.channels,$(Me>0&&Me<=4,"invalid number of channels"),me=!0)),De.width=Rn|0,De.height=Nr|0,De.channels=Me|0;var ze=!1;if("format"in xt){var nt=xt.format;$(de.webgl_depth_texture||!(nt==="depth"||nt==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),$.parameter(nt,Kt,"invalid texture format");var st=De.internalformat=Kt[nt];De.format=fn[st],nt in vn&&("type"in xt||(De.type=vn[nt])),nt in cn&&(De.compressed=!0),ze=!0}!me&&ze?De.channels=ma[De.format]:me&&!ze?De.channels!==mh[De.format]&&(De.format=De.internalformat=mh[De.channels]):ze&&me&&$(De.channels===ma[De.format],"number of channels inconsistent with specified format")}}function hr(De){Y.pixelStorei(GE,De.flipY),Y.pixelStorei(qd,De.premultiplyAlpha),Y.pixelStorei(nv,De.colorSpace),Y.pixelStorei(tv,De.unpackAlignment)}function mn(){zt.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function on(De,xt){var ft=null;if(Jd(xt)?ft=xt:xt&&($.type(xt,"object","invalid pixel data type"),Wn(De,xt),"x"in xt&&(De.xOffset=xt.x|0),"y"in xt&&(De.yOffset=xt.y|0),Jd(xt.data)&&(ft=xt.data)),$(!De.compressed||ft instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),xt.copy){$(!ft,"can not specify copy and data field for the same texture");var Rn=Rt.viewportWidth,Nr=Rt.viewportHeight;De.width=De.width||Rn-De.xOffset,De.height=De.height||Nr-De.yOffset,De.needsCopy=!0,$(De.xOffset>=0&&De.xOffset<Rn&&De.yOffset>=0&&De.yOffset<Nr&&De.width>0&&De.width<=Rn&&De.height>0&&De.height<=Nr,"copy texture read out of bounds")}else if(!ft)De.width=De.width||1,De.height=De.height||1,De.channels=De.channels||4;else if(n(ft))De.channels=De.channels||4,De.data=ft,!("type"in xt)&&De.type===Kd&&(De.type=ov(ft));else if(bh(ft))De.channels=De.channels||4,YE(De,ft),De.alignment=1,De.needsFree=!0;else if(Lo(ft)){var Me=ft.data;!Array.isArray(Me)&&De.type===Kd&&(De.type=ov(Me));var me=ft.shape,ze=ft.stride,nt,st,We,Ue,Ye,Pe;me.length===3?(We=me[2],Pe=ze[2]):($(me.length===2,"invalid ndarray pixel data, must be 2 or 3D"),We=1,Pe=1),nt=me[0],st=me[1],Ue=ze[0],Ye=ze[1],De.alignment=1,De.width=nt,De.height=st,De.channels=We,De.format=De.internalformat=mh[We],De.needsFree=!0,qE(De,Me,Ue,Ye,Pe,ft.offset)}else if($u(ft)||xh(ft)||VE(ft))$u(ft)||xh(ft)?De.element=ft:De.element=ft.canvas,De.width=De.element.width,De.height=De.element.height,De.channels=4;else if(XE(ft))De.element=ft,De.width=ft.width,De.height=ft.height,De.channels=4;else if(KE(ft))De.element=ft,De.width=ft.naturalWidth,De.height=ft.naturalHeight,De.channels=4;else if(iv(ft))De.element=ft,De.width=ft.videoWidth,De.height=ft.videoHeight,De.channels=4;else if(qg(ft)){var Be=De.width||ft[0].length,Ae=De.height||ft.length,et=De.channels;uo(ft[0][0])?et=et||ft[0][0].length:et=et||1;for(var ut=Ir.shape(ft),Ot=1,Dt=0;Dt<ut.length;++Dt)Ot*=ut[Dt];var Et=Zg(De,Ot);Ir.flatten(ft,ut,"",Et),b1(De,Et),De.alignment=1,De.width=Be,De.height=Ae,De.channels=et,De.format=De.internalformat=mh[et],De.needsFree=!0}De.type===va?$(ke.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):De.type===Xd&&$(ke.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function jt(De,xt,ft){var Rn=De.element,Nr=De.data,Me=De.internalformat,me=De.format,ze=De.type,nt=De.width,st=De.height;hr(De),Rn?Y.texImage2D(xt,ft,me,me,ze,Rn):De.compressed?Y.compressedTexImage2D(xt,ft,Me,nt,st,0,Nr):De.needsCopy?(gt(),Y.copyTexImage2D(xt,ft,me,De.xOffset,De.yOffset,nt,st,0)):Y.texImage2D(xt,ft,me,nt,st,0,me,ze,Nr||null)}function or(De,xt,ft,Rn,Nr){var Me=De.element,me=De.data,ze=De.internalformat,nt=De.format,st=De.type,We=De.width,Ue=De.height;hr(De),Me?Y.texSubImage2D(xt,Nr,ft,Rn,nt,st,Me):De.compressed?Y.compressedTexSubImage2D(xt,Nr,ft,Rn,ze,We,Ue,me):De.needsCopy?(gt(),Y.copyTexSubImage2D(xt,Nr,ft,Rn,De.xOffset,De.yOffset,We,Ue)):Y.texSubImage2D(xt,Nr,ft,Rn,We,Ue,nt,st,me)}var yr=[];function Mn(){return yr.pop()||new mn}function Or(De){De.needsFree&&xn.freeType(De.data),mn.call(De),yr.push(De)}function pr(){zt.call(this),this.genMipmaps=!1,this.mipmapHint=Ci,this.mipmask=0,this.images=Array(16)}function Er(De,xt,ft){var Rn=De.images[0]=Mn();De.mipmask=1,Rn.width=De.width=xt,Rn.height=De.height=ft,Rn.channels=De.channels=4}function zr(De,xt){var ft=null;if(Jd(xt))ft=De.images[0]=Mn(),ln(ft,De),on(ft,xt),De.mipmask=1;else if(Wn(De,xt),Array.isArray(xt.mipmap))for(var Rn=xt.mipmap,Nr=0;Nr<Rn.length;++Nr)ft=De.images[Nr]=Mn(),ln(ft,De),ft.width>>=Nr,ft.height>>=Nr,on(ft,Rn[Nr]),De.mipmask|=1<<Nr;else ft=De.images[0]=Mn(),ln(ft,De),on(ft,xt),De.mipmask=1;ln(De,De.images[0]),De.compressed&&(De.internalformat===zg||De.internalformat===Hg||De.internalformat===Ug||De.internalformat===Gg)&&$(De.width%4===0&&De.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function io(De,xt){for(var ft=De.images,Rn=0;Rn<ft.length;++Rn){if(!ft[Rn])return;jt(ft[Rn],xt,Rn)}}var So=[];function Lr(){var De=So.pop()||new pr;zt.call(De),De.mipmask=0;for(var xt=0;xt<16;++xt)De.images[xt]=null;return De}function oo(De){for(var xt=De.images,ft=0;ft<xt.length;++ft)xt[ft]&&Or(xt[ft]),xt[ft]=null;So.push(De)}function Li(){this.minFilter=ct,this.magFilter=ct,this.wrapS=Xg,this.wrapT=Xg,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Ci}function Si(De,xt){if("min"in xt){var ft=xt.min;$.parameter(ft,qt),De.minFilter=qt[ft],WE.indexOf(De.minFilter)>=0&&!("faces"in xt)&&(De.genMipmaps=!0)}if("mag"in xt){var Rn=xt.mag;$.parameter(Rn,nn),De.magFilter=nn[Rn]}var Nr=De.wrapS,Me=De.wrapT;if("wrap"in xt){var me=xt.wrap;typeof me=="string"?($.parameter(me,$t),Nr=Me=$t[me]):Array.isArray(me)&&($.parameter(me[0],$t),$.parameter(me[1],$t),Nr=$t[me[0]],Me=$t[me[1]])}else{if("wrapS"in xt){var ze=xt.wrapS;$.parameter(ze,$t),Nr=$t[ze]}if("wrapT"in xt){var nt=xt.wrapT;$.parameter(nt,$t),Me=$t[nt]}}if(De.wrapS=Nr,De.wrapT=Me,"anisotropic"in xt){var st=xt.anisotropic;$(typeof st=="number"&&st>=1&&st<=ke.maxAnisotropic,"aniso samples must be between 1 and "),De.anisotropic=xt.anisotropic}if("mipmap"in xt){var We=!1;switch(typeof xt.mipmap){case"string":$.parameter(xt.mipmap,Xt,"invalid mipmap hint"),De.mipmapHint=Xt[xt.mipmap],De.genMipmaps=!0,We=!0;break;case"boolean":We=De.genMipmaps=xt.mipmap;break;case"object":$(Array.isArray(xt.mipmap),"invalid mipmap type"),De.genMipmaps=!1,We=!0;break;default:$.raise("invalid mipmap type")}We&&!("min"in xt)&&(De.minFilter=At)}}function Ki(De,xt){Y.texParameteri(xt,Yd,De.minFilter),Y.texParameteri(xt,HE,De.magFilter),Y.texParameteri(xt,m1,De.wrapS),Y.texParameteri(xt,jE,De.wrapT),de.ext_texture_filter_anisotropic&&Y.texParameteri(xt,cs,De.anisotropic),De.genMipmaps&&(Y.hint(ko,De.mipmapHint),Y.generateMipmap(xt))}var wo=0,Po={},Ko=ke.maxTextureUnits,co=Array(Ko).map(function(){return null});function xr(De){zt.call(this),this.mipmask=0,this.internalformat=Mc,this.id=wo++,this.refCount=1,this.target=De,this.texture=Y.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Li,St.profile&&(this.stats={size:0})}function Yo(De){Y.activeTexture(mi),Y.bindTexture(De.target,De.texture)}function ui(){var De=co[0];De?Y.bindTexture(De.target,De.texture):Y.bindTexture(ks,null)}function Zn(De){var xt=De.texture;$(xt,"must not double destroy texture");var ft=De.unit,Rn=De.target;ft>=0&&(Y.activeTexture(mi+ft),Y.bindTexture(Rn,null),co[ft]=null),Y.deleteTexture(xt),De.texture=null,De.params=null,De.pixels=null,De.refCount=0,delete Po[De.id],yt.textureCount--}r(xr.prototype,{bind:function(){var De=this;De.bindCount+=1;var xt=De.unit;if(xt<0){for(var ft=0;ft<Ko;++ft){var Rn=co[ft];if(Rn){if(Rn.bindCount>0)continue;Rn.unit=-1}co[ft]=De,xt=ft;break}xt>=Ko&&$.raise("insufficient number of texture units"),St.profile&&yt.maxTextureUnits<xt+1&&(yt.maxTextureUnits=xt+1),De.unit=xt,Y.activeTexture(mi+xt),Y.bindTexture(De.target,De.texture)}return xt},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Zn(this)}});function kr(De,xt){var ft=new xr(ks);Po[ft.id]=ft,yt.textureCount++;function Rn(me,ze){var nt=ft.texInfo;Li.call(nt);var st=Lr();return typeof me=="number"?typeof ze=="number"?Er(st,me|0,ze|0):Er(st,me|0,me|0):me?($.type(me,"object","invalid arguments to regl.texture"),Si(nt,me),zr(st,me)):Er(st,1,1),nt.genMipmaps&&(st.mipmask=(st.width<<1)-1),ft.mipmask=st.mipmask,ln(ft,st),$.texture2D(nt,st,ke),ft.internalformat=st.internalformat,Rn.width=st.width,Rn.height=st.height,Yo(ft),io(st,ks),Ki(nt,ks),ui(),oo(st),St.profile&&(ft.stats.size=go(ft.internalformat,ft.type,st.width,st.height,nt.genMipmaps,!1)),Rn.format=Vt[ft.internalformat],Rn.type=sn[ft.type],Rn.mag=Ft[nt.magFilter],Rn.min=wn[nt.minFilter],Rn.wrapS=Bt[nt.wrapS],Rn.wrapT=Bt[nt.wrapT],Rn}function Nr(me,ze,nt,st){$(!!me,"must specify image data");var We=ze|0,Ue=nt|0,Ye=st|0,Pe=Mn();return ln(Pe,ft),Pe.width=0,Pe.height=0,on(Pe,me),Pe.width=Pe.width||(ft.width>>Ye)-We,Pe.height=Pe.height||(ft.height>>Ye)-Ue,$(ft.type===Pe.type&&ft.format===Pe.format&&ft.internalformat===Pe.internalformat,"incompatible format for texture.subimage"),$(We>=0&&Ue>=0&&We+Pe.width<=ft.width&&Ue+Pe.height<=ft.height,"texture.subimage write out of bounds"),$(ft.mipmask&1<<Ye,"missing mipmap data"),$(Pe.data||Pe.element||Pe.needsCopy,"missing image data"),Yo(ft),or(Pe,ks,We,Ue,Ye),ui(),Or(Pe),Rn}function Me(me,ze){var nt=me|0,st=ze|0||nt;if(nt===ft.width&&st===ft.height)return Rn;Rn.width=ft.width=nt,Rn.height=ft.height=st,Yo(ft);for(var We=0;ft.mipmask>>We;++We){var Ue=nt>>We,Ye=st>>We;if(!Ue||!Ye)break;Y.texImage2D(ks,We,ft.format,Ue,Ye,0,ft.format,ft.type,null)}return ui(),St.profile&&(ft.stats.size=go(ft.internalformat,ft.type,nt,st,!1,!1)),Rn}return Rn(De,xt),Rn.subimage=Nr,Rn.resize=Me,Rn._reglType="texture2d",Rn._texture=ft,St.profile&&(Rn.stats=ft.stats),Rn.destroy=function(){ft.decRef()},Rn}function Wr(De,xt,ft,Rn,Nr,Me){var me=new xr(Wd);Po[me.id]=me,yt.cubeCount++;var ze=new Array(6);function nt(Ue,Ye,Pe,Be,Ae,et){var ut,Ot=me.texInfo;for(Li.call(Ot),ut=0;ut<6;++ut)ze[ut]=Lr();if(typeof Ue=="number"||!Ue){var Dt=Ue|0||1;for(ut=0;ut<6;++ut)Er(ze[ut],Dt,Dt)}else if(typeof Ue=="object")if(Ye)zr(ze[0],Ue),zr(ze[1],Ye),zr(ze[2],Pe),zr(ze[3],Be),zr(ze[4],Ae),zr(ze[5],et);else if(Si(Ot,Ue),Wn(me,Ue),"faces"in Ue){var Et=Ue.faces;for($(Array.isArray(Et)&&Et.length===6,"cube faces must be a length 6 array"),ut=0;ut<6;++ut)$(typeof Et[ut]=="object"&&!!Et[ut],"invalid input for cube map face"),ln(ze[ut],me),zr(ze[ut],Et[ut])}else for(ut=0;ut<6;++ut)zr(ze[ut],Ue);else $.raise("invalid arguments to cube map");for(ln(me,ze[0]),ke.npotTextureCube||$(d1(me.width)&&d1(me.height),"your browser does not support non power or two texture dimensions"),Ot.genMipmaps?me.mipmask=(ze[0].width<<1)-1:me.mipmask=ze[0].mipmask,$.textureCube(me,Ot,ze,ke),me.internalformat=ze[0].internalformat,nt.width=ze[0].width,nt.height=ze[0].height,Yo(me),ut=0;ut<6;++ut)io(ze[ut],Vl+ut);for(Ki(Ot,Wd),ui(),St.profile&&(me.stats.size=go(me.internalformat,me.type,nt.width,nt.height,Ot.genMipmaps,!0)),nt.format=Vt[me.internalformat],nt.type=sn[me.type],nt.mag=Ft[Ot.magFilter],nt.min=wn[Ot.minFilter],nt.wrapS=Bt[Ot.wrapS],nt.wrapT=Bt[Ot.wrapT],ut=0;ut<6;++ut)oo(ze[ut]);return nt}function st(Ue,Ye,Pe,Be,Ae){$(!!Ye,"must specify image data"),$(typeof Ue=="number"&&Ue===(Ue|0)&&Ue>=0&&Ue<6,"invalid face");var et=Pe|0,ut=Be|0,Ot=Ae|0,Dt=Mn();return ln(Dt,me),Dt.width=0,Dt.height=0,on(Dt,Ye),Dt.width=Dt.width||(me.width>>Ot)-et,Dt.height=Dt.height||(me.height>>Ot)-ut,$(me.type===Dt.type&&me.format===Dt.format&&me.internalformat===Dt.internalformat,"incompatible format for texture.subimage"),$(et>=0&&ut>=0&&et+Dt.width<=me.width&&ut+Dt.height<=me.height,"texture.subimage write out of bounds"),$(me.mipmask&1<<Ot,"missing mipmap data"),$(Dt.data||Dt.element||Dt.needsCopy,"missing image data"),Yo(me),or(Dt,Vl+Ue,et,ut,Ot),ui(),Or(Dt),nt}function We(Ue){var Ye=Ue|0;if(Ye!==me.width){nt.width=me.width=Ye,nt.height=me.height=Ye,Yo(me);for(var Pe=0;Pe<6;++Pe)for(var Be=0;me.mipmask>>Be;++Be)Y.texImage2D(Vl+Pe,Be,me.format,Ye>>Be,Ye>>Be,0,me.format,me.type,null);return ui(),St.profile&&(me.stats.size=go(me.internalformat,me.type,nt.width,nt.height,!1,!0)),nt}}return nt(De,xt,ft,Rn,Nr,Me),nt.subimage=st,nt.resize=We,nt._reglType="textureCube",nt._texture=me,St.profile&&(nt.stats=me.stats),nt.destroy=function(){me.decRef()},nt}function fo(){for(var De=0;De<Ko;++De)Y.activeTexture(mi+De),Y.bindTexture(ks,null),co[De]=null;aa(Po).forEach(Zn),yt.cubeCount=0,yt.textureCount=0}St.profile&&(yt.getTotalTextureSize=function(){var De=0;return Object.keys(Po).forEach(function(xt){De+=Po[xt].stats.size}),De});function pl(){for(var De=0;De<Ko;++De){var xt=co[De];xt&&(xt.bindCount=0,xt.unit=-1,co[De]=null)}aa(Po).forEach(function(ft){ft.texture=Y.createTexture(),Y.bindTexture(ft.target,ft.texture);for(var Rn=0;Rn<32;++Rn)if(ft.mipmask&1<<Rn)if(ft.target===ks)Y.texImage2D(ks,Rn,ft.internalformat,ft.width>>Rn,ft.height>>Rn,0,ft.internalformat,ft.type,null);else for(var Nr=0;Nr<6;++Nr)Y.texImage2D(Vl+Nr,Rn,ft.internalformat,ft.width>>Rn,ft.height>>Rn,0,ft.internalformat,ft.type,null);Ki(ft.texInfo,ft.target)})}function nd(){for(var De=0;De<Ko;++De){var xt=co[De];xt&&(xt.bindCount=0,xt.unit=-1,co[De]=null),Y.activeTexture(mi+De),Y.bindTexture(ks,null),Y.bindTexture(Wd,null)}}return{create2D:kr,createCube:Wr,clear:fo,getTexture:function(De){return null},restore:pl,refresh:nd}}var Fu=36161,av=32854,Jg=32855,x1=36194,sv=33189,Qd=36168,lv=34041,kc=35907,ef=34836,tf=34842,_h=34843,ua=[];ua[av]=2,ua[Jg]=2,ua[x1]=2,ua[sv]=2,ua[Qd]=1,ua[lv]=4,ua[kc]=4,ua[ef]=16,ua[tf]=8,ua[_h]=6;function _1(Y,de,ke){return ua[Y]*de*ke}var ZE=function(Y,de,ke,gt,Rt){var yt={rgba4:av,rgb565:x1,"rgb5 a1":Jg,depth:sv,stencil:Qd,"depth stencil":lv};de.ext_srgb&&(yt.srgba=kc),de.ext_color_buffer_half_float&&(yt.rgba16f=tf,yt.rgb16f=_h),de.webgl_color_buffer_float&&(yt.rgba32f=ef);var St=[];Object.keys(yt).forEach(function(Kt){var cn=yt[Kt];St[cn]=Kt});var Xt=0,$t={};function nn(Kt){this.id=Xt++,this.refCount=1,this.renderbuffer=Kt,this.format=av,this.width=0,this.height=0,Rt.profile&&(this.stats={size:0})}nn.prototype.decRef=function(){--this.refCount<=0&&qt(this)};function qt(Kt){var cn=Kt.renderbuffer;$(cn,"must not double destroy renderbuffer"),Y.bindRenderbuffer(Fu,null),Y.deleteRenderbuffer(cn),Kt.renderbuffer=null,Kt.refCount=0,delete $t[Kt.id],gt.renderbufferCount--}function an(Kt,cn){var ot=new nn(Y.createRenderbuffer());$t[ot.id]=ot,gt.renderbufferCount++;function wt(sn,Ft){var wn=0,Bt=0,fn=av;if(typeof sn=="object"&&sn){var zt=sn;if("shape"in zt){var ln=zt.shape;$(Array.isArray(ln)&&ln.length>=2,"invalid renderbuffer shape"),wn=ln[0]|0,Bt=ln[1]|0}else"radius"in zt&&(wn=Bt=zt.radius|0),"width"in zt&&(wn=zt.width|0),"height"in zt&&(Bt=zt.height|0);"format"in zt&&($.parameter(zt.format,yt,"invalid renderbuffer format"),fn=yt[zt.format])}else typeof sn=="number"?(wn=sn|0,typeof Ft=="number"?Bt=Ft|0:Bt=wn):sn?$.raise("invalid arguments to renderbuffer constructor"):wn=Bt=1;if($(wn>0&&Bt>0&&wn<=ke.maxRenderbufferSize&&Bt<=ke.maxRenderbufferSize,"invalid renderbuffer size"),!(wn===ot.width&&Bt===ot.height&&fn===ot.format))return wt.width=ot.width=wn,wt.height=ot.height=Bt,ot.format=fn,Y.bindRenderbuffer(Fu,ot.renderbuffer),Y.renderbufferStorage(Fu,fn,wn,Bt),$(Y.getError()===0,"invalid render buffer format"),Rt.profile&&(ot.stats.size=_1(ot.format,ot.width,ot.height)),wt.format=St[ot.format],wt}function Vt(sn,Ft){var wn=sn|0,Bt=Ft|0||wn;return wn===ot.width&&Bt===ot.height||($(wn>0&&Bt>0&&wn<=ke.maxRenderbufferSize&&Bt<=ke.maxRenderbufferSize,"invalid renderbuffer size"),wt.width=ot.width=wn,wt.height=ot.height=Bt,Y.bindRenderbuffer(Fu,ot.renderbuffer),Y.renderbufferStorage(Fu,ot.format,wn,Bt),$(Y.getError()===0,"invalid render buffer format"),Rt.profile&&(ot.stats.size=_1(ot.format,ot.width,ot.height))),wt}return wt(Kt,cn),wt.resize=Vt,wt._reglType="renderbuffer",wt._renderbuffer=ot,Rt.profile&&(wt.stats=ot.stats),wt.destroy=function(){ot.decRef()},wt}Rt.profile&&(gt.getTotalRenderbufferSize=function(){var Kt=0;return Object.keys($t).forEach(function(cn){Kt+=$t[cn].stats.size}),Kt});function vn(){aa($t).forEach(function(Kt){Kt.renderbuffer=Y.createRenderbuffer(),Y.bindRenderbuffer(Fu,Kt.renderbuffer),Y.renderbufferStorage(Fu,Kt.format,Kt.width,Kt.height)}),Y.bindRenderbuffer(Fu,null)}return{create:an,clear:function(){aa($t).forEach(qt)},restore:vn}},Yl=36160,Qg=36161,$c=3553,Fc=34069,nf=36064,e0=36096,ge=36128,jc=33306,Sh=36053,ds=36054,li=36055,JE=36057,QE=36061,eC=36193,Bc=5121,tC=5126,S1=6407,w1=6408,nC=6402,rC=[S1,w1],Fs=[];Fs[w1]=4,Fs[S1]=3;var uv=[];uv[Bc]=1,uv[tC]=4,uv[eC]=2;var iC=32854,oC=32855,aC=36194,sC=33189,ql=36168,E1=34041,lC=35907,uC=34836,cC=34842,dC=34843,zc=[iC,oC,aC,lC,cC,dC,uC],rf={};rf[Sh]="complete",rf[ds]="incomplete attachment",rf[JE]="incomplete dimensions",rf[li]="incomplete, missing attachment",rf[QE]="unsupported";function fC(Y,de,ke,gt,Rt,yt){var St={cur:null,next:null,dirty:!1,setFBO:null},Xt=["rgba"],$t=["rgba4","rgb565","rgb5 a1"];de.ext_srgb&&$t.push("srgba"),de.ext_color_buffer_half_float&&$t.push("rgba16f","rgb16f"),de.webgl_color_buffer_float&&$t.push("rgba32f");var nn=["uint8"];de.oes_texture_half_float&&nn.push("half float","float16"),de.oes_texture_float&&nn.push("float","float32");function qt(mn,on,jt){this.target=mn,this.texture=on,this.renderbuffer=jt;var or=0,yr=0;on?(or=on.width,yr=on.height):jt&&(or=jt.width,yr=jt.height),this.width=or,this.height=yr}function an(mn){mn&&(mn.texture&&mn.texture._texture.decRef(),mn.renderbuffer&&mn.renderbuffer._renderbuffer.decRef())}function vn(mn,on,jt){if(mn)if(mn.texture){var or=mn.texture._texture,yr=Math.max(1,or.width),Mn=Math.max(1,or.height);$(yr===on&&Mn===jt,"inconsistent width/height for supplied texture"),or.refCount+=1}else{var Or=mn.renderbuffer._renderbuffer;$(Or.width===on&&Or.height===jt,"inconsistent width/height for renderbuffer"),Or.refCount+=1}}function Kt(mn,on){on&&(on.texture?Y.framebufferTexture2D(Yl,mn,on.target,on.texture._texture.texture,0):Y.framebufferRenderbuffer(Yl,mn,Qg,on.renderbuffer._renderbuffer.renderbuffer))}function cn(mn){var on=$c,jt=null,or=null,yr=mn;typeof mn=="object"&&(yr=mn.data,"target"in mn&&(on=mn.target|0)),$.type(yr,"function","invalid attachment data");var Mn=yr._reglType;return Mn==="texture2d"?(jt=yr,$(on===$c)):Mn==="textureCube"?(jt=yr,$(on>=Fc&&on<Fc+6,"invalid cube map target")):Mn==="renderbuffer"?(or=yr,on=Qg):$.raise("invalid regl object for attachment"),new qt(on,jt,or)}function ot(mn,on,jt,or,yr){if(jt){var Mn=gt.create2D({width:mn,height:on,format:or,type:yr});return Mn._texture.refCount=0,new qt($c,Mn,null)}else{var Or=Rt.create({width:mn,height:on,format:or});return Or._renderbuffer.refCount=0,new qt(Qg,null,Or)}}function wt(mn){return mn&&(mn.texture||mn.renderbuffer)}function Vt(mn,on,jt){mn&&(mn.texture?mn.texture.resize(on,jt):mn.renderbuffer&&mn.renderbuffer.resize(on,jt),mn.width=on,mn.height=jt)}var sn=0,Ft={};function wn(){this.id=sn++,Ft[this.id]=this,this.framebuffer=Y.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Bt(mn){mn.colorAttachments.forEach(an),an(mn.depthAttachment),an(mn.stencilAttachment),an(mn.depthStencilAttachment)}function fn(mn){var on=mn.framebuffer;$(on,"must not double destroy framebuffer"),Y.deleteFramebuffer(on),mn.framebuffer=null,yt.framebufferCount--,delete Ft[mn.id]}function zt(mn){var on;Y.bindFramebuffer(Yl,mn.framebuffer);var jt=mn.colorAttachments;for(on=0;on<jt.length;++on)Kt(nf+on,jt[on]);for(on=jt.length;on<ke.maxColorAttachments;++on)Y.framebufferTexture2D(Yl,nf+on,$c,null,0);Y.framebufferTexture2D(Yl,jc,$c,null,0),Y.framebufferTexture2D(Yl,e0,$c,null,0),Y.framebufferTexture2D(Yl,ge,$c,null,0),Kt(e0,mn.depthAttachment),Kt(ge,mn.stencilAttachment),Kt(jc,mn.depthStencilAttachment);var or=Y.checkFramebufferStatus(Yl);!Y.isContextLost()&&or!==Sh&&$.raise("framebuffer configuration not supported, status = "+rf[or]),Y.bindFramebuffer(Yl,St.next?St.next.framebuffer:null),St.cur=St.next,Y.getError()}function ln(mn,on){var jt=new wn;yt.framebufferCount++;function or(Mn,Or){var pr;$(St.next!==jt,"can not update framebuffer which is currently in use");var Er=0,zr=0,io=!0,So=!0,Lr=null,oo=!0,Li="rgba",Si="uint8",Ki=1,wo=null,Po=null,Ko=null,co=!1;if(typeof Mn=="number")Er=Mn|0,zr=Or|0||Er;else if(!Mn)Er=zr=1;else{$.type(Mn,"object","invalid arguments for framebuffer");var xr=Mn;if("shape"in xr){var Yo=xr.shape;$(Array.isArray(Yo)&&Yo.length>=2,"invalid shape for framebuffer"),Er=Yo[0],zr=Yo[1]}else"radius"in xr&&(Er=zr=xr.radius),"width"in xr&&(Er=xr.width),"height"in xr&&(zr=xr.height);("color"in xr||"colors"in xr)&&(Lr=xr.color||xr.colors,Array.isArray(Lr)&&$(Lr.length===1||de.webgl_draw_buffers,"multiple render targets not supported")),Lr||("colorCount"in xr&&(Ki=xr.colorCount|0,$(Ki>0,"invalid color buffer count")),"colorTexture"in xr&&(oo=!!xr.colorTexture,Li="rgba4"),"colorType"in xr&&(Si=xr.colorType,oo?($(de.oes_texture_float||!(Si==="float"||Si==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),$(de.oes_texture_half_float||!(Si==="half float"||Si==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Si==="half float"||Si==="float16"?($(de.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Li="rgba16f"):(Si==="float"||Si==="float32")&&($(de.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Li="rgba32f"),$.oneOf(Si,nn,"invalid color type")),"colorFormat"in xr&&(Li=xr.colorFormat,Xt.indexOf(Li)>=0?oo=!0:$t.indexOf(Li)>=0?oo=!1:oo?$.oneOf(xr.colorFormat,Xt,"invalid color format for texture"):$.oneOf(xr.colorFormat,$t,"invalid color format for renderbuffer"))),("depthTexture"in xr||"depthStencilTexture"in xr)&&(co=!!(xr.depthTexture||xr.depthStencilTexture),$(!co||de.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in xr&&(typeof xr.depth=="boolean"?io=xr.depth:(wo=xr.depth,So=!1)),"stencil"in xr&&(typeof xr.stencil=="boolean"?So=xr.stencil:(Po=xr.stencil,io=!1)),"depthStencil"in xr&&(typeof xr.depthStencil=="boolean"?io=So=xr.depthStencil:(Ko=xr.depthStencil,io=!1,So=!1))}var ui=null,Zn=null,kr=null,Wr=null;if(Array.isArray(Lr))ui=Lr.map(cn);else if(Lr)ui=[cn(Lr)];else for(ui=new Array(Ki),pr=0;pr<Ki;++pr)ui[pr]=ot(Er,zr,oo,Li,Si);$(de.webgl_draw_buffers||ui.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),$(ui.length<=ke.maxColorAttachments,"too many color attachments, not supported"),Er=Er||ui[0].width,zr=zr||ui[0].height,wo?Zn=cn(wo):io&&!So&&(Zn=ot(Er,zr,co,"depth","uint32")),Po?kr=cn(Po):So&&!io&&(kr=ot(Er,zr,!1,"stencil","uint8")),Ko?Wr=cn(Ko):!wo&&!Po&&So&&io&&(Wr=ot(Er,zr,co,"depth stencil","depth stencil")),$(!!wo+!!Po+!!Ko<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var fo=null;for(pr=0;pr<ui.length;++pr)if(vn(ui[pr],Er,zr),$(!ui[pr]||ui[pr].texture&&rC.indexOf(ui[pr].texture._texture.format)>=0||ui[pr].renderbuffer&&zc.indexOf(ui[pr].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+pr+" is invalid"),ui[pr]&&ui[pr].texture){var pl=Fs[ui[pr].texture._texture.format]*uv[ui[pr].texture._texture.type];fo===null?fo=pl:$(fo===pl,"all color attachments much have the same number of bits per pixel.")}return vn(Zn,Er,zr),$(!Zn||Zn.texture&&Zn.texture._texture.format===nC||Zn.renderbuffer&&Zn.renderbuffer._renderbuffer.format===sC,"invalid depth attachment for framebuffer object"),vn(kr,Er,zr),$(!kr||kr.renderbuffer&&kr.renderbuffer._renderbuffer.format===ql,"invalid stencil attachment for framebuffer object"),vn(Wr,Er,zr),$(!Wr||Wr.texture&&Wr.texture._texture.format===E1||Wr.renderbuffer&&Wr.renderbuffer._renderbuffer.format===E1,"invalid depth-stencil attachment for framebuffer object"),Bt(jt),jt.width=Er,jt.height=zr,jt.colorAttachments=ui,jt.depthAttachment=Zn,jt.stencilAttachment=kr,jt.depthStencilAttachment=Wr,or.color=ui.map(wt),or.depth=wt(Zn),or.stencil=wt(kr),or.depthStencil=wt(Wr),or.width=jt.width,or.height=jt.height,zt(jt),or}function yr(Mn,Or){$(St.next!==jt,"can not resize a framebuffer which is currently in use");var pr=Math.max(Mn|0,1),Er=Math.max(Or|0||pr,1);if(pr===jt.width&&Er===jt.height)return or;for(var zr=jt.colorAttachments,io=0;io<zr.length;++io)Vt(zr[io],pr,Er);return Vt(jt.depthAttachment,pr,Er),Vt(jt.stencilAttachment,pr,Er),Vt(jt.depthStencilAttachment,pr,Er),jt.width=or.width=pr,jt.height=or.height=Er,zt(jt),or}return or(mn,on),r(or,{resize:yr,_reglType:"framebuffer",_framebuffer:jt,destroy:function(){fn(jt),Bt(jt)},use:function(Mn){St.setFBO({framebuffer:or},Mn)}})}function Wn(mn){var on=Array(6);function jt(yr){var Mn;$(on.indexOf(St.next)<0,"can not update framebuffer which is currently in use");var Or={color:null},pr=0,Er=null,zr="rgba",io="uint8",So=1;if(typeof yr=="number")pr=yr|0;else if(!yr)pr=1;else{$.type(yr,"object","invalid arguments for framebuffer");var Lr=yr;if("shape"in Lr){var oo=Lr.shape;$(Array.isArray(oo)&&oo.length>=2,"invalid shape for framebuffer"),$(oo[0]===oo[1],"cube framebuffer must be square"),pr=oo[0]}else"radius"in Lr&&(pr=Lr.radius|0),"width"in Lr?(pr=Lr.width|0,"height"in Lr&&$(Lr.height===pr,"must be square")):"height"in Lr&&(pr=Lr.height|0);("color"in Lr||"colors"in Lr)&&(Er=Lr.color||Lr.colors,Array.isArray(Er)&&$(Er.length===1||de.webgl_draw_buffers,"multiple render targets not supported")),Er||("colorCount"in Lr&&(So=Lr.colorCount|0,$(So>0,"invalid color buffer count")),"colorType"in Lr&&($.oneOf(Lr.colorType,nn,"invalid color type"),io=Lr.colorType),"colorFormat"in Lr&&(zr=Lr.colorFormat,$.oneOf(Lr.colorFormat,Xt,"invalid color format for texture"))),"depth"in Lr&&(Or.depth=Lr.depth),"stencil"in Lr&&(Or.stencil=Lr.stencil),"depthStencil"in Lr&&(Or.depthStencil=Lr.depthStencil)}var Li;if(Er)if(Array.isArray(Er))for(Li=[],Mn=0;Mn<Er.length;++Mn)Li[Mn]=Er[Mn];else Li=[Er];else{Li=Array(So);var Si={radius:pr,format:zr,type:io};for(Mn=0;Mn<So;++Mn)Li[Mn]=gt.createCube(Si)}for(Or.color=Array(Li.length),Mn=0;Mn<Li.length;++Mn){var Ki=Li[Mn];$(typeof Ki=="function"&&Ki._reglType==="textureCube","invalid cube map"),pr=pr||Ki.width,$(Ki.width===pr&&Ki.height===pr,"invalid cube map shape"),Or.color[Mn]={target:Fc,data:Li[Mn]}}for(Mn=0;Mn<6;++Mn){for(var wo=0;wo<Li.length;++wo)Or.color[wo].target=Fc+Mn;Mn>0&&(Or.depth=on[0].depth,Or.stencil=on[0].stencil,Or.depthStencil=on[0].depthStencil),on[Mn]?on[Mn](Or):on[Mn]=ln(Or)}return r(jt,{width:pr,height:pr,color:Li})}function or(yr){var Mn,Or=yr|0;if($(Or>0&&Or<=ke.maxCubeMapSize,"invalid radius for cube fbo"),Or===jt.width)return jt;var pr=jt.color;for(Mn=0;Mn<pr.length;++Mn)pr[Mn].resize(Or);for(Mn=0;Mn<6;++Mn)on[Mn].resize(Or);return jt.width=jt.height=Or,jt}return jt(mn),r(jt,{faces:on,resize:or,_reglType:"framebufferCube",destroy:function(){on.forEach(function(yr){yr.destroy()})}})}function hr(){St.cur=null,St.next=null,St.dirty=!0,aa(Ft).forEach(function(mn){mn.framebuffer=Y.createFramebuffer(),zt(mn)})}return r(St,{getFramebuffer:function(mn){if(typeof mn=="function"&&mn._reglType==="framebuffer"){var on=mn._framebuffer;if(on instanceof wn)return on}return null},create:ln,createCube:Wn,clear:function(){aa(Ft).forEach(fn)},restore:hr})}var js=5126,C1=34962;function t0(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=js,this.offset=0,this.stride=0,this.divisor=0}function hC(Y,de,ke,gt,Rt){for(var yt=ke.maxAttributes,St=new Array(yt),Xt=0;Xt<yt;++Xt)St[Xt]=new t0;var $t=0,nn={},qt={Record:t0,scope:{},state:St,currentVAO:null,targetVAO:null,restore:vn()?Ft:function(){},createVAO:wn,getVAO:cn,destroyBuffer:an,setVAO:vn()?ot:wt,clear:vn()?Vt:function(){}};function an(Bt){for(var fn=0;fn<St.length;++fn){var zt=St[fn];zt.buffer===Bt&&(Y.disableVertexAttribArray(fn),zt.buffer=null)}}function vn(){return de.oes_vertex_array_object}function Kt(){return de.angle_instanced_arrays}function cn(Bt){return typeof Bt=="function"&&Bt._vao?Bt._vao:null}function ot(Bt){if(Bt!==qt.currentVAO){var fn=vn();Bt?fn.bindVertexArrayOES(Bt.vao):fn.bindVertexArrayOES(null),qt.currentVAO=Bt}}function wt(Bt){if(Bt!==qt.currentVAO){if(Bt)Bt.bindAttrs();else for(var fn=Kt(),zt=0;zt<St.length;++zt){var ln=St[zt];ln.buffer?(Y.enableVertexAttribArray(zt),Y.vertexAttribPointer(zt,ln.size,ln.type,ln.normalized,ln.stride,ln.offfset),fn&&ln.divisor&&fn.vertexAttribDivisorANGLE(zt,ln.divisor)):(Y.disableVertexAttribArray(zt),Y.vertexAttrib4f(zt,ln.x,ln.y,ln.z,ln.w))}qt.currentVAO=Bt}}function Vt(){aa(nn).forEach(function(Bt){Bt.destroy()})}function sn(){this.id=++$t,this.attributes=[];var Bt=vn();Bt?this.vao=Bt.createVertexArrayOES():this.vao=null,nn[this.id]=this,this.buffers=[]}sn.prototype.bindAttrs=function(){for(var Bt=Kt(),fn=this.attributes,zt=0;zt<fn.length;++zt){var ln=fn[zt];ln.buffer?(Y.enableVertexAttribArray(zt),Y.bindBuffer(C1,ln.buffer.buffer),Y.vertexAttribPointer(zt,ln.size,ln.type,ln.normalized,ln.stride,ln.offset),Bt&&ln.divisor&&Bt.vertexAttribDivisorANGLE(zt,ln.divisor)):(Y.disableVertexAttribArray(zt),Y.vertexAttrib4f(zt,ln.x,ln.y,ln.z,ln.w))}for(var Wn=fn.length;Wn<yt;++Wn)Y.disableVertexAttribArray(Wn)},sn.prototype.refresh=function(){var Bt=vn();Bt&&(Bt.bindVertexArrayOES(this.vao),this.bindAttrs(),qt.currentVAO=this)},sn.prototype.destroy=function(){if(this.vao){var Bt=vn();this===qt.currentVAO&&(qt.currentVAO=null,Bt.bindVertexArrayOES(null)),Bt.deleteVertexArrayOES(this.vao),this.vao=null}nn[this.id]&&(delete nn[this.id],gt.vaoCount-=1)};function Ft(){var Bt=vn();Bt&&aa(nn).forEach(function(fn){fn.refresh()})}function wn(Bt){var fn=new sn;gt.vaoCount+=1;function zt(ln){$(Array.isArray(ln),"arguments to vertex array constructor must be an array"),$(ln.length<yt,"too many attributes"),$(ln.length>0,"must specify at least one attribute");var Wn={},hr=fn.attributes;hr.length=ln.length;for(var mn=0;mn<ln.length;++mn){var on=ln[mn],jt=hr[mn]=new t0,or=on.data||on;if(Array.isArray(or)||n(or)||Lo(or)){var yr;fn.buffers[mn]&&(yr=fn.buffers[mn],n(or)&&yr._buffer.byteLength>=or.byteLength?yr.subdata(or):(yr.destroy(),fn.buffers[mn]=null)),fn.buffers[mn]||(yr=fn.buffers[mn]=Rt.create(on,C1,!1,!0)),jt.buffer=Rt.getBuffer(yr),jt.size=jt.buffer.dimension|0,jt.normalized=!1,jt.type=jt.buffer.dtype,jt.offset=0,jt.stride=0,jt.divisor=0,jt.state=1,Wn[mn]=1}else Rt.getBuffer(on)?(jt.buffer=Rt.getBuffer(on),jt.size=jt.buffer.dimension|0,jt.normalized=!1,jt.type=jt.buffer.dtype,jt.offset=0,jt.stride=0,jt.divisor=0,jt.state=1):Rt.getBuffer(on.buffer)?(jt.buffer=Rt.getBuffer(on.buffer),jt.size=(+on.size||jt.buffer.dimension)|0,jt.normalized=!!on.normalized||!1,"type"in on?($.parameter(on.type,Ac,"invalid buffer type"),jt.type=Ac[on.type]):jt.type=jt.buffer.dtype,jt.offset=(on.offset||0)|0,jt.stride=(on.stride||0)|0,jt.divisor=(on.divisor||0)|0,jt.state=1,$(jt.size>=1&&jt.size<=4,"size must be between 1 and 4"),$(jt.offset>=0,"invalid offset"),$(jt.stride>=0&&jt.stride<=255,"stride must be between 0 and 255"),$(jt.divisor>=0,"divisor must be positive"),$(!jt.divisor||!!de.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in on?($(mn>0,"first attribute must not be a constant"),jt.x=+on.x||0,jt.y=+on.y||0,jt.z=+on.z||0,jt.w=+on.w||0,jt.state=2):$(!1,"invalid attribute spec for location "+mn)}for(var Mn=0;Mn<fn.buffers.length;++Mn)!Wn[Mn]&&fn.buffers[Mn]&&(fn.buffers[Mn].destroy(),fn.buffers[Mn]=null);return fn.refresh(),zt}return zt.destroy=function(){for(var ln=0;ln<fn.buffers.length;++ln)fn.buffers[ln]&&fn.buffers[ln].destroy();fn.buffers.length=0,fn.destroy()},zt._vao=fn,zt._reglType="vao",zt(Bt)}return qt}var T1=35632,pC=35633,R1=35718,P1=35721;function vC(Y,de,ke,gt){var Rt={},yt={};function St(ot,wt,Vt,sn){this.name=ot,this.id=wt,this.location=Vt,this.info=sn}function Xt(ot,wt){for(var Vt=0;Vt<ot.length;++Vt)if(ot[Vt].id===wt.id){ot[Vt].location=wt.location;return}ot.push(wt)}function $t(ot,wt,Vt){var sn=ot===T1?Rt:yt,Ft=sn[wt];if(!Ft){var wn=de.str(wt);Ft=Y.createShader(ot),Y.shaderSource(Ft,wn),Y.compileShader(Ft),$.shaderError(Y,Ft,wn,ot,Vt),sn[wt]=Ft}return Ft}var nn={},qt=[],an=0;function vn(ot,wt){this.id=an++,this.fragId=ot,this.vertId=wt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,gt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Kt(ot,wt,Vt){var sn,Ft,wn=$t(T1,ot.fragId),Bt=$t(pC,ot.vertId),fn=ot.program=Y.createProgram();if(Y.attachShader(fn,wn),Y.attachShader(fn,Bt),Vt)for(sn=0;sn<Vt.length;++sn){var zt=Vt[sn];Y.bindAttribLocation(fn,zt[0],zt[1])}Y.linkProgram(fn),$.linkError(Y,fn,de.str(ot.fragId),de.str(ot.vertId),wt);var ln=Y.getProgramParameter(fn,R1);gt.profile&&(ot.stats.uniformsCount=ln);var Wn=ot.uniforms;for(sn=0;sn<ln;++sn)if(Ft=Y.getActiveUniform(fn,sn),Ft)if(Ft.size>1)for(var hr=0;hr<Ft.size;++hr){var mn=Ft.name.replace("[0]","["+hr+"]");Xt(Wn,new St(mn,de.id(mn),Y.getUniformLocation(fn,mn),Ft))}else Xt(Wn,new St(Ft.name,de.id(Ft.name),Y.getUniformLocation(fn,Ft.name),Ft));var on=Y.getProgramParameter(fn,P1);gt.profile&&(ot.stats.attributesCount=on);var jt=ot.attributes;for(sn=0;sn<on;++sn)Ft=Y.getActiveAttrib(fn,sn),Ft&&Xt(jt,new St(Ft.name,de.id(Ft.name),Y.getAttribLocation(fn,Ft.name),Ft))}gt.profile&&(ke.getMaxUniformsCount=function(){var ot=0;return qt.forEach(function(wt){wt.stats.uniformsCount>ot&&(ot=wt.stats.uniformsCount)}),ot},ke.getMaxAttributesCount=function(){var ot=0;return qt.forEach(function(wt){wt.stats.attributesCount>ot&&(ot=wt.stats.attributesCount)}),ot});function cn(){Rt={},yt={};for(var ot=0;ot<qt.length;++ot)Kt(qt[ot],null,qt[ot].attributes.map(function(wt){return[wt.location,wt.name]}))}return{clear:function(){var ot=Y.deleteShader.bind(Y);aa(Rt).forEach(ot),Rt={},aa(yt).forEach(ot),yt={},qt.forEach(function(wt){Y.deleteProgram(wt.program)}),qt.length=0,nn={},ke.shaderCount=0},program:function(ot,wt,Vt,sn){$.command(ot>=0,"missing vertex shader",Vt),$.command(wt>=0,"missing fragment shader",Vt);var Ft=nn[wt];Ft||(Ft=nn[wt]={});var wn=Ft[ot];if(wn&&(wn.refCount++,!sn))return wn;var Bt=new vn(wt,ot);return ke.shaderCount++,Kt(Bt,Vt,sn),wn||(Ft[ot]=Bt),qt.push(Bt),r(Bt,{destroy:function(){if(Bt.refCount--,Bt.refCount<=0){Y.deleteProgram(Bt.program);var fn=qt.indexOf(Bt);qt.splice(fn,1),ke.shaderCount--}Ft[Bt.vertId].refCount<=0&&(Y.deleteShader(yt[Bt.vertId]),delete yt[Bt.vertId],delete nn[Bt.fragId][Bt.vertId]),Object.keys(nn[Bt.fragId]).length||(Y.deleteShader(Rt[Bt.fragId]),delete Rt[Bt.fragId],delete nn[Bt.fragId])}})},restore:cn,shader:$t,frag:-1,vert:-1}}var mC=6408,Hc=5121,wh=3333,Uc=5126;function gC(Y,de,ke,gt,Rt,yt,St){function Xt(qt){var an;de.next===null?($(Rt.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),an=Hc):($(de.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),an=de.next.colorAttachments[0].texture._texture.type,yt.oes_texture_float?($(an===Hc||an===Uc,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),an===Uc&&$(St.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):$(an===Hc,"Reading from a framebuffer is only allowed for the type 'uint8'"));var vn=0,Kt=0,cn=gt.framebufferWidth,ot=gt.framebufferHeight,wt=null;n(qt)?wt=qt:qt&&($.type(qt,"object","invalid arguments to regl.read()"),vn=qt.x|0,Kt=qt.y|0,$(vn>=0&&vn<gt.framebufferWidth,"invalid x offset for regl.read"),$(Kt>=0&&Kt<gt.framebufferHeight,"invalid y offset for regl.read"),cn=(qt.width||gt.framebufferWidth-vn)|0,ot=(qt.height||gt.framebufferHeight-Kt)|0,wt=qt.data||null),wt&&(an===Hc?$(wt instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):an===Uc&&$(wt instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),$(cn>0&&cn+vn<=gt.framebufferWidth,"invalid width for read pixels"),$(ot>0&&ot+Kt<=gt.framebufferHeight,"invalid height for read pixels"),ke();var Vt=cn*ot*4;return wt||(an===Hc?wt=new Uint8Array(Vt):an===Uc&&(wt=wt||new Float32Array(Vt))),$.isTypedArray(wt,"data buffer for regl.read() must be a typedarray"),$(wt.byteLength>=Vt,"data buffer for regl.read() too small"),Y.pixelStorei(wh,4),Y.readPixels(vn,Kt,cn,ot,mC,an,wt),wt}function $t(qt){var an;return de.setFBO({framebuffer:qt.framebuffer},function(){an=Xt(qt)}),an}function nn(qt){return!qt||!("framebuffer"in qt)?Xt(qt):$t(qt)}return nn}function Gc(Y){return Array.prototype.slice.call(Y)}function of(Y){return Gc(Y).join("")}function Zl(){var Y=0,de=[],ke=[];function gt(an){for(var vn=0;vn<ke.length;++vn)if(ke[vn]===an)return de[vn];var Kt="g"+Y++;return de.push(Kt),ke.push(an),Kt}function Rt(){var an=[];function vn(){an.push.apply(an,Gc(arguments))}var Kt=[];function cn(){var ot="v"+Y++;return Kt.push(ot),arguments.length>0&&(an.push(ot,"="),an.push.apply(an,Gc(arguments)),an.push(";")),ot}return r(vn,{def:cn,toString:function(){return of([Kt.length>0?"var "+Kt.join(",")+";":"",of(an)])}})}function yt(){var an=Rt(),vn=Rt(),Kt=an.toString,cn=vn.toString;function ot(wt,Vt){vn(wt,Vt,"=",an.def(wt,Vt),";")}return r(function(){an.apply(an,Gc(arguments))},{def:an.def,entry:an,exit:vn,save:ot,set:function(wt,Vt,sn){ot(wt,Vt),an(wt,Vt,"=",sn,";")},toString:function(){return Kt()+cn()}})}function St(){var an=of(arguments),vn=yt(),Kt=yt(),cn=vn.toString,ot=Kt.toString;return r(vn,{then:function(){return vn.apply(vn,Gc(arguments)),this},else:function(){return Kt.apply(Kt,Gc(arguments)),this},toString:function(){var wt=ot();return wt&&(wt="else{"+wt+"}"),of(["if(",an,"){",cn(),"}",wt])}})}var Xt=Rt(),$t={};function nn(an,vn){var Kt=[];function cn(){var Ft="a"+Kt.length;return Kt.push(Ft),Ft}vn=vn||0;for(var ot=0;ot<vn;++ot)cn();var wt=yt(),Vt=wt.toString,sn=$t[an]=r(wt,{arg:cn,toString:function(){return of(["function(",Kt.join(),"){",Vt(),"}"])}});return sn}function qt(){var an=['"use strict";',Xt,"return {"];Object.keys($t).forEach(function(cn){an.push('"',cn,'":',$t[cn].toString(),",")}),an.push("}");var vn=of(an).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Kt=Function.apply(null,de.concat(vn));return Kt.apply(null,ke)}return{global:Xt,link:gt,block:Rt,proc:nn,scope:yt,cond:St,compile:qt}}var ju="xyzw".split(""),Bu=5121,Qo=1,n0=2,cv=0,dv=1,Wc=2,ll=3,Eh=4,A1=5,Ch=6,O1="dither",r0="blend.enable",Vo="blend.color",Th="blend.equation",fv="blend.func",Bs="depth.enable",hv="depth.func",Rh="depth.range",zu="depth.mask",pv="colorMask",ca="cull.enable",vv="cull.face",i0="frontFace",o0="lineWidth",N1="polygonOffset.enable",Ph="polygonOffset.offset",M1="sample.alpha",af="sample.enable",mv="sample.coverage",I1="stencil.enable",D1="stencil.mask",Vc="stencil.func",a0="stencil.opFront",Ah="stencil.opBack",gv="scissor.enable",Oh="scissor.box",Jl="viewport",Nh="profile",Xc="framebuffer",sf="vert",Kc="frag",Yc="elements",Ql="primitive",Hu="count",Mh="offset",Ih="instances",Uu="vao",s0="Width",yv="Height",qc=Xc+s0,lf=Xc+yv,L1=Jl+s0,yC=Jl+yv,bv="drawingBuffer",l0=bv+s0,xv=bv+yv,bC=[fv,Th,Vc,a0,Ah,mv,Jl,Oh,Ph],Gu=34962,Yr=34963,xC=35632,_C=35633,uf=3553,k1=34067,SC=2884,wC=3042,fs=3024,EC=2960,_v=2929,u0=3089,$1=32823,F1=32926,Xa=32928,ul=5126,cf=35664,Dh=35665,Zc=35666,Sv=5124,df=35667,Lh=35668,ff=35669,kh=35670,zs=35671,wv=35672,Hs=35673,hf=35674,pf=35675,Jc=35676,$h=35678,Fh=35680,j1=4,vf=1028,Wu=1029,B1=2304,Ev=2305,z1=32775,Ia=32776,cl=519,Vu=7680,H1=0,jh=1,Qc=32774,U1=513,c0=36160,CC=36064,Us={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ed=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],dl={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Xu={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},d0={frag:xC,vert:_C},Cv={cw:B1,ccw:Ev};function td(Y){return Array.isArray(Y)||n(Y)||Lo(Y)}function f0(Y){return Y.sort(function(de,ke){return de===Jl?-1:ke===Jl?1:de<ke?-1:1})}function Xo(Y,de,ke,gt){this.thisDep=Y,this.contextDep=de,this.propDep=ke,this.append=gt}function fl(Y){return Y&&!(Y.thisDep||Y.contextDep||Y.propDep)}function eo(Y){return new Xo(!1,!1,!1,Y)}function Da(Y,de){var ke=Y.type;if(ke===cv){var gt=Y.data.length;return new Xo(!0,gt>=1,gt>=2,de)}else if(ke===Eh){var Rt=Y.data;return new Xo(Rt.thisDep,Rt.contextDep,Rt.propDep,de)}else{if(ke===A1)return new Xo(!1,!1,!1,de);if(ke===Ch){for(var yt=!1,St=!1,Xt=!1,$t=0;$t<Y.data.length;++$t){var nn=Y.data[$t];if(nn.type===dv)Xt=!0;else if(nn.type===Wc)St=!0;else if(nn.type===ll)yt=!0;else if(nn.type===cv){yt=!0;var qt=nn.data;qt>=1&&(St=!0),qt>=2&&(Xt=!0)}else nn.type===Eh&&(yt=yt||nn.data.thisDep,St=St||nn.data.contextDep,Xt=Xt||nn.data.propDep)}return new Xo(yt,St,Xt,de)}else return new Xo(ke===ll,ke===Wc,ke===dv,de)}}var h0=new Xo(!1,!1,!1,function(){});function Tv(Y,de,ke,gt,Rt,yt,St,Xt,$t,nn,qt,an,vn,Kt,cn){var ot=nn.Record,wt={add:32774,subtract:32778,"reverse subtract":32779};ke.ext_blend_minmax&&(wt.min=z1,wt.max=Ia);var Vt=ke.angle_instanced_arrays,sn=ke.webgl_draw_buffers,Ft={dirty:!0,profile:cn.profile},wn={},Bt=[],fn={},zt={};function ln(Me){return Me.replace(".","_")}function Wn(Me,me,ze){var nt=ln(Me);Bt.push(Me),wn[nt]=Ft[nt]=!!ze,fn[nt]=me}function hr(Me,me,ze){var nt=ln(Me);Bt.push(Me),Array.isArray(ze)?(Ft[nt]=ze.slice(),wn[nt]=ze.slice()):Ft[nt]=wn[nt]=ze,zt[nt]=me}Wn(O1,fs),Wn(r0,wC),hr(Vo,"blendColor",[0,0,0,0]),hr(Th,"blendEquationSeparate",[Qc,Qc]),hr(fv,"blendFuncSeparate",[jh,H1,jh,H1]),Wn(Bs,_v,!0),hr(hv,"depthFunc",U1),hr(Rh,"depthRange",[0,1]),hr(zu,"depthMask",!0),hr(pv,pv,[!0,!0,!0,!0]),Wn(ca,SC),hr(vv,"cullFace",Wu),hr(i0,i0,Ev),hr(o0,o0,1),Wn(N1,$1),hr(Ph,"polygonOffset",[0,0]),Wn(M1,F1),Wn(af,Xa),hr(mv,"sampleCoverage",[1,!1]),Wn(I1,EC),hr(D1,"stencilMask",-1),hr(Vc,"stencilFunc",[cl,0,-1]),hr(a0,"stencilOpSeparate",[vf,Vu,Vu,Vu]),hr(Ah,"stencilOpSeparate",[Wu,Vu,Vu,Vu]),Wn(gv,u0),hr(Oh,"scissor",[0,0,Y.drawingBufferWidth,Y.drawingBufferHeight]),hr(Jl,Jl,[0,0,Y.drawingBufferWidth,Y.drawingBufferHeight]);var mn={gl:Y,context:vn,strings:de,next:wn,current:Ft,draw:an,elements:yt,buffer:Rt,shader:qt,attributes:nn.state,vao:nn,uniforms:$t,framebuffer:Xt,extensions:ke,timer:Kt,isBufferArgs:td},on={primTypes:Nc,compareFuncs:dl,blendFuncs:Us,blendEquations:wt,stencilOps:Xu,glTypes:Ac,orientationType:Cv};$.optional(function(){mn.isArrayLike=uo}),sn&&(on.backBuffer=[Wu],on.drawBuffer=Jt(gt.maxDrawbuffers,function(Me){return Me===0?[0]:Jt(Me,function(me){return CC+me})}));var jt=0;function or(){var Me=Zl(),me=Me.link,ze=Me.global;Me.id=jt++,Me.batchId="0";var nt=me(mn),st=Me.shared={props:"a0"};Object.keys(mn).forEach(function(Be){st[Be]=ze.def(nt,".",Be)}),$.optional(function(){Me.CHECK=me($),Me.commandStr=$.guessCommand(),Me.command=me(Me.commandStr),Me.assert=function(Be,Ae,et){Be("if(!(",Ae,"))",this.CHECK,".commandRaise(",me(et),",",this.command,");")},on.invalidBlendCombinations=ed});var We=Me.next={},Ue=Me.current={};Object.keys(zt).forEach(function(Be){Array.isArray(Ft[Be])&&(We[Be]=ze.def(st.next,".",Be),Ue[Be]=ze.def(st.current,".",Be))});var Ye=Me.constants={};Object.keys(on).forEach(function(Be){Ye[Be]=ze.def(JSON.stringify(on[Be]))}),Me.invoke=function(Be,Ae){switch(Ae.type){case cv:var et=["this",st.context,st.props,Me.batchId];return Be.def(me(Ae.data),".call(",et.slice(0,Math.max(Ae.data.length+1,4)),")");case dv:return Be.def(st.props,Ae.data);case Wc:return Be.def(st.context,Ae.data);case ll:return Be.def("this",Ae.data);case Eh:return Ae.data.append(Me,Be),Ae.data.ref;case A1:return Ae.data.toString();case Ch:return Ae.data.map(function(ut){return Me.invoke(Be,ut)})}},Me.attribCache={};var Pe={};return Me.scopeAttrib=function(Be){var Ae=de.id(Be);if(Ae in Pe)return Pe[Ae];var et=nn.scope[Ae];et||(et=nn.scope[Ae]=new ot);var ut=Pe[Ae]=me(et);return ut},Me}function yr(Me){var me=Me.static,ze=Me.dynamic,nt;if(Nh in me){var st=!!me[Nh];nt=eo(function(Ue,Ye){return st}),nt.enable=st}else if(Nh in ze){var We=ze[Nh];nt=Da(We,function(Ue,Ye){return Ue.invoke(Ye,We)})}return nt}function Mn(Me,me){var ze=Me.static,nt=Me.dynamic;if(Xc in ze){var st=ze[Xc];return st?(st=Xt.getFramebuffer(st),$.command(st,"invalid framebuffer object"),eo(function(Ue,Ye){var Pe=Ue.link(st),Be=Ue.shared;Ye.set(Be.framebuffer,".next",Pe);var Ae=Be.context;return Ye.set(Ae,"."+qc,Pe+".width"),Ye.set(Ae,"."+lf,Pe+".height"),Pe})):eo(function(Ue,Ye){var Pe=Ue.shared;Ye.set(Pe.framebuffer,".next","null");var Be=Pe.context;return Ye.set(Be,"."+qc,Be+"."+l0),Ye.set(Be,"."+lf,Be+"."+xv),"null"})}else if(Xc in nt){var We=nt[Xc];return Da(We,function(Ue,Ye){var Pe=Ue.invoke(Ye,We),Be=Ue.shared,Ae=Be.framebuffer,et=Ye.def(Ae,".getFramebuffer(",Pe,")");$.optional(function(){Ue.assert(Ye,"!"+Pe+"||"+et,"invalid framebuffer object")}),Ye.set(Ae,".next",et);var ut=Be.context;return Ye.set(ut,"."+qc,et+"?"+et+".width:"+ut+"."+l0),Ye.set(ut,"."+lf,et+"?"+et+".height:"+ut+"."+xv),et})}else return null}function Or(Me,me,ze){var nt=Me.static,st=Me.dynamic;function We(Pe){if(Pe in nt){var Be=nt[Pe];$.commandType(Be,"object","invalid "+Pe,ze.commandStr);var Ae=!0,et=Be.x|0,ut=Be.y|0,Ot,Dt;return"width"in Be?(Ot=Be.width|0,$.command(Ot>=0,"invalid "+Pe,ze.commandStr)):Ae=!1,"height"in Be?(Dt=Be.height|0,$.command(Dt>=0,"invalid "+Pe,ze.commandStr)):Ae=!1,new Xo(!Ae&&me&&me.thisDep,!Ae&&me&&me.contextDep,!Ae&&me&&me.propDep,function(Fn,_r){var In=Fn.shared.context,Jn=Ot;"width"in Be||(Jn=_r.def(In,".",qc,"-",et));var gr=Dt;return"height"in Be||(gr=_r.def(In,".",lf,"-",ut)),[et,ut,Jn,gr]})}else if(Pe in st){var Et=st[Pe],Zt=Da(Et,function(Fn,_r){var In=Fn.invoke(_r,Et);$.optional(function(){Fn.assert(_r,In+"&&typeof "+In+'==="object"',"invalid "+Pe)});var Jn=Fn.shared.context,gr=_r.def(In,".x|0"),Jr=_r.def(In,".y|0"),ao=_r.def('"width" in ',In,"?",In,".width|0:","(",Jn,".",qc,"-",gr,")"),ga=_r.def('"height" in ',In,"?",In,".height|0:","(",Jn,".",lf,"-",Jr,")");return $.optional(function(){Fn.assert(_r,ao+">=0&&"+ga+">=0","invalid "+Pe)}),[gr,Jr,ao,ga]});return me&&(Zt.thisDep=Zt.thisDep||me.thisDep,Zt.contextDep=Zt.contextDep||me.contextDep,Zt.propDep=Zt.propDep||me.propDep),Zt}else return me?new Xo(me.thisDep,me.contextDep,me.propDep,function(Fn,_r){var In=Fn.shared.context;return[0,0,_r.def(In,".",qc),_r.def(In,".",lf)]}):null}var Ue=We(Jl);if(Ue){var Ye=Ue;Ue=new Xo(Ue.thisDep,Ue.contextDep,Ue.propDep,function(Pe,Be){var Ae=Ye.append(Pe,Be),et=Pe.shared.context;return Be.set(et,"."+L1,Ae[2]),Be.set(et,"."+yC,Ae[3]),Ae})}return{viewport:Ue,scissor_box:We(Oh)}}function pr(Me,me){var ze=Me.static,nt=typeof ze[Kc]=="string"&&typeof ze[sf]=="string";if(nt){if(Object.keys(me.dynamic).length>0)return null;var st=me.static,We=Object.keys(st);if(We.length>0&&typeof st[We[0]]=="number"){for(var Ue=[],Ye=0;Ye<We.length;++Ye)$(typeof st[We[Ye]]=="number","must specify all vertex attribute locations when using vaos"),Ue.push([st[We[Ye]]|0,We[Ye]]);return Ue}}return null}function Er(Me,me,ze){var nt=Me.static,st=Me.dynamic;function We(Ae){if(Ae in nt){var et=de.id(nt[Ae]);$.optional(function(){qt.shader(d0[Ae],et,$.guessCommand())});var ut=eo(function(){return et});return ut.id=et,ut}else if(Ae in st){var Ot=st[Ae];return Da(Ot,function(Dt,Et){var Zt=Dt.invoke(Et,Ot),Fn=Et.def(Dt.shared.strings,".id(",Zt,")");return $.optional(function(){Et(Dt.shared.shader,".shader(",d0[Ae],",",Fn,",",Dt.command,");")}),Fn})}return null}var Ue=We(Kc),Ye=We(sf),Pe=null,Be;return fl(Ue)&&fl(Ye)?(Pe=qt.program(Ye.id,Ue.id,null,ze),Be=eo(function(Ae,et){return Ae.link(Pe)})):Be=new Xo(Ue&&Ue.thisDep||Ye&&Ye.thisDep,Ue&&Ue.contextDep||Ye&&Ye.contextDep,Ue&&Ue.propDep||Ye&&Ye.propDep,function(Ae,et){var ut=Ae.shared.shader,Ot;Ue?Ot=Ue.append(Ae,et):Ot=et.def(ut,".",Kc);var Dt;Ye?Dt=Ye.append(Ae,et):Dt=et.def(ut,".",sf);var Et=ut+".program("+Dt+","+Ot;return $.optional(function(){Et+=","+Ae.command}),et.def(Et+")")}),{frag:Ue,vert:Ye,progVar:Be,program:Pe}}function zr(Me,me){var ze=Me.static,nt=Me.dynamic;function st(){if(Yc in ze){var Ae=ze[Yc];td(Ae)?Ae=yt.getElements(yt.create(Ae,!0)):Ae&&(Ae=yt.getElements(Ae),$.command(Ae,"invalid elements",me.commandStr));var et=eo(function(Ot,Dt){if(Ae){var Et=Ot.link(Ae);return Ot.ELEMENTS=Et,Et}return Ot.ELEMENTS=null,null});return et.value=Ae,et}else if(Yc in nt){var ut=nt[Yc];return Da(ut,function(Ot,Dt){var Et=Ot.shared,Zt=Et.isBufferArgs,Fn=Et.elements,_r=Ot.invoke(Dt,ut),In=Dt.def("null"),Jn=Dt.def(Zt,"(",_r,")"),gr=Ot.cond(Jn).then(In,"=",Fn,".createStream(",_r,");").else(In,"=",Fn,".getElements(",_r,");");return $.optional(function(){Ot.assert(gr.else,"!"+_r+"||"+In,"invalid elements")}),Dt.entry(gr),Dt.exit(Ot.cond(Jn).then(Fn,".destroyStream(",In,");")),Ot.ELEMENTS=In,In})}return null}var We=st();function Ue(){if(Ql in ze){var Ae=ze[Ql];return $.commandParameter(Ae,Nc,"invalid primitve",me.commandStr),eo(function(ut,Ot){return Nc[Ae]})}else if(Ql in nt){var et=nt[Ql];return Da(et,function(ut,Ot){var Dt=ut.constants.primTypes,Et=ut.invoke(Ot,et);return $.optional(function(){ut.assert(Ot,Et+" in "+Dt,"invalid primitive, must be one of "+Object.keys(Nc))}),Ot.def(Dt,"[",Et,"]")})}else if(We)return fl(We)?We.value?eo(function(ut,Ot){return Ot.def(ut.ELEMENTS,".primType")}):eo(function(){return j1}):new Xo(We.thisDep,We.contextDep,We.propDep,function(ut,Ot){var Dt=ut.ELEMENTS;return Ot.def(Dt,"?",Dt,".primType:",j1)});return null}function Ye(Ae,et){if(Ae in ze){var ut=ze[Ae]|0;return $.command(!et||ut>=0,"invalid "+Ae,me.commandStr),eo(function(Dt,Et){return et&&(Dt.OFFSET=ut),ut})}else if(Ae in nt){var Ot=nt[Ae];return Da(Ot,function(Dt,Et){var Zt=Dt.invoke(Et,Ot);return et&&(Dt.OFFSET=Zt,$.optional(function(){Dt.assert(Et,Zt+">=0","invalid "+Ae)})),Zt})}else if(et&&We)return eo(function(Dt,Et){return Dt.OFFSET="0",0});return null}var Pe=Ye(Mh,!0);function Be(){if(Hu in ze){var Ae=ze[Hu]|0;return $.command(typeof Ae=="number"&&Ae>=0,"invalid vertex count",me.commandStr),eo(function(){return Ae})}else if(Hu in nt){var et=nt[Hu];return Da(et,function(Dt,Et){var Zt=Dt.invoke(Et,et);return $.optional(function(){Dt.assert(Et,"typeof "+Zt+'==="number"&&'+Zt+">=0&&"+Zt+"===("+Zt+"|0)","invalid vertex count")}),Zt})}else if(We)if(fl(We)){if(We)return Pe?new Xo(Pe.thisDep,Pe.contextDep,Pe.propDep,function(Dt,Et){var Zt=Et.def(Dt.ELEMENTS,".vertCount-",Dt.OFFSET);return $.optional(function(){Dt.assert(Et,Zt+">=0","invalid vertex offset/element buffer too small")}),Zt}):eo(function(Dt,Et){return Et.def(Dt.ELEMENTS,".vertCount")});var ut=eo(function(){return-1});return $.optional(function(){ut.MISSING=!0}),ut}else{var Ot=new Xo(We.thisDep||Pe.thisDep,We.contextDep||Pe.contextDep,We.propDep||Pe.propDep,function(Dt,Et){var Zt=Dt.ELEMENTS;return Dt.OFFSET?Et.def(Zt,"?",Zt,".vertCount-",Dt.OFFSET,":-1"):Et.def(Zt,"?",Zt,".vertCount:-1")});return $.optional(function(){Ot.DYNAMIC=!0}),Ot}return null}return{elements:We,primitive:Ue(),count:Be(),instances:Ye(Ih,!1),offset:Pe}}function io(Me,me){var ze=Me.static,nt=Me.dynamic,st={};return Bt.forEach(function(We){var Ue=ln(We);function Ye(Pe,Be){if(We in ze){var Ae=Pe(ze[We]);st[Ue]=eo(function(){return Ae})}else if(We in nt){var et=nt[We];st[Ue]=Da(et,function(ut,Ot){return Be(ut,Ot,ut.invoke(Ot,et))})}}switch(We){case ca:case r0:case O1:case I1:case Bs:case gv:case N1:case M1:case af:case zu:return Ye(function(Pe){return $.commandType(Pe,"boolean",We,me.commandStr),Pe},function(Pe,Be,Ae){return $.optional(function(){Pe.assert(Be,"typeof "+Ae+'==="boolean"',"invalid flag "+We,Pe.commandStr)}),Ae});case hv:return Ye(function(Pe){return $.commandParameter(Pe,dl,"invalid "+We,me.commandStr),dl[Pe]},function(Pe,Be,Ae){var et=Pe.constants.compareFuncs;return $.optional(function(){Pe.assert(Be,Ae+" in "+et,"invalid "+We+", must be one of "+Object.keys(dl))}),Be.def(et,"[",Ae,"]")});case Rh:return Ye(function(Pe){return $.command(uo(Pe)&&Pe.length===2&&typeof Pe[0]=="number"&&typeof Pe[1]=="number"&&Pe[0]<=Pe[1],"depth range is 2d array",me.commandStr),Pe},function(Pe,Be,Ae){$.optional(function(){Pe.assert(Be,Pe.shared.isArrayLike+"("+Ae+")&&"+Ae+".length===2&&typeof "+Ae+'[0]==="number"&&typeof '+Ae+'[1]==="number"&&'+Ae+"[0]<="+Ae+"[1]","depth range must be a 2d array")});var et=Be.def("+",Ae,"[0]"),ut=Be.def("+",Ae,"[1]");return[et,ut]});case fv:return Ye(function(Pe){$.commandType(Pe,"object","blend.func",me.commandStr);var Be="srcRGB"in Pe?Pe.srcRGB:Pe.src,Ae="srcAlpha"in Pe?Pe.srcAlpha:Pe.src,et="dstRGB"in Pe?Pe.dstRGB:Pe.dst,ut="dstAlpha"in Pe?Pe.dstAlpha:Pe.dst;return $.commandParameter(Be,Us,Ue+".srcRGB",me.commandStr),$.commandParameter(Ae,Us,Ue+".srcAlpha",me.commandStr),$.commandParameter(et,Us,Ue+".dstRGB",me.commandStr),$.commandParameter(ut,Us,Ue+".dstAlpha",me.commandStr),$.command(ed.indexOf(Be+", "+et)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Be+", "+et+")",me.commandStr),[Us[Be],Us[et],Us[Ae],Us[ut]]},function(Pe,Be,Ae){var et=Pe.constants.blendFuncs;$.optional(function(){Pe.assert(Be,Ae+"&&typeof "+Ae+'==="object"',"invalid blend func, must be an object")});function ut(In,Jn){var gr=Be.def('"',In,Jn,'" in ',Ae,"?",Ae,".",In,Jn,":",Ae,".",In);return $.optional(function(){Pe.assert(Be,gr+" in "+et,"invalid "+We+"."+In+Jn+", must be one of "+Object.keys(Us))}),gr}var Ot=ut("src","RGB"),Dt=ut("dst","RGB");$.optional(function(){var In=Pe.constants.invalidBlendCombinations;Pe.assert(Be,In+".indexOf("+Ot+'+", "+'+Dt+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Et=Be.def(et,"[",Ot,"]"),Zt=Be.def(et,"[",ut("src","Alpha"),"]"),Fn=Be.def(et,"[",Dt,"]"),_r=Be.def(et,"[",ut("dst","Alpha"),"]");return[Et,Fn,Zt,_r]});case Th:return Ye(function(Pe){if(typeof Pe=="string")return $.commandParameter(Pe,wt,"invalid "+We,me.commandStr),[wt[Pe],wt[Pe]];if(typeof Pe=="object")return $.commandParameter(Pe.rgb,wt,We+".rgb",me.commandStr),$.commandParameter(Pe.alpha,wt,We+".alpha",me.commandStr),[wt[Pe.rgb],wt[Pe.alpha]];$.commandRaise("invalid blend.equation",me.commandStr)},function(Pe,Be,Ae){var et=Pe.constants.blendEquations,ut=Be.def(),Ot=Be.def(),Dt=Pe.cond("typeof ",Ae,'==="string"');return $.optional(function(){function Et(Zt,Fn,_r){Pe.assert(Zt,_r+" in "+et,"invalid "+Fn+", must be one of "+Object.keys(wt))}Et(Dt.then,We,Ae),Pe.assert(Dt.else,Ae+"&&typeof "+Ae+'==="object"',"invalid "+We),Et(Dt.else,We+".rgb",Ae+".rgb"),Et(Dt.else,We+".alpha",Ae+".alpha")}),Dt.then(ut,"=",Ot,"=",et,"[",Ae,"];"),Dt.else(ut,"=",et,"[",Ae,".rgb];",Ot,"=",et,"[",Ae,".alpha];"),Be(Dt),[ut,Ot]});case Vo:return Ye(function(Pe){return $.command(uo(Pe)&&Pe.length===4,"blend.color must be a 4d array",me.commandStr),Jt(4,function(Be){return+Pe[Be]})},function(Pe,Be,Ae){return $.optional(function(){Pe.assert(Be,Pe.shared.isArrayLike+"("+Ae+")&&"+Ae+".length===4","blend.color must be a 4d array")}),Jt(4,function(et){return Be.def("+",Ae,"[",et,"]")})});case D1:return Ye(function(Pe){return $.commandType(Pe,"number",Ue,me.commandStr),Pe|0},function(Pe,Be,Ae){return $.optional(function(){Pe.assert(Be,"typeof "+Ae+'==="number"',"invalid stencil.mask")}),Be.def(Ae,"|0")});case Vc:return Ye(function(Pe){$.commandType(Pe,"object",Ue,me.commandStr);var Be=Pe.cmp||"keep",Ae=Pe.ref||0,et="mask"in Pe?Pe.mask:-1;return $.commandParameter(Be,dl,We+".cmp",me.commandStr),$.commandType(Ae,"number",We+".ref",me.commandStr),$.commandType(et,"number",We+".mask",me.commandStr),[dl[Be],Ae,et]},function(Pe,Be,Ae){var et=Pe.constants.compareFuncs;$.optional(function(){function Et(){Pe.assert(Be,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Et(Ae+"&&typeof ",Ae,'==="object"'),Et('!("cmp" in ',Ae,")||(",Ae,".cmp in ",et,")")});var ut=Be.def('"cmp" in ',Ae,"?",et,"[",Ae,".cmp]",":",Vu),Ot=Be.def(Ae,".ref|0"),Dt=Be.def('"mask" in ',Ae,"?",Ae,".mask|0:-1");return[ut,Ot,Dt]});case a0:case Ah:return Ye(function(Pe){$.commandType(Pe,"object",Ue,me.commandStr);var Be=Pe.fail||"keep",Ae=Pe.zfail||"keep",et=Pe.zpass||"keep";return $.commandParameter(Be,Xu,We+".fail",me.commandStr),$.commandParameter(Ae,Xu,We+".zfail",me.commandStr),$.commandParameter(et,Xu,We+".zpass",me.commandStr),[We===Ah?Wu:vf,Xu[Be],Xu[Ae],Xu[et]]},function(Pe,Be,Ae){var et=Pe.constants.stencilOps;$.optional(function(){Pe.assert(Be,Ae+"&&typeof "+Ae+'==="object"',"invalid "+We)});function ut(Ot){return $.optional(function(){Pe.assert(Be,'!("'+Ot+'" in '+Ae+")||("+Ae+"."+Ot+" in "+et+")","invalid "+We+"."+Ot+", must be one of "+Object.keys(Xu))}),Be.def('"',Ot,'" in ',Ae,"?",et,"[",Ae,".",Ot,"]:",Vu)}return[We===Ah?Wu:vf,ut("fail"),ut("zfail"),ut("zpass")]});case Ph:return Ye(function(Pe){$.commandType(Pe,"object",Ue,me.commandStr);var Be=Pe.factor|0,Ae=Pe.units|0;return $.commandType(Be,"number",Ue+".factor",me.commandStr),$.commandType(Ae,"number",Ue+".units",me.commandStr),[Be,Ae]},function(Pe,Be,Ae){$.optional(function(){Pe.assert(Be,Ae+"&&typeof "+Ae+'==="object"',"invalid "+We)});var et=Be.def(Ae,".factor|0"),ut=Be.def(Ae,".units|0");return[et,ut]});case vv:return Ye(function(Pe){var Be=0;return Pe==="front"?Be=vf:Pe==="back"&&(Be=Wu),$.command(!!Be,Ue,me.commandStr),Be},function(Pe,Be,Ae){return $.optional(function(){Pe.assert(Be,Ae+'==="front"||'+Ae+'==="back"',"invalid cull.face")}),Be.def(Ae,'==="front"?',vf,":",Wu)});case o0:return Ye(function(Pe){return $.command(typeof Pe=="number"&&Pe>=gt.lineWidthDims[0]&&Pe<=gt.lineWidthDims[1],"invalid line width, must be a positive number between "+gt.lineWidthDims[0]+" and "+gt.lineWidthDims[1],me.commandStr),Pe},function(Pe,Be,Ae){return $.optional(function(){Pe.assert(Be,"typeof "+Ae+'==="number"&&'+Ae+">="+gt.lineWidthDims[0]+"&&"+Ae+"<="+gt.lineWidthDims[1],"invalid line width")}),Ae});case i0:return Ye(function(Pe){return $.commandParameter(Pe,Cv,Ue,me.commandStr),Cv[Pe]},function(Pe,Be,Ae){return $.optional(function(){Pe.assert(Be,Ae+'==="cw"||'+Ae+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Be.def(Ae+'==="cw"?'+B1+":"+Ev)});case pv:return Ye(function(Pe){return $.command(uo(Pe)&&Pe.length===4,"color.mask must be length 4 array",me.commandStr),Pe.map(function(Be){return!!Be})},function(Pe,Be,Ae){return $.optional(function(){Pe.assert(Be,Pe.shared.isArrayLike+"("+Ae+")&&"+Ae+".length===4","invalid color.mask")}),Jt(4,function(et){return"!!"+Ae+"["+et+"]"})});case mv:return Ye(function(Pe){$.command(typeof Pe=="object"&&Pe,Ue,me.commandStr);var Be="value"in Pe?Pe.value:1,Ae=!!Pe.invert;return $.command(typeof Be=="number"&&Be>=0&&Be<=1,"sample.coverage.value must be a number between 0 and 1",me.commandStr),[Be,Ae]},function(Pe,Be,Ae){$.optional(function(){Pe.assert(Be,Ae+"&&typeof "+Ae+'==="object"',"invalid sample.coverage")});var et=Be.def('"value" in ',Ae,"?+",Ae,".value:1"),ut=Be.def("!!",Ae,".invert");return[et,ut]})}}),st}function So(Me,me){var ze=Me.static,nt=Me.dynamic,st={};return Object.keys(ze).forEach(function(We){var Ue=ze[We],Ye;if(typeof Ue=="number"||typeof Ue=="boolean")Ye=eo(function(){return Ue});else if(typeof Ue=="function"){var Pe=Ue._reglType;Pe==="texture2d"||Pe==="textureCube"?Ye=eo(function(Be){return Be.link(Ue)}):Pe==="framebuffer"||Pe==="framebufferCube"?($.command(Ue.color.length>0,'missing color attachment for framebuffer sent to uniform "'+We+'"',me.commandStr),Ye=eo(function(Be){return Be.link(Ue.color[0])})):$.commandRaise('invalid data for uniform "'+We+'"',me.commandStr)}else uo(Ue)?Ye=eo(function(Be){var Ae=Be.global.def("[",Jt(Ue.length,function(et){return $.command(typeof Ue[et]=="number"||typeof Ue[et]=="boolean","invalid uniform "+We,Be.commandStr),Ue[et]}),"]");return Ae}):$.commandRaise('invalid or missing data for uniform "'+We+'"',me.commandStr);Ye.value=Ue,st[We]=Ye}),Object.keys(nt).forEach(function(We){var Ue=nt[We];st[We]=Da(Ue,function(Ye,Pe){return Ye.invoke(Pe,Ue)})}),st}function Lr(Me,me){var ze=Me.static,nt=Me.dynamic,st={};return Object.keys(ze).forEach(function(We){var Ue=ze[We],Ye=de.id(We),Pe=new ot;if(td(Ue))Pe.state=Qo,Pe.buffer=Rt.getBuffer(Rt.create(Ue,Gu,!1,!0)),Pe.type=0;else{var Be=Rt.getBuffer(Ue);if(Be)Pe.state=Qo,Pe.buffer=Be,Pe.type=0;else if($.command(typeof Ue=="object"&&Ue,"invalid data for attribute "+We,me.commandStr),"constant"in Ue){var Ae=Ue.constant;Pe.buffer="null",Pe.state=n0,typeof Ae=="number"?Pe.x=Ae:($.command(uo(Ae)&&Ae.length>0&&Ae.length<=4,"invalid constant for attribute "+We,me.commandStr),ju.forEach(function(Fn,_r){_r<Ae.length&&(Pe[Fn]=Ae[_r])}))}else{td(Ue.buffer)?Be=Rt.getBuffer(Rt.create(Ue.buffer,Gu,!1,!0)):Be=Rt.getBuffer(Ue.buffer),$.command(!!Be,'missing buffer for attribute "'+We+'"',me.commandStr);var et=Ue.offset|0;$.command(et>=0,'invalid offset for attribute "'+We+'"',me.commandStr);var ut=Ue.stride|0;$.command(ut>=0&&ut<256,'invalid stride for attribute "'+We+'", must be integer betweeen [0, 255]',me.commandStr);var Ot=Ue.size|0;$.command(!("size"in Ue)||Ot>0&&Ot<=4,'invalid size for attribute "'+We+'", must be 1,2,3,4',me.commandStr);var Dt=!!Ue.normalized,Et=0;"type"in Ue&&($.commandParameter(Ue.type,Ac,"invalid type for attribute "+We,me.commandStr),Et=Ac[Ue.type]);var Zt=Ue.divisor|0;"divisor"in Ue&&($.command(Zt===0||Vt,'cannot specify divisor for attribute "'+We+'", instancing not supported',me.commandStr),$.command(Zt>=0,'invalid divisor for attribute "'+We+'"',me.commandStr)),$.optional(function(){var Fn=me.commandStr,_r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Ue).forEach(function(In){$.command(_r.indexOf(In)>=0,'unknown parameter "'+In+'" for attribute pointer "'+We+'" (valid parameters are '+_r+")",Fn)})}),Pe.buffer=Be,Pe.state=Qo,Pe.size=Ot,Pe.normalized=Dt,Pe.type=Et||Be.dtype,Pe.offset=et,Pe.stride=ut,Pe.divisor=Zt}}st[We]=eo(function(Fn,_r){var In=Fn.attribCache;if(Ye in In)return In[Ye];var Jn={isStream:!1};return Object.keys(Pe).forEach(function(gr){Jn[gr]=Pe[gr]}),Pe.buffer&&(Jn.buffer=Fn.link(Pe.buffer),Jn.type=Jn.type||Jn.buffer+".dtype"),In[Ye]=Jn,Jn})}),Object.keys(nt).forEach(function(We){var Ue=nt[We];function Ye(Pe,Be){var Ae=Pe.invoke(Be,Ue),et=Pe.shared,ut=Pe.constants,Ot=et.isBufferArgs,Dt=et.buffer;$.optional(function(){Pe.assert(Be,Ae+"&&(typeof "+Ae+'==="object"||typeof '+Ae+'==="function")&&('+Ot+"("+Ae+")||"+Dt+".getBuffer("+Ae+")||"+Dt+".getBuffer("+Ae+".buffer)||"+Ot+"("+Ae+'.buffer)||("constant" in '+Ae+"&&(typeof "+Ae+'.constant==="number"||'+et.isArrayLike+"("+Ae+".constant))))",'invalid dynamic attribute "'+We+'"')});var Et={isStream:Be.def(!1)},Zt=new ot;Zt.state=Qo,Object.keys(Zt).forEach(function(Jn){Et[Jn]=Be.def(""+Zt[Jn])});var Fn=Et.buffer,_r=Et.type;Be("if(",Ot,"(",Ae,")){",Et.isStream,"=true;",Fn,"=",Dt,".createStream(",Gu,",",Ae,");",_r,"=",Fn,".dtype;","}else{",Fn,"=",Dt,".getBuffer(",Ae,");","if(",Fn,"){",_r,"=",Fn,".dtype;",'}else if("constant" in ',Ae,"){",Et.state,"=",n0,";","if(typeof "+Ae+'.constant === "number"){',Et[ju[0]],"=",Ae,".constant;",ju.slice(1).map(function(Jn){return Et[Jn]}).join("="),"=0;","}else{",ju.map(function(Jn,gr){return Et[Jn]+"="+Ae+".constant.length>"+gr+"?"+Ae+".constant["+gr+"]:0;"}).join(""),"}}else{","if(",Ot,"(",Ae,".buffer)){",Fn,"=",Dt,".createStream(",Gu,",",Ae,".buffer);","}else{",Fn,"=",Dt,".getBuffer(",Ae,".buffer);","}",_r,'="type" in ',Ae,"?",ut.glTypes,"[",Ae,".type]:",Fn,".dtype;",Et.normalized,"=!!",Ae,".normalized;");function In(Jn){Be(Et[Jn],"=",Ae,".",Jn,"|0;")}return In("size"),In("offset"),In("stride"),In("divisor"),Be("}}"),Be.exit("if(",Et.isStream,"){",Dt,".destroyStream(",Fn,");","}"),Et}st[We]=Da(Ue,Ye)}),st}function oo(Me,me){var ze=Me.static,nt=Me.dynamic;if(Uu in ze){var st=ze[Uu];return st!==null&&nn.getVAO(st)===null&&(st=nn.createVAO(st)),eo(function(Ue){return Ue.link(nn.getVAO(st))})}else if(Uu in nt){var We=nt[Uu];return Da(We,function(Ue,Ye){var Pe=Ue.invoke(Ye,We);return Ye.def(Ue.shared.vao+".getVAO("+Pe+")")})}return null}function Li(Me){var me=Me.static,ze=Me.dynamic,nt={};return Object.keys(me).forEach(function(st){var We=me[st];nt[st]=eo(function(Ue,Ye){return typeof We=="number"||typeof We=="boolean"?""+We:Ue.link(We)})}),Object.keys(ze).forEach(function(st){var We=ze[st];nt[st]=Da(We,function(Ue,Ye){return Ue.invoke(Ye,We)})}),nt}function Si(Me,me,ze,nt,st){var We=Me.static,Ue=Me.dynamic;$.optional(function(){var In=[Xc,sf,Kc,Yc,Ql,Mh,Hu,Ih,Nh,Uu].concat(Bt);function Jn(gr){Object.keys(gr).forEach(function(Jr){$.command(In.indexOf(Jr)>=0,'unknown parameter "'+Jr+'"',st.commandStr)})}Jn(We),Jn(Ue)});var Ye=pr(Me,me),Pe=Mn(Me),Be=Or(Me,Pe,st),Ae=zr(Me,st),et=io(Me,st),ut=Er(Me,st,Ye);function Ot(In){var Jn=Be[In];Jn&&(et[In]=Jn)}Ot(Jl),Ot(ln(Oh));var Dt=Object.keys(et).length>0,Et={framebuffer:Pe,draw:Ae,shader:ut,state:et,dirty:Dt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Et.profile=yr(Me),Et.uniforms=So(ze,st),Et.drawVAO=Et.scopeVAO=oo(Me),!Et.drawVAO&&ut.program&&!Ye&&ke.angle_instanced_arrays){var Zt=!0,Fn=ut.program.attributes.map(function(In){var Jn=me.static[In];return Zt=Zt&&!!Jn,Jn});if(Zt&&Fn.length>0){var _r=nn.getVAO(nn.createVAO(Fn));Et.drawVAO=new Xo(null,null,null,function(In,Jn){return In.link(_r)}),Et.useVAO=!0}}return Ye?Et.useVAO=!0:Et.attributes=Lr(me,st),Et.context=Li(nt),Et}function Ki(Me,me,ze){var nt=Me.shared,st=nt.context,We=Me.scope();Object.keys(ze).forEach(function(Ue){me.save(st,"."+Ue);var Ye=ze[Ue],Pe=Ye.append(Me,me);Array.isArray(Pe)?We(st,".",Ue,"=[",Pe.join(),"];"):We(st,".",Ue,"=",Pe,";")}),me(We)}function wo(Me,me,ze,nt){var st=Me.shared,We=st.gl,Ue=st.framebuffer,Ye;sn&&(Ye=me.def(st.extensions,".webgl_draw_buffers"));var Pe=Me.constants,Be=Pe.drawBuffer,Ae=Pe.backBuffer,et;ze?et=ze.append(Me,me):et=me.def(Ue,".next"),nt||me("if(",et,"!==",Ue,".cur){"),me("if(",et,"){",We,".bindFramebuffer(",c0,",",et,".framebuffer);"),sn&&me(Ye,".drawBuffersWEBGL(",Be,"[",et,".colorAttachments.length]);"),me("}else{",We,".bindFramebuffer(",c0,",null);"),sn&&me(Ye,".drawBuffersWEBGL(",Ae,");"),me("}",Ue,".cur=",et,";"),nt||me("}")}function Po(Me,me,ze){var nt=Me.shared,st=nt.gl,We=Me.current,Ue=Me.next,Ye=nt.current,Pe=nt.next,Be=Me.cond(Ye,".dirty");Bt.forEach(function(Ae){var et=ln(Ae);if(!(et in ze.state)){var ut,Ot;if(et in Ue){ut=Ue[et],Ot=We[et];var Dt=Jt(Ft[et].length,function(Zt){return Be.def(ut,"[",Zt,"]")});Be(Me.cond(Dt.map(function(Zt,Fn){return Zt+"!=="+Ot+"["+Fn+"]"}).join("||")).then(st,".",zt[et],"(",Dt,");",Dt.map(function(Zt,Fn){return Ot+"["+Fn+"]="+Zt}).join(";"),";"))}else{ut=Be.def(Pe,".",et);var Et=Me.cond(ut,"!==",Ye,".",et);Be(Et),et in fn?Et(Me.cond(ut).then(st,".enable(",fn[et],");").else(st,".disable(",fn[et],");"),Ye,".",et,"=",ut,";"):Et(st,".",zt[et],"(",ut,");",Ye,".",et,"=",ut,";")}}}),Object.keys(ze.state).length===0&&Be(Ye,".dirty=false;"),me(Be)}function Ko(Me,me,ze,nt){var st=Me.shared,We=Me.current,Ue=st.current,Ye=st.gl;f0(Object.keys(ze)).forEach(function(Pe){var Be=ze[Pe];if(!(nt&&!nt(Be))){var Ae=Be.append(Me,me);if(fn[Pe]){var et=fn[Pe];fl(Be)?Ae?me(Ye,".enable(",et,");"):me(Ye,".disable(",et,");"):me(Me.cond(Ae).then(Ye,".enable(",et,");").else(Ye,".disable(",et,");")),me(Ue,".",Pe,"=",Ae,";")}else if(uo(Ae)){var ut=We[Pe];me(Ye,".",zt[Pe],"(",Ae,");",Ae.map(function(Ot,Dt){return ut+"["+Dt+"]="+Ot}).join(";"),";")}else me(Ye,".",zt[Pe],"(",Ae,");",Ue,".",Pe,"=",Ae,";")}})}function co(Me,me){Vt&&(Me.instancing=me.def(Me.shared.extensions,".angle_instanced_arrays"))}function xr(Me,me,ze,nt,st){var We=Me.shared,Ue=Me.stats,Ye=We.current,Pe=We.timer,Be=ze.profile;function Ae(){return typeof performance>"u"?"Date.now()":"performance.now()"}var et,ut;function Ot(In){et=me.def(),In(et,"=",Ae(),";"),typeof st=="string"?In(Ue,".count+=",st,";"):In(Ue,".count++;"),Kt&&(nt?(ut=me.def(),In(ut,"=",Pe,".getNumPendingQueries();")):In(Pe,".beginQuery(",Ue,");"))}function Dt(In){In(Ue,".cpuTime+=",Ae(),"-",et,";"),Kt&&(nt?In(Pe,".pushScopeStats(",ut,",",Pe,".getNumPendingQueries(),",Ue,");"):In(Pe,".endQuery();"))}function Et(In){var Jn=me.def(Ye,".profile");me(Ye,".profile=",In,";"),me.exit(Ye,".profile=",Jn,";")}var Zt;if(Be){if(fl(Be)){Be.enable?(Ot(me),Dt(me.exit),Et("true")):Et("false");return}Zt=Be.append(Me,me),Et(Zt)}else Zt=me.def(Ye,".profile");var Fn=Me.block();Ot(Fn),me("if(",Zt,"){",Fn,"}");var _r=Me.block();Dt(_r),me.exit("if(",Zt,"){",_r,"}")}function Yo(Me,me,ze,nt,st){var We=Me.shared;function Ue(Pe){switch(Pe){case cf:case df:case zs:return 2;case Dh:case Lh:case wv:return 3;case Zc:case ff:case Hs:return 4;default:return 1}}function Ye(Pe,Be,Ae){var et=We.gl,ut=me.def(Pe,".location"),Ot=me.def(We.attributes,"[",ut,"]"),Dt=Ae.state,Et=Ae.buffer,Zt=[Ae.x,Ae.y,Ae.z,Ae.w],Fn=["buffer","normalized","offset","stride"];function _r(){me("if(!",Ot,".buffer){",et,".enableVertexAttribArray(",ut,");}");var Jn=Ae.type,gr;if(Ae.size?gr=me.def(Ae.size,"||",Be):gr=Be,me("if(",Ot,".type!==",Jn,"||",Ot,".size!==",gr,"||",Fn.map(function(ao){return Ot+"."+ao+"!=="+Ae[ao]}).join("||"),"){",et,".bindBuffer(",Gu,",",Et,".buffer);",et,".vertexAttribPointer(",[ut,gr,Jn,Ae.normalized,Ae.stride,Ae.offset],");",Ot,".type=",Jn,";",Ot,".size=",gr,";",Fn.map(function(ao){return Ot+"."+ao+"="+Ae[ao]+";"}).join(""),"}"),Vt){var Jr=Ae.divisor;me("if(",Ot,".divisor!==",Jr,"){",Me.instancing,".vertexAttribDivisorANGLE(",[ut,Jr],");",Ot,".divisor=",Jr,";}")}}function In(){me("if(",Ot,".buffer){",et,".disableVertexAttribArray(",ut,");",Ot,".buffer=null;","}if(",ju.map(function(Jn,gr){return Ot+"."+Jn+"!=="+Zt[gr]}).join("||"),"){",et,".vertexAttrib4f(",ut,",",Zt,");",ju.map(function(Jn,gr){return Ot+"."+Jn+"="+Zt[gr]+";"}).join(""),"}")}Dt===Qo?_r():Dt===n0?In():(me("if(",Dt,"===",Qo,"){"),_r(),me("}else{"),In(),me("}"))}nt.forEach(function(Pe){var Be=Pe.name,Ae=ze.attributes[Be],et;if(Ae){if(!st(Ae))return;et=Ae.append(Me,me)}else{if(!st(h0))return;var ut=Me.scopeAttrib(Be);$.optional(function(){Me.assert(me,ut+".state","missing attribute "+Be)}),et={},Object.keys(new ot).forEach(function(Ot){et[Ot]=me.def(ut,".",Ot)})}Ye(Me.link(Pe),Ue(Pe.info.type),et)})}function ui(Me,me,ze,nt,st){for(var We=Me.shared,Ue=We.gl,Ye,Pe=0;Pe<nt.length;++Pe){var Be=nt[Pe],Ae=Be.name,et=Be.info.type,ut=ze.uniforms[Ae],Ot=Me.link(Be),Dt=Ot+".location",Et;if(ut){if(!st(ut))continue;if(fl(ut)){var Zt=ut.value;if($.command(Zt!==null&&typeof Zt<"u",'missing uniform "'+Ae+'"',Me.commandStr),et===$h||et===Fh){$.command(typeof Zt=="function"&&(et===$h&&(Zt._reglType==="texture2d"||Zt._reglType==="framebuffer")||et===Fh&&(Zt._reglType==="textureCube"||Zt._reglType==="framebufferCube")),"invalid texture for uniform "+Ae,Me.commandStr);var Fn=Me.link(Zt._texture||Zt.color[0]._texture);me(Ue,".uniform1i(",Dt,",",Fn+".bind());"),me.exit(Fn,".unbind();")}else if(et===hf||et===pf||et===Jc){$.optional(function(){$.command(uo(Zt),"invalid matrix for uniform "+Ae,Me.commandStr),$.command(et===hf&&Zt.length===4||et===pf&&Zt.length===9||et===Jc&&Zt.length===16,"invalid length for matrix uniform "+Ae,Me.commandStr)});var _r=Me.global.def("new Float32Array(["+Array.prototype.slice.call(Zt)+"])"),In=2;et===pf?In=3:et===Jc&&(In=4),me(Ue,".uniformMatrix",In,"fv(",Dt,",false,",_r,");")}else{switch(et){case ul:$.commandType(Zt,"number","uniform "+Ae,Me.commandStr),Ye="1f";break;case cf:$.command(uo(Zt)&&Zt.length===2,"uniform "+Ae,Me.commandStr),Ye="2f";break;case Dh:$.command(uo(Zt)&&Zt.length===3,"uniform "+Ae,Me.commandStr),Ye="3f";break;case Zc:$.command(uo(Zt)&&Zt.length===4,"uniform "+Ae,Me.commandStr),Ye="4f";break;case kh:$.commandType(Zt,"boolean","uniform "+Ae,Me.commandStr),Ye="1i";break;case Sv:$.commandType(Zt,"number","uniform "+Ae,Me.commandStr),Ye="1i";break;case zs:$.command(uo(Zt)&&Zt.length===2,"uniform "+Ae,Me.commandStr),Ye="2i";break;case df:$.command(uo(Zt)&&Zt.length===2,"uniform "+Ae,Me.commandStr),Ye="2i";break;case wv:$.command(uo(Zt)&&Zt.length===3,"uniform "+Ae,Me.commandStr),Ye="3i";break;case Lh:$.command(uo(Zt)&&Zt.length===3,"uniform "+Ae,Me.commandStr),Ye="3i";break;case Hs:$.command(uo(Zt)&&Zt.length===4,"uniform "+Ae,Me.commandStr),Ye="4i";break;case ff:$.command(uo(Zt)&&Zt.length===4,"uniform "+Ae,Me.commandStr),Ye="4i";break}me(Ue,".uniform",Ye,"(",Dt,",",uo(Zt)?Array.prototype.slice.call(Zt):Zt,");")}continue}else Et=ut.append(Me,me)}else{if(!st(h0))continue;Et=me.def(We.uniforms,"[",de.id(Ae),"]")}et===$h?($(!Array.isArray(Et),"must specify a scalar prop for textures"),me("if(",Et,"&&",Et,'._reglType==="framebuffer"){',Et,"=",Et,".color[0];","}")):et===Fh&&($(!Array.isArray(Et),"must specify a scalar prop for cube maps"),me("if(",Et,"&&",Et,'._reglType==="framebufferCube"){',Et,"=",Et,".color[0];","}")),$.optional(function(){function ga(Gs,Z1){Me.assert(me,Gs,'bad data or missing for uniform "'+Ae+'".  '+Z1)}function y0(Gs){$(!Array.isArray(Et),"must not specify an array type for uniform"),ga("typeof "+Et+'==="'+Gs+'"',"invalid type, expected "+Gs)}function hs(Gs,Z1){Array.isArray(Et)?$(Et.length===Gs,"must have length "+Gs):ga(We.isArrayLike+"("+Et+")&&"+Et+".length==="+Gs,"invalid vector, should have length "+Gs,Me.commandStr)}function q1(Gs){$(!Array.isArray(Et),"must not specify a value type"),ga("typeof "+Et+'==="function"&&'+Et+'._reglType==="texture'+(Gs===uf?"2d":"Cube")+'"',"invalid texture type",Me.commandStr)}switch(et){case Sv:y0("number");break;case df:hs(2);break;case Lh:hs(3);break;case ff:hs(4);break;case ul:y0("number");break;case cf:hs(2);break;case Dh:hs(3);break;case Zc:hs(4);break;case kh:y0("boolean");break;case zs:hs(2);break;case wv:hs(3);break;case Hs:hs(4);break;case hf:hs(4);break;case pf:hs(9);break;case Jc:hs(16);break;case $h:q1(uf);break;case Fh:q1(k1);break}});var Jn=1;switch(et){case $h:case Fh:var gr=me.def(Et,"._texture");me(Ue,".uniform1i(",Dt,",",gr,".bind());"),me.exit(gr,".unbind();");continue;case Sv:case kh:Ye="1i";break;case df:case zs:Ye="2i",Jn=2;break;case Lh:case wv:Ye="3i",Jn=3;break;case ff:case Hs:Ye="4i",Jn=4;break;case ul:Ye="1f";break;case cf:Ye="2f",Jn=2;break;case Dh:Ye="3f",Jn=3;break;case Zc:Ye="4f",Jn=4;break;case hf:Ye="Matrix2fv";break;case pf:Ye="Matrix3fv";break;case Jc:Ye="Matrix4fv";break}if(me(Ue,".uniform",Ye,"(",Dt,","),Ye.charAt(0)==="M"){var Jr=Math.pow(et-hf+2,2),ao=Me.global.def("new Float32Array(",Jr,")");Array.isArray(Et)?me("false,(",Jt(Jr,function(ga){return ao+"["+ga+"]="+Et[ga]}),",",ao,")"):me("false,(Array.isArray(",Et,")||",Et," instanceof Float32Array)?",Et,":(",Jt(Jr,function(ga){return ao+"["+ga+"]="+Et+"["+ga+"]"}),",",ao,")")}else Jn>1?me(Jt(Jn,function(ga){return Array.isArray(Et)?Et[ga]:Et+"["+ga+"]"})):($(!Array.isArray(Et),"uniform value must not be an array"),me(Et));me(");")}}function Zn(Me,me,ze,nt){var st=Me.shared,We=st.gl,Ue=st.draw,Ye=nt.draw;function Pe(){var gr=Ye.elements,Jr,ao=me;return gr?((gr.contextDep&&nt.contextDynamic||gr.propDep)&&(ao=ze),Jr=gr.append(Me,ao)):Jr=ao.def(Ue,".",Yc),Jr&&ao("if("+Jr+")"+We+".bindBuffer("+Yr+","+Jr+".buffer.buffer);"),Jr}function Be(){var gr=Ye.count,Jr,ao=me;return gr?((gr.contextDep&&nt.contextDynamic||gr.propDep)&&(ao=ze),Jr=gr.append(Me,ao),$.optional(function(){gr.MISSING&&Me.assert(me,"false","missing vertex count"),gr.DYNAMIC&&Me.assert(ao,Jr+">=0","missing vertex count")})):(Jr=ao.def(Ue,".",Hu),$.optional(function(){Me.assert(ao,Jr+">=0","missing vertex count")})),Jr}var Ae=Pe();function et(gr){var Jr=Ye[gr];return Jr?Jr.contextDep&&nt.contextDynamic||Jr.propDep?Jr.append(Me,ze):Jr.append(Me,me):me.def(Ue,".",gr)}var ut=et(Ql),Ot=et(Mh),Dt=Be();if(typeof Dt=="number"){if(Dt===0)return}else ze("if(",Dt,"){"),ze.exit("}");var Et,Zt;Vt&&(Et=et(Ih),Zt=Me.instancing);var Fn=Ae+".type",_r=Ye.elements&&fl(Ye.elements);function In(){function gr(){ze(Zt,".drawElementsInstancedANGLE(",[ut,Dt,Fn,Ot+"<<(("+Fn+"-"+Bu+")>>1)",Et],");")}function Jr(){ze(Zt,".drawArraysInstancedANGLE(",[ut,Ot,Dt,Et],");")}Ae?_r?gr():(ze("if(",Ae,"){"),gr(),ze("}else{"),Jr(),ze("}")):Jr()}function Jn(){function gr(){ze(We+".drawElements("+[ut,Dt,Fn,Ot+"<<(("+Fn+"-"+Bu+")>>1)"]+");")}function Jr(){ze(We+".drawArrays("+[ut,Ot,Dt]+");")}Ae?_r?gr():(ze("if(",Ae,"){"),gr(),ze("}else{"),Jr(),ze("}")):Jr()}Vt&&(typeof Et!="number"||Et>=0)?typeof Et=="string"?(ze("if(",Et,">0){"),In(),ze("}else if(",Et,"<0){"),Jn(),ze("}")):In():Jn()}function kr(Me,me,ze,nt,st){var We=or(),Ue=We.proc("body",st);return $.optional(function(){We.commandStr=me.commandStr,We.command=We.link(me.commandStr)}),Vt&&(We.instancing=Ue.def(We.shared.extensions,".angle_instanced_arrays")),Me(We,Ue,ze,nt),We.compile().body}function Wr(Me,me,ze,nt){co(Me,me),ze.useVAO?ze.drawVAO?me(Me.shared.vao,".setVAO(",ze.drawVAO.append(Me,me),");"):me(Me.shared.vao,".setVAO(",Me.shared.vao,".targetVAO);"):(me(Me.shared.vao,".setVAO(null);"),Yo(Me,me,ze,nt.attributes,function(){return!0})),ui(Me,me,ze,nt.uniforms,function(){return!0}),Zn(Me,me,me,ze)}function fo(Me,me){var ze=Me.proc("draw",1);co(Me,ze),Ki(Me,ze,me.context),wo(Me,ze,me.framebuffer),Po(Me,ze,me),Ko(Me,ze,me.state),xr(Me,ze,me,!1,!0);var nt=me.shader.progVar.append(Me,ze);if(ze(Me.shared.gl,".useProgram(",nt,".program);"),me.shader.program)Wr(Me,ze,me,me.shader.program);else{ze(Me.shared.vao,".setVAO(null);");var st=Me.global.def("{}"),We=ze.def(nt,".id"),Ue=ze.def(st,"[",We,"]");ze(Me.cond(Ue).then(Ue,".call(this,a0);").else(Ue,"=",st,"[",We,"]=",Me.link(function(Ye){return kr(Wr,Me,me,Ye,1)}),"(",nt,");",Ue,".call(this,a0);"))}Object.keys(me.state).length>0&&ze(Me.shared.current,".dirty=true;")}function pl(Me,me,ze,nt){Me.batchId="a1",co(Me,me);function st(){return!0}Yo(Me,me,ze,nt.attributes,st),ui(Me,me,ze,nt.uniforms,st),Zn(Me,me,me,ze)}function nd(Me,me,ze,nt){co(Me,me);var st=ze.contextDep,We=me.def(),Ue="a0",Ye="a1",Pe=me.def();Me.shared.props=Pe,Me.batchId=We;var Be=Me.scope(),Ae=Me.scope();me(Be.entry,"for(",We,"=0;",We,"<",Ye,";++",We,"){",Pe,"=",Ue,"[",We,"];",Ae,"}",Be.exit);function et(Fn){return Fn.contextDep&&st||Fn.propDep}function ut(Fn){return!et(Fn)}if(ze.needsContext&&Ki(Me,Ae,ze.context),ze.needsFramebuffer&&wo(Me,Ae,ze.framebuffer),Ko(Me,Ae,ze.state,et),ze.profile&&et(ze.profile)&&xr(Me,Ae,ze,!1,!0),nt)ze.useVAO?ze.drawVAO?et(ze.drawVAO)?Ae(Me.shared.vao,".setVAO(",ze.drawVAO.append(Me,Ae),");"):Be(Me.shared.vao,".setVAO(",ze.drawVAO.append(Me,Be),");"):Be(Me.shared.vao,".setVAO(",Me.shared.vao,".targetVAO);"):(Be(Me.shared.vao,".setVAO(null);"),Yo(Me,Be,ze,nt.attributes,ut),Yo(Me,Ae,ze,nt.attributes,et)),ui(Me,Be,ze,nt.uniforms,ut),ui(Me,Ae,ze,nt.uniforms,et),Zn(Me,Be,Ae,ze);else{var Ot=Me.global.def("{}"),Dt=ze.shader.progVar.append(Me,Ae),Et=Ae.def(Dt,".id"),Zt=Ae.def(Ot,"[",Et,"]");Ae(Me.shared.gl,".useProgram(",Dt,".program);","if(!",Zt,"){",Zt,"=",Ot,"[",Et,"]=",Me.link(function(Fn){return kr(pl,Me,ze,Fn,2)}),"(",Dt,");}",Zt,".call(this,a0[",We,"],",We,");")}}function De(Me,me){var ze=Me.proc("batch",2);Me.batchId="0",co(Me,ze);var nt=!1,st=!0;Object.keys(me.context).forEach(function(Ot){nt=nt||me.context[Ot].propDep}),nt||(Ki(Me,ze,me.context),st=!1);var We=me.framebuffer,Ue=!1;We?(We.propDep?nt=Ue=!0:We.contextDep&&nt&&(Ue=!0),Ue||wo(Me,ze,We)):wo(Me,ze,null),me.state.viewport&&me.state.viewport.propDep&&(nt=!0);function Ye(Ot){return Ot.contextDep&&nt||Ot.propDep}Po(Me,ze,me),Ko(Me,ze,me.state,function(Ot){return!Ye(Ot)}),(!me.profile||!Ye(me.profile))&&xr(Me,ze,me,!1,"a1"),me.contextDep=nt,me.needsContext=st,me.needsFramebuffer=Ue;var Pe=me.shader.progVar;if(Pe.contextDep&&nt||Pe.propDep)nd(Me,ze,me,null);else{var Be=Pe.append(Me,ze);if(ze(Me.shared.gl,".useProgram(",Be,".program);"),me.shader.program)nd(Me,ze,me,me.shader.program);else{ze(Me.shared.vao,".setVAO(null);");var Ae=Me.global.def("{}"),et=ze.def(Be,".id"),ut=ze.def(Ae,"[",et,"]");ze(Me.cond(ut).then(ut,".call(this,a0,a1);").else(ut,"=",Ae,"[",et,"]=",Me.link(function(Ot){return kr(nd,Me,me,Ot,2)}),"(",Be,");",ut,".call(this,a0,a1);"))}}Object.keys(me.state).length>0&&ze(Me.shared.current,".dirty=true;")}function xt(Me,me){var ze=Me.proc("scope",3);Me.batchId="a2";var nt=Me.shared,st=nt.current;Ki(Me,ze,me.context),me.framebuffer&&me.framebuffer.append(Me,ze),f0(Object.keys(me.state)).forEach(function(Ue){var Ye=me.state[Ue],Pe=Ye.append(Me,ze);uo(Pe)?Pe.forEach(function(Be,Ae){ze.set(Me.next[Ue],"["+Ae+"]",Be)}):ze.set(nt.next,"."+Ue,Pe)}),xr(Me,ze,me,!0,!0),[Yc,Mh,Hu,Ih,Ql].forEach(function(Ue){var Ye=me.draw[Ue];Ye&&ze.set(nt.draw,"."+Ue,""+Ye.append(Me,ze))}),Object.keys(me.uniforms).forEach(function(Ue){var Ye=me.uniforms[Ue].append(Me,ze);Array.isArray(Ye)&&(Ye="["+Ye.join()+"]"),ze.set(nt.uniforms,"["+de.id(Ue)+"]",Ye)}),Object.keys(me.attributes).forEach(function(Ue){var Ye=me.attributes[Ue].append(Me,ze),Pe=Me.scopeAttrib(Ue);Object.keys(new ot).forEach(function(Be){ze.set(Pe,"."+Be,Ye[Be])})}),me.scopeVAO&&ze.set(nt.vao,".targetVAO",me.scopeVAO.append(Me,ze));function We(Ue){var Ye=me.shader[Ue];Ye&&ze.set(nt.shader,"."+Ue,Ye.append(Me,ze))}We(sf),We(Kc),Object.keys(me.state).length>0&&(ze(st,".dirty=true;"),ze.exit(st,".dirty=true;")),ze("a1(",Me.shared.context,",a0,",Me.batchId,");")}function ft(Me){if(!(typeof Me!="object"||uo(Me))){for(var me=Object.keys(Me),ze=0;ze<me.length;++ze)if(pt.isDynamic(Me[me[ze]]))return!0;return!1}}function Rn(Me,me,ze){var nt=me.static[ze];if(!nt||!ft(nt))return;var st=Me.global,We=Object.keys(nt),Ue=!1,Ye=!1,Pe=!1,Be=Me.global.def("{}");We.forEach(function(et){var ut=nt[et];if(pt.isDynamic(ut)){typeof ut=="function"&&(ut=nt[et]=pt.unbox(ut));var Ot=Da(ut,null);Ue=Ue||Ot.thisDep,Pe=Pe||Ot.propDep,Ye=Ye||Ot.contextDep}else{switch(st(Be,".",et,"="),typeof ut){case"number":st(ut);break;case"string":st('"',ut,'"');break;case"object":Array.isArray(ut)&&st("[",ut.join(),"]");break;default:st(Me.link(ut));break}st(";")}});function Ae(et,ut){We.forEach(function(Ot){var Dt=nt[Ot];if(pt.isDynamic(Dt)){var Et=et.invoke(ut,Dt);ut(Be,".",Ot,"=",Et,";")}})}me.dynamic[ze]=new pt.DynamicVariable(Eh,{thisDep:Ue,contextDep:Ye,propDep:Pe,ref:Be,append:Ae}),delete me.static[ze]}function Nr(Me,me,ze,nt,st){var We=or();We.stats=We.link(st),Object.keys(me.static).forEach(function(Ye){Rn(We,me,Ye)}),bC.forEach(function(Ye){Rn(We,Me,Ye)});var Ue=Si(Me,me,ze,nt,We);return fo(We,Ue),xt(We,Ue),De(We,Ue),r(We.compile(),{destroy:function(){Ue.shader.program.destroy()}})}return{next:wn,current:Ft,procs:function(){var Me=or(),me=Me.proc("poll"),ze=Me.proc("refresh"),nt=Me.block();me(nt),ze(nt);var st=Me.shared,We=st.gl,Ue=st.next,Ye=st.current;nt(Ye,".dirty=false;"),wo(Me,me),wo(Me,ze,null,!0);var Pe;Vt&&(Pe=Me.link(Vt)),ke.oes_vertex_array_object&&ze(Me.link(ke.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Be=0;Be<gt.maxAttributes;++Be){var Ae=ze.def(st.attributes,"[",Be,"]"),et=Me.cond(Ae,".buffer");et.then(We,".enableVertexAttribArray(",Be,");",We,".bindBuffer(",Gu,",",Ae,".buffer.buffer);",We,".vertexAttribPointer(",Be,",",Ae,".size,",Ae,".type,",Ae,".normalized,",Ae,".stride,",Ae,".offset);").else(We,".disableVertexAttribArray(",Be,");",We,".vertexAttrib4f(",Be,",",Ae,".x,",Ae,".y,",Ae,".z,",Ae,".w);",Ae,".buffer=null;"),ze(et),Vt&&ze(Pe,".vertexAttribDivisorANGLE(",Be,",",Ae,".divisor);")}return ze(Me.shared.vao,".currentVAO=null;",Me.shared.vao,".setVAO(",Me.shared.vao,".targetVAO);"),Object.keys(fn).forEach(function(ut){var Ot=fn[ut],Dt=nt.def(Ue,".",ut),Et=Me.block();Et("if(",Dt,"){",We,".enable(",Ot,")}else{",We,".disable(",Ot,")}",Ye,".",ut,"=",Dt,";"),ze(Et),me("if(",Dt,"!==",Ye,".",ut,"){",Et,"}")}),Object.keys(zt).forEach(function(ut){var Ot=zt[ut],Dt=Ft[ut],Et,Zt,Fn=Me.block();if(Fn(We,".",Ot,"("),uo(Dt)){var _r=Dt.length;Et=Me.global.def(Ue,".",ut),Zt=Me.global.def(Ye,".",ut),Fn(Jt(_r,function(In){return Et+"["+In+"]"}),");",Jt(_r,function(In){return Zt+"["+In+"]="+Et+"["+In+"];"}).join("")),me("if(",Jt(_r,function(In){return Et+"["+In+"]!=="+Zt+"["+In+"]"}).join("||"),"){",Fn,"}")}else Et=nt.def(Ue,".",ut),Zt=nt.def(Ye,".",ut),Fn(Et,");",Ye,".",ut,"=",Et,";"),me("if(",Et,"!==",Zt,"){",Fn,"}");ze(Fn)}),Me.compile()}(),compile:Nr}}function G1(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var p0=34918,TC=34919,v0=35007,eu=function(Y,de){if(!de.ext_disjoint_timer_query)return null;var ke=[];function gt(){return ke.pop()||de.ext_disjoint_timer_query.createQueryEXT()}function Rt(Vt){ke.push(Vt)}var yt=[];function St(Vt){var sn=gt();de.ext_disjoint_timer_query.beginQueryEXT(v0,sn),yt.push(sn),Kt(yt.length-1,yt.length,Vt)}function Xt(){de.ext_disjoint_timer_query.endQueryEXT(v0)}function $t(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var nn=[];function qt(){return nn.pop()||new $t}function an(Vt){nn.push(Vt)}var vn=[];function Kt(Vt,sn,Ft){var wn=qt();wn.startQueryIndex=Vt,wn.endQueryIndex=sn,wn.sum=0,wn.stats=Ft,vn.push(wn)}var cn=[],ot=[];function wt(){var Vt,sn,Ft=yt.length;if(Ft!==0){ot.length=Math.max(ot.length,Ft+1),cn.length=Math.max(cn.length,Ft+1),cn[0]=0,ot[0]=0;var wn=0;for(Vt=0,sn=0;sn<yt.length;++sn){var Bt=yt[sn];de.ext_disjoint_timer_query.getQueryObjectEXT(Bt,TC)?(wn+=de.ext_disjoint_timer_query.getQueryObjectEXT(Bt,p0),Rt(Bt)):yt[Vt++]=Bt,cn[sn+1]=wn,ot[sn+1]=Vt}for(yt.length=Vt,Vt=0,sn=0;sn<vn.length;++sn){var fn=vn[sn],zt=fn.startQueryIndex,ln=fn.endQueryIndex;fn.sum+=cn[ln]-cn[zt];var Wn=ot[zt],hr=ot[ln];hr===Wn?(fn.stats.gpuTime+=fn.sum/1e6,an(fn)):(fn.startQueryIndex=Wn,fn.endQueryIndex=hr,vn[Vt++]=fn)}vn.length=Vt}}return{beginQuery:St,endQuery:Xt,pushScopeStats:Kt,update:wt,getNumPendingQueries:function(){return yt.length},clear:function(){ke.push.apply(ke,yt);for(var Vt=0;Vt<ke.length;Vt++)de.ext_disjoint_timer_query.deleteQueryEXT(ke[Vt]);yt.length=0,ke.length=0},restore:function(){yt.length=0,ke.length=0}}},W1=16384,V1=256,RC=1024,X1=34962,K1="webglcontextlost",Y1="webglcontextrestored",hl=1,m0=2,g0=3;function Rv(Y,de){for(var ke=0;ke<Y.length;++ke)if(Y[ke]===de)return ke;return-1}function Pv(Y){var de=it(Y);if(!de)return null;var ke=de.gl,gt=ke.getContextAttributes(),Rt=ke.isContextLost(),yt=It(ke,de);if(!yt)return null;var St=hn(),Xt=G1(),$t=yt.extensions,nn=eu(ke,$t),qt=Lt(),an=ke.drawingBufferWidth,vn=ke.drawingBufferHeight,Kt={tick:0,time:0,viewportWidth:an,viewportHeight:vn,framebufferWidth:an,framebufferHeight:vn,drawingBufferWidth:an,drawingBufferHeight:vn,pixelRatio:de.pixelRatio},cn={},ot={elements:null,primitive:4,count:-1,offset:0,instances:-1},wt=al(ke,$t),Vt=Zo(ke,Xt,de,Ft),sn=hC(ke,$t,wt,Xt,Vt);function Ft(Zn){return sn.destroyBuffer(Zn)}var wn=ro(ke,$t,Vt,Xt),Bt=vC(ke,St,Xt,de),fn=la(ke,$t,wt,function(){Wn.procs.poll()},Kt,Xt,de),zt=ZE(ke,$t,wt,Xt,de),ln=fC(ke,$t,wt,fn,zt,Xt),Wn=Tv(ke,St,$t,wt,Vt,wn,fn,ln,cn,sn,Bt,ot,Kt,nn,de),hr=gC(ke,ln,Wn.procs.poll,Kt,gt,$t,wt),mn=Wn.next,on=ke.canvas,jt=[],or=[],yr=[],Mn=[de.onDestroy],Or=null;function pr(){if(jt.length===0){nn&&nn.update(),Or=null;return}Or=Ht.next(pr),Ko();for(var Zn=jt.length-1;Zn>=0;--Zn){var kr=jt[Zn];kr&&kr(Kt,null,0)}ke.flush(),nn&&nn.update()}function Er(){!Or&&jt.length>0&&(Or=Ht.next(pr))}function zr(){Or&&(Ht.cancel(pr),Or=null)}function io(Zn){Zn.preventDefault(),Rt=!0,zr(),or.forEach(function(kr){kr()})}function So(Zn){ke.getError(),Rt=!1,yt.restore(),Bt.restore(),Vt.restore(),fn.restore(),zt.restore(),ln.restore(),sn.restore(),nn&&nn.restore(),Wn.procs.refresh(),Er(),yr.forEach(function(kr){kr()})}on&&(on.addEventListener(K1,io,!1),on.addEventListener(Y1,So,!1));function Lr(){jt.length=0,zr(),on&&(on.removeEventListener(K1,io),on.removeEventListener(Y1,So)),Bt.clear(),ln.clear(),zt.clear(),fn.clear(),wn.clear(),Vt.clear(),sn.clear(),nn&&nn.clear(),Mn.forEach(function(Zn){Zn()})}function oo(Zn){$(!!Zn,"invalid args to regl({...})"),$.type(Zn,"object","invalid args to regl({...})");function kr(st){var We=r({},st);delete We.uniforms,delete We.attributes,delete We.context,delete We.vao,"stencil"in We&&We.stencil.op&&(We.stencil.opBack=We.stencil.opFront=We.stencil.op,delete We.stencil.op);function Ue(Ye){if(Ye in We){var Pe=We[Ye];delete We[Ye],Object.keys(Pe).forEach(function(Be){We[Ye+"."+Be]=Pe[Be]})}}return Ue("blend"),Ue("depth"),Ue("cull"),Ue("stencil"),Ue("polygonOffset"),Ue("scissor"),Ue("sample"),"vao"in st&&(We.vao=st.vao),We}function Wr(st,We){var Ue={},Ye={};return Object.keys(st).forEach(function(Pe){var Be=st[Pe];if(pt.isDynamic(Be)){Ye[Pe]=pt.unbox(Be,Pe);return}else if(We&&Array.isArray(Be)){for(var Ae=0;Ae<Be.length;++Ae)if(pt.isDynamic(Be[Ae])){Ye[Pe]=pt.unbox(Be,Pe);return}}Ue[Pe]=Be}),{dynamic:Ye,static:Ue}}var fo=Wr(Zn.context||{},!0),pl=Wr(Zn.uniforms||{},!0),nd=Wr(Zn.attributes||{},!1),De=Wr(kr(Zn),!1),xt={gpuTime:0,cpuTime:0,count:0},ft=Wn.compile(De,nd,pl,fo,xt),Rn=ft.draw,Nr=ft.batch,Me=ft.scope,me=[];function ze(st){for(;me.length<st;)me.push(null);return me}function nt(st,We){var Ue;if(Rt&&$.raise("context lost"),typeof st=="function")return Me.call(this,null,st,0);if(typeof We=="function")if(typeof st=="number")for(Ue=0;Ue<st;++Ue)Me.call(this,null,We,Ue);else if(Array.isArray(st))for(Ue=0;Ue<st.length;++Ue)Me.call(this,st[Ue],We,Ue);else return Me.call(this,st,We,0);else if(typeof st=="number"){if(st>0)return Nr.call(this,ze(st|0),st|0)}else if(Array.isArray(st)){if(st.length)return Nr.call(this,st,st.length)}else return Rn.call(this,st)}return r(nt,{stats:xt,destroy:function(){ft.destroy()}})}var Li=ln.setFBO=oo({framebuffer:pt.define.call(null,hl,"framebuffer")});function Si(Zn,kr){var Wr=0;Wn.procs.poll();var fo=kr.color;fo&&(ke.clearColor(+fo[0]||0,+fo[1]||0,+fo[2]||0,+fo[3]||0),Wr|=W1),"depth"in kr&&(ke.clearDepth(+kr.depth),Wr|=V1),"stencil"in kr&&(ke.clearStencil(kr.stencil|0),Wr|=RC),$(!!Wr,"called regl.clear with no buffer specified"),ke.clear(Wr)}function Ki(Zn){if($(typeof Zn=="object"&&Zn,"regl.clear() takes an object as input"),"framebuffer"in Zn)if(Zn.framebuffer&&Zn.framebuffer_reglType==="framebufferCube")for(var kr=0;kr<6;++kr)Li(r({framebuffer:Zn.framebuffer.faces[kr]},Zn),Si);else Li(Zn,Si);else Si(null,Zn)}function wo(Zn){$.type(Zn,"function","regl.frame() callback must be a function"),jt.push(Zn);function kr(){var Wr=Rv(jt,Zn);$(Wr>=0,"cannot cancel a frame twice");function fo(){var pl=Rv(jt,fo);jt[pl]=jt[jt.length-1],jt.length-=1,jt.length<=0&&zr()}jt[Wr]=fo}return Er(),{cancel:kr}}function Po(){var Zn=mn.viewport,kr=mn.scissor_box;Zn[0]=Zn[1]=kr[0]=kr[1]=0,Kt.viewportWidth=Kt.framebufferWidth=Kt.drawingBufferWidth=Zn[2]=kr[2]=ke.drawingBufferWidth,Kt.viewportHeight=Kt.framebufferHeight=Kt.drawingBufferHeight=Zn[3]=kr[3]=ke.drawingBufferHeight}function Ko(){Kt.tick+=1,Kt.time=xr(),Po(),Wn.procs.poll()}function co(){fn.refresh(),Po(),Wn.procs.refresh(),nn&&nn.update()}function xr(){return(Lt()-qt)/1e3}co();function Yo(Zn,kr){$.type(kr,"function","listener callback must be a function");var Wr;switch(Zn){case"frame":return wo(kr);case"lost":Wr=or;break;case"restore":Wr=yr;break;case"destroy":Wr=Mn;break;default:$.raise("invalid event, must be one of frame,lost,restore,destroy")}return Wr.push(kr),{cancel:function(){for(var fo=0;fo<Wr.length;++fo)if(Wr[fo]===kr){Wr[fo]=Wr[Wr.length-1],Wr.pop();return}}}}var ui=r(oo,{clear:Ki,prop:pt.define.bind(null,hl),context:pt.define.bind(null,m0),this:pt.define.bind(null,g0),draw:oo({}),buffer:function(Zn){return Vt.create(Zn,X1,!1,!1)},elements:function(Zn){return wn.create(Zn,!1)},texture:fn.create2D,cube:fn.createCube,renderbuffer:zt.create,framebuffer:ln.create,framebufferCube:ln.createCube,vao:sn.createVAO,attributes:gt,frame:wo,on:Yo,limits:wt,hasExtension:function(Zn){return wt.extensions.indexOf(Zn.toLowerCase())>=0},read:hr,destroy:Lr,_gl:ke,_refresh:co,poll:function(){Ko(),nn&&nn.update()},now:xr,stats:Xt});return de.onDone(null,ui),ui}return Pv})})(pU);var i5e=pU.exports;const o5e=Ua(i5e);var a5e=function(){function t(e,n){Vn(this,t),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,i=n.offset,o=n.stride,a=n.normalized,s=n.size,l=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:o||0,normalized:a||!1,divisor:l||0},s&&(this.attribute.size=s)}return dr(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(n){this.buffer.subData(n)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),cd,G0,dd,_l,W0,xf,V0,e_,Zu,Kh,ya,Ju,Qu,t_,s5e=(cd={},J(cd,at.POINTS,"points"),J(cd,at.LINES,"lines"),J(cd,at.LINE_LOOP,"line loop"),J(cd,at.LINE_STRIP,"line strip"),J(cd,at.TRIANGLES,"triangles"),J(cd,at.TRIANGLE_FAN,"triangle fan"),J(cd,at.TRIANGLE_STRIP,"triangle strip"),cd),vU=(G0={},J(G0,at.STATIC_DRAW,"static"),J(G0,at.DYNAMIC_DRAW,"dynamic"),J(G0,at.STREAM_DRAW,"stream"),G0),PO=(dd={},J(dd,at.BYTE,"int8"),J(dd,at.UNSIGNED_INT,"int16"),J(dd,at.INT,"int32"),J(dd,at.UNSIGNED_BYTE,"uint8"),J(dd,at.UNSIGNED_SHORT,"uint16"),J(dd,at.UNSIGNED_INT,"uint32"),J(dd,at.FLOAT,"float"),dd),l5e=(_l={},J(_l,at.ALPHA,"alpha"),J(_l,at.LUMINANCE,"luminance"),J(_l,at.LUMINANCE_ALPHA,"luminance alpha"),J(_l,at.RGB,"rgb"),J(_l,at.RGBA,"rgba"),J(_l,at.RGBA4,"rgba4"),J(_l,at.RGB5_A1,"rgb5 a1"),J(_l,at.RGB565,"rgb565"),J(_l,at.DEPTH_COMPONENT,"depth"),J(_l,at.DEPTH_STENCIL,"depth stencil"),_l),u5e=(W0={},J(W0,at.DONT_CARE,"dont care"),J(W0,at.NICEST,"nice"),J(W0,at.FASTEST,"fast"),W0),PL=(xf={},J(xf,at.NEAREST,"nearest"),J(xf,at.LINEAR,"linear"),J(xf,at.LINEAR_MIPMAP_LINEAR,"mipmap"),J(xf,at.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),J(xf,at.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),J(xf,at.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),xf),AL=(V0={},J(V0,at.REPEAT,"repeat"),J(V0,at.CLAMP_TO_EDGE,"clamp"),J(V0,at.MIRRORED_REPEAT,"mirror"),V0),c5e=(e_={},J(e_,at.NONE,"none"),J(e_,at.BROWSER_DEFAULT_WEBGL,"browser"),e_),d5e=(Zu={},J(Zu,at.NEVER,"never"),J(Zu,at.ALWAYS,"always"),J(Zu,at.LESS,"less"),J(Zu,at.LEQUAL,"lequal"),J(Zu,at.GREATER,"greater"),J(Zu,at.GEQUAL,"gequal"),J(Zu,at.EQUAL,"equal"),J(Zu,at.NOTEQUAL,"notequal"),Zu),OL=(Kh={},J(Kh,at.FUNC_ADD,"add"),J(Kh,at.MIN_EXT,"min"),J(Kh,at.MAX_EXT,"max"),J(Kh,at.FUNC_SUBTRACT,"subtract"),J(Kh,at.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Kh),n_=(ya={},J(ya,at.ZERO,"zero"),J(ya,at.ONE,"one"),J(ya,at.SRC_COLOR,"src color"),J(ya,at.ONE_MINUS_SRC_COLOR,"one minus src color"),J(ya,at.SRC_ALPHA,"src alpha"),J(ya,at.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),J(ya,at.DST_COLOR,"dst color"),J(ya,at.ONE_MINUS_DST_COLOR,"one minus dst color"),J(ya,at.DST_ALPHA,"dst alpha"),J(ya,at.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),J(ya,at.CONSTANT_COLOR,"constant color"),J(ya,at.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),J(ya,at.CONSTANT_ALPHA,"constant alpha"),J(ya,at.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),J(ya,at.SRC_ALPHA_SATURATE,"src alpha saturate"),ya),f5e=(Ju={},J(Ju,at.NEVER,"never"),J(Ju,at.ALWAYS,"always"),J(Ju,at.LESS,"less"),J(Ju,at.LEQUAL,"lequal"),J(Ju,at.GREATER,"greater"),J(Ju,at.GEQUAL,"gequal"),J(Ju,at.EQUAL,"equal"),J(Ju,at.NOTEQUAL,"notequal"),Ju),qv=(Qu={},J(Qu,at.ZERO,"zero"),J(Qu,at.KEEP,"keep"),J(Qu,at.REPLACE,"replace"),J(Qu,at.INVERT,"invert"),J(Qu,at.INCR,"increment"),J(Qu,at.DECR,"decrement"),J(Qu,at.INCR_WRAP,"increment wrap"),J(Qu,at.DECR_WRAP,"decrement wrap"),Qu),h5e=(t_={},J(t_,at.FRONT,"front"),J(t_,at.BACK,"back"),t_),p5e=function(){function t(e,n){Vn(this,t),this.buffer=void 0;var r=n.data,i=n.usage,o=n.type;this.buffer=e.buffer({data:r,usage:vU[i||at.STATIC_DRAW],type:PO[o||at.UNSIGNED_BYTE]})}return dr(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(n){var r=n.data,i=n.offset;this.buffer.subdata(r,i)}}]),t}(),v5e=9007199254740991,m5e="[object Arguments]",g5e="[object Array]",y5e="[object Boolean]",b5e="[object Date]",x5e="[object Error]",_5e="[object Function]",S5e="[object Map]",w5e="[object Number]",E5e="[object Object]",C5e="[object RegExp]",T5e="[object Set]",R5e="[object String]",P5e="[object WeakMap]",A5e="[object ArrayBuffer]",O5e="[object DataView]",N5e="[object Float32Array]",M5e="[object Float64Array]",I5e="[object Int8Array]",D5e="[object Int16Array]",L5e="[object Int32Array]",k5e="[object Uint8Array]",$5e="[object Uint8ClampedArray]",F5e="[object Uint16Array]",j5e="[object Uint32Array]",vo={};vo[N5e]=vo[M5e]=vo[I5e]=vo[D5e]=vo[L5e]=vo[k5e]=vo[$5e]=vo[F5e]=vo[j5e]=!0;vo[m5e]=vo[g5e]=vo[A5e]=vo[y5e]=vo[O5e]=vo[b5e]=vo[x5e]=vo[_5e]=vo[S5e]=vo[w5e]=vo[E5e]=vo[C5e]=vo[T5e]=vo[R5e]=vo[P5e]=!1;var B5e=Object.prototype,z5e=B5e.toString;function H5e(t){return G5e(t)&&U5e(t.length)&&!!vo[z5e.call(t)]}function U5e(t){return typeof t=="number"&&t>-1&&t%1===0&&t<=v5e}function G5e(t){return!!t&&ur(t)==="object"}var mP=H5e;function NL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ML(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var W5e=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,IL=0,V5e=function(){function t(e,n){var r=this;Vn(this,t),this.reGl=e,this.context=n,this.entity=sc(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var i={};this.context.uniforms.forEach(function(u){var c=u.name,d=u.type,f=u.data,h=u.isReferer,v=u.storageClass;if(v===eh.StorageBuffer){if(h)r.textureCache[c]={data:void 0},i["".concat(c,"Size")]=function(){return f.compiledBundle.context.output.textureSize};else{r.textureCache[c]=r.calcDataTexture(c,d,f);var m=r.textureCache[c],g=m.textureWidth,x=m.isOutput;i["".concat(c,"Size")]=[g,g],x&&(r.outputTextureName=c,r.context.needPingpong&&(r.outputTextureName="".concat(c,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(c,d,f)))}i[c]=function(){return r.textureCache[c].texture}}else if(v===eh.Uniform){if(f&&(Array.isArray(f)||mP(f))&&f.length>16)throw new Error("invalid data type ".concat(d));i[c]=function(){return u.data}}});var o=this.getOuputDataTexture(),a=o.textureWidth,s=o.texelCount;i.u_OutputTextureSize=[a,a],i.u_OutputTexelCount=s,this.context.output.textureSize=[a,a];var l={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:i,vert:W5e,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(l)}return dr(t,[{key:"run",value:function(){var n=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){n.computeCommand()})}},{key:"readData",value:function(){var e=Ln(zn.mark(function r(){var i=this,o,a,s,l,u,c,d,f;return zn.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){o=i.reGl.read()}),!o){v.next=6;break}if(a=this.getOuputDataTexture(),s=a.originalDataLength,l=a.elementsPerTexel,u=a.typedArrayConstructor,c=u===void 0?Float32Array:u,d=[],l!==4)for(f=0;f<o.length;f+=4)l===1?d.push(o[f]):l===2?d.push(o[f],o[f+1]):d.push(o[f],o[f+1],o[f+2]);else d=o;return v.abrupt("return",new c(d.slice(0,s)));case 6:return v.abrupt("return",new Float32Array);case 7:case"end":return v.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"confirmInput",value:function(n,r){var i;this.entity===n.entity?(this.dynamicPingpong=!0,i=this):i=n,this.textureCache[r].id=i.getOuputDataTexture().id,this.textureCache[r].texture=i.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(n,r){var i=this.context.uniforms.find(function(l){var u=l.name;return u===n});if(i){var o=this.calcDataTexture(n,i.type,r),a=o.texture,s=o.data;this.textureCache[n].data=s,this.textureCache[n].texture=a}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var n=this.context.output.name;this.textureCache[n].id=this.getOuputDataTexture().id,this.textureCache[n].texture=this.getOuputDataTexture().texture}var r=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=r}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var n=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=n}},{key:"cloneDataTexture",value:function(n){var r=n.data,i=n.textureWidth;return ML(ML({},n),{},{id:IL++,texture:this.reGl.texture({width:i,height:i,data:r,type:"float"})})}},{key:"calcDataTexture",value:function(n,r,i){var o=1;r===Ap.Vector4FloatArray&&(o=4);for(var a=[],s=0;s<i.length;s+=o)o===1?a.push(i[s],0,0,0):o===2?a.push(i[s],i[s+1],0,0):o===3?a.push(i[s],i[s+1],i[s+2],0):o===4&&a.push(i[s],i[s+1],i[s+2],i[s+3]);var l=i.length,u=Math.ceil(l/o),c=Math.ceil(Math.sqrt(u)),d=c*c;u<d&&a.push.apply(a,_n(new Array((d-u)*4).fill(0)));var f=this.reGl.texture({width:c,height:c,data:a,type:"float"});return{id:IL++,data:a,originalDataLength:l,typedArrayConstructor:mP(i)?i.constructor:void 0,textureWidth:c,texture:f,texelCount:u,elementsPerTexel:o,isOutput:n===this.context.output.name}}}]),t}(),X5e=function(){function t(e,n){Vn(this,t),this.elements=void 0;var r=n.data,i=n.usage,o=n.type,a=n.count;this.elements=e.elements({data:r,usage:vU[i||at.STATIC_DRAW],type:PO[o||at.UNSIGNED_BYTE],count:a})}return dr(t,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(n){var r=n.data;this.elements.subdata(r)}},{key:"destroy",value:function(){this.elements.destroy()}}]),t}(),K5e=function(){function t(e,n){Vn(this,t),this.framebuffer=void 0;var r=n.width,i=n.height,o=n.color,a=n.colors;n.depth,n.stencil;var s={width:r,height:i};Array.isArray(a)&&(s.colors=a.map(function(l){return l.get()})),o&&typeof o!="boolean"&&(s.color=o.get()),this.framebuffer=e.framebuffer(s)}return dr(t,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(n){var r=n.width,i=n.height;this.framebuffer.resize(r,i)}}]),t}();function Y5e(t){var e=ur(t);return t!=null&&(e==="object"||e==="function")}function Dy(t){var e={};return Object.keys(t).forEach(function(n){gP(n,t[n],e,"")}),e}function gP(t,e,n,r){if(e===null||typeof e=="number"||typeof e=="boolean"||Array.isArray(e)&&typeof e[0]=="number"||mP(e)||e===""||e.resize!==void 0){n["".concat(r&&r+".").concat(t)]=e;return}Y5e(e)&&Object.keys(e).forEach(function(i){gP(i,e[i],n,"".concat(r&&r+".").concat(t))}),Array.isArray(e)&&e.forEach(function(i,o){Object.keys(i).forEach(function(a){gP(a,i[a],n,"".concat(r&&r+".").concat(t,"[").concat(o,"]"))})})}function DL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var q5e=function(){function t(e,n){Vn(this,t),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var r=n.vs,i=n.fs,o=n.defines,a=n.attributes,s=n.uniforms,l=n.primitive,u=n.count,c=n.elements,d=n.depth,f=n.blend,h=n.stencil,v=n.cull,m=n.instances,g=n.scissor,x=n.viewport,_={};s&&(this.uniforms=Dy(s),Object.keys(s).forEach(function(O){_[O]=e.prop(O)}));var w={};Object.keys(a).forEach(function(O){w[O]=a[O].get()});var S=o&&this.generateDefines(o)||"",C={attributes:w,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(S,`
`).concat(i),uniforms:_,vert:`
`.concat(S,`
`).concat(r),primitive:s5e[l===void 0?at.TRIANGLES:l]};m&&(C.instances=m),u&&(C.count=u),c&&(C.elements=c.get()),g&&(C.scissor=g),x&&(C.viewport=x),this.initDepthDrawParams({depth:d},C),this.initBlendDrawParams({blend:f},C),this.initStencilDrawParams({stencil:h},C),this.initCullDrawParams({cull:v},C),this.drawCommand=e(C)}return dr(t,[{key:"addUniforms",value:function(n){this.uniforms=Zv(Zv({},this.uniforms),Dy(n))}},{key:"draw",value:function(n){var r=Zv(Zv({},this.uniforms),Dy(n.uniforms||{})),i={};Object.keys(r).forEach(function(o){var a=ur(r[o]);a==="boolean"||a==="number"||Array.isArray(r[o])||r[o].BYTES_PER_ELEMENT?i[o]=r[o]:a==="string"||(i[o]=r[o].get())}),this.drawCommand(i)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(n,r){var i=n.depth;i&&(r.depth={enable:i.enable===void 0?!0:!!i.enable,mask:i.mask===void 0?!0:!!i.mask,func:d5e[i.func||at.LESS],range:i.range||[0,1]})}},{key:"initBlendDrawParams",value:function(n,r){var i=n.blend;if(i){var o=i.enable,a=i.func,s=i.equation,l=i.color,u=l===void 0?[0,0,0,0]:l;r.blend={enable:!!o,func:{srcRGB:n_[a&&a.srcRGB||at.SRC_ALPHA],srcAlpha:n_[a&&a.srcAlpha||at.SRC_ALPHA],dstRGB:n_[a&&a.dstRGB||at.ONE_MINUS_SRC_ALPHA],dstAlpha:n_[a&&a.dstAlpha||at.ONE_MINUS_SRC_ALPHA]},equation:{rgb:OL[s&&s.rgb||at.FUNC_ADD],alpha:OL[s&&s.alpha||at.FUNC_ADD]},color:u}}}},{key:"initStencilDrawParams",value:function(n,r){var i=n.stencil;if(i){var o=i.enable,a=i.mask,s=a===void 0?-1:a,l=i.func,u=l===void 0?{cmp:at.ALWAYS,ref:0,mask:-1}:l,c=i.opFront,d=c===void 0?{fail:at.KEEP,zfail:at.KEEP,zpass:at.KEEP}:c,f=i.opBack,h=f===void 0?{fail:at.KEEP,zfail:at.KEEP,zpass:at.KEEP}:f;r.stencil={enable:!!o,mask:s,func:Zv(Zv({},u),{},{cmp:f5e[u.cmp]}),opFront:{fail:qv[d.fail],zfail:qv[d.zfail],zpass:qv[d.zpass]},opBack:{fail:qv[h.fail],zfail:qv[h.zfail],zpass:qv[h.zpass]}}}}},{key:"initCullDrawParams",value:function(n,r){var i=n.cull;if(i){var o=i.enable,a=i.face,s=a===void 0?at.BACK:a;r.cull={enable:!!o,face:h5e[s]}}}},{key:"generateDefines",value:function(n){return Object.keys(n).map(function(r){return"#define ".concat(r," ").concat(Number(n[r]))}).join(`
`)}}]),t}(),Z5e=function(){function t(e,n){Vn(this,t),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,i=n.type,o=i===void 0?at.UNSIGNED_BYTE:i,a=n.width,s=n.height,l=n.flipY,u=l===void 0?!1:l,c=n.format,d=c===void 0?at.RGBA:c,f=n.mipmap,h=f===void 0?!1:f,v=n.wrapS,m=v===void 0?at.CLAMP_TO_EDGE:v,g=n.wrapT,x=g===void 0?at.CLAMP_TO_EDGE:g,_=n.aniso,w=_===void 0?0:_,S=n.alignment,C=S===void 0?1:S,O=n.premultiplyAlpha,T=O===void 0?!1:O,N=n.mag,M=N===void 0?at.NEAREST:N,D=n.min,F=D===void 0?at.NEAREST:D,j=n.colorSpace,R=j===void 0?at.BROWSER_DEFAULT_WEBGL:j;this.width=a,this.height=s;var I={width:a,height:s,type:PO[o],format:l5e[d],wrapS:AL[m],wrapT:AL[x],mag:PL[M],min:PL[F],alignment:C,flipY:u,colorSpace:c5e[R],premultiplyAlpha:T,aniso:w};r&&(I.data=r),typeof h=="number"?I.mipmap=u5e[h]:typeof h=="boolean"&&(I.mipmap=h),this.texture=e.texture(I)}return dr(t,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(n){var r=n.width,i=n.height;this.texture.resize(r,i),this.width=r,this.height=i}},{key:"destroy",value:function(){this.texture.destroy()}}]),t}(),LL,kL,$L,J5e=(LL=_i(),LL(kL=($L=function(){function t(){var e=this;Vn(this,t),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var n=Ln(zn.mark(function r(i){return zn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i.uniforms){a.next=3;break}return a.next=3,Promise.all(Object.keys(i.uniforms).map(function(){var s=Ln(zn.mark(function l(u){var c;return zn.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(i.uniforms[u]&&i.uniforms[u].load!==void 0)){f.next=5;break}return f.next=3,i.uniforms[u].load();case 3:c=f.sent,i.uniforms[u]=c;case 5:case"end":return f.stop()}},l)}));return function(l){return s.apply(this,arguments)}}()));case 3:return a.abrupt("return",new q5e(e.gl,i));case 4:case"end":return a.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.createAttribute=function(n){return new a5e(e.gl,n)},this.createBuffer=function(n){return new p5e(e.gl,n)},this.createElements=function(n){return new X5e(e.gl,n)},this.createTexture2D=function(n){return new Z5e(e.gl,n)},this.createFramebuffer=function(n){return new K5e(e.gl,n)},this.useFramebuffer=function(n,r){e.gl({framebuffer:n?n.get():null})(r)},this.createComputeModel=function(){var n=Ln(zn.mark(function r(i){return zn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new V5e(e.gl,i));case 1:case"end":return a.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.clear=function(n){var r=n.color,i=n.depth,o=n.stencil,a=n.framebuffer,s=a===void 0?null:a,l={color:r,depth:i,stencil:o};l.framebuffer=s===null?s:s.get(),e.gl.clear(l)},this.setScissor=function(n){e.gl&&e.gl._gl&&(n.enable&&n.box?(e.gl._gl.enable(at.SCISSOR_TEST),e.gl._gl.scissor(n.box.x,n.box.y,n.box.width,n.box.height)):e.gl._gl.disable(at.SCISSOR_TEST),e.gl._refresh())},this.viewport=function(n){var r=n.x,i=n.y,o=n.width,a=n.height;e.gl&&e.gl._gl&&(e.gl._gl.viewport(r,i,o,a),e.gl._refresh())},this.readPixels=function(n){var r=n.framebuffer,i=n.x,o=n.y,a=n.width,s=n.height,l={x:i,y:o,width:a,height:s};return r&&(l.framebuffer=r.get()),e.gl.read(l)},this.getCanvas=function(){return e.$canvas},this.getGLContext=function(){return e.gl._gl},this.destroy=function(){e.gl&&(e.gl.destroy(),e.inited=!1)}}return dr(t,[{key:"init",value:function(){var e=Ln(zn.mark(function r(i){return zn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.inited){a.next=2;break}return a.abrupt("return");case 2:return this.$canvas=i.canvas,a.next=5,new Promise(function(s,l){o5e({canvas:i.canvas,attributes:{alpha:!0,antialias:i.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(c,d){(c||!d)&&l(c),s(d)}})});case 5:this.gl=a.sent,this.inited=!0;case 7:case"end":return a.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),t}(),$L))||kL);function Q5e(){return typeof window<"u"}function e6e(t,e,n,r){if(Q5e()){var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",t),o.onload=function(){e&&e()},o.onerror=function(a){n&&n("Unable to load script '".concat(t,"'"),a)},i.appendChild(o)}}function t6e(t,e){return new Promise(function(n,r){e6e(t,function(){n()},function(i,o){r(o)})})}var r_;function n6e(){return yP.apply(this,arguments)}function yP(){return yP=Ln(zn.mark(function t(){return zn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!r_){n.next=2;break}return n.abrupt("return",r_);case 2:return n.next=4,t6e("https://preview.babylonjs.com/glslang/glslang.js");case 4:return r_=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),n.abrupt("return",r_);case 6:case"end":return n.stop()}},t)})),yP.apply(this,arguments)}var r6e=function(){function t(e,n){Vn(this,t),this.engine=e,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,i=r.buffer,o=r.offset,a=r.stride,s=r.normalized,l=r.size,u=r.divisor,c=r.arrayStride,d=r.attributes,f=r.stepMode;this.buffer=i,this.attribute={buffer:i.get(),offset:o||0,stride:a||0,normalized:s||!1,divisor:u||0,arrayStride:c||0,attributes:d,stepMode:f||"vertex"},l&&(this.attribute.size=l)}return dr(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(n){this.buffer.subData(n)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),Sm=function(){function t(e,n){Vn(this,t),this.engine=e,this.options=n,this.buffer=void 0;var r=n,i=r.data,o=r.usage;r.type,this.buffer=this.createBuffer(i instanceof Array?new Float32Array(i):i,o||yn.BufferUsage.Vertex|yn.BufferUsage.CopyDst)}return dr(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(n){var r=n.data,i=n.offset;this.setSubData(this.buffer,i,r instanceof Array?new Float32Array(r):r)}},{key:"createBuffer",value:function(n,r){var i=n.byteLength%4,o={size:n.byteLength+i,usage:r},a=this.engine.device.createBuffer(o);return this.setSubData(a,0,n),a}},{key:"setSubData",value:function(n,r,i){var o=Ss?this.engine.device.getQueue():this.engine.device.defaultQueue;o.writeBuffer(n,r,i)}}]),t}();function i6e(t){return typeof t=="number"}var o6e=function(){function t(e,n){Vn(this,t),this.engine=e,this.context=n,this.entity=sc(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return dr(t,[{key:"init",value:function(){var e=Ln(zn.mark(function r(){var i=this,o,a,s,l,u,c,d;return zn.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:o=h.sent,a=o.computeStage,s=this.context.uniforms.filter(function(v){return v.storageClass===eh.StorageBuffer}),l=this.context.uniforms.filter(function(v){return v.storageClass===eh.Uniform}),u=l.length?1:0,this.bindGroupEntries=[],u&&(c=0,d=[],l.forEach(function(v){if(i6e(v.data))i.uniformGPUBufferLayout.push({name:v.name,offset:c}),c+=4,d.push(v.data);else{var m,g=((m=v.data)===null||m===void 0?void 0:m.length)||1;g===3&&(g=4,v.data.push(0));var x=c/4%4;if(x>0){var _=4-x;if(g>1&&g<=_)g===2&&(_===3&&(c+=4,d.push(0)),d.push.apply(d,_n(v.data)),i.uniformGPUBufferLayout.push({name:v.name,offset:c}));else{for(var w=0;w<_;w++)c+=4,d.push(0);d.push.apply(d,_n(v.data)),i.uniformGPUBufferLayout.push({name:v.name,offset:c})}}c+=4*g}}),this.uniformBuffer=new Sm(this.engine,{data:d instanceof Array?new Float32Array(d):d,usage:yn.BufferUsage.Uniform|yn.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),s.forEach(function(v){if(v.data!==null&&(v.type===Ap.Vector4FloatArray||v.type===Ap.FloatArray)){var m;v.name===i.context.output.name?(m=new Sm(i.engine,{data:isFinite(Number(v.data))?[v.data]:v.data,usage:yn.BufferUsage.Storage|yn.BufferUsage.CopyDst|yn.BufferUsage.CopySrc}),i.outputBuffer=m,i.context.output={name:v.name,length:isFinite(Number(v.data))?1:v.data.length,typedArrayConstructor:Float32Array,gpuBuffer:m.get()}):v.isReferer?v.data.model&&v.data.model.outputBuffer&&(m=v.data.model.outputBuffer):m=new Sm(i.engine,{data:isFinite(Number(v.data))?[v.data]:v.data,usage:yn.BufferUsage.Storage|yn.BufferUsage.CopyDst|yn.BufferUsage.CopySrc}),i.vertexBuffers[v.name]=m,i.bindGroupEntries.push({binding:u,resource:{name:v.name,refer:m?void 0:v.data,buffer:m?m.get():void 0}}),u++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:a}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return h.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"destroy",value:function(){var n=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(r){return n.vertexBuffers[r].destroy()})}},{key:"readData",value:function(){var e=Ln(zn.mark(function r(){var i,o,a,s,l,u,c,d,f,h;return zn.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(i=this.context.output,!i){m.next=16;break}if(o=i.length,a=i.typedArrayConstructor,s=i.gpuBuffer,!s){m.next=16;break}return l=o*a.BYTES_PER_ELEMENT,u=this.engine.device.createBuffer({size:l,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),c=this.engine.device.createCommandEncoder(),c.copyBufferToBuffer(s,0,u,0,l),d=Ss?this.engine.device.getQueue():this.engine.device.defaultQueue,d.submit([c.finish()]),m.next=12,u.mapAsync(yn.MapMode.Read);case 12:return f=u.getMappedRange(),h=new a(f.slice(0)),u.unmap(),m.abrupt("return",h);case 16:return m.abrupt("return",new Float32Array);case 17:case"end":return m.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"run",value:function(){if(this.engine.currentComputePass){var n;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(n=this.engine.currentComputePass).dispatch.apply(n,_n(this.context.dispatch))}}},{key:"updateBuffer",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this.vertexBuffers[n];o&&o.subData({data:r,offset:i})}},{key:"updateUniform",value:function(n,r){var i=this.uniformGPUBufferLayout.find(function(o){return o.name===n});i&&this.uniformBuffer.subData({data:Number.isFinite(r)?new Float32Array([r]):new Float32Array(r),offset:i.offset})}},{key:"confirmInput",value:function(n,r){var i=this.vertexBuffers[r],o=n.outputBuffer;if(i&&o&&i!==o){var a=this.engine.device.createCommandEncoder(),s=n.context.output,l=s.length,u=s.typedArrayConstructor,c=l*u.BYTES_PER_ELEMENT;a.copyBufferToBuffer(o.get(),0,i.get(),0,c);var d=Ss?this.engine.device.getQueue():this.engine.device.defaultQueue;d.submit([a.finish()])}}},{key:"compileShaderToSpirV",value:function(n,r,i){return this.compileRawShaderToSpirV(i+n,r)}},{key:"compileRawShaderToSpirV",value:function(n,r){return this.engine.glslang.compileGLSL(n,r)}},{key:"compileComputePipelineStageDescriptor",value:function(){var e=Ln(zn.mark(function r(i){var o,a;return zn.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o=i,a=`#version 450
`,this.engine.options.useWGSL){l.next=6;break}return l.next=5,this.compileShaderToSpirV(i,"compute",a);case 5:o=l.sent;case 6:return l.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:o,isWHLSL:Ss}),entryPoint:"main"}});case 7:case"end":return l.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}]),t}(),a6e=function(){function t(e,n){Vn(this,t),this.engine=e,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,i=r.data;r.usage,r.type;var o=r.count;this.indexCount=o||0,this.buffer=new Sm(e,{data:i instanceof Array?new Uint16Array(i):i,usage:yn.BufferUsage.Index|yn.BufferUsage.CopyDst})}return dr(t,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(n){this.buffer.subData(n)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),s6e=function(){function t(e,n){Vn(this,t),this.engine=e,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n;r.width,r.height;var i=r.color;r.colors;var o=r.depth;r.stencil,i&&(this.colorTexture=i),o&&(this.depthTexture=o)}return dr(t,[{key:"get",value:function(){var n,r;return{color:(n=this.colorTexture)===null||n===void 0?void 0:n.get(),depth:(r=this.depthTexture)===null||r===void 0?void 0:r.get()}}},{key:"destroy",value:function(){var n,r;(n=this.colorTexture)===null||n===void 0||n.destroy(),(r=this.depthTexture)===null||r===void 0||r.destroy()}},{key:"resize",value:function(n){var r=n.width,i=n.height;if(r!==this.width||i!==this.height){var o,a;(o=this.colorTexture)===null||o===void 0||o.resize({width:r,height:i}),(a=this.depthTexture)===null||a===void 0||a.resize({width:r,height:i})}this.width=r,this.height=i}}]),t}(),fd,ec,Yh,Ya,Jv,i_,X0,l6e=(fd={},J(fd,at.POINTS,yn.PrimitiveTopology.PointList),J(fd,at.LINES,yn.PrimitiveTopology.LineList),J(fd,at.LINE_LOOP,yn.PrimitiveTopology.LineList),J(fd,at.LINE_STRIP,yn.PrimitiveTopology.LineStrip),J(fd,at.TRIANGLES,yn.PrimitiveTopology.TriangleList),J(fd,at.TRIANGLE_FAN,yn.PrimitiveTopology.TriangleList),J(fd,at.TRIANGLE_STRIP,yn.PrimitiveTopology.TriangleStrip),fd),u6e=(ec={},J(ec,at.NEVER,yn.CompareFunction.Never),J(ec,at.ALWAYS,yn.CompareFunction.Always),J(ec,at.LESS,yn.CompareFunction.Less),J(ec,at.LEQUAL,yn.CompareFunction.LessEqual),J(ec,at.GREATER,yn.CompareFunction.Greater),J(ec,at.GEQUAL,yn.CompareFunction.GreaterEqual),J(ec,at.EQUAL,yn.CompareFunction.Equal),J(ec,at.NOTEQUAL,yn.CompareFunction.NotEqual),ec),FL=(Yh={},J(Yh,at.FUNC_ADD,yn.BlendOperation.Add),J(Yh,at.MIN_EXT,yn.BlendOperation.Min),J(Yh,at.MAX_EXT,yn.BlendOperation.Max),J(Yh,at.FUNC_SUBTRACT,yn.BlendOperation.Subtract),J(Yh,at.FUNC_REVERSE_SUBTRACT,yn.BlendOperation.ReverseSubtract),Yh),o_=(Ya={},J(Ya,at.ZERO,yn.BlendFactor.Zero),J(Ya,at.ONE,yn.BlendFactor.One),J(Ya,at.SRC_COLOR,yn.BlendFactor.SrcColor),J(Ya,at.ONE_MINUS_SRC_COLOR,yn.BlendFactor.OneMinusSrcColor),J(Ya,at.SRC_ALPHA,yn.BlendFactor.SrcAlpha),J(Ya,at.ONE_MINUS_SRC_ALPHA,yn.BlendFactor.OneMinusSrcAlpha),J(Ya,at.DST_COLOR,yn.BlendFactor.DstColor),J(Ya,at.ONE_MINUS_DST_COLOR,yn.BlendFactor.OneMinusDstColor),J(Ya,at.DST_ALPHA,yn.BlendFactor.DstAlpha),J(Ya,at.ONE_MINUS_DST_ALPHA,yn.BlendFactor.OneMinusDstAlpha),J(Ya,at.CONSTANT_COLOR,yn.BlendFactor.BlendColor),J(Ya,at.ONE_MINUS_CONSTANT_COLOR,yn.BlendFactor.OneMinusBlendColor),J(Ya,at.SRC_ALPHA_SATURATE,yn.BlendFactor.SrcAlphaSaturated),Ya),c6e=(Jv={},J(Jv,at.ALPHA,"r8unorm"),J(Jv,at.RGBA,"rgba8unorm"),J(Jv,at.DEPTH_COMPONENT,"depth32float"),J(Jv,at.DEPTH_STENCIL,"depth24plus-stencil8"),Jv),jL=(i_={},J(i_,at.NEAREST,"nearest"),J(i_,at.LINEAR,"linear"),i_),oT=(X0={},J(X0,at.REPEAT,"repeat"),J(X0,at.CLAMP_TO_EDGE,"clamp-to-edge"),J(X0,at.MIRRORED_REPEAT,"mirror-repeat"),X0);function d6e(t){var e=t.cull;if(!e||!e.enable)return yn.CullMode.None;if(e.face)return e.face===at.FRONT?yn.CullMode.Front:yn.CullMode.Back}function f6e(t){var e=t.depth,n={compare:yn.CompareFunction.Always,depthFailOp:yn.StencilOperation.Keep,failOp:yn.StencilOperation.Keep,passOp:yn.StencilOperation.Keep};return{depthWriteEnabled:e&&e.enable,depthCompare:u6e[(e==null?void 0:e.func)||at.ALWAYS],format:yn.TextureFormat.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function h6e(t,e){var n=t.blend;return[{format:e,alphaBlend:{srcFactor:o_[n&&n.func&&n.func.srcAlpha||at.ONE],dstFactor:o_[n&&n.func&&n.func.dstAlpha||at.ZERO],operation:FL[n&&n.equation&&n.equation.alpha||at.FUNC_ADD]},colorBlend:{srcFactor:o_[n&&n.func&&n.func.srcRGB||at.ONE],dstFactor:o_[n&&n.func&&n.func.dstRGB||at.ZERO],operation:FL[n&&n.equation&&n.equation.rgb||at.FUNC_ADD]},writeMask:yn.ColorWrite.All}]}function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p6e(t){for(var e=0,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];e+=s.length}for(var l=new t(e),u=0,c=0,d=r;c<d.length;c++){var f=d[c];l.set(f,u),u+=f.length}return l}var v6e=function(){function t(e,n){Vn(this,t),this.engine=e,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return dr(t,[{key:"init",value:function(){var e=Ln(zn.mark(function r(){var i=this,o,a,s,l,u,c,d,f,h,v,m,g,x,_,w,S;return zn.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return o=this.options,a=o.vs,s=o.fs,l=o.attributes,u=o.uniforms,c=o.primitive,o.count,d=o.elements,f=o.depth,h=o.blend,v=o.stencil,m=o.cull,o.instances,O.next=3,this.compilePipelineStageDescriptor(a,s,null);case 3:g=O.sent,x=g.vertexStage,_=g.fragmentStage,u&&this.buildUniformBindGroup(u),d&&(this.indexBuffer=d.get(),this.indexCount=d.indexCount),w={vertexBuffers:Object.keys(l).map(function(T,N){var M=l[T],D=M.get(),F=D.arrayStride,j=D.stepMode,R=D.attributes;return i.attributeCache[T]=M,{arrayStride:F,stepMode:j,attributes:R}})},S={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:l6e[c||at.TRIANGLES],rasterizationState:Qv(Qv({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:d6e({cull:m})}),depthStencilState:f6e({depth:f,stencil:v}),colorStates:h6e({blend:h},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:x,fragmentStage:_,vertexState:w},this.renderPipeline=this.engine.device.createRenderPipeline(S);case 11:case"end":return O.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"addUniforms",value:function(n){this.uniforms=Qv(Qv({},this.uniforms),Dy(n))}},{key:"draw",value:function(n){var r=this,i=this.engine.getCurrentRenderPass(),o=Qv(Qv({},this.uniforms),Dy(n.uniforms||{})),a=[];Object.keys(o).forEach(function(s){var l=ur(o[s]);if(l==="boolean"||l==="number"||Array.isArray(o[s])||o[s].BYTES_PER_ELEMENT){var u,c=(u=r.uniformGPUBufferLayout.find(function(x){var _=x.name;return _===s}))===null||u===void 0?void 0:u.offset;c!==null&&r.uniformBuffer.subData({data:o[s],offset:c})}else{var d,f=(d=r.uniformGPUBufferLayout.find(function(x){var _=x.name;return _===s}))===null||d===void 0?void 0:d.offset;if(f!==null){var h=o[s].get(),v=h.color||h,m=v.texture,g=v.sampler;g&&(a.push({binding:f,resource:g}),f++),a.push({binding:f,resource:m.createView()})}}}),this.uniformBuffer&&(a[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:a}),this.renderPipeline&&i.setPipeline(this.renderPipeline),i.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&i.setIndexBuffer(this.indexBuffer.get(),yn.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(s,l){i.setVertexBuffer(0+l,r.attributeCache[s].get().buffer,0)}),this.indexBuffer?i.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):i.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var e=Ln(zn.mark(function r(i,o,a){var s,l,u;return zn.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=`#version 450
`,l=i,u=o,this.engine.options.useWGSL){d.next=10;break}return d.next=6,this.compileShaderToSpirV(i,"vertex",s);case 6:return l=d.sent,d.next=9,this.compileShaderToSpirV(o,"fragment",s);case 9:u=d.sent;case 10:return d.abrupt("return",this.createPipelineStageDescriptor(l,u));case 11:case"end":return d.stop()}},r,this)}));function n(r,i,o){return e.apply(this,arguments)}return n}()},{key:"compileShaderToSpirV",value:function(n,r,i){return this.compileRawShaderToSpirV(i+n,r)}},{key:"compileRawShaderToSpirV",value:function(n,r){return this.engine.glslang.compileGLSL(n,r)}},{key:"createPipelineStageDescriptor",value:function(n,r){return{vertexStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:Ss}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:r,isWHLSL:Ss}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:yn.FrontFace.CCW,cullMode:yn.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(n){var r=this,i=0,o=p6e.apply(void 0,[Float32Array].concat(_n(Object.keys(n).map(function(l){return n[l]?(r.uniformGPUBufferLayout.push({name:l,offset:i}),i+=(n[l].length||1)*4,n[l]):[]})))),a=[],s=!1;o.length&&(s=!0,a.push({binding:0,visibility:yn.ShaderStage.Fragment|yn.ShaderStage.Vertex,type:yn.BindingType.UniformBuffer})),Object.keys(n).filter(function(l){return n[l]===null}).forEach(function(l,u){r.uniformGPUBufferLayout.push({name:l,offset:u*2+(s?1:0)}),a.push({binding:u*2+(s?1:0),visibility:yn.ShaderStage.Fragment,type:yn.BindingType.Sampler},{binding:u*2+(s?1:0)+1,visibility:yn.ShaderStage.Fragment,type:yn.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:a}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),s&&(this.uniformBuffer=new Sm(this.engine,{data:o instanceof Array?new Float32Array(o):o,usage:yn.BufferUsage.Uniform|yn.BufferUsage.CopyDst}))}}]),t}(),m6e=function(){function t(e,n){Vn(this,t),this.engine=e,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return dr(t,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(n){var r=n.width,i=n.height;(r!==this.width||i!==this.height)&&(this.destroy(),this.createTexture()),this.width=r,this.height=i}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var n=this.options;n.data;var r=n.type;r===void 0&&at.UNSIGNED_BYTE;var i=n.width,o=n.height;n.flipY;var a=n.format,s=a===void 0?at.RGBA:a;n.mipmap;var l=n.wrapS,u=l===void 0?at.CLAMP_TO_EDGE:l,c=n.wrapT,d=c===void 0?at.CLAMP_TO_EDGE:c,f=n.aniso,h=f===void 0?0:f;n.alignment,n.premultiplyAlpha;var v=n.mag,m=v===void 0?at.NEAREST:v,g=n.min,x=g===void 0?at.NEAREST:g,_=n.colorSpace;_===void 0&&at.BROWSER_DEFAULT_WEBGL;var w=n.usage;this.width=i,this.height=o,this.texture=this.engine.device.createTexture({size:[i,o,1],mipLevelCount:1,sampleCount:1,dimension:yn.TextureDimension.E2d,format:c6e[s],usage:w||yn.TextureUsage.Sampled|yn.TextureUsage.CopyDst}),(!w||w&yn.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:oT[u],addressModeV:oT[d],addressModeW:oT[u],magFilter:jL[m],minFilter:jL[x],maxAnisotropy:h}))}}]),t}(),zL,HL,UL,g6e=(zL=_i(),zL(HL=(UL=function(){function t(){var e=this;Vn(this,t),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(n){n.framebuffer;var r=n.color,i=n.depth,o=n.stencil;e.options.supportCompute&&e.startComputePass(),e.currentRenderTarget?(e.currentRenderPass&&e.endRenderTargetRenderPass(),e.startRenderTargetRenderPass(e.currentRenderTarget,r||null,!!i,!!o)):(e.mainColorAttachments[0].loadValue=r||yn.LoadOp.Load,e.mainDepthAttachment.depthLoadValue=i||yn.LoadOp.Load,e.mainDepthAttachment.stencilLoadValue=o?e.clearStencilValue:yn.LoadOp.Load,e.mainRenderPass&&e.endMainRenderPass(),e.startMainRenderPass())},this.createModel=function(){var n=Ln(zn.mark(function r(i){var o;return zn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=new v6e(e,i),s.next=3,o.init();case 3:return s.abrupt("return",o);case 4:case"end":return s.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.createAttribute=function(n){return new r6e(e,n)},this.createBuffer=function(n){return new Sm(e,n)},this.createElements=function(n){return new a6e(e,n)},this.createTexture2D=function(n){return new m6e(e,n)},this.createFramebuffer=function(n){return new s6e(e,n)},this.useFramebuffer=function(n,r){e.currentRenderTarget&&e.unbindFramebuffer(e.currentRenderTarget),e.currentRenderTarget=n,e.currentRenderTargetViewDescriptor={dimension:yn.TextureViewDimension.E2d,arrayLayerCount:1,aspect:yn.TextureAspect.All},e.currentRenderPass=null,r()},this.createComputeModel=function(){var n=Ln(zn.mark(function r(i){var o;return zn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=new o6e(e,i),s.next=3,o.init();case 3:return s.abrupt("return",o);case 4:case"end":return s.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.getCanvas=function(){return e.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(n){var r=n.x,i=n.y,o=n.width,a=n.height;if(!e.currentRenderPass)e.transientViewport={x:r,y:i,width:o,height:a};else if(e.transientViewport.x!==1/0){var s=e.getCurrentRenderPass();s.setViewport(e.transientViewport.x,e.transientViewport.y,e.transientViewport.width,e.transientViewport.height,0,1)}else if(r!==e.cachedViewport.x||i!==e.cachedViewport.y||o!==e.cachedViewport.width||a!==e.cachedViewport.height){e.cachedViewport={x:r,y:i,width:o,height:a};var l=e.getCurrentRenderPass();l.setViewport(r,i,o,a,0,1)}},this.readPixels=function(n){throw new Error("Method not implemented.")}}return dr(t,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var e=Ln(zn.mark(function r(i){return zn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.canvas=i.canvas,this.options=i,this.useWGSL=!!i.useWGSL,this.mainPassSampleCount=i.antialiasing?this.defaultSampleCount:1,a.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return a.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setScissor",value:function(n){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(n){return n.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Ss?this.device.getQueue().submit(this.commandBuffers.filter(function(n){return n})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(n){return n}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var e=Ln(zn.mark(function r(){var i,o;return zn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,n6e();case 2:return this.glslang=s.sent,s.next=5,(i=navigator)===null||i===void 0||(o=i.gpu)===null||o===void 0?void 0:o.requestAdapter();case 5:return this.adapter=s.sent,s.next=8,this.adapter.requestDevice();case 8:this.device=s.sent;case 9:case"end":return s.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Ss?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:yn.TextureUsage.OutputAttachment|yn.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var n={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:yn.TextureDimension.E2d,format:yn.TextureFormat.BGRA8Unorm,usage:yn.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(n),this.mainColorAttachments=[{attachment:Ss?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:yn.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:Ss?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:yn.StoreOp.Store}];var r={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:yn.TextureDimension.E2d,format:Ss?"depth32float-stencil8":yn.TextureFormat.Depth24PlusStencil8,usage:yn.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(r),this.mainDepthAttachment={attachment:Ss?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:yn.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:yn.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Ss?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Ss?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(n,r,i){var o,a,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=(o=n.get().color)===null||o===void 0?void 0:o.texture,u;l&&(u=l.createView(this.currentRenderTargetViewDescriptor));var c=(a=n.get().depth)===null||a===void 0?void 0:a.texture,d;c&&(d=c.createView());var f=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:u,loadValue:r!==null?r:yn.LoadOp.Load,storeOp:yn.StoreOp.Store}],depthStencilAttachment:c&&d?{attachment:d,depthLoadValue:i?this.clearDepthValue:yn.LoadOp.Load,depthStoreOp:yn.StoreOp.Store,stencilLoadValue:s?this.clearStencilValue:yn.LoadOp.Load,stencilStoreOp:yn.StoreOp.Store}:void 0});this.currentRenderPass=f,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(n){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),t}(),UL))||HL),GL,WL;function y6e(t){var e=b6e();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function b6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var bP=4/64,VL=1-bP*2,x6e=(GL=_i(),GL(WL=function(t){ia(n,t);var e=y6e(n);function n(){return Vn(this,n),e.apply(this,arguments)}return dr(n,[{key:"onEntityCreated",value:function(){var i=this.config,o=i.widthSegments,a=o===void 0?1:o,s=i.heightSegments,l=s===void 0?1:s,u=i.depthSegments,c=u===void 0?1:u,d=i.halfExtents,f=d===void 0?Br(.5,.5,.5):d,h=a,v=l,m=c,g=ht(f,3),x=g[0],_=g[1],w=g[2],S=[Br(-x,-_,w),Br(x,-_,w),Br(x,_,w),Br(-x,_,w),Br(x,-_,-w),Br(-x,-_,-w),Br(-x,_,-w),Br(x,_,-w)],C=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],O=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],T={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},N=[],M=[],D=[],F=[],j=0,R=function(B,q,X){var z,H,Q,V;for(Q=0;Q<=q;Q++)for(V=0;V<=X;V++){var W=Pi(),te=Pi(),K=Pi(),U=Pi();Pp(W,S[C[B][0]],S[C[B][1]],Q/q),Pp(te,S[C[B][0]],S[C[B][2]],V/X),hP(K,te,S[C[B][0]]),Cd(U,W,K),z=Q/q,H=V/X,N.push(U[0],U[1],U[2]),M.push(O[B][0],O[B][1],O[B][2]),D.push(z,H),z/=3,H/=3,z=z*VL+bP,H=H*VL+bP,z+=B%3/3,H+=Math.floor(B/3)/3,Q<q&&V<X&&(F.push(j+X+1,j+1,j),F.push(j+X+1,j+X+2,j+1)),j++}};R(T.FRONT,h,v),R(T.BACK,h,v),R(T.TOP,h,m),R(T.BOTTOM,h,m),R(T.RIGHT,m,v),R(T.LEFT,m,v);var I=TO(N),L=this.getComponent();L.indices=Uint32Array.from(F),L.aabb=I,L.vertexCount=j,L.attributes=[{dirty:!0,name:"position",data:Float32Array.from(N),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(M),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(D),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(Ff))||WL);function _6e(t,e){if(!t&&!e)throw new Error("Please specify valid arguments for parameters a and b.");if(!e||e.length===0)return t;if(!t||t.length===0)return e;if(Object.prototype.toString.call(t)!==Object.prototype.toString.call(e))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}var XL,KL;function S6e(t){var e=w6e();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function w6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var E6e=(XL=_i(),XL(KL=function(t){ia(n,t);var e=S6e(n);function n(){return Vn(this,n),e.apply(this,arguments)}return dr(n,[{key:"onEntityCreated",value:function(){var i=this.config.geometries,o=i===void 0?[]:i,a=this.getComponent();a.aabb=new CO;var s=[],l=[],u=0;o.forEach(function(c){var d=c.aabb,f=c.indices,h=c.vertexCount,v=c.attributes;a.aabb.add(d),a.vertexCount+=h,f&&l.push.apply(l,_n(f.map(function(m){return m+u}))),u+=h,v.forEach(function(m,g){s[g]?m.data&&(RO(m.data)?s[g].push(m.data):fU(m.data)?s[g].data=_6e(s[g].data,m.data):s[g].data=s[g].data.concat(m.data)):(s[g]=m,s[g].dirty=!0)})}),a.attributes=s,a.indices=Uint32Array.from(l),a.dirty=!0}}]),n}(Ff))||KL),YL,qL;function C6e(t){var e=T6e();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function T6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var R6e=(YL=_i(),YL(qL=function(t){ia(n,t);var e=C6e(n);function n(){return Vn(this,n),e.apply(this,arguments)}return dr(n,[{key:"onEntityCreated",value:function(){for(var i=this.config,o=i.halfExtents,a=o===void 0?[.5,.5]:o,s=i.widthSegments,l=s===void 0?5:s,u=i.lengthSegments,c=u===void 0?5:u,d=[],f=[],h=[],v=[],m=0,g=0;g<=l;g++)for(var x=0;x<=c;x++){var _=-a[0]+2*a[0]*g/l,w=0,S=-(-a[1]+2*a[1]*x/c),C=g/l,O=x/c;d.push(_,w,S),f.push(0,1,0),h.push(C,O),g<l&&x<c&&(v.push(m+c+1,m+1,m),v.push(m+c+1,m+c+2,m+1)),m++}var T=TO(d),N=this.getComponent();N.indices=Uint32Array.from(v),N.aabb=T,N.vertexCount=m,N.attributes=[{dirty:!0,name:"position",data:Float32Array.from(d),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(f),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(h),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(Ff))||qL),ZL,JL;function P6e(t){var e=A6e();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function A6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var O6e=(ZL=_i(),ZL(JL=function(t){ia(n,t);var e=P6e(n);function n(){return Vn(this,n),e.apply(this,arguments)}return dr(n,[{key:"onEntityCreated",value:function(){for(var i=this.config,o=i.radius,a=o===void 0?.5:o,s=i.latitudeBands,l=s===void 0?16:s,u=i.longitudeBands,c=u===void 0?16:u,d=[],f=[],h=[],v=[],m=0;m<=l;m++)for(var g=m*Math.PI/l,x=Math.sin(g),_=Math.cos(g),w=0;w<=c;w++){var S=w*2*Math.PI/c-Math.PI/2,C=Math.sin(S),O=Math.cos(S),T=O*x,N=_,M=C*x,D=1-w/c,F=1-m/l;d.push(T*a,N*a,M*a),f.push(T,N,M),h.push(D,F)}for(var j=0;j<l;++j)for(var R=0;R<c;++R){var I=j*(c+1)+R,L=I+c+1;v.push(I+1,L,I),v.push(I+1,L+1,L)}var k=TO(d),B=this.getComponent();B.indices=Uint32Array.from(v),B.aabb=k,B.vertexCount=d.length/3,B.attributes=[{dirty:!0,name:"position",data:Float32Array.from(d),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(f),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(h),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(Ff))||JL),QL,e8,t8,n8,a_,r8,i8,o8;function N6e(t){var e=M6e();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function M6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var I6e=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,D6e=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,L6e=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,k6e=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,$6e=(QL=_i(),e8=lr(Wt.RenderEngine),t8=lr(Wt.ShaderModuleService),QL(n8=(a_=(o8=function(t){ia(n,t);var e=N6e(n);function n(){var r;Vn(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),ar(r,"engine",r8,Oi(r)),ar(r,"shaderModuleService",i8,Oi(r)),r}return dr(n,[{key:"onEntityCreated",value:function(){var i=this.getComponent(),o=this.engine.supportWebGPU?k6e:D6e,a=this.engine.supportWebGPU?L6e:I6e;this.shaderModuleService.registerModule("material-basic",{vs:o,fs:a});var s=this.shaderModuleService.getModule("material-basic"),l=s.vs,u=s.fs,c=s.uniforms;i.vertexShaderGLSL=l,i.fragmentShaderGLSL=u,i.setUniform(c),this.config.map&&(i.setDefines({USE_UV:1,USE_MAP:1}),i.setUniform({map:this.config.map,uvTransform:e1()}))}}]),n}(hU),o8),r8=sr(a_.prototype,"engine",[e8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i8=sr(a_.prototype,"shaderModuleService",[t8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a_))||n8),a8,s8,l8,u8,c8,d8,f8,K0,h8,p8,v8,m8;function F6e(t){var e=j6e();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function j6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var B6e=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,z6e=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,H6e=(a8=_i(),s8=lr(Wt.Systems),l8=bc(Wt.MaterialSystem),u8=lr(Wt.Systems),c8=bc(Wt.GeometrySystem),d8=lr(Wt.ShaderModuleService),a8(f8=(K0=(m8=function(t){ia(n,t);var e=F6e(n);function n(){var r;Vn(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),ar(r,"materialSystem",h8,Oi(r)),ar(r,"geometrySystem",p8,Oi(r)),ar(r,"shaderModuleService",v8,Oi(r)),r}return dr(n,[{key:"onAttributeChanged",value:function(i){var o=i.name,a=i.data,s=this.getMeshComponent();s&&s.material&&(o==="gridColor"?(s.material.setUniform("u_GridColor",a),s.material.setUniform("u_GridColor2",a)):o==="gridSize"&&(s.material.setUniform("u_GridSize",a),s.material.setUniform("u_GridSize2",a)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:z6e,fs:B6e});var i=this.shaderModuleService.getModule("grid"),o=i.vs,a=i.fs,s=i.uniforms,l=this.materialSystem.createShaderMaterial({vertexShader:o,fragmentShader:a});this.setMaterial(l);var u=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(u),l.setCull({enable:!1,face:at.BACK}).setDepth({enable:!0,func:at.LESS}),l.setUniform(s),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),u.setIndex([0,3,2,2,1,0]),u.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(Mf),m8),h8=sr(K0.prototype,"materialSystem",[s8,l8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p8=sr(K0.prototype,"geometrySystem",[u8,c8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v8=sr(K0.prototype,"shaderModuleService",[d8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K0))||f8),mU=1e-6,gU=U6e;function U6e(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}var G6e=W6e;function W6e(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}var V6e=X6e;function X6e(t,e){var n=new Float32Array(2);return n[0]=t,n[1]=e,n}var K6e=Y6e;function Y6e(t,e){return t[0]=e[0],t[1]=e[1],t}var yU=q6e;function q6e(t,e,n){return t[0]=e,t[1]=n,t}var Z6e=J6e,g8=mU;function J6e(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=g8*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=g8*Math.max(1,Math.abs(r),Math.abs(o))}var Q6e=eLe;function eLe(t,e){return t[0]===e[0]&&t[1]===e[1]}var bU=tLe;function tLe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}var AO=nLe;function nLe(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}var rLe=AO,xU=iLe;function iLe(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}var oLe=xU,_U=aLe;function aLe(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}var sLe=_U,lLe=uLe;function uLe(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}var cLe=dLe;function dLe(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}var fLe=hLe;function hLe(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var pLe=vLe;function vLe(t,e,n){var r=Math.cos(n),i=Math.sin(n),o=e[0],a=e[1];return t[0]=o*r-a*i,t[1]=o*i+a*r,t}var mLe=gLe;function gLe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}var yLe=bLe;function bLe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}var xLe=_Le;function _Le(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}var SLe=wLe;function wLe(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}var ELe=CLe;function CLe(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}var SU=TLe;function TLe(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var RLe=SU,wU=PLe;function PLe(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}var ALe=wU,EU=OLe;function OLe(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}var NLe=EU,CU=MLe;function MLe(t){var e=t[0],n=t[1];return e*e+n*n}var ILe=CU,DLe=LLe;function LLe(t,e){return t[0]=-e[0],t[1]=-e[1],t}var TU=kLe;function kLe(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}var RU=$Le;function $Le(t,e){return t[0]*e[0]+t[1]*e[1]}var FLe=jLe;function jLe(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}var BLe=zLe;function zLe(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}var HLe=ULe;function ULe(t,e){e=e||1;var n=Math.random()*2*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}var GLe=WLe;function WLe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}var VLe=XLe;function XLe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}var KLe=YLe;function YLe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}var qLe=ZLe;function ZLe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}var JLe=QLe,em=gU();function QLe(t,e,n,r,i,o){var a,s;for(e||(e=2),n||(n=0),r?s=Math.min(r*e+n,t.length):s=t.length,a=n;a<s;a+=e)em[0]=t[a],em[1]=t[a+1],i(em,em,o),t[a]=em[0],t[a+1]=em[1];return t}var e8e=t8e;function t8e(t,e,n){var r=e[0]*e[0]+e[1]*e[1];if(r>n*n){var i=Math.sqrt(r);t[0]=e[0]/i*n,t[1]=e[1]/i*n}else t[0]=e[0],t[1]=e[1];return t}var s_={EPSILON:mU,create:gU,clone:G6e,fromValues:V6e,copy:K6e,set:yU,equals:Z6e,exactEquals:Q6e,add:bU,subtract:AO,sub:rLe,multiply:xU,mul:oLe,divide:_U,div:sLe,inverse:lLe,min:cLe,max:fLe,rotate:pLe,floor:mLe,ceil:yLe,round:xLe,scale:SLe,scaleAndAdd:ELe,distance:SU,dist:RLe,squaredDistance:wU,sqrDist:ALe,length:EU,len:NLe,squaredLength:CU,sqrLen:ILe,negate:DLe,normalize:TU,dot:RU,cross:FLe,lerp:BLe,random:HLe,transformMat2:GLe,transformMat2d:VLe,transformMat3:KLe,transformMat4:qLe,forEach:JLe,limit:e8e},n8e=bU,xP=yU,PU=TU,r8e=AO,i8e=RU,y8=[0,0],o8e=function(e,n,r,i,o){return n8e(e,r,i),PU(e,e),xP(n,-e[1],e[0]),xP(y8,-r[1],r[0]),o/i8e(n,y8)},l_=function(e,n){return xP(e,-n[1],n[0]),e},b8=function(e,n,r){return r8e(e,n,r),PU(e,e),e};function u_(t,e,n,r,i){Ly(e,r,-i),Ly(e,r,i),t.push(n),t.push(n)}function Ly(t,e,n){t.push([[e[0],e[1]],n])}function a8e(t,e,n){for(var r=[0,0],i=[0,0],o=[0,0],a=[0,0],s=-1,l=!1,u=null,c=s_.create(),d=0,f=3,h=[],v=[],m=[],g=[0,0],x=t.length,_=1;_<x;_++){var w=d,S=t[_-1],C=t[_],O=_<t.length-1?t[_+1]:null;if(g.push(_/x,_/x),b8(r,C,S),u||(u=[0,0],l_(u,r)),l||(l=!0,u_(v,h,S,u,1)),m.push([w+0,w+1,w+2]),!O)l_(u,r),u_(v,h,C,u,1),m.push(s===1?[w,w+2,w+3]:[w+2,w+1,w+3]),d+=2;else{b8(i,O,C);var T=o8e(o,a,r,i,1),N=s_.dot(o,u)<0?-1:1,M=T>f;if(!isFinite(T)){l_(u,r),u_(v,h,C,u,1),m.push(s===1?[w,w+2,w+3]:[w+2,w+1,w+3]),d+=2,s=N;continue}M?(T=f,g.push(_/x),Ly(h,u,-N),v.push(C),Ly(h,a,T*N),v.push(C),m.push(s!==-N?[w,w+2,w+3]:[w+2,w+1,w+3]),m.push([w+2,w+3,w+4]),l_(c,i),s_.copy(u,c),Ly(h,u,-N),v.push(C),d+=3):(u_(v,h,C,a,T),m.push(s===1?[w,w+2,w+3]:[w+2,w+1,w+3]),N=-1,s_.copy(u,a),d+=2),s=N}}return{normals:h,attrIndex:m,attrPos:v,attrCounters:g}}var x8,_8,S8,w8,E8,C8,T8,Y0,R8,P8,A8,O8;function s8e(t){var e=l8e();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function l8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var u8e=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,c8e=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,d8e=(x8=_i(),_8=lr(Wt.Systems),S8=bc(Wt.MaterialSystem),w8=lr(Wt.Systems),E8=bc(Wt.GeometrySystem),C8=lr(Wt.ShaderModuleService),x8(T8=(Y0=(O8=function(t){ia(n,t);var e=s8e(n);function n(){var r;Vn(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),ar(r,"materialSystem",R8,Oi(r)),ar(r,"geometrySystem",P8,Oi(r)),ar(r,"shaderModuleService",A8,Oi(r)),r.vertexCount=void 0,r}return dr(n,[{key:"onAttributeChanged",value:function(i){var o=i.name,a=i.data,s=this.getMeshComponent();if(s&&s.material)switch(o){case"dashArray":s.material.setUniform("u_dash_array",a);break;case"dashOffset":s.material.setUniform("u_dash_offset",a);break;case"dashRatio":s.material.setUniform("u_dash_ratio",a);break;case"thickness":s.material.setUniform("u_thickness",a);break;case"color":var l=new Array(this.vertexCount).fill(void 0).map(function(){return a}).reduce(function(u,c){return[].concat(_n(u),_n(c))},[]);s.geometry.setAttribute("a_color",Float32Array.from(l),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var i=this;this.shaderModuleService.registerModule("line",{vs:c8e,fs:u8e});var o=this.shaderModuleService.getModule("line"),a=o.vs,s=o.fs,l=o.uniforms,u=this.materialSystem.createShaderMaterial({vertexShader:a,fragmentShader:s}),c=a8e(this.config.points),d=c.normals,f=c.attrIndex,h=c.attrPos,v=c.attrCounters,m=h.length;this.vertexCount=m;var g=this.geometrySystem.createBufferGeometry({vertexCount:m});this.setMaterial(u),this.setGeometry(g),u.setCull({enable:!1,face:at.BACK}).setUniform(l),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var x=[],_=[];d.forEach(function(S){var C=S[0],O=S[1];x.push([C[0],C[1]]),_.push(O)}),g.setIndex(f.reduce(function(S,C){return[].concat(_n(S),_n(C))},[])),g.setAttribute("a_pos",Float32Array.from(h.reduce(function(S,C){return[].concat(_n(S),_n(C))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var w=new Array(m).fill(void 0).map(function(){return _n(i.config.color)}).reduce(function(S,C){return[].concat(_n(S),_n(C))},[]);g.setAttribute("a_color",Float32Array.from(w),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),g.setAttribute("a_line_miter",Float32Array.from(_),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),g.setAttribute("a_line_normal",Float32Array.from(x.reduce(function(S,C){return[].concat(_n(S),_n(C))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),g.setAttribute("a_counters",Float32Array.from(v),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(Mf),O8),R8=sr(Y0.prototype,"materialSystem",[_8,S8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P8=sr(Y0.prototype,"geometrySystem",[w8,E8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A8=sr(Y0.prototype,"shaderModuleService",[C8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y0))||T8);function f8e(t){return[t+1&255,t+1>>8&255,t+1>>8>>8&255]}var N8,M8,I8,D8,L8,k8,$8,q0,F8,j8,B8,z8;function H8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h8e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p8e(t){var e=v8e();return function(){var r=Mi(t),i;if(e){var o=Mi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ga(this,i)}}function v8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var m8e=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,g8e=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,y8e=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],b8e=(N8=_i(),M8=lr(Wt.Systems),I8=bc(Wt.MaterialSystem),D8=lr(Wt.Systems),L8=bc(Wt.GeometrySystem),k8=lr(Wt.ShaderModuleService),N8($8=(q0=(z8=function(t){ia(n,t);var e=p8e(n);function n(){var r;Vn(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),ar(r,"materialSystem",F8,Oi(r)),ar(r,"geometrySystem",j8,Oi(r)),ar(r,"shaderModuleService",B8,Oi(r)),r}return dr(n,[{key:"onAttributeChanged",value:function(i){var o=i.name,a=i.data,s=this.getMeshComponent();s&&s.material&&(o==="strokeWidth"?s.material.setUniform("u_stroke_width",a):o==="strokeColor"?s.material.setUniform("u_stroke_color",a):o==="strokeOpacity"?s.material.setUniform("u_stroke_opacity",a):o==="opacity"?s.material.setUniform("u_opacity",a):o==="blur"&&s.material.setUniform("u_blur",a))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:g8e,fs:m8e});var i=this.shaderModuleService.getModule("grid"),o=i.vs,a=i.fs,s=i.uniforms,l=this.materialSystem.createShaderMaterial({vertexShader:o,fragmentShader:a,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:at.SRC_ALPHA,dstRGB:at.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});l.setUniform(h8e({u_device_pixel_ratio:window.devicePixelRatio},s));var u=this.buildAttributes(),c=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:u.instancedOffsets.length/2,vertexCount:6});c.setIndex([0,2,1,0,3,2]),c.setAttribute("position",Float32Array.from(u.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),c.setAttribute("offset",Float32Array.from(u.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),c.setAttribute("color",Float32Array.from(u.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),c.setAttribute("size",Float32Array.from(u.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),c.setAttribute("shape",Float32Array.from(u.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),c.setAttribute("a_PickingColor",Float32Array.from(u.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(l),this.setGeometry(c)}},{key:"buildAttribute",value:function(i,o,a){var s,l,u,c;(s=o.instancedPickingColors).push.apply(s,_n(f8e(i.id||a))),o.instancedShapes.push(y8e.indexOf(i.shape||"circle")),(l=o.instancedColors).push.apply(l,_n(i.color||[1,0,0,1])),(u=o.instancedOffsets).push.apply(u,_n(i.position||[0,0])),(c=o.instancedSizes).push.apply(c,_n(i.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var i=this,o={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(a,s){i.buildAttribute(a,o,s)}):this.buildAttribute(this.config,o,0),o}}]),n}(Mf),z8),F8=sr(q0.prototype,"materialSystem",[M8,I8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j8=sr(q0.prototype,"geometrySystem",[D8,L8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B8=sr(q0.prototype,"shaderModuleService",[k8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q0))||$8),U8,G8,W8,V8,X8,Z0,K8,Y8,q8,Z8;function J8(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=x8e(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=t[Symbol.iterator]()},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function x8e(t,e){if(t){if(typeof t=="string")return Q8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q8(t,e)}}function Q8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _8e=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,S8e=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,w8e=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,E8e=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,C8e=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,ek=(U8=_i(),G8=lr(Wt.RenderEngine),W8=lr(Wt.ShaderModuleService),V8=lr(Wt.ConfigService),U8(X8=(Z0=(Z8=function(){function t(){Vn(this,t),this.container=void 0,ar(this,"engine",K8,this),ar(this,"shaderModule",Y8,this),ar(this,"configService",q8,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return dr(t,[{key:"init",value:function(){var e=Ln(zn.mark(function r(){var i,o,a,s,l;return zn.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:E8e}),this.shaderModule.registerModule("uv.vert.main",{vs:C8e}),this.shaderModule.registerModule("uv.frag.declaration",{fs:w8e}),this.shaderModule.registerModule("map.frag.declaration",{fs:_8e}),this.shaderModule.registerModule("map.frag.main",{fs:S8e}),i=this.container.getAll(Wt.Systems),o=this.configService.get(),!o.canvas){c.next=30;break}return c.next=11,this.engine.init({canvas:o.canvas,swapChainFormat:yn.TextureFormat.BGRA8Unorm,antialiasing:!1});case 11:a=J8(i),c.prev=12,a.s();case 14:if((s=a.n()).done){c.next=21;break}if(l=s.value,!l.initialize){c.next=19;break}return c.next=19,l.initialize();case 19:c.next=14;break;case 21:c.next=26;break;case 23:c.prev=23,c.t0=c.catch(12),a.e(c.t0);case 26:return c.prev=26,a.f(),c.finish(26);case 29:this.inited=!0;case 30:case"end":return c.stop()}},r,this,[[12,23,26,29]])}));function n(){return e.apply(this,arguments)}return n}()},{key:"render",value:function(){var e=Ln(zn.mark(function r(){var i,o,a,s,l,u,c,d=arguments;return zn.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(!this.inited||this.rendering)){h.next=2;break}return h.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(v){v()}),this.rendering=!0,this.engine.beginFrame(),i=this.container.getAll(Wt.Systems),o=d.length,a=new Array(o),s=0;s<o;s++)a[s]=d[s];l=J8(i),h.prev=8,l.s();case 10:if((u=l.n()).done){h.next=17;break}if(c=u.value,!c.execute){h.next=15;break}return h.next=15,c.execute(a);case 15:h.next=10;break;case 17:h.next=22;break;case 19:h.prev=19,h.t0=h.catch(8),l.e(h.t0);case 22:return h.prev=22,l.f(),h.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return h.stop()}},r,this,[[8,19,22,25]])}));function n(){return e.apply(this,arguments)}return n}()},{key:"clear",value:function(n){var r=this;return this.inited?this.engine.clear(n):this.pendings.unshift(function(){r.engine.clear(n),r.pendings.shift()}),this}},{key:"setSize",value:function(n){var r=n.width,i=n.height,o=this.engine.getCanvas();return this.size={width:r,height:i},o.width=r,o.height=i,this}},{key:"getSize",value:function(){return this.size}}]),t}(),Z8),K8=sr(Z0.prototype,"engine",[G8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y8=sr(Z0.prototype,"shaderModule",[W8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q8=sr(Z0.prototype,"configService",[V8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z0))||X8),tk,nk,rk,ik=(tk=_i(),tk(nk=(rk=function(){function t(){Vn(this,t),this.entities=[]}return dr(t,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(n){return this.addEntity(n.getEntity()),this}},{key:"removeRenderable",value:function(n){return this.removeEntity(n.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(n){return this.entities.indexOf(n)===-1&&this.entities.push(n),this}},{key:"removeEntity",value:function(n){var r=this.entities.indexOf(n);return this.entities.splice(r,1),this}}]),t}(),rk))||nk),ok,ak,sk,AU=(ok=_i(),ok(ak=(sk=function(){function t(){Vn(this,t),this.cache={}}return dr(t,[{key:"get",value:function(n){return this.cache[n]}},{key:"set",value:function(n,r){this.cache[n]=r}}]),t}(),sk))||ak),lk,uk,ck,dk,c_,fk,hk,pk;function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gk=(lk=_i(),uk=lr(AU),ck=lr(Wt.RenderEngine),lk(dk=(c_=(pk=function(){function t(){Vn(this,t),ar(this,"textureCache",fk,this),ar(this,"engine",hk,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return dr(t,[{key:"setConfig",value:function(n){this.config=n}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var e=Ln(zn.mark(function r(){var i=this;return zn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.config.url){a.next=4;break}return a.abrupt("return",new Promise(function(s,l){var u=i.textureCache.get(i.config.url);if(u)s(u);else{var c=new Image;c.crossOrigin="Anonymous",c.src=i.config.url,c.onload=function(){var d=i.engine.createTexture2D(mk(mk({},i.config),{},{data:c,width:c.width,height:c.height,flipY:!0}));i.textureCache.set(i.config.url,d),i.texture=d,i.loaded=!0,s(d)},c.onerror=function(){l()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),a.abrupt("return",this.texture);case 7:case"end":return a.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()}]),t}(),pk),fk=sr(c_.prototype,"textureCache",[uk],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hk=sr(c_.prototype,"engine",[ck],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c_))||dk),yk,bk,xk,_k,aT,Sk,wk,Ek=(yk=_i(),bk=lr(Wt.Systems),xk=bc(Wt.RendererSystem),yk(_k=(aT=(wk=function(){function t(){Vn(this,t),ar(this,"rendererSystem",Sk,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return dr(t,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(n){return this.camera=n,this}},{key:"setScene",value:function(n){return this.scene=n,this}},{key:"setViewport",value:function(n){return this.viewport=n,this}},{key:"setClearColor",value:function(n){return this.clearColor=n,this}},{key:"pick",value:function(n){return this.rendererSystem.pick(n,this)}}]),t}(),wk),Sk=sr(aT.prototype,"rendererSystem",[bk,xk],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),aT))||_k),Ck,Tk,Rk,sT,Pk,Ak;function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T8e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}Ck=_i(),Tk=lr(Wt.ConfigService),Ck(Rk=(sT=(Ak=function(){function t(){Vn(this,t),ar(this,"configService",Pk,this),this.container=void 0}return dr(t,[{key:"getEngine",value:function(){var e=Ln(zn.mark(function r(){var i,o,a,s;return zn.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=this.container.get(Wt.RenderEngine),o=this.configService.get(),a=o.canvas,s=o.engineOptions,u.next=4,i.init(T8e({canvas:a||dU(),swapChainFormat:yn.TextureFormat.BGRA8Unorm,antialiasing:!1},s));case 4:return u.abrupt("return",i);case 5:case"end":return u.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"getTransformComponent",value:function(n){var r=this.container.get(Wt.TransformComponentManager);return r.getComponentByEntity(n)}},{key:"getMeshComponent",value:function(n){var r=this.container.get(Wt.MeshComponentManager);return r.getComponentByEntity(n)}},{key:"setConfig",value:function(n){this.configService.set(n)}},{key:"setContainer",value:function(n){this.container=n}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return sc()}},{key:"createScene",value:function(){return this.container.get(ik)}},{key:"createCamera",value:function(){return this.container.get(K6)}},{key:"createView",value:function(){return this.container.get(Ek)}},{key:"createRenderable",value:function(n,r){var i=n?this.container.getNamed(Wt.Renderable,n):this.container.get(Mf),o=sc();return i.setConfig(r||{}),i.setEntity(o),i}},{key:"createGeometry",value:function(n,r){var i=this.container.getNamed(Wt.Geometry,n),o=sc();return i.setConfig(r||{}),i.setEntity(o),i.getComponent()}},{key:"createMaterial",value:function(n,r){var i=this.container.getNamed(Wt.Material,n),o=sc();return i.setConfig(r||{}),i.setEntity(o,n),i.getComponent()}},{key:"createTexture2D",value:function(n){var r=this.container.get(gk);return r.setConfig(n),r}},{key:"createBufferGeometry",value:function(n){var r=this.container.getNamed(Wt.Systems,Wt.GeometrySystem);return r.createBufferGeometry(n)}},{key:"createInstancedBufferGeometry",value:function(n){var r=this.container.getNamed(Wt.Systems,Wt.GeometrySystem);return r.createInstancedBufferGeometry(n)}},{key:"createShaderMaterial",value:function(n){var r=this.container.getNamed(Wt.Systems,Wt.MaterialSystem);return r.createShaderMaterial(n)}},{key:"createKernel",value:function(n){var r=this.container.get(uL);return typeof n=="string"?r.setBundle(JSON.parse(n)):r.setBundle(n),r.init(),r}},{key:"createRenderer",value:function(){var n=this.container.get(ek);return n.container=this.container,n.init(),n}},{key:"destroy",value:function(){var n=this.container.getAll(Wt.Systems);n.forEach(function(o){o.tearDown&&o.tearDown()});var r=this.container.get(Wt.RenderEngine);r.destroy();var i=this.container.get(Wt.InteractorService);i.destroy()}}],[{key:"create",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=wDe(),i=navigator.gpu?g6e:J5e;r.isBound(Wt.RenderEngine)||r.bind(Wt.RenderEngine).to(i).inSingletonScope(),r.bind(ek).toSelf(),r.bind(uL).toSelf(),r.bind(Mf).toSelf(),r.bind(Ek).toSelf(),r.bind(K6).toSelf(),r.bind(ik).toSelf(),r.bind(t).toSelf(),r.bind(AU).toSelf(),r.bind(gk).toSelf(),r.bind(Wt.Geometry).to(x6e).whenTargetNamed(Ff.BOX),r.bind(Wt.Geometry).to(O6e).whenTargetNamed(Ff.SPHERE),r.bind(Wt.Geometry).to(R6e).whenTargetNamed(Ff.PLANE),r.bind(Wt.Geometry).to(E6e).whenTargetNamed(Ff.MERGED),r.bind(Wt.Material).to($6e).whenTargetNamed(hU.BASIC),r.bind(Wt.Renderable).to(b8e).whenTargetNamed(Mf.POINT),r.bind(Wt.Renderable).to(d8e).whenTargetNamed(Mf.LINE),r.bind(Wt.Renderable).to(H6e).whenTargetNamed(Mf.GRID);var o=r.get(t);return o.setContainer(r),o.setConfig(n),o}}]),t}(),Ak),Pk=sr(sT.prototype,"configService",[Tk],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sT));class R8e{constructor(e,n={}){jr(this,"option");jr(this,"lf");jr(this,"paths");jr(this,"targetPath");jr(this,"targetNode");jr(this,"targetStartNode");jr(this,"targetPathIndex");jr(this,"nodeMap");jr(this,"edgeMap");this.option=n,this.lf=e,this.paths=[],this.targetPath={},this.targetNode={},this.targetStartNode={},this.targetPathIndex=void 0,this.nodeMap={},this.edgeMap={}}reset(){this.paths=[],this.targetPath={},this.targetNode={},this.targetStartNode={},this.targetPathIndex=void 0,this.nodeMap={},this.edgeMap={}}getBytesLength(e){if(!e)return 0;let n=0;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);e.match(/[A-Z]/)?n+=1.5:i>=1&&i<=126||i>=65376&&i<=65439?n+=1:n+=2}return n}async layout(e={},n={}){this.reset(),this.targetNode=e,this.getPaths(e),this.paths.forEach((l,u)=>{l.startNode===this.targetStartNode&&(this.targetPath=l,this.targetPathIndex=u)});const r=await this.getLayoutData(this.targetPath,n),i={nodes:[],edges:[]};r.nodes.forEach(l=>{const{model:u}=l,c=u.getData();c.x=l.x,c.y=l.y,i.nodes.push(c)}),r.edges.forEach(l=>{const{model:u}=l,c=u.getData();i.edges.push(c)});const o=this.getNodesRect(i.nodes);this.paths.forEach((l,u)=>{u<this.targetPathIndex&&(l.nodes.forEach(c=>{const d=c.getData();i.nodes.push(d)}),i.edges.push(...l.edges))});const a=this.paths[this.targetPathIndex+1];if(a)if(this.isOverlap(a.rect,o)){const l=o.maxY-a.rect.minY+WPe;this.paths.forEach((u,c)=>{c>this.targetPathIndex&&(u.nodes.forEach(d=>{const f=d.getData();f.y=f.y+l,i.nodes.push(f)}),i.edges.push(...u.edges))})}else this.paths.forEach((l,u)=>{u>this.targetPathIndex&&(l.nodes.forEach(c=>{const d=c.getData();i.nodes.push(d)}),i.edges.push(...l.edges))});const s=[];i.edges.forEach(l=>{const u=this.lf.getEdgeModelById(l.id),c=u.getData();if(c.pointsList=this.calcPointsList(u,i.nodes),c.pointsList){const d=c.pointsList[0],f=c.pointsList[c.pointsList.length-1];c.startPoint={x:d.x,y:d.y},c.endPoint={x:f.x,y:f.y},c.text&&c.text.value&&(c.text={x:f.x-this.getBytesLength(c.text.value)*6-10,y:f.y,value:c.text.value})}else c.startPoint=void 0,c.endPoint=void 0,c.text&&c.text.value&&(c.text=c.text.value);s.push(c)}),i.edges=s,this.lf.render(i)}isOverlap(e,n){return!(n.maxY<e.minY||e.maxY<n.minY||e.minX>n.maxX||n.minX>e.maxX)}async getLayoutData(e,n={}){this.option={type:"dagre",rankdir:"LR",align:"DR",nodesep:40,ranksep:40,...this.option,...n,begin:[e.startNode.x,e.startNode.y]};const o=new SMe(this.option),{nodes:a}=e,s={};a.forEach(f=>{s[f.id]=f});const l=e.edges.filter(f=>!s[f.targetNodeId]),u=e.edges.filter(f=>s[f.targetNodeId]),c=await o.layout({nodes:a.map(f=>({id:f.id,size:{width:f.width,height:f.height},model:f})),edges:u.map(f=>({source:f.sourceNodeId,target:f.targetNodeId,model:f}))}),d=l.map(f=>({source:f.sourceNodeId,target:f.targetNodeId,model:f}));return c.edges.push(...d),c}getPaths(...e){const{nodes:n}=this.lf.graphModel,r=OU.map(a=>a.type),i=n.filter(a=>r.includes(a==null?void 0:a.type));i.sort((a,s)=>a.y-s.y);const o=[];return i.forEach(a=>{const s=this.getPath(a),l=s.nodes;s.startNode=a,s.start=[a.x,a.y];const u=this.getNodesRect(l);s.rect=u,o.push(s)}),this.paths=o,o}getPath(e){const n=[],r=[];n.push(e);const i=o=>{const a=this.lf.getNodeOutgoingNode(o.id),s=this.lf.getNodeOutgoingEdge(o.id);a.length&&(a.forEach(l=>{this.nodeMap[l.id]||(n.push(l),this.nodeMap[l.id]=l,i(l))}),s.forEach(l=>{this.edgeMap[l.id]||(r.push(l),this.edgeMap[l.id]=l)}))};return i(e),n.forEach(o=>{o.id===this.targetNode.id&&(this.targetStartNode=e)}),{nodes:n,edges:r}}getNodesRect(e){const n=e.reduce((a,s)=>Math.max(a,s.x),-1/0),r=e.reduce((a,s)=>Math.max(a,s.y),-1/0),i=e.reduce((a,s)=>Math.min(a,s.x),1/0),o=e.reduce((a,s)=>Math.min(a,s.y),1/0);return{minX:i,minY:o,maxX:n,maxY:r}}pointFilter(e){const n=e;let r=1;for(;r<n.length-1;){const i=n[r-1],o=n[r],a=n[r+1];i.x===o.x&&o.x===a.x||i.y===o.y&&o.y===a.y?n.splice(r,1):r++}return n}calcPointsList(e,n){const r=[],i=e.offset||50;if(this.option.rankdir==="LR"&&e.modelType==="polyline-edge"){const o=this.lf.getNodeModelById(e.sourceNodeId),a=this.lf.getNodeModelById(e.targetNodeId),s=n.find(u=>u.id===e.sourceNodeId),l=n.find(u=>u.id===e.targetNodeId);if(s.x<l.x)return s.y>l.y?(r.push({x:s.x+o.width/2,y:s.y}),r.push({x:l.x-a.width/2-i,y:s.y}),r.push({x:l.x-a.width/2-i,y:l.y}),r.push({x:l.x-a.width/2,y:l.y})):(r.push({x:s.x+o.width/2,y:s.y}),r.push({x:s.x+o.width/2+i,y:s.y}),r.push({x:s.x+o.width/2+i,y:l.y}),r.push({x:l.x-a.width/2,y:l.y})),this.pointFilter(r);if(s.x>l.x)return s.y>=l.y?(r.push({x:s.x+o.width/2,y:s.y}),r.push({x:s.x+o.width/2+i,y:s.y}),r.push({x:s.x+o.width/2+i,y:l.y+i}),r.push({x:l.x-a.width/2-i,y:l.y+i}),r.push({x:l.x-a.width/2-i,y:l.y}),r.push({x:l.x-a.width/2,y:l.y})):(r.push({x:s.x,y:s.y-o.height/2}),r.push({x:s.x,y:s.y-o.height/2-i}),r.push({x:l.x,y:s.y-o.height/2-i}),r.push({x:l.x,y:l.y-a.height/2})),this.pointFilter(r)}}}const P8e=t=>t.getModelName()||t.name||t.componentName,lT=t=>{const e=N8e(t);console.log(e);const n=E_,r=e.maxY===1/0?zz:e.maxY+cO;return{x:n,y:r}},A8e=(t,e)=>{const n=t.getNodeOutgoingNode(e.id);if(n.length){const r=O8e(n),i=r.minX,o=r.maxY+cO;return{x:i,y:o}}else return{x:e.x+GPe,y:e.y}},O8e=t=>{const e=t.reduce((o,a)=>Math.max(o,a.x),0),n=t.reduce((o,a)=>Math.max(o,a.y),0),r=t.reduce((o,a)=>Math.min(o,a.x),1/0),i=t.reduce((o,a)=>Math.min(o,a.y),1/0);return{minX:r,minY:i,maxX:e,maxY:n}},N8e=t=>{const e=t.getGraphData(),{nodes:n}=e,r=n.reduce((s,l)=>Math.max(s,l.x),0),i=n.reduce((s,l)=>Math.max(s,l.y),0),o=n.reduce((s,l)=>Math.min(s,l.x),1/0),a=n.reduce((s,l)=>Math.min(s,l.y),1/0);return{minX:o,minY:a,maxX:r,maxY:i}},wl=(t,e)=>(e||"logic_")+Number(Math.random().toString().substr(2,t)+Date.now()).toString(36);class M8e{constructor(e){jr(this,"lf");jr(this,"context");jr(this,"layout");jr(this,"selectedNodes");jr(this,"hoveredNodes");this.lf=e.lf,this.context=e.context,this.layout=new R8e(this.lf,{rankdir:"LR",align:"UL",nodesep:2,ranksep:20}),this.selectedNodes=[],this.hoveredNodes=[],this.addHistory()}selectNodesByModel(e){const n=e.id,r=this.lf.getGraphData(),{nodes:i}=r;this.selectedNodes&&this.selectedNodes.forEach(o=>{o.setProperties({status:"normal"})}),this.selectedNodes=[],i.forEach(o=>{if(o.properties&&o.properties.componentId===n){const a=o.id,s=this.lf.getNodeModelById(a);s.setProperties({status:"selected"}),this.selectedNodes.push(s)}})}hoverNodesByModel(e){const n=e.id,r=this.lf.getGraphData(),{nodes:i}=r;i.forEach(o=>{const a=o.id,s=this.lf.getNodeModelById(a);if(o.properties&&o.properties.componentId===n)s.setProperties({status:"hovered"});else{if(s.properties&&s.properties.status==="selected")return;s.setProperties({status:"normal"})}})}selectNode(e){const n=e.id,r=this.lf.getNodeModelById(n);this.selectedNodes&&this.selectedNodes.forEach(i=>{i.setProperties({status:"normal"})}),this.selectedNodes=[],r.setProperties({status:"selected"}),this.selectedNodes.push(r),this.lf.graphModel.eventCenter.emit("node:model-selected",e)}hoverNode(e){const n=e.id,r=this.lf.getNodeModelById(n);this.hoveredNodes&&this.hoveredNodes.forEach(i=>{i.setHovered(!1),i.setProperties({status:"normal"})}),this.hoveredNodes=[],r.setHovered(!0),e.setProperties({status:"hovered"}),this.hoveredNodes.push(r),this.lf.graphModel.eventCenter.emit("node:model-selected",e)}cancelHoverNode(e){this.hoveredNodes&&this.hoveredNodes.forEach(n=>{n.setHovered(!1),n.setProperties({status:"normal"})}),e.setHovered(!1),e.setProperties({status:"normal"}),this.hoveredNodes=[]}clearNodesStatus(){this.selectedNodes&&this.selectedNodes.forEach(e=>{e.setProperties({status:"normal"}),e.isHovered=!1,e.isSelected=!1}),this.hoveredNodes&&this.hoveredNodes.forEach(e=>{e.setProperties({status:"normal"}),e.isHovered=!1,e.isSelected=!1}),this.selectedNodes=[],this.hoveredNodes=[]}addNodeByDrop(e,n){const{clientX:r,clientY:i}=n,a=this.lf.graphModel.getPointByClient({x:r-5,y:i-5}).canvasOverlayPosition,s=wl(10),l=e.componentName,c=this.context.getMaterialByType(l).logo||f0e,d=Math.abs(a.x+N2/2-E_)<50?E_:a.x+N2/2,f=a.y+ly/2,h={id:s,type:kS.type,x:d,y:f,properties:{name:P8e(e),componentId:e.id,componentName:e.componentName,logo:c,item:{prop:!1}}},v=this.lf.addNode(h);this.selectNode(v),this.addHistory()}insertNode(e,n,r,i){var a;const o=this.lf;if((((a=e==null?void 0:e.data)==null?void 0:a.type)||(e==null?void 0:e.type))===rp.type){const s=e,l=wl(10),u={id:l,type:n,x:(s.endPoint.x||s.x)+N2/2,y:s.endPoint.y||s.y,properties:r},c=o.addNode(u),d=s.targetNodeId,{endPoint:f,pointsList:h,properties:v,sourceNodeId:m,startPoint:g}=s,x={endPoint:f,id:wl(10),pointsList:h,properties:v,sourceNodeId:m,startPoint:g,targetNodeId:l,type:rp.type},_={id:wl(10),sourceNodeId:l,targetNodeId:d,type:rp.type};o.deleteEdge(s.id),o.addEdge(x),o.addEdge(_),this.selectNode(c),setTimeout(()=>{this.layout.layout(c),i==null||i()},40)}else{const s=wl(10),l=A8e(o,e),u={id:s,type:n,x:l.x,y:l.y,properties:r},c=o.addNode(u),d={id:wl(10),sourceNodeId:e.id,targetNodeId:s,type:rp.type,text:""};o.addEdge(d),setTimeout(()=>{this.layout.layout(c),this.selectNode(c),i==null||i()},40)}this.addHistory()}deleteNode(e){const n=this.lf.getNodeIncomingEdge(e.id),r=this.lf.getNodeOutgoingNode(e.id),i=this.lf.getNodeIncomingNode(e.id);if(r.length&&n.length){const o=n[0],a=r[0],s={...o.data||{},targetNodeId:a.id};this.lf.deleteEdge(o),this.addEdge(s)}this.lf.deleteNode(e.id),i.length?this.layout.layout(i[0]):r.length&&this.layout.layout(r[0]),this.addHistory()}copyNode(e){let n=0,r=0;if(e.type===kS.type){const u=lT(this.lf);n=u.x,r=u.y}else n=e.x,r=e.y+cO;const{properties:i,text:o,type:a}=e,s={properties:i,text:o,type:a,id:wl(10),x:n,y:r},l=this.lf.addNode(s);this.selectNode(l),this.addHistory()}addEdge(e){this.lf.addEdge(this.calcPointsList(e))}connectToNode(e,n){this.lf.graphModel.getNodeModelById(e),this.lf.addEdge({id:wl(10),sourceNodeId:n.id,targetNodeId:e,type:rp.type}),this.layout.layout(n),this.addHistory()}calcPointsList(e){const n=this.lf;if(!e.pointsList||e.pointsList.length===0){const r=n.getNodeModelById(e.sourceNodeId),i=n.getNodeModelById(e.targetNodeId);r.x>i.x&&(e.pointsList=[{x:i.x+75,y:i.y},{x:i.x+75,y:i.y-150},{x:r.x-75,y:r.y},{x:r.x-75,y:r.y-150}])}return e}shiftNextNodes(e,n){const r=this.lf;e.x=e.x+n;const i=r.getNodeOutgoingNode(e.id),o=r.getNodeOutgoingEdge(e.id);i.length&&i.forEach(a=>{this.shiftNextNodes(a,n)}),o.length&&o.forEach(a=>{const{data:s}=a,l=s;r.deleteEdge(a.id),this.addEdge(l)})}isLoopNode(e,n){const r=this.lf.getNodeOutgoingNode(e.id);if(r.length)for(let i=0;i<r.length;i++){const o=r[i];return o.id===n?!0:this.isLoopNode(o,n)}return!1}addInitNode(){const{x:e,y:n}=lT(this.lf),r=this.lf.addNode({id:wl(10,"init_"),type:dO.type,x:e,y:n,properties:{componentId:"page_init",componentName:"pageInit",name:"页面初始化",logo:d0e.PageInit.logo}});return this.selectNode(r),r}addFlowNode(e,n){const{x:r,y:i}=lT(this.lf),{callback:o,...a}=e,s=wl(10,"node_"),l=this.lf.addNode({id:s,x:r,y:i,...a});return console.log(l),n!=null&&n.defaultSelectNode&&this.selectNode(l),n!=null&&n.isFocusOn&&this.lf.focusOn(s),o==null||o(),l}initView(){const{nodes:e}=this.lf.getGraphData(),n=this.layout.getNodesRect(e);this.lf.graphModel.transformModel.translate(-n.minX+E_,-n.minY+zz)}addHistory(){this.lf.getGraphData()}undo(){}redo(){}}const I8e=()=>Math.random().toString(36).substring(2,6);class OO{constructor({lf:e}){jr(this,"config");jr(this,"popoverTypeMap");jr(this,"floatingMap");jr(this,"waitingCollection");jr(this,"renderedCollection");jr(this,"removeFloatingHandler");jr(this,"lf");jr(this,"lfContainer");jr(this,"container");e.graphModel.popover=this,this.popoverTypeMap=new Map,this.floatingMap=new Map,this.waitingCollection=new Map,this.renderedCollection=new Map,this.removeFloatingHandler=this.removeFloating.bind(this)}registerPopover(e,n){this.popoverTypeMap.set(e,n)}render(e,n){this.lf=e,this.lfContainer=n,this.container=document.querySelector("body")}createFloating(e,n,r){var s;const i=document.createElement("div");i.className=`lf-popover-floating ${r.placement}`,i.style.left=e+"px",i.style.top=n+"px";const o=document.createElement("div");i.appendChild(o);const a=document.createElement("div");return a.className=`lf-popover-arrow ${r.placement}`,i.appendChild(a),(s=this.container)==null||s.appendChild(i),r.trigger==="click"?(document.body.addEventListener("mousedown",this.removeFloatingHandler),i.addEventListener("mousedown",l=>{l.stopPropagation()})):(i.addEventListener("mouseenter",()=>{this.renderedCollection.set(r.__id+"__popover",r)}),i.addEventListener("mouseleave",()=>{this.renderedCollection.delete(r.__id+"__popover"),this.destroyPopover(r.__id)})),this.floatingMap.set(r.__id,i),o}removeFloating(){document.body.removeEventListener("mousedown",this.removeFloatingHandler),this.renderedCollection.forEach(e=>{e.trigger==="click"&&this.destroyPopover(e.__id)})}renderPopover(e){const n=this.getShowPosition(e),[r,i]=this.lf.graphModel.transformModel.CanvasPointToHtmlPoint(n),o=this.lfContainer.getBoundingClientRect(),a=o.x,s=o.y,l=a+r,u=s+i,c=this.createFloating(l,u,e),d=this.popoverTypeMap.get(e.type);if(!d)throw new Error("未找到需要弹框的内容");d.render?d.render(c,e):d.element&&c.appendChild(d.element);const f=this.floatingMap.get(e.__id);if(f.getBoundingClientRect().top<0){f.className="lf-popover-floating bottom";const v=f.querySelector(".lf-popover-arrow");v&&(v.className="lf-popover-arrow bottom")}this.renderedCollection.set(e.__id,e)}destroyPopover(e){var n;if(this.renderedCollection.delete(e),!this.renderedCollection.has(e+"__popover")){const r=this.floatingMap.get(e);r&&((n=this.container)==null||n.removeChild(r)),this.renderedCollection.delete(e+"__popover"),this.floatingMap.delete(e)}}show(e){this.config=e;const n=Mr(e),r=I8e();return e.trigger==="click"&&e.key?n.__id=e.key:n.__id=r,this.waitingCollection.set(n.__id,n),setTimeout(()=>{if(this.renderedCollection.has(n.__id))this.removeFloating();else{const i=this.waitingCollection.get(n.__id);this.waitingCollection.delete(n.__id),i&&this.renderPopover(i)}},e.delay||0),n.__id}getShowPosition(e){switch(e.placement){case"right":return[e.x+e.width/2+5,e.y];case"bottom":return[e.x,e.y+e.height/2+5];case"top":return[e.x,e.y-e.height/2-5];case"left":return[e.x-e.width/2+5,e.y];default:return[e.x+e.width/2+5,e.y]}}hide(e){this.waitingCollection.delete(e),setTimeout(()=>{this.destroyPopover(e)},50)}}jr(OO,"pluginName","popover");OO.pluginName="popover";class D8e{constructor(){jr(this,"configurations",new Map)}getConfiguration(e){const n=this.configurations.get(e);return(n==null?void 0:n.component)||null}setConfiguration(e,n){this.configurations.set(e,{component:n,type:e})}}const L8e="index-module__panelContainer___7dwlN",k8e="index-module__importCurl___T3CLp",ni={panelContainer:L8e,"setter-title":"index-module__setter-title___NMxpj","ds-panel-wrapper":"index-module__ds-panel-wrapper___EE-pj","item-wrap":"index-module__item-wrap___coKsO","panel-item":"index-module__panel-item___y4Zvo","ds-label":"index-module__ds-label___JkC-K","item-wrap-al-center":"index-module__item-wrap-al-center___r0EgM","item-wrap-flex-1":"index-module__item-wrap-flex-1___Zsaym","item-wrap-vertical":"index-module__item-wrap-vertical___8uzfp",importCurl:k8e},$8e="index-module__paramCollectorContainer___EhQQm",F8e="index-module__table___4hoaK",j8e="index-module__inputValueContainer___Cg9qL",I_={paramCollectorContainer:$8e,"form-item-select":"index-module__form-item-select___prTl9",table:F8e,inputValueContainer:j8e},B8e="index-module__paramCollectorContainer___JTc71",z8e="index-module__table___XZs9r",H8e="index-module__inputValueContainer___HLOWH",U8e="index-module__inputValueTypeSelect___OI8eb",G8e="index-module__icon___c3gTl",W8e="index-module__customPageStateTreeSelect___OpdkC",hm={paramCollectorContainer:B8e,"form-item-select":"index-module__form-item-select___Y4d-w",table:z8e,inputValueContainer:H8e,inputValueTypeSelect:U8e,icon:G8e,customPageStateTreeSelect:W8e,"form-key-item-input-container":"index-module__form-key-item-input-container___wPOkJ","form-key-item-input-after-icon":"index-module__form-key-item-input-after-icon___oz4XR"},V8e=[{value:"=",label:"="},{value:">",label:">"},{value:"<",label:"<"},{value:">=",label:">="},{value:"<=",label:"<="},{value:"in",label:"in"},{value:"reg",label:"reg"}],_P=t=>{const{renderRefInstance:e}=y.useContext(Zb),[n,r]=y.useState({value:"",valueType:"input",type:"string"});y.useEffect(()=>{r==null||r(t==null?void 0:t.value)},[t.value]);const[i,o]=y.useState(!1);y.useEffect(()=>{},[]);const a=y.useMemo(()=>{var s;return n?xw(n.value)?(s=n==null?void 0:n.value)==null?void 0:s.value:n.value:""},[n]);return E.jsxs("div",{className:hm.inputValueContainer,children:[E.jsx(Bz,{open:i,value:n,disableList:t.disableList||[],config:{self:e},onChange:s=>{var l;r(s),(l=t==null?void 0:t.onChange)==null||l.call(t,s),o(!1)}}),E.jsx(mo,{placeholder:"请输入",value:a,onChange:s=>{var u;const l={...n,valueType:"input",value:s.target.value};r(l),(u=t==null?void 0:t.onChange)==null||u.call(t,l)},className:rt(hm["form-key-item-input"],hm["form-key-item-input-container"]),suffix:E.jsx(F$,{onClick:s=>{s.stopPropagation(),o(!0)},className:hm["form-key-item-input-after-icon"]})})]})},X8e=t=>{const e=y.useRef(`table-${(Math.random()*1e6).toFixed(0)}-panel`),[n,r]=y.useState(()=>t.value.map(f=>({...f,id:(Math.random()*1e6).toFixed(0)}))),[i,o]=y.useState("bottom"),a=y.useMemo(()=>(n||[]).map(f=>f.id),[n]),[s,l]=y.useState(!1),u=y.useRef(),c=y.useRef(),d=[{title:"SOURCE",key:"source",dataIndex:"source",renderFormItem:()=>E.jsx(_P,{disableList:["dataSource","systemEnvInfo","routerInfo","flowRunningTime"],getPopupContainer:f=>document.querySelector(`#${e.current}`)})},{width:70,title:"操作符",key:"operate",dataIndex:"operate",renderFormItem:()=>E.jsx(Ld,{options:V8e,disabled:!0})},{title:"TARGET",key:"target",dataIndex:"target",renderFormItem:()=>E.jsx(_P,{getPopupContainer:f=>document.querySelector(`#${e.current}`)})},{title:"操作",width:40,valueType:"option"}];return y.useEffect(()=>{var h;const f=n.map(v=>{const{id:m,...g}=v;return{...g}});console.log("list",f),(h=t.onChange)==null||h.call(t,f)},[n]),E.jsx("div",{className:hm.paramCollectorContainer,children:E.jsx(Na,{formRef:u,initialValues:{table:n},validateTrigger:"onBlur",submitter:!1,size:"middle",onValuesChange:(f,h)=>{r(h.table)},children:E.jsx(lE,{id:e.current,rowKey:"id",size:"middle",editableFormRef:c,className:hm.table,name:"table",bordered:!0,controlled:s,recordCreatorProps:i!=="hidden"?{position:i,creatorButtonText:"添加数据",record:()=>({id:(Math.random()*1e6).toFixed(0),operate:"=",source:{},target:{}})}:!1,toolBarRender:!1,columns:d,editable:{type:"multiple",editableKeys:a,onChange:()=>{},actionRender:(f,h,v)=>[E.jsx("a",{onClick:()=>{var x,_;const g=((x=u.current)==null?void 0:x.getFieldValue("table")).filter(w=>w.id!==f.id);(_=u.current)==null||_.setFieldsValue({table:g}),t==null||t.onChange(g)},children:"删除"},"delete")]},scroll:{x:300}})})})},K8e=t=>E.jsx(mo,{placeholder:"请输入",value:t.value,onChange:e=>{var n;(n=t==null?void 0:t.onChange)==null||n.call(t,e.target.value)},className:I_["form-key-item-input"]}),SP=t=>{const e=y.useRef(`table-${(Math.random()*1e6).toFixed(0)}-panel`),[n,r]=y.useState(()=>t.value.map(f=>({...f,id:(Math.random()*1e6).toFixed(0)}))),[i,o]=y.useState("bottom"),a=y.useMemo(()=>(n||[]).map(f=>f.id),[n]),[s,l]=y.useState(!1),u=y.useRef(),c=y.useRef(),d=[{title:"KEY",dataIndex:"key",formItemProps:()=>({rules:[{required:!0,message:"此项为必填项"}]}),width:126,className:I_["form-item-container"],renderFormItem:()=>E.jsx(K8e,{})},{title:"VALUE",key:"value",width:235,dataIndex:"value",renderFormItem:()=>E.jsx(_P,{getPopupContainer:f=>document.querySelector(`#${e.current}`)})},{title:"操作",valueType:"option"}];return y.useEffect(()=>{var h;const f=n.map(v=>{const{id:m,...g}=v;return{...g}});(h=t.onChange)==null||h.call(t,f)},[n]),E.jsx("div",{className:I_.paramCollectorContainer,children:E.jsx(Na,{formRef:u,initialValues:{table:n},validateTrigger:"onBlur",submitter:!1,size:"middle",onValuesChange:(f,h)=>{r(h.table)},children:E.jsx(lE,{id:e.current,rowKey:"id",size:"middle",editableFormRef:c,className:I_.table,name:"table",bordered:!0,controlled:s,recordCreatorProps:i!=="hidden"?{position:i,creatorButtonText:"添加自定义参数",record:()=>({id:(Math.random()*1e6).toFixed(0),key:`key_${(Math.random()*1e6).toFixed(0)}`,value:{}})}:!1,toolBarRender:!1,columns:d,editable:{type:"multiple",editableKeys:a,onChange:()=>{},actionRender:(f,h,v)=>[E.jsx("a",{onClick:()=>{var g,x,_;const m=(g=u.current)==null?void 0:g.getFieldValue("table");(x=u.current)==null||x.setFieldsValue({table:m.filter(w=>w.key!==f.key)}),(_=t.onChange)==null||_.call(t,m.filter(w=>w.key!==f.key))},children:"删除"},"delete")]},scroll:{x:300}})})})},Y8e=[{value:"GET",label:"GET"},{value:"POST",label:"POST"}],q8e=(t={})=>{var B,q,X,z,H,Q,V;const{value:e,onChange:n}=t,{name:r=""}=e||{},[i,o]=y.useState([{value:"direct",label:"宿主系统"},{value:"redirect",label:"资源引擎"},{value:"custom",label:"自定义"}]),[a,s]=y.useState(((B=e==null?void 0:e.value)==null?void 0:B.dataFetchMode)||"custom"),[l,u]=y.useState("query"),[c,d]=y.useState(((q=e==null?void 0:e.value)==null?void 0:q.requestName)||""),[f,h]=y.useState(r),[v,m]=y.useState(((X=e==null?void 0:e.value)==null?void 0:X.requestUrl)||""),[g,x]=y.useState(((z=e==null?void 0:e.value)==null?void 0:z.requestMethod)||"GET"),_=y.useRef(""),[w,S]=y.useState(((H=e==null?void 0:e.value)==null?void 0:H.paramsList)||[]),[C,O]=y.useState(((Q=e==null?void 0:e.value)==null?void 0:Q.bodyList)||[]),[T,N]=y.useState(((V=e==null?void 0:e.onFailureConfig)==null?void 0:V.continueOnFailure)||!1),[M,D]=y.useState(!1),[F,j]=y.useState(`curl 'http://47.98.139.207/lowcode-center-server/v1.0/page/version' \\
  -H 'Accept: application/json, text/plain, */*' \\
  -H 'Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7' \\
  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3N1ZXIiOiJVU0VSX0NFTlRFUl9TRVJWRVIiLCJzdWIiOjI1LCJ1c2VyTmFtZSI6ImdwdC1hZG1pbiIsInVzZXJJZCI6MjUsInJvbGVJZCI6W10sInJvbGVDb2RlIjpbIlJPT1RfQURNSU4iXSwidXNlckNvZGUiOiJvYzRrWDQ4Y01oc1dxU1ROcGswWV9BIiwia2V5IjoidXNlcl9jZW50ZXIiLCJpYXQiOjE3Mjc2NjA3ODgsImV4cCI6MTcyNzczMjc4OH0.Nw6VeNubBR0AzbhTZSGaa3Qaod_XSvbz1afBkCdv7qg' \\
  -H 'Connection: keep-alive' \\
  -H 'Content-Type: application/json' \\
  -H 'DNT: 1' \\
  -H 'Origin: http://47.98.139.207' \\
  -H 'Referer: http://47.98.139.207/lowcode-center-web/' \\
  -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36' \\
  -H 'atom-token: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6ImdwdC1hZG1pbiIsInVzZXJJZCI6MjUsInJvbGVJZCI6W251bGxdLCJ1c2VyQ29kZSI6Im9jNGtYNDhjTWhzV3FTVE5wazBZX0EiLCJpc0F0b20iOnRydWUsImlhdCI6MTcxODg1MzYwMX0.ciH9QTlWG7J9x7GkBauJW8fE8P9oZucNox944bFI25E' \\
  --data-raw '{"id":"57","committer":"","version":"","status":"","env":"","page":1,"pageSize":10}' \\
  --insecure`),R=W=>{s(W.target.value)},I=(W,te)=>{te(W.target.value),_.current=W.target.value},{run:L}=Sg(W=>{n(W)},{wait:500});y.useEffect(()=>{L({value:{requestName:c,requestMethod:g,requestUrl:v,paramsList:w,bodyList:C,dataFetchMode:a},onFailureConfig:{continueOnFailure:T},name:f})},[w,c,g,v,a,f,T,C,L]);const k=()=>{console.log("导入"),D(!0)};return E.jsxs("div",{className:ni.panelContainer,children:[E.jsx("div",{className:ni["setter-title"],children:"设置名称"}),E.jsx("div",{className:ni["ds-panel-wrapper"],children:E.jsxs("div",{className:rt(ni["panel-item"],ni["item-wrap"],ni["item-wrap-al-center"]),children:[E.jsx("div",{className:ni["ds-label"],children:"节点名称:"}),E.jsx(mo,{value:f,placeholder:"请输入",size:"middle",onChange:W=>I(W,h)})]})}),E.jsx("div",{className:ni["setter-title"],children:"设置请求"}),E.jsxs("div",{className:ni["ds-panel-wrapper"],children:[E.jsxs("div",{className:rt(ni["panel-item"],ni["item-wrap"],ni["item-wrap-al-center"]),children:[E.jsx("div",{className:ni["ds-label"],children:"请求来源："}),E.jsx(Sd.Group,{onChange:R,value:a,children:i.map(W=>E.jsx(Sd,{value:W.value,children:W.label},W.value))})]}),E.jsx("div",{className:rt(ni["panel-item"],ni["item-wrap"],ni.importCurl),onClick:k,children:"从cURL语句导入"}),E.jsxs("div",{className:rt(ni["panel-item"],ni["item-wrap"],ni["item-wrap-al-center"]),children:[E.jsx("div",{className:ni["ds-label"],children:"请求接口名称："}),E.jsx(mo,{value:c,placeholder:"请输入",size:"middle",onChange:W=>I(W,d)})]}),E.jsxs("div",{className:rt(ni["panel-item"],ni["item-wrap"],ni["item-wrap-al-center"]),children:[E.jsx("div",{className:ni["ds-label"],children:"请求接口地址："}),E.jsx(mo,{value:v,placeholder:"请输入",size:"middle",onChange:W=>I(W,m)})]}),E.jsxs("div",{className:rt(ni["panel-item"],ni["item-wrap"],ni["item-wrap-al-center"],ni["item-wrap-flex-1"]),children:[E.jsx("div",{className:ni["ds-label"],children:"请求方法："}),E.jsx(Ld,{className:rt(ni["item-wrap-flex-1"]),options:Y8e,value:g,onChange:W=>I(W,x),placeholder:"请选择",size:"middle",getPopupContainer:W=>W.parentNode})]}),E.jsxs("div",{className:rt(ni["item-wrap"]),children:[E.jsx("div",{className:ni["ds-label"],children:"请求参数配置："}),E.jsx(Gf,{defaultActiveKey:l,size:"small",items:[{key:"query",label:"Query",children:E.jsx(E.Fragment,{children:E.jsx(SP,{value:w,onChange:W=>{S(W)}})})},{key:"body",label:"Body",children:E.jsx(E.Fragment,{children:E.jsx(SP,{value:C,onChange:W=>{O(W)}})})}],onChange:W=>{u(W)}})]})]}),E.jsx("div",{className:ni["setter-title"],children:"其他配置"}),E.jsxs("div",{className:rt(ni["panel-item"],ni["item-wrap-al-center"],ni["item-wrap-vertical"],ni["item-wrap"]),children:[E.jsx("div",{className:ni["ds-label"],children:"失败配置："}),E.jsxs("div",{children:["当逻辑失败时，是否继续执行后续逻辑    ",E.jsx(Fp,{value:T,onChange:W=>{N(W)}})]})]}),E.jsx(jP,{title:"cURL语句导入",getContainer:()=>document.querySelector(`.${ni.panelContainer}`),open:M,onOk:()=>{D(!1);const W=F,te=pfe(W);console.log(W,te);const K=te.body,U=[];Object.keys(K).forEach(ee=>{const fe=typeof K[ee];U.push({key:ee,value:{valueType:"input",type:fe,value:K[ee]}})}),O(U),console.log(U),x(te.method),m(te.url),d("接口"),j("")},onCancel:()=>{j(""),D(!1)},children:E.jsx(mo.TextArea,{rows:8,value:F,onChange:W=>{j(W.target.value)}})})]})},Z8e={component:q8e,type:"DataSource"},J8e="index-module__panelContainer___7b08k",Q8e="index-module__importCurl___0-HUo",ki={panelContainer:J8e,"setter-title":"index-module__setter-title___zU0Lk","ds-panel-wrapper":"index-module__ds-panel-wrapper___kdA5R","item-wrap":"index-module__item-wrap___8PfRA","panel-item":"index-module__panel-item___miUCr","ds-label":"index-module__ds-label___RbP0G","item-wrap-al-center":"index-module__item-wrap-al-center___LQoKZ","item-wrap-flex-1":"index-module__item-wrap-flex-1___Le3Q6","item-wrap-vertical":"index-module__item-wrap-vertical___hsKkT",importCurl:Q8e},eke=[{value:"_self",label:"当前页面"},{value:"_blank",label:"打开新 Tab"}],tke=[{value:"current",label:"宿主系统"},{value:"other",label:"其他"}],nke=(t={})=>{var w,S,C,O,T;const{value:e,onChange:n}=t,{name:r=""}=e||{},[i,o]=y.useState(((w=e==null?void 0:e.value)==null?void 0:w.routeParams)||[]),[a,s]=y.useState(((S=e==null?void 0:e.value)==null?void 0:S.target)||"_self"),[l,u]=y.useState(((C=e==null?void 0:e.value)==null?void 0:C.system)||"current"),[c,d]=y.useState(((O=e==null?void 0:e.value)==null?void 0:O.path)||""),[f,h]=y.useState(r),v=y.useRef(""),[m,g]=y.useState(((T=e==null?void 0:e.onFailureConfig)==null?void 0:T.continueOnFailure)||!1),x=(N,M)=>{M(N.target.value),v.current=N.target.value},{run:_}=Sg(N=>{n(N)},{wait:500});return y.useEffect(()=>{const N={system:l,target:a,path:c,routeParams:i};console.log("value",N),_({value:N,onFailureConfig:{continueOnFailure:m},name:f})},[m,c,l,f,i,a]),E.jsxs("div",{className:ki.panelContainer,children:[E.jsx("div",{className:ki["setter-title"],children:"设置名称"}),E.jsx("div",{className:ki["ds-panel-wrapper"],children:E.jsxs("div",{className:rt(ki["panel-item"],ki["item-wrap"],ki["item-wrap-al-center"]),children:[E.jsx("div",{className:ki["ds-label"],children:"节点名称:"}),E.jsx(mo,{value:f,placeholder:"请输入",size:"middle",onChange:N=>x(N,h)})]})}),E.jsx("div",{className:ki["setter-title"],children:"设置跳转"}),E.jsxs("div",{className:ki["ds-panel-wrapper"],children:[E.jsxs("div",{className:rt(ki["panel-item"],ki["item-wrap"],ki["item-wrap-al-center"]),children:[E.jsx("div",{className:ki["ds-label"],children:"页面打开方式："}),E.jsx(Sd.Group,{onChange:N=>x(N,s),value:a,children:eke.map(N=>E.jsx(Sd,{value:N.value,children:N.label},N.value))})]}),E.jsxs("div",{className:rt(ki["panel-item"],ki["item-wrap"],ki["item-wrap-al-center"]),children:[E.jsx("div",{className:ki["ds-label"],children:"目标系统："}),E.jsx(Sd.Group,{onChange:N=>x(N,u),value:l,children:tke.map(N=>E.jsx(Sd,{value:N.value,children:N.label},N.value))})]}),E.jsxs("div",{className:rt(ki["panel-item"],ki["item-wrap"],ki["item-wrap-al-center"]),children:[E.jsx("div",{className:ki["ds-label"],children:"目标页面："}),E.jsx(mo,{value:c,placeholder:l==="other"?"请输入目标页面，例如：'https://i.xiaojukeji.com?q=xxx&t=yyy'":"请输入目标页面系统路径，例如：'path1/path2/path3'",size:"middle",onChange:N=>x(N,d)})]}),E.jsxs("div",{className:rt(ki["panel-item"],ki["item-wrap"],ki["item-wrap-vertical"]),children:[E.jsx("div",{className:ki["ds-label"],children:"路由参数："}),E.jsx(SP,{value:i,onChange:N=>{o(N)}})]})]}),E.jsx("div",{className:ki["setter-title"],children:"其他配置"}),E.jsxs("div",{className:rt(ki["panel-item"],ki["item-wrap-al-center"],ki["item-wrap-vertical"],ki["item-wrap"]),children:[E.jsx("div",{className:ki["ds-label"],children:"失败配置："}),E.jsxs("div",{children:["当逻辑失败时，是否继续执行后续逻辑    ",E.jsx(Fp,{value:m,onChange:N=>{g(N)}})]})]})]})},rke={component:nke,type:"PageJump"},ike="index-module__panelContainer___Uwgrv",oke="index-module__importCurl___pNwhC",Ys={panelContainer:ike,"setter-title":"index-module__setter-title___8OjEU","ds-panel-wrapper":"index-module__ds-panel-wrapper___aeGRJ","item-wrap":"index-module__item-wrap___UStKM","panel-item":"index-module__panel-item___YlUXz","ds-label":"index-module__ds-label___3czD2","item-wrap-al-center":"index-module__item-wrap-al-center___AibIY","item-wrap-flex-1":"index-module__item-wrap-flex-1___MtV9V","item-wrap-vertical":"index-module__item-wrap-vertical___CDX32",importCurl:oke},ake=(t={})=>{var d;const{value:e,onChange:n}=t,{name:r=""}=e||{},[i,o]=y.useState(r),a=y.useRef(""),[s,l]=y.useState(((d=e==null?void 0:e.onFailureConfig)==null?void 0:d.continueOnFailure)||!1),u=(f,h)=>{h(f.target.value),a.current=f.target.value},{run:c}=Sg(f=>{n(f)},{wait:500});return y.useEffect(()=>{c({value:{},onFailureConfig:{continueOnFailure:s},name:i})},[s,i]),E.jsxs("div",{className:Ys.panelContainer,children:[E.jsx("div",{className:Ys["setter-title"],children:"设置名称"}),E.jsx("div",{className:Ys["ds-panel-wrapper"],children:E.jsxs("div",{className:rt(Ys["panel-item"],Ys["item-wrap"],Ys["item-wrap-al-center"]),children:[E.jsx("div",{className:Ys["ds-label"],children:"节点名称:"}),E.jsx(mo,{value:i,placeholder:"请输入",size:"middle",onChange:f=>u(f,o)})]})}),E.jsx("div",{className:Ys["setter-title"],children:"其他配置"}),E.jsxs("div",{className:rt(Ys["panel-item"],Ys["item-wrap-al-center"],Ys["item-wrap-vertical"],Ys["item-wrap"]),children:[E.jsx("div",{className:Ys["ds-label"],children:"失败配置："}),E.jsxs("div",{children:["当逻辑失败时，是否继续执行后续逻辑    ",E.jsx(Fp,{value:s,onChange:f=>{l(f)}})]})]})]})},ske={component:ake,type:"PageInitNode"},lke="index-module__panelContainer___MDJXw",uke="index-module__importCurl___UG3Pc",qs={panelContainer:lke,"setter-title":"index-module__setter-title___Z6zFT","ds-panel-wrapper":"index-module__ds-panel-wrapper___VlEll","item-wrap":"index-module__item-wrap___MPmDT","panel-item":"index-module__panel-item___uppi7","ds-label":"index-module__ds-label___QyO45","item-wrap-al-center":"index-module__item-wrap-al-center___51Wo2","item-wrap-flex-1":"index-module__item-wrap-flex-1___wkz4-","item-wrap-vertical":"index-module__item-wrap-vertical___3uZN-",importCurl:uke},cke=(t={})=>{var d;const{value:e,onChange:n}=t,{name:r=""}=e||{},[i,o]=y.useState(r),a=y.useRef(""),[s,l]=y.useState(((d=e==null?void 0:e.onFailureConfig)==null?void 0:d.continueOnFailure)||!1),u=(f,h)=>{h(f.target.value),a.current=f.target.value},{run:c}=Sg(f=>{n(f)},{wait:500});return y.useEffect(()=>{c({value:{},onFailureConfig:{continueOnFailure:s},name:i})},[s,i]),E.jsxs("div",{className:qs.panelContainer,children:[E.jsx("div",{className:qs["setter-title"],children:"设置名称"}),E.jsx("div",{className:qs["ds-panel-wrapper"],children:E.jsxs("div",{className:rt(qs["panel-item"],qs["item-wrap"],qs["item-wrap-al-center"]),children:[E.jsx("div",{className:qs["ds-label"],children:"节点名称:"}),E.jsx(mo,{value:i,placeholder:"请输入",size:"middle",onChange:f=>u(f,o)})]})}),E.jsx("div",{className:qs["setter-title"],children:"设置"}),E.jsxs("div",{className:rt(qs["panel-item"],qs["item-wrap-al-center"],qs["item-wrap-vertical"],qs["item-wrap"]),children:[E.jsx("div",{className:qs["ds-label"],children:"请求失败配置："}),E.jsxs("div",{children:["当逻辑失败时，是否继续执行后续逻辑    ",E.jsx(Fp,{value:s,onChange:f=>{l(f)}})]})]})]})},dke={component:cke,type:"PageUnmountNode"},fke="index-module__panelContainer___8IQMN",hke="index-module__importCurl___s-3iN",yo={panelContainer:fke,"setter-title":"index-module__setter-title___zJh0-","ds-panel-wrapper":"index-module__ds-panel-wrapper___KbHY8","item-wrap":"index-module__item-wrap___MNVHU","panel-item":"index-module__panel-item___wFUrJ","ds-label":"index-module__ds-label___fcf-w","item-wrap-al-center":"index-module__item-wrap-al-center___oEaru","item-wrap-flex-1":"index-module__item-wrap-flex-1___6Sct0","item-wrap-vertical":"index-module__item-wrap-vertical___1naaT",importCurl:hke},pke=(t={})=>{var h;const{value:e,onChange:n}=t,{name:r=""}=e||{},[i,o]=y.useState(()=>{var m;const v=((m=e==null?void 0:e.value)==null?void 0:m.conditions)||[];return v==null?void 0:v.map(g=>g.value||[])}),[a,s]=y.useState(r),l=y.useRef(""),[u,c]=y.useState(((h=e==null?void 0:e.onFailureConfig)==null?void 0:h.continueOnFailure)||!1),d=(v,m)=>{m(v.target.value),l.current=v.target.value},{run:f}=Sg(v=>{n(v)},{wait:500});return y.useEffect(()=>{const m={value:{relation:"OR",conditions:i.map(g=>({relation:"AND",conditions:[],value:g})),value:[]},onFailureConfig:{continueOnFailure:u},name:a};console.log(m),f(m)},[u,a,i]),E.jsxs("div",{className:yo.panelContainer,children:[E.jsx("div",{className:yo["setter-title"],children:"设置名称"}),E.jsx("div",{className:yo["ds-panel-wrapper"],children:E.jsxs("div",{className:rt(yo["panel-item"],yo["item-wrap"],yo["item-wrap-al-center"]),children:[E.jsx("div",{className:yo["ds-label"],children:"节点名称:"}),E.jsx(mo,{value:a,placeholder:"请输入",size:"middle",onChange:v=>d(v,s)})]})}),E.jsx("div",{className:yo["setter-title"],children:"设置条件"}),i.map((v,m)=>E.jsx("div",{className:yo["ds-panel-wrapper"],children:E.jsxs("div",{className:rt(yo["panel-item"],yo["item-wrap"],yo["item-wrap-vertical"]),children:[E.jsxs("div",{className:yo["ds-label"],children:["条件",m+1,"： ",E.jsx(es,{type:"link",onClick:()=>{const g=[...i];g.splice(m,1),o(g)},children:"删除"})]}),E.jsx(OPe,{value:v,onChange:g=>{const x=[...i];x[m]=g,o(x)}})]})},m)),E.jsx("div",{className:yo["ds-panel-wrapper"],children:E.jsx("div",{className:rt(yo["panel-item"],yo["item-wrap"],yo["item-wrap-vertical"]),children:E.jsx(es,{type:"dashed",block:!0,onClick:()=>{const v=[...i];v.push([]),o(v)},children:"添加或关系"})})}),E.jsx("div",{className:yo["setter-title"],children:"其他配置"}),E.jsx("div",{className:yo["ds-panel-wrapper"],children:E.jsxs("div",{className:rt(yo["panel-item"],yo["item-wrap-al-center"],yo["item-wrap-vertical"],yo["item-wrap"]),children:[E.jsx("div",{className:yo["ds-label"],children:"失败配置："}),E.jsxs("div",{children:["当逻辑失败时，是否继续执行后续逻辑    ",E.jsx(Fp,{value:u,onChange:v=>{c(v)}})]})]})})]})},vke={component:pke,type:"Condition"},mke="index-module__panelContainer___jrfL5",gke="index-module__importCurl___fxsm7",ta={panelContainer:mke,"setter-title":"index-module__setter-title___2v1gk","ds-panel-wrapper":"index-module__ds-panel-wrapper___BDHRE","item-wrap":"index-module__item-wrap___xRxTP","panel-item":"index-module__panel-item___EKuDI","ds-label":"index-module__ds-label___HOje2","item-wrap-al-center":"index-module__item-wrap-al-center___ZUIYM","item-wrap-flex-1":"index-module__item-wrap-flex-1___-30qq","item-wrap-vertical":"index-module__item-wrap-vertical___HTc7O",importCurl:gke},yke=(t={})=>{var h;const{value:e,onChange:n}=t,{name:r=""}=e||{},[i,o]=y.useState(()=>(e==null?void 0:e.value)||[]),[a,s]=y.useState(r),l=y.useRef(""),[u,c]=y.useState(((h=e==null?void 0:e.onFailureConfig)==null?void 0:h.continueOnFailure)||!1),d=(v,m)=>{m(v.target.value),l.current=v.target.value},{run:f}=Sg(v=>{n(v)},{wait:500});return y.useEffect(()=>{const v={value:i,onFailureConfig:{continueOnFailure:u},name:a};console.log(v),f(v)},[u,a,i]),E.jsxs("div",{className:ta.panelContainer,children:[E.jsx("div",{className:ta["setter-title"],children:"设置名称"}),E.jsx("div",{className:ta["ds-panel-wrapper"],children:E.jsxs("div",{className:rt(ta["panel-item"],ta["item-wrap"],ta["item-wrap-al-center"]),children:[E.jsx("div",{className:ta["ds-label"],children:"节点名称:"}),E.jsx(mo,{value:a,placeholder:"请输入",size:"middle",onChange:v=>d(v,s)})]})}),E.jsx("div",{className:ta["setter-title"],children:"设置数据"}),E.jsx("div",{className:ta["ds-panel-wrapper"],children:E.jsx("div",{className:rt(ta["panel-item"],ta["item-wrap"],ta["item-wrap-vertical"]),children:E.jsx(X8e,{value:i,onChange:v=>{const m=[...v];o(m)}})})}),E.jsx("div",{className:ta["setter-title"],children:"其他配置"}),E.jsx("div",{className:ta["ds-panel-wrapper"],children:E.jsxs("div",{className:rt(ta["panel-item"],ta["item-wrap-al-center"],ta["item-wrap-vertical"],ta["item-wrap"]),children:[E.jsx("div",{className:ta["ds-label"],children:"失败配置："}),E.jsxs("div",{children:["当逻辑失败时，是否继续执行后续逻辑    ",E.jsx(Fp,{value:u,onChange:v=>{c(v)}})]})]})})]})},bke={component:yke,type:"UpdateState"},xke=[Z8e,rke,ske,dke,vke,bke],_ke="index-module__icon___42ULW",tc={"node-menu-wrapper":"index-module__node-menu-wrapper___OnIMQ","node-menu":"index-module__node-menu___SAJNr","el-menu-item":"index-module__el-menu-item___24Zx1","is-active":"index-module__is-active___5Emey","menu-item-inner":"index-module__menu-item-inner___dlCMB",icon:_ke,"node-add-title":"index-module__node-add-title___MnMFc","split-line":"index-module__split-line___FmRBV"},Ske=t=>{const{lf:e,graph:n,model:r,showConnectBlock:i,__id:o,insertCommonNode:a}=t,[s,l]=y.useState([]),u=y.useMemo(()=>{var h,v,m;return((m=(v=(h=t==null?void 0:t.model)==null?void 0:h.properties)==null?void 0:v.__config__)==null?void 0:m.correlationId)||""},[t==null?void 0:t.model]);console.log("组件id",u),y.useEffect(()=>{(()=>{l([])})()},[e,l]);const c=h=>{},d=h=>{const v=h.key,m=Object.values(CS).find(g=>g.value===v);if(m){const g={type:m.__config__.type,properties:{...m,logo:m.label},callback:()=>{e.extension.popover.hide(o)}};r&&(g.model=r),a==null||a(g)}},f=h=>{const v=h.key;n.connectToNode(v,r)};return E.jsxs("div",{className:tc["node-menu-wrapper"],children:[E.jsx("div",{className:tc["node-add-title"],children:"通用节点:"}),E.jsx("div",{style:{textAlign:"right",margin:0},children:E.jsx(Cm,{className:tc["node-menu"],mode:"vertical",onSelect:d,items:Object.values(CS).map((h,v)=>({key:h.value,label:E.jsxs("span",{className:tc["menu-item-inner"],children:[E.jsx("img",{src:h.logo,alt:"",className:tc.icon}),h.label]})}))})}),E.jsx("div",{className:tc["split-line"],style:i&&s.length?{}:{display:"none"}}),E.jsx("div",{className:tc["node-add-title"],style:i&&s.length?{}:{display:"none"},children:"连接至已有节点:"}),E.jsx("div",{style:{textAlign:"right",margin:0,display:i&&s.length?"block":"none"},children:E.jsx(Cm,{className:tc["node-menu"],mode:"vertical",onSelect:f,items:s.map((h,v)=>({key:v,config:h,label:E.jsxs("span",{className:tc["menu-item-inner"],onMouseEnter:()=>c(h.value),children:[E.jsx("img",{src:h.logo,alt:"",className:tc.icon}),h.label]})}))})})]})},wke=sb.getProvider(),Eke=[dO,kS,rAe,rp,IPe,tAe,UPe],OU=[kS,dO],Cke=xke;class Tke{constructor(){jr(this,"NodeList",Eke);jr(this,"container");jr(this,"lf");jr(this,"graph");jr(this,"context");jr(this,"isShowMenu",!1);jr(this,"menuPosition",{x:0,y:0});jr(this,"currentModel");jr(this,"initNode");jr(this,"loading",!0);jr(this,"configuration")}registerPatternItems(){this.lf.setPatternItems([{type:"start",text:"开始",label:"开始节点",icon:"https://cdn.jsdelivr.net/gh/Logic-Flow/static@latest/core/start.png"},{type:"rect",label:"系统任务",icon:"https://cdn.jsdelivr.net/gh/Logic-Flow/static@latest/core/rect.png",className:"import_icon"},{type:"diamond",label:"条件判断",icon:"https://cdn.jsdelivr.net/gh/Logic-Flow/static@latest/core/diamond.png"},{type:"end",text:"结束",label:"结束节点",icon:"https://cdn.jsdelivr.net/gh/Logic-Flow/static@latest/core/end.png"}])}init(e){this.container=e;const n=new IOe({logicList:[]});this.context=n,this.lf=new Mge({container:this.container,autoExpand:!1,hoverOutline:!1,edgeSelectedOutline:!1,style:{},plugins:[xOe,_Oe,OO,gOe,yOe],keyboard:{enabled:!0,shortcuts:[{keys:"backspace",callback:()=>{const{edges:r}=this.lf.getSelectElements();r&&r.length===1&&this.lf.deleteEdge(r[0].id)}}]},grid:{size:20,visible:!0}}),this.registerNode(this.NodeList),this.lf.setDefaultEdgeType(rp.type),this.lf.setTheme({arrow:{offset:4,verticalLength:3},snapline:{stroke:"#2961EF",strokeWidth:1},bezier:{stroke:"#afafaf",strokeWidth:2}}),this.graph=new M8e({lf:this.lf,context:n}),window.lf=this.lf,this.initEvents(),this.initPopover(),this.configuration=new D8e,Cke.forEach(r=>{this.configuration.setConfiguration(r.type,r.component)})}insertCommonNode(e){this.lf.graphModel.eventCenter.emit("node:add-node",e)}initPopover(){const e=this.lf.extension.popover;e.registerPopover("tip",{render:(n,r)=>{const i=this.lf.getNodeModelById(r.key),o={lf:this.lf,context:this.context,graph:this.graph,model:this.currentModel||i,showConnectBlock:r.props.showConnectBlock,__id:r.__id,insertCommonNode:this.insertCommonNode.bind(this)};pT.createRoot(n).render(E.jsx(je.Fragment,{children:E.jsx(p0e,{...o})}))}}),e.registerPopover("component-attr",{render:(n,r)=>{const i=this.lf.getNodeModelById(r.key),o={lf:this.lf,context:this.context,graph:this.graph,model:this.currentModel||i,showConnectBlock:r.props.showConnectBlock,__id:r.__id,insertCommonNode:this.insertCommonNode.bind(this)};console.log(o,r),pT.createRoot(n).render(E.jsx(je.Fragment,{children:E.jsx(Ske,{...o})}))}})}registerNode(e){this.lf.render({});for(let n=0;n<e.length;n++)this.lf&&Lge(e[n],this.lf)}checkRelatedNode(){}setGraphDataToContext(){const e=this.lf.getGraphData();e.nodes.forEach(n=>{n.properties&&(delete n.properties.logo,delete n.properties.status,delete n.properties.warnings)}),this.context.logicList=[e]}initEvents(){this.context.eventCenter.on(zx.CANVAS_MODEL_CLICKED,e=>{this.graph.selectNodesByModel(e)}),this.context.eventCenter.on(zx.CANVAS_MODEL_DELETED,e=>{console.log("EDITOR_EVENT.CANVAS_MODEL_DELETE",e)}),this.lf.on("node:select-click",e=>{this.graph.selectNode(e),this.currentModel=e}),this.lf.on("node:hover-node",e=>{this.graph.hoverNode(e)}),this.lf.on("node:cancel-hover-node",e=>{this.graph.cancelHoverNode(e)}),this.lf.on("node:mouseleave",()=>{this.context.eventCenter.emit(zx.LOGIC_NODE_HOVER,null)}),this.lf.on("node:click",e=>{console.log(e)}),this.lf.on("history:change",()=>{this.setGraphDataToContext()}),this.lf.on("node:add-node",({model:e,type:n,properties:r,callback:i})=>{this.graph.insertNode(e,n,r,i)}),this.lf.on("node:delete-node",e=>{this.graph.deleteNode(e);const n=e.getData();n.type==="common-node"&&n.properties&&n.properties.ds&&this.checkRelatedNode()}),this.lf.on("node:copy-node",e=>{this.graph.copyNode(e)}),this.lf.on("node:delete",({data:e})=>{const{nodes:n}=this.lf.getGraphData();n.length===0?this.initNode=this.graph.addInitNode():e.properties&&e.properties.componentName==="pageInit"&&(n.find(i=>i.properties&&i.properties.componentName==="pageInit")||(this.initNode=this.graph.addInitNode()))}),this.lf.on("node:add-click",({model:e,event:n})=>{this.currentModel=e;const r=n.clientX,i=n.clientY;this.menuPosition={x:r-10,y:i-10},this.isShowMenu=!0}),this.lf.on("edge:update-model",e=>{this.currentModel=e}),this.lf.on("node:update-model",e=>{this.currentModel=e,this.graph.selectNode(e)}),this.lf.on("blank:click",()=>{this.currentModel=null,this.graph.clearNodesStatus(),this.context.eventCenter.emit(zx.CANVAS_MODEL_ACTIVATED,null)}),this.lf.on("blank:contextmenu",({e,position:n})=>{const r=e.clientX,i=e.clientY;this.menuPosition={x:r-10,y:i-10},this.isShowMenu=!0})}handlerNodeMouseenter(e){const n=this.lf.getNodeModelById(e.data.id);n&&(console.log(n),n.setHovered(!0),n==null||n.updateAttributes({isHovered:!0}))}handlerNodeMouseleave(e){console.log(e);const n=this.lf.getModelById(e.data.id);n&&n.setHovered(!1)}dispose(){this.lf.off("node:mouseenter",this.handlerNodeMouseenter),this.lf.off("node:mouseleave",this.handlerNodeMouseleave)}}const Rke="index-module__container___cQrHL",Pke="index-module__content___tInXW",Ake="index-module__switchButton___KoElI",Oke="index-module__examplePanel___Xxiwf",Nke="index-module__drawer___JiDKg",d_={container:Rke,content:Pke,switchButton:Ake,examplePanel:Oke,drawer:Nke},Mke="index-module__control___lR6xo",Ike="index-module__panelLayout___YFiix",Nk={control:Mke,panelLayout:Ike},Dke=t=>{const e=()=>{t.flowCore.lf.zoom(!0)},n=()=>{t.flowCore.lf.zoom(!1)},r=()=>{t.flowCore.lf.resetZoom()},i=()=>{t.flowCore.lf.resetZoom(),t.flowCore.lf.resetTranslate()},o=()=>{t.flowCore.lf.undo()},a=()=>{t.flowCore.lf.redo()},s=()=>{var c;const u=t.flowCore.lf.extension.miniMap;if(u.isShow){u.hide();return}(c=u==null?void 0:u.show)==null||c.call(u,t.flowCore.lf.graphModel.width-168,220)},l=()=>{t.flowCore.lf.extension.snapshot.customCssRules=`
    .lf-canvas-overlay {
      background: #f0f4fb;
    }
  `,t.flowCore.lf.getSnapshot()};return E.jsx("div",{className:Nk.control,children:E.jsxs("div",{className:Nk.panelLayout,children:[E.jsx(wi,{placement:"left",title:"放大",children:E.jsx(LY,{onClick:e})}),E.jsx(wi,{placement:"left",title:"缩小",children:E.jsx(kY,{onClick:n})}),E.jsx(wi,{placement:"left",title:"大小适应",children:E.jsx(sJ,{onClick:r})}),E.jsx(wi,{placement:"left",title:"定位还原(大小&定位)",children:E.jsx(AF,{onClick:i})}),E.jsx(wi,{placement:"left",title:"上一步",children:E.jsx(xT,{onClick:o})}),E.jsx(wi,{placement:"left",title:"下一步",children:E.jsx(_T,{onClick:a})}),E.jsx(wi,{placement:"left",title:"小地图",children:E.jsx(SJ,{onClick:s})}),E.jsx(wi,{placement:"left",title:"下载图片",children:E.jsx(OF,{onClick:l})})]})})},Lke="index-module__nodePanel___680-x",kke="index-module__title___hjtYK",$ke="index-module__node___ozwGV",Fke="index-module__panelTitle___JG422",jke="index-module__collapse___w5T5z",ba={nodePanel:Lke,title:kke,node:$ke,"node-icon":"index-module__node-icon___RuncM","node-name":"index-module__node-name___3yi90",panelTitle:Fke,collapse:jke},J0=wi||je.memo(wi),Bke=t=>{var w;const{pageLifeCycleNodes:e=[],componentsTree:n=[],stateNodes:r=[],pageUtilsNodes:i=[],conditionUtilsNodes:o=[],defaultConfig:a={start:{label:"组件",value:"ComponentNode",logo:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/page_init.png",__config__:{type:"StartNode",aliasType:"ComponentNode"}},component:{label:"组件",value:"ComponentNode",logo:"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/page_init.png",__config__:{type:"ComponentNode",aliasType:"ComponentNode"}}}}=y.useContext(Zb),s=y.useRef(),l=y.useRef(),u=(S,C)=>{l.current=wl(10),s.current=C,t.flowCore.lf.dnd.startDrag({type:C.__config__.type,id:l.current,properties:{...C,name:C.label,__config__:{...(C==null?void 0:C.__config__)||{},correlationId:C==null?void 0:C.__config__.correlationId}}})},c=(S,C)=>{var O;l.current=wl(10),s.current={...a.component,label:C.alias,__config__:{...((O=a==null?void 0:a.component)==null?void 0:O.__config__)||{},correlationId:C.id}},console.log(s.current,a==null?void 0:a.component.__config__.type),t.flowCore.lf.dnd.startDrag({type:a==null?void 0:a.component.__config__.type,id:l.current,properties:{...s.current,name:C.alias},text:""})},d=(S,C)=>{t.flowCore.lf.dnd.stopDrag()},f=(S,C)=>{t.flowCore.lf.dnd.stopDrag()},h=()=>!1;y.useEffect(()=>{var C,O,T,N;const S=M=>{t.flowCore.lf.dnd.stopDrag(),l.current,l.current="",s.current={}};return(C=t==null?void 0:t.flowCore)!=null&&C.lf&&((N=(T=(O=t==null?void 0:t.flowCore)==null?void 0:O.lf)==null?void 0:T.on)==null||N.call(T,"node:dnd-add",S)),()=>{var M,D,F;(F=(D=(M=t==null?void 0:t.flowCore)==null?void 0:M.lf)==null?void 0:D.off)==null||F.call(D,"node:dnd-add",S)}},[(w=t==null?void 0:t.flowCore)==null?void 0:w.lf]);const v=(e==null?void 0:e.length)>0?[{key:"pageLifeHooks",label:"页面生命周期",children:E.jsx(du,{treeData:e,defaultExpandAll:!0,draggable:!1,selectable:!1,allowDrop:h,fieldNames:{key:"value"},titleRender:S=>{const C=S.label;return E.jsx("div",{onMouseDown:O=>u(O,S),onMouseUp:O=>d(),children:E.jsx(J0,{title:C,placement:"right",children:E.jsx("div",{className:ba.node,children:E.jsx("span",{className:ba["node-name"],children:C})})})})}})}]:[],m=(i==null?void 0:i.length)>0?[{key:"pageUtilsItems",label:"页面交互逻辑",children:E.jsx(du,{treeData:i,defaultExpandAll:!0,draggable:!1,selectable:!1,allowDrop:h,fieldNames:{key:"value"},titleRender:S=>{const C=S.label;return E.jsx("div",{onMouseDown:O=>u(O,S),onMouseUp:O=>d(),children:E.jsx(J0,{title:C,placement:"right",children:E.jsx("div",{className:ba.node,children:E.jsx("span",{className:ba["node-name"],children:C})})})})}})}]:[],g=(o==null?void 0:o.length)>0?[{key:"conditionUtilsItems",label:"条件交互逻辑",children:E.jsx(du,{treeData:o,defaultExpandAll:!0,draggable:!1,selectable:!1,allowDrop:h,fieldNames:{key:"value"},titleRender:S=>{const C=S.label;return E.jsx("div",{onMouseDown:O=>u(O,S),onMouseUp:O=>d(),children:E.jsx(J0,{title:C,placement:"right",children:E.jsx("div",{className:ba.node,children:E.jsx("span",{className:ba["node-name"],children:C})})})})}})}]:[],x=(r==null?void 0:r.length)>0?[{key:"stateItems",label:"更新操作",children:E.jsx(du,{treeData:r,defaultExpandAll:!0,draggable:!1,selectable:!1,allowDrop:h,fieldNames:{key:"value"},titleRender:S=>{const C=S.label;return E.jsx("div",{onMouseDown:O=>u(O,S),onMouseUp:O=>d(),children:E.jsx(J0,{title:C,placement:"right",children:E.jsx("div",{className:ba.node,children:E.jsx("span",{className:ba["node-name"],children:C})})})})}})}]:[],_=(n==null?void 0:n.length)>0?[{key:"components",label:"页面组件树",children:E.jsx(du,{treeData:n,defaultExpandAll:!0,height:300,draggable:!1,selectable:!1,allowDrop:h,fieldNames:{key:"id"},titleRender:S=>{const C=S.alias;return E.jsx("div",{onMouseDown:O=>c(O,S),onMouseUp:O=>f(),children:E.jsx(J0,{title:C,placement:"right",children:E.jsx("div",{className:ba.node,children:E.jsx("span",{className:ba["node-name"],children:C})})})})}})}]:[];return E.jsxs("div",{className:ba.nodePanel,children:[E.jsx("div",{className:ba.panelTitle,children:"节点"}),E.jsx(yd,{defaultActiveKey:["pageLifeHooks"],expandIconPosition:"end",ghost:!0,items:v,className:ba.collapse,expandIcon:({isActive:S})=>E.jsx(bd,{rotate:S?90:0})}),E.jsx(yd,{defaultActiveKey:["pageUtilsItems"],expandIconPosition:"end",ghost:!0,items:m,className:ba.collapse,expandIcon:({isActive:S})=>E.jsx(bd,{rotate:S?90:0})}),E.jsx(yd,{defaultActiveKey:["conditionUtilsItems"],expandIconPosition:"end",ghost:!0,items:g,className:ba.collapse,expandIcon:({isActive:S})=>E.jsx(bd,{rotate:S?90:0})}),E.jsx(yd,{defaultActiveKey:["stateItems"],expandIconPosition:"end",ghost:!0,items:x,className:ba.collapse,expandIcon:({isActive:S})=>E.jsx(bd,{rotate:S?90:0})}),E.jsx(yd,{defaultActiveKey:["components"],expandIconPosition:"end",ghost:!0,items:_,className:ba.collapse,expandIcon:({isActive:S})=>E.jsx(bd,{rotate:S?90:0})})]})},V$e=y.forwardRef((t,e)=>{var f,h;y.useRef();const n=y.useRef(null),[r,i]=y.useState(),[o,a]=y.useState(),[s,l]=y.useState({value:{requestName:"swde",requestMethod:"GET",requestUrl:"dededededede",paramsList:[{key:"34406",value:{valueType:"input",value:"hhh",type:"string"}},{key:"272544",value:{valueType:"input",value:"hhhhhh",type:"string"}},{key:"125302",value:{valueType:"input",value:"hhh",type:"string"}}],bodyList:[{key:"34406",value:{valueType:"input",value:"hhh",type:"string"}},{key:"272544",value:{valueType:"input",value:"hhhhhh",type:"string"}},{key:"125302",value:{valueType:"input",value:"hhh",type:"string"}}],dataFetchMode:"custom"},onFailureConfig:{continueOnFailure:!1},name:"rrrrrrrrr"}),[u,c]=y.useState();y.useEffect(()=>{var g,x;const v=_=>{console.log(_.data),c(_.data)},m=_=>{c(null)};if(n.current){const _=new Tke;_.init(n.current);const w=_.lf;i(w),a(_),t.graphData&&((g=w==null?void 0:w.render)==null||g.call(w,t.graphData),w.translateCenter()),(x=t==null?void 0:t.onInit)==null||x.call(t,_),w.on("node:click",v),w.on("blank:click",m)}},[]);const d=y.useMemo(()=>{var m,g;const v=(g=(m=u==null?void 0:u.properties)==null?void 0:m.__config__)==null?void 0:g.aliasType;if(v){const x=o==null?void 0:o.configuration.getConfiguration(v);return x?(_={})=>{var S,C;const w=Object.assign({},_.value||{},{name:(S=u==null?void 0:u.properties)==null?void 0:S.label,...((C=u==null?void 0:u.properties)==null?void 0:C.biz)||{}});return E.jsx(x,{..._,value:w})}:null}return null},[u]);return y.useImperativeHandle(e,()=>({getFlowCore(){return o}})),E.jsxs("div",{className:d_.container,children:[E.jsxs(Zb.Provider,{value:{lf:r,flowCore:o,renderRefInstance:t==null?void 0:t.renderRefInstance,...t.config},children:[E.jsx(wke,{}),((f=t==null?void 0:t.viewAuth)==null?void 0:f.toolsControl)&&E.jsx(Dke,{flowCore:o}),((h=t==null?void 0:t.viewAuth)==null?void 0:h.nodeList)&&E.jsx(Bke,{flowCore:o}),E.jsx("div",{className:d_.examplePanel}),E.jsx(zP,{mask:!1,styles:{header:{display:"none"},body:{padding:8}},title:"Basic Drawer",className:d_.drawer,onClose:()=>{c(null)},width:490,open:!!d,children:d&&E.jsx(Qn,{theme:{components:{Select:{optionPadding:"4px 2px"},Table:{cellPaddingInlineMD:4,headerBorderRadius:4}}},children:E.jsx(d,{onChange:v=>{var m,g,x,_;if(l(v),u!=null&&u.id){const w=(g=(m=o==null?void 0:o.lf)==null?void 0:m.getNodeModelById)==null?void 0:g.call(m,u.id);(_=w==null?void 0:w.setProperties)==null||_.call(w,{biz:v,label:(v==null?void 0:v.name)||((x=w==null?void 0:w.properties)==null?void 0:x.label)})}}})})})]}),E.jsx("div",{ref:n,id:"graph",className:d_.content})]})});var ky;(function(t){t[t.NONE_START_NODE=1e3]="NONE_START_NODE",t[t.NONE_NODE_ID=1001]="NONE_NODE_ID",t[t.NO_DOCUMENT_BODY=2001]="NO_DOCUMENT_BODY"})(ky||(ky={}));var $y;(function(t){t[t.NONE_START_NODE_IN_DATA=2e3]="NONE_START_NODE_IN_DATA",t[t.START_NODE_INCOMING=2001]="START_NODE_INCOMING",t[t.EXPRESSION_EXEC_ERROR=3e3]="EXPRESSION_EXEC_ERROR"})($y||($y={}));const zke={[ky.NONE_START_NODE]:"未找到入度为0的节点",[ky.NONE_NODE_ID]:"流程数据中存在没有此节点",[ky.NO_DOCUMENT_BODY]:"找不到document.body, 请在DOM加载完成后再执行"};$y.NONE_START_NODE_IN_DATA+"",$y.START_NODE_INCOMING+"",$y.EXPRESSION_EXEC_ERROR+"";const X$e=t=>`error[${t}]: ${zke[t]}`,K$e="instance:complete",Y$e="instance:interrupted",q$e="instance:error";var Mk;(function(t){t.COMPLETED="completed",t.INTERRUPTED="interrupted",t.RUNNING="running",t.PENDING="pending",t.ERROR="error"})(Mk||(Mk={}));var Fy;(function(t){t.SUCCESS="success",t.ERROR="error",t.INTERRUPTED="interrupted"})(Fy||(Fy={}));function Hke(t){return!t.match(/[^a-f0-9]/i)?parseInt(t,16):NaN}function sw(t,e,n){const r=Hke(t);if(Number.isNaN(r)||n!==void 0&&n!==t.length)throw new SyntaxError(e+": "+t);return r}function Uke(t){const e=sw(t,"Malformed Hexadecimal",2);return String.fromCharCode(e)}function Ik(t,e){const n=sw(t,"Malformed Unicode",4);if(e!==void 0){const r=sw(e,"Malformed Unicode",4);return String.fromCharCode(n,r)}return String.fromCharCode(n)}function Gke(t){return t.charAt(0)==="{"&&t.charAt(t.length-1)==="}"}function Wke(t){if(!Gke(t))throw new SyntaxError("Malformed Unicode: +"+t);const e=t.slice(1,-1),n=sw(e,"Malformed Unicode");try{return String.fromCodePoint(n)}catch(r){throw r instanceof RangeError?new SyntaxError("Code Point Limit:"+n):r}}const Vke=new Map([["b","\b"],["f","\f"],["n",`
`],["r","\r"],["t","	"],["v","\v"],["0","\0"]]);function Xke(t){return Vke.get(t)||t}const Kke=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function Dk(t){return t.replace(Kke,function(e,n,r,i,o,a,s,l,u){if(n!==void 0)return"\\";if(r!==void 0)return Uke(r);if(i!==void 0)return Wke(i);if(o!==void 0)return Ik(o,a);if(s!==void 0)return Ik(s);if(l==="0")return"\0";if(l!==void 0)throw new SyntaxError("Octal Deprecation: "+l);if(u!==void 0)return Xke(u);throw new SyntaxError("End of string")})}function Ii(t){return[t.op,t.a,t.b]}let NU=new Map;class wP extends Error{constructor(e,n){super(e+": "+n.substring(0,40)),this.code=n}}const MU=/^:/,Yke=/^else(?![\w\$])/,qke=/^if(?![\w\$])/,Zke=/^\s/;let bi={splitter:{types:{opHigh:/^(\/|\*\*|\*(?!\*)|\%)(?!\=)/,op:/^(\+(?!(\+))|\-(?!(\-)))(?!\=)/,comparitor:/^(<=|>=|<(?!<)|>(?!>)|!==|!=(?!\=)|===|==)/,boolOp:/^(&&|\|\||instanceof(?![\w\$])|in(?![\w\$]))/,bitwise:/^(&(?!&)|\|(?!\|)|\^|<<|>>(?!>)|>>>)(?!\=)/},next:["modifier","value","prop","incrementerBefore"]},inlineIf:{types:{inlineIf:/^\?(?!\.(?!\d))/},next:["expEnd"]},assignment:{types:{assignModify:/^(\-=|\+=|\/=|\*\*=|\*=|%=|\^=|\&=|\|=|>>>=|>>=|<<=)/,assign:/^(=)(?!=)/},next:["modifier","value","prop","incrementerBefore"]},incrementerBefore:{types:{incrementerBefore:/^(\+\+|\-\-)/},next:["prop"]},expEdge:{types:{call:/^(\?\.)?[\(]/,incrementerAfter:/^(\+\+|\-\-)/},next:["splitter","expEdge","dot","inlineIf","expEnd"]},modifier:{types:{not:/^!/,inverse:/^~/,negative:/^\-(?!\-)/,positive:/^\+(?!\+)/,typeof:/^typeof(?![\w\$])/,delete:/^delete(?![\w\$])/},next:["modifier","value","prop","incrementerBefore"]},dot:{types:{arrayProp:/^(\?\.)?\[/,dot:/^(\?)?\.(?=\s*[a-zA-Z\$\_])/},next:["splitter","assignment","expEdge","dot","inlineIf","expEnd"]},prop:{types:{prop:/^[a-zA-Z\$\_][a-zA-Z\d\$\_]*/},next:["splitter","assignment","expEdge","dot","inlineIf","expEnd"]},value:{types:{createObject:/^\{/,createArray:/^\[/,number:/^(0x[\da-f]+(_[\da-f]+)*|(\d+(_\d+)*(\.\d+(_\d+)*)?|\.\d+(_\d+)*))(e[\+\-]?\d+(_\d+)*)?(n)?(?!\d)/i,string:/^"(\d+)"/,literal:/^`(\d+)`/,regex:/^\/(\d+)\/r(?![\w\$])/,boolean:/^(true|false)(?![\w\$])/,null:/^null(?![\w\$])/,und:/^undefined(?![\w\$])/,arrowFunctionSingle:/^(async\s+)?([a-zA-Z\$_][a-zA-Z\d\$_]*)\s*=>\s*({)?/,arrowFunction:/^(async\s*)?\(\s*((\.\.\.)?\s*[a-zA-Z\$_][a-zA-Z\d\$_]*(\s*,\s*(\.\.\.)?\s*[a-zA-Z\$_][a-zA-Z\d\$_]*)*)?\s*\)\s*=>\s*({)?/,inlineFunction:/^(async\s+)?function(\s*[a-zA-Z\$_][a-zA-Z\d\$_]*)?\s*\(\s*((\.\.\.)?\s*[a-zA-Z\$_][a-zA-Z\d\$_]*(\s*,\s*(\.\.\.)?\s*[a-zA-Z\$_][a-zA-Z\d\$_]*)*)?\s*\)\s*{/,group:/^\(/,NaN:/^NaN(?![\w\$])/,Infinity:/^Infinity(?![\w\$])/,void:/^void(?![\w\$])\s*/,await:/^await(?![\w\$])\s*/,new:/^new(?![\w\$])\s*/},next:["splitter","expEdge","dot","inlineIf","expEnd"]},initialize:{types:{initialize:/^(var|let|const)\s+([a-zA-Z\$_][a-zA-Z\d\$_]*)\s*(=)?/,return:/^return(?![\w\$])/,throw:/^throw(?![\w\$])\s*/},next:["modifier","value","prop","incrementerBefore","expEnd"]},spreadObject:{types:{spreadObject:/^\.\.\./},next:["value","prop"]},spreadArray:{types:{spreadArray:/^\.\.\./},next:["value","prop"]},expEnd:{types:{},next:[]},expFunction:{types:{function:/^(async\s+)?function(\s*[a-zA-Z\$_][a-zA-Z\d\$_]*)\s*\(\s*((\.\.\.)?\s*[a-zA-Z\$_][a-zA-Z\d\$_]*(\s*,\s*(\.\.\.)?\s*[a-zA-Z\$_][a-zA-Z\d\$_]*)*)?\s*\)\s*{/},next:["expEdge","expEnd"]},expSingle:{types:{for:/^(([a-zA-Z\$\_][\w\$]*)\s*:)?\s*for\s*\(/,do:/^(([a-zA-Z\$\_][\w\$]*)\s*:)?\s*do(?![\w\$])\s*(\{)?/,while:/^(([a-zA-Z\$\_][\w\$]*)\s*:)?\s*while\s*\(/,loopAction:/^(break|continue)(?![\w\$])\s*([a-zA-Z\$\_][\w\$]*)?/,if:/^((([a-zA-Z\$\_][\w\$]*)\s*:)?\s*)if\s*\(/,try:/^try\s*{/,block:/^{/,switch:/^(([a-zA-Z\$\_][\w\$]*)\s*:)?\s*switch\s*\(/},next:["expEnd"]}},jy={"(":")","[":"]","{":"}","'":"'",'"':'"',"`":"`"};function D_(t,e){let n;for(let r=0;r<e.length&&(n=e[r].exec(t),!n);r++);return n}class lo{constructor(e){this.ref={str:""},e instanceof lo?(this.ref=e.ref,this.start=e.start,this.end=e.end):(this.ref.str=e,this.start=0,this.end=e.length)}substring(e,n){if(!this.length)return this;e=this.start+e,e<0&&(e=0),e>this.end&&(e=this.end),n=n===void 0?this.end:this.start+n,n<0&&(n=0),n>this.end&&(n=this.end);const r=new lo(this);return r.start=e,r.end=n,r}get length(){const e=this.end-this.start;return e<0?0:e}char(e){if(this.start!==this.end)return this.ref.str[this.start+e]}toString(){return this.ref.str.substring(this.start,this.end)}trimStart(){const e=/^\s+/.exec(this.toString()),n=new lo(this);return e&&(n.start+=e[0].length),n}slice(e,n){return e<0&&(e=this.end-this.start+e),e<0&&(e=0),n===void 0&&(n=this.end-this.start),n<0&&(n=this.end-this.start+n),n<0&&(n=0),this.substring(e,n)}trim(){const e=this.trimStart(),n=/\s+$/.exec(e.toString());return n&&(e.end-=n[0].length),e}valueOf(){return this.toString()}}const Op=new lo(""),Jke=/^[\+\-~ !]/,Qke=bi.value.types.number,e$e=/^((if|for|else|while|do|function)(?![\w\$])|[\w\$]+)/,Np=/^;/,EP=new WeakMap,Lk=new WeakMap;function ri(t,e,n,r,i,o,a={}){if(!e.length)return e;a.words=a.words||[];let s=!0;n=n||[];const l=n.includes(Np);l&&(n=n.filter(x=>x!==Np));const u=EP.get(e.ref)||[],c=Lk.get(e.ref)||new Map;if(Lk.set(e.ref,c),r&&c.has(e.start-1))return e.substring(0,c.get(e.start-1)-e.start);let d=!1,f=!1,h="",v=!1,m,g=!1;for(m=0;m<e.length&&!f;m++){let x=e.char(m);if(r==='"'||r==="'"||r==="`"){if(r==="`"&&x==="$"&&e.char(m+1)==="{"&&!d){let _=ri(t,e.substring(m+2),[],"{");m+=_.length+2}else if(x===r&&!d)return e.substring(0,m);d=!d&&x==="\\"}else if(jy[x]){if(!g&&u[m+e.start]){if(g=!0,l)break;m--,h=";";continue}if(v&&x==="{"&&(v=!1),x===i){f=!0;break}else{let _=ri(t,e.substring(m+1),[],x);if(c.set(_.start-1,_.end),m+=_.length+1,s=!1,o){let w=e.substring(m),S;(S=D_(w.toString(),o))&&(a.regRes=S,f=!0)}}}else if(r){if(x===jy[r])return e.substring(0,m)}else{let _=e.substring(m).toString(),w,S;if(o){let C;if(C=D_(_,o)){a.regRes=C,m++,f=!0;break}}if(S=Qke.exec(_))m+=S[0].length-1,_=e.substring(m).toString();else if(h!=x){let C;if(x===";"||u[m+e.start]&&!s&&!g){if(l)C=[";"];else if(u[m+e.start]){g=!0,m--,h=";";continue}x=_=";"}else g=!1;C||(C=D_(_,n)),C&&(f=!0),!f&&(w=e$e.exec(_))&&(v=!0,w[0].length>1&&(a.words.push(w[1]),a.lastAnyWord=w[1],w[2]&&(a.lastWord=w[2])),w[0].length>2&&(m+=w[0].length-2))}if(s&&(Jke.test(_)?f=!1:s=!1),f)break}h=x}if(r)throw new SyntaxError("Unclosed '"+r+"'");return a&&(a.oneliner=v),e.substring(0,m)}ri.next=["splitter","expEnd","inlineIf"];const CE=["initialize","expSingle","expFunction","value","modifier","prop","incrementerBefore","expEnd"],Do=(t,e)=>{t.forEach(n=>{NU.set(n,e)})},t$e={createArray:/^\]/,createObject:/^\}/,group:/^\)/,arrayProp:/^\]/,call:/^\)/},IU={createArray:12,createObject:22,group:23,arrayProp:19,call:5,prop:1,"?prop":20,"?call":21};Do(["createArray","createObject","group","arrayProp","call"],(t,e,n,r,i,o)=>{let a=Op,s=[],l=!1,u=r[0].length;const c=u;for(;u<n.length&&!l;)a=ri(t,n.substring(u),[t$e[e],/^,/]),u+=a.length,a.trim().length&&s.push(a),n.char(u)!==","?l=!0:u++;const d=["value","modifier","prop","incrementerBefore","expEnd"];let f,h;switch(e){case"group":case"arrayProp":f=Fl(t,n.substring(c,u));break;case"call":case"createArray":f=s.map(m=>ti(t,m,[...d,"spreadArray"]));break;case"createObject":f=s.map(m=>{m=m.trimStart();let g,x="";if(h=bi.expFunction.types.function.exec("function "+m),h)x=h[2].trimStart(),g=ti(t,new lo("function "+m.toString().replace(x,"")));else{let _=ri(t,m,[/^:/]);x=ti(t,_,[...d,"spreadObject"]),x[0]===1&&(x=x[2]),g=ti(t,m.substring(_.length+1))}return Ii({op:6,a:x,b:g})});break}let v=e==="arrayProp"?r[1]?20:1:e==="call"?r[1]?21:5:IU[e];o.lispTree=ti(t,n.substring(u+1),bi[i].next,Ii({op:v,a:o.lispTree,b:f}))});const n$e={inverse:64,not:24,positive:59,negative:58,typeof:60,delete:61};Do(["inverse","not","negative","positive","typeof","delete"],(t,e,n,r,i,o)=>{let a=ri(t,n.substring(r[0].length),[/^([^\s\.\?\w\$]|\?[^\.])/]);o.lispTree=ti(t,n.substring(a.length+r[0].length),ri.next,Ii({op:n$e[e],a:o.lispTree,b:ti(t,a,bi[i].next)}))});const DU={"++$":25,"--$":27,"$++":26,"$--":28};Do(["incrementerBefore"],(t,e,n,r,i,o)=>{let a=ri(t,n.substring(2),[/^[^\s\.\w\$]/]);o.lispTree=ti(t,n.substring(a.length+2),ri.next,Ii({op:DU[r[0]+"$"],a:ti(t,a,bi[i].next),b:0}))});Do(["incrementerAfter"],(t,e,n,r,i,o)=>{o.lispTree=ti(t,n.substring(r[0].length),bi[i].next,Ii({op:DU["$"+r[0]],a:o.lispTree,b:0}))});const r$e={"&&":29,"||":30,instanceof:62,in:63,"=":9,"-=":65,"+=":66,"/=":67,"**=":68,"*=":69,"%=":70,"^=":71,"&=":72,"|=":73,">>>=":74,"<<=":76,">>=":75};Do(["assign","assignModify","boolOp"],(t,e,n,r,i,o)=>{o.lispTree=Ii({op:r$e[r[0]],a:o.lispTree,b:ti(t,n.substring(r[0].length),bi[i].next)})});const i$e={"&":77,"|":78,"^":79,"<<":80,">>":81,">>>":82,"<=":54,">=":55,"<":56,">":57,"!==":31,"!=":53,"===":32,"==":52,"+":33,"-":47,"/":48,"**":49,"*":50,"%":51};Do(["opHigh","op","comparitor","bitwise"],(t,e,n,r,i,o)=>{const a=[bi.inlineIf.types.inlineIf,MU];switch(e){case"opHigh":a.push(bi.splitter.types.opHigh);case"op":a.push(bi.splitter.types.op);case"comparitor":a.push(bi.splitter.types.comparitor);case"bitwise":a.push(bi.splitter.types.bitwise),a.push(bi.splitter.types.boolOp)}let s=ri(t,n.substring(r[0].length),a);o.lispTree=ti(t,n.substring(s.length+r[0].length),ri.next,Ii({op:i$e[r[0]],a:o.lispTree,b:ti(t,s,bi[i].next)}))});Do(["inlineIf"],(t,e,n,r,i,o)=>{let a=!1,s=n.substring(0,0),l=1;for(;!a&&s.length<n.length;)s.end=ri(t,n.substring(s.length+1),[bi.inlineIf.types.inlineIf,MU]).end,n.char(s.length)==="?"?l++:l--,l||(a=!0);s.start=n.start+1,o.lispTree=Ii({op:15,a:o.lispTree,b:Ii({op:16,a:Fl(t,s),b:Fl(t,n.substring(r[0].length+s.length+1))})})});function LU(t,e){var u;let n=0,r=e.substring(0,0),i=Op,o,a=!0,s,l={};for(;(r=ri(t,e.substring(r.end-e.start),[Yke,qke,Np],void 0,void 0,void 0,l)).length||a;){a=!1;const c=e.substring(r.end-e.start).toString();if(c.startsWith("if"))r.end++,n++;else if(c.startsWith("else"))o=e.substring(0,r.end-e.start),r.end++,n--,n||r.end--;else if(s=/^;?\s*else(?![\w\$])/.exec(c))o=e.substring(0,r.end-e.start),r.end+=s[0].length-1,n--,n||(r.end-=s[0].length-1);else{o=i.length?o:e.substring(0,r.end-e.start);break}if(!n){i=LU(t,e.substring(r.end-e.start+((u=/^;?\s*else(?![\w\$])/.exec(c))==null?void 0:u[0].length))).all;break}l={}}return o=o||e.substring(0,r.end-e.start),{all:e.substring(0,Math.max(o.end,i.end)-e.start),true:o,false:i}}Do(["if"],(t,e,n,r,i,o)=>{let a=ri(t,n.substring(r[0].length),[],"(");const s=LU(t,n.substring(r[1].length));/^\s*\{/.exec(n.substring(r[0].length+a.length+1).toString());const l=r[0].length-r[1].length+a.length+1;let u=s.true.substring(l),c=s.false;a=a.trim(),u=u.trim(),c=c.trim(),u.char(0)==="{"&&(u=u.slice(1,-1)),c.char(0)==="{"&&(c=c.slice(1,-1)),o.lispTree=Ii({op:13,a:Fl(t,a),b:Ii({op:14,a:hc(u,t),b:hc(c,t)})})});Do(["switch"],(t,e,n,r,i,o)=>{const a=ri(t,n.substring(r[0].length),[],"(");let s=n.toString().indexOf("{",r[0].length+a.length+1);if(s===-1)throw new SyntaxError("Invalid switch");let l=By(t,ri(t,n.substring(s+1),[],"{")),u;const c=/^\s*(case\s|default)\s*/;let d=[],f=!1;for(;u=c.exec(l.toString());){if(u[1]==="default"){if(f)throw new SyntaxError("Only one default switch case allowed");f=!0}let h=ri(t,l.substring(u[0].length),[/^:/]),v=Op,m=s=u[0].length+h.length+1,g=/^\s*\{/.exec(l.substring(m).toString()),x=[];if(g)m+=g[0].length,v=ri(t,l.substring(m),[],"{"),m+=v.length+1,x=hc(v,t);else{let _=ri(t,l.substring(m),[c]);if(!_.trim().length)x=[],m+=_.length;else{for(;(v=ri(t,l.substring(m),[Np])).length&&(m+=v.length+(l.char(m+v.length)===";"?1:0),!c.test(l.substring(m).toString())););x=hc(l.substring(s,v.end-l.start),t)}}l=l.substring(m),d.push(Ii({op:41,a:u[1]==="default"?void 0:Fl(t,h),b:x}))}o.lispTree=Ii({op:40,a:Fl(t,a),b:d})});Do(["dot","prop"],(t,e,n,r,i,o)=>{let a=r[0],s=r[0].length,l="prop";if(e==="dot"){r[1]&&(l="?prop");let u=n.substring(r[0].length).toString().match(bi.prop.types.prop);if(u&&u.length)a=u[0],s=a.length+r[0].length;else throw new SyntaxError("Hanging  dot")}o.lispTree=ti(t,n.substring(s),bi[i].next,Ii({op:IU[l],a:o.lispTree,b:a}))});Do(["spreadArray","spreadObject"],(t,e,n,r,i,o)=>{o.lispTree=Ii({op:e==="spreadArray"?18:17,a:0,b:ti(t,n.substring(r[0].length),bi[i].next)})});Do(["return","throw"],(t,e,n,r,i,o)=>{o.lispTree=Ii({op:e==="return"?8:46,a:0,b:Fl(t,n.substring(r[0].length))})});Do(["number","boolean","null","und","NaN","Infinity"],(t,e,n,r,i,o)=>{o.lispTree=ti(t,n.substring(r[0].length),bi[i].next,Ii({op:e==="number"?r[10]?83:7:35,a:0,b:r[10]?r[1]:r[0]}))});Do(["string","literal","regex"],(t,e,n,r,i,o)=>{o.lispTree=ti(t,n.substring(r[0].length),bi[i].next,Ii({op:e==="string"?2:e==="literal"?84:85,a:0,b:r[1]}))});Do(["initialize"],(t,e,n,r,i,o)=>{const a=r[1]==="var"?34:r[1]==="let"?3:4;r[3]?o.lispTree=Ii({op:a,a:r[2],b:ti(t,n.substring(r[0].length),bi[i].next)}):o.lispTree=ti(t,n.substring(r[0].length),bi[i].next,Ii({op:a,a:r[2],b:0}))});Do(["function","inlineFunction","arrowFunction","arrowFunctionSingle"],(t,e,n,r,i,o)=>{const a=e!=="function"&&e!=="inlineFunction",s=a&&!r[r.length-1],l=a?2:3,u=r[1]?88:0,c=r[l]?r[l].replace(/\s+/g,"").split(/,/g):[];a||c.unshift((r[2]||"").trimStart());let d=!1;c.forEach(v=>{if(d)throw new SyntaxError("Rest parameter must be last formal parameter");v.startsWith("...")&&(d=!0)}),c.unshift(u);const f=ri(t,n.substring(r[0].length),s?[/^[,\)\}\]]/,Np]:[/^}/]),h=s?"return "+f:f.toString();o.lispTree=ti(t,n.substring(r[0].length+h.length+1),bi[i].next,Ii({op:a?11:e==="function"?37:10,a:c,b:t.eager?t1(new lo(h),t):h}))});const o$e=/^((let|var|const)\s+)?\s*([a-zA-Z\$_][a-zA-Z\d\$_]*)\s+(in|of)(?![\w\$])/;Do(["for","do","while"],(t,e,n,r,i,o)=>{let a=0,s=88,l=[],u,c=0,d=88,f,h=88,v;switch(e){case"while":a=n.toString().indexOf("(")+1;let g=ri(t,n.substring(a),[],"(");f=Q0(t,g),v=ri(t,n.substring(a+g.length+1)).trim(),v[0]==="{"&&(v=v.slice(1,-1));break;case"for":a=n.toString().indexOf("(")+1;let x=[],_=Op;for(let C=0;C<3&&(_=ri(t,n.substring(a),[/^[;\)]/]),x.push(_.trim()),a+=_.length+1,n.char(a-1)!==")");C++);let w;if(x.length===1&&(w=o$e.exec(x[0].toString())))w[4]==="of"?(u=Q0(t,x[0].substring(w[0].length)),l=[a$e,s$e],f=l$e,h=u$e,c=ti(t,new lo((w[1]||"let ")+w[3]+" = $$next.value"),["initialize"])):(u=Q0(t,x[0].substring(w[0].length)),l=[c$e,d$e],h=f$e,f=h$e,c=ti(t,new lo((w[1]||"let ")+w[3]+" = $$keys[$$keyIndex]"),["initialize"]));else if(x.length===3)s=Fl(t,x.shift(),CE),f=Q0(t,x.shift()),h=Fl(t,x.shift());else throw new SyntaxError("Invalid for loop definition");v=ri(t,n.substring(a)).trim(),v[0]==="{"&&(v=v.slice(1,-1));break;case"do":d=0;const S=!!r[3];v=ri(t,n.substring(r[0].length),S?[/^\}/]:[Np]),f=Q0(t,ri(t,n.substring(n.toString().indexOf("(",r[0].length+v.length)+1),[],"("));break}const m=[d,l,u,s,h,f,c];o.lispTree=Ii({op:38,a:m,b:hc(v,t)})});Do(["block"],(t,e,n,r,i,o)=>{o.lispTree=Ii({op:42,a:hc(ri(t,n.substring(1),[],"{"),t),b:0})});Do(["loopAction"],(t,e,n,r,i,o)=>{o.lispTree=Ii({op:86,a:r[1],b:0})});const uT=/^\s*(catch\s*(\(\s*([a-zA-Z\$_][a-zA-Z\d\$_]*)\s*\))?|finally)\s*\{/;Do(["try"],(t,e,n,r,i,o)=>{const a=ri(t,n.substring(r[0].length),[],"{");let s=uT.exec(n.substring(r[0].length+a.length+1).toString()),l,u="",c,d=0;s[1].startsWith("catch")?(s=uT.exec(n.substring(r[0].length+a.length+1).toString()),u=s[2],c=ri(t,n.substring(r[0].length+a.length+1+s[0].length),[],"{"),d=r[0].length+a.length+1+s[0].length+c.length+1,(s=uT.exec(n.substring(d).toString()))&&s[1].startsWith("finally")&&(l=ri(t,n.substring(d+s[0].length),[],"{"))):l=ri(t,n.substring(r[0].length+a.length+1+s[0].length),[],"{");const f=[u,hc(By(t,c||Op),t),hc(By(t,l||Op),t)];o.lispTree=Ii({op:39,a:hc(By(t,a),t),b:f})});Do(["void","await"],(t,e,n,r,i,o)=>{const a=ri(t,n.substring(r[0].length),[/^([^\s\.\?\w\$]|\?[^\.])/]);o.lispTree=ti(t,n.substring(r[0].length+a.length),bi[i].next,Ii({op:e==="void"?87:44,a:ti(t,a),b:0}))});Do(["new"],(t,e,n,r,i,o)=>{let a=r[0].length;const s=ri(t,n.substring(a),[],void 0,"(");a+=s.length+1;const l=[];if(n.char(a-1)==="("){const u=ri(t,n.substring(a),[],"(");a+=u.length+1;let c,d=0;for(;(c=ri(t,u.substring(d),[/^,/])).length;)d+=c.length+1,l.push(c.trim())}o.lispTree=ti(t,n.substring(a),bi.expEdge.next,Ii({op:45,a:ti(t,s,bi.initialize.next),b:l.map(u=>ti(t,u,bi.initialize.next))}))});const a$e=ti(void 0,new lo("let $$iterator = $$obj[Symbol.iterator]()"),["initialize"]),s$e=ti(void 0,new lo("let $$next = $$iterator.next()"),["initialize"]),l$e=ti(void 0,new lo("return !$$next.done"),["initialize"]),u$e=ti(void 0,new lo("$$next = $$iterator.next()")),c$e=ti(void 0,new lo("let $$keys = Object.keys($$obj)"),["initialize"]),d$e=ti(void 0,new lo("let $$keyIndex = 0"),["initialize"]),f$e=ti(void 0,new lo("$$keyIndex++")),h$e=ti(void 0,new lo("return $$keyIndex < $$keys.length"),["initialize"]);var f_;function ti(t,e,n,r,i=!1){if(r=r||[0,0,0],n=n||bi.initialize.next,e===void 0)return r;e=e.trimStart();const o=e.toString();if(!e.length&&!n.includes("expEnd"))throw new SyntaxError("Unexpected end of expression");if(!e.length)return r;let a={lispTree:r},s;for(let l of n)if(l!=="expEnd"){for(let u in bi[l].types)if(u!=="expEnd"&&(s=bi[l].types[u].exec(o))){f_=u;try{NU.get(u)(t,u,e,s,l,a)}catch(c){throw i&&c instanceof SyntaxError?new wP(c.message,o):c}break}if(s)break}if(!s&&e.length)throw`${f_}${e.char(0)}`,i?new wP(`Unexpected token after ${f_}: ${e.char(0)}`,o):new SyntaxError(`Unexpected token after ${f_}: ${e.char(0)}`);return a.lispTree}const p$e=CE.filter(t=>t!=="expSingle");function Fl(t,e,n){if(!e.trimStart().length)return;let r=[],i,o=0;if(n=n||bi.initialize.next,n.includes("expSingle")&&D_(e.toString(),Object.values(bi.expSingle.types)))return ti(t,e,["expSingle"],void 0,!0);for(n===CE&&(n=p$e);(i=ri(t,e.substring(o),[/^,/])).length;)r.push(i.trimStart()),o+=i.length+1;if(r.length===1)return ti(t,e,n,void 0,!0);if(n.includes("initialize")){let s=bi.initialize.types.initialize.exec(r[0].toString());if(s)return Ii({op:42,a:r.map((l,u)=>ti(t,u?new lo(s[1]+" "+l):l,["initialize"],void 0,!0)),b:0});if(bi.initialize.types.return.exec(r[0].toString()))return ti(t,e,n,void 0,!0)}const a=r.map((s,l)=>ti(t,s,n,void 0,!0));return Ii({op:43,a,b:0})}function Q0(t,e){return Ii({op:8,a:0,b:Fl(t,e)})}function hc(t,e,n=!1){if(t=By(e,t),!t.trim().length)return[];let r=[],i,o=0,a=0,s={},l=!1,u=!1;for(;(i=ri(e,t.substring(o),[Np],void 0,void 0,void 0,s)).length&&(u=t.char(o+i.length)&&t.char(o+i.length)!==";",o+=i.length+(u?0:1),/^\s*else(?![\w\$])/.test(t.substring(o).toString())||s.words.includes("do")&&/^\s*while(?![\w\$])/.test(t.substring(o).toString())?l=!0:(l=!1,r.push(t.substring(a,o-(u?0:1))),a=o),s={},!n););return l&&r.push(t.substring(a,o-(u?0:1))),r.map(c=>c.trimStart()).filter(c=>c.length).map((c,d)=>Fl(e,c.trimStart(),CE))}function t1(t,e,n=!1){if(!t.trim().length)return[];const r=hc(t,e,n);let i=[];return L_(r,i),i.concat(r)}function Id(t){return Array.isArray(t)&&typeof t[0]=="number"&&t[0]!==0&&t[0]!==88}function L_(t,e){if(Id(t)){const[n,r,i]=t;if(n===39||n===13||n===38||n===40)L_(r,e),L_(i,e);else if(n===34)e.push(Ii({op:34,a:r,b:0}));else if(n===37&&r[1])return e.push(t),!0}else if(Array.isArray(t)){const n=[];for(let r of t)L_(r,e)||n.push(r);n.length!==t.length&&(t.length=0,t.push(...n))}return!1}const v$e=/^(\})\s*(catch|finally|else|while|instanceof)(?![\w\$])/,m$e=/^((([\w\$\]\)\"\'\`]|\+\+|\-\-)\s*\r?\n\s*([\w\$\+\-\!~]))|(\}\s*[\w\$\!~\+\-\{\(\"\'\`]))/;function By(t,e){let n=e,r=Op,i={};const o=EP.get(e.ref)||new Array(e.ref.str.length);for(;(r=ri(t,n,[],void 0,void 0,[m$e],i)).length;){let a=!1,s=r,l=r.length;if(i.regRes){a=!0;const[,,u,,,c]=i.regRes;if(l=i.regRes[3]==="++"||i.regRes[3]==="--"?r.length+1:r.length,s=n.substring(0,l),c){let d=v$e.exec(n.substring(r.length-1).toString());d?d[2]==="while"?a=i.lastWord!=="do":a=!1:i.lastWord==="function"&&i.regRes[5][0]==="}"&&i.regRes[5].slice(-1)==="("&&(a=!1)}else u&&(i.lastWord==="if"||i.lastWord==="while"||i.lastWord==="for"||i.lastWord==="else")&&(a=!1)}a&&(o[s.end]=!0),n=n.substring(l),i={}}return EP.set(e.ref,o),e}function g$e(t){let e=1,n=!1,r=!1,i=!1;for(;e<t.length&&!r&&!i;)r=t[e]==="/"&&!n,n=t[e]==="\\"&&!n,i=t[e]===`
`,e++;let o=t.substring(e);if(i=i||!r||/^\s*\d/.test(o),i)return null;let a=/^[a-z]*/.exec(o);return/^\s+[\w\$]/.test(t.substring(e+a[0].length))?null:{regex:t.substring(1,e-1),flags:a&&a[0]||"",length:e+(a&&a[0].length||0)}}const y$e=/(typeof|delete|instanceof|return|in|of|throw|new|void|do|if)$/,b$e=/^([\w\$\]\)]|\+\+|\-\-)[\s\/]/;function kU(t,e,n=""){let r,i=[],o=!1,a,s="",l=-1,u=[],c="";const d=[],f=[];let h;for(var v=0;v<e.length;v++)if(c=e[v],s)c===s&&(s==="*"&&e[v+1]==="/"?(s="",v++):s===`
`&&(s=""));else{if(o){o=!1,i.push(c);continue}if(r)if(r==="`"&&c==="$"&&e[v+1]==="{"){let m=kU(t,e.substring(v+2),"{");u.push(m.str),i.push("${",u.length-1,"}"),v+=m.length+2}else if(r===c){if(r==="`"){const m=Ii({op:36,a:Dk(i.join("")),b:[]});m.tempJsStrings=u,t.literals.push(m),d.push("`",t.literals.length-1,"`")}else t.strings.push(Dk(i.join(""))),d.push('"',t.strings.length-1,'"');r=null,i=[]}else i.push(c);else{if(c==="'"||c==='"'||c==="`")u=[],r=c;else{if(jy[n]===c&&!f.length)return{str:d.join(""),length:v};jy[c]?(f.push(c),d.push(c)):jy[f[f.length-1]]===c?(f.pop(),d.push(c)):c==="/"&&(e[v+1]==="*"||e[v+1]==="/")?(s=e[v+1]==="*"?"*":`
`,l=v):c==="/"&&!h&&(a=g$e(e.substring(v)))?(t.regexes.push(a),d.push("/",t.regexes.length-1,"/r"),v+=a.length-1):d.push(c)}(!h||!Zke.test(c))&&(h=b$e.exec(e.substring(v)))&&y$e.test(e.substring(0,v+h[1].length))&&(h=null)}o=r&&c==="\\"}if(s&&s==="*")throw new SyntaxError(`Unclosed comment '/*': ${e.substring(l)}`);return{str:d.join(""),length:v}}function Zh(t,e=!1,n=!1){if(typeof t!="string")throw new wP(`Cannot parse ${t}`,t);let r=" "+t;const i={strings:[],literals:[],regexes:[],eager:e};r=kU(i,r).str;for(let o of i.literals)o[2]=o.tempJsStrings.map(a=>Fl(i,new lo(a))),delete o.tempJsStrings;return{tree:t1(new lo(r),i,n),constants:i}}class Qa{constructor(e,n,r,i=!1,o=!1){this.auditReport=e,this.result=n,this.returned=r,this.breakLoop=i,this.continueLoop=o}}class Ja{constructor(e,n,r=!1,i=!1,o=!1){this.context=e,this.prop=n,this.isConst=r,this.isGlobal=i,this.isVariable=o}get(e){if(this.context===void 0)throw new ReferenceError(`${this.prop} is not defined`);return e.getSubscriptions.forEach(n=>n(this.context,this.prop)),this.context[this.prop]}}const zf={},cT=new Set(["instanceof","typeof","return","try","catch","if","finally","else","in","of","var","let","const","for","delete","false","true","while","do","break","continue","new","function","async","await","switch","case"]);var Mp;(function(t){t.let="let",t.const="const",t.var="var"})(Mp||(Mp={}));function dT(t){const e=Object.assign({},t);for(let n in e)e[n]=!0;return e}class Ta{constructor(e,n={},r){this.const={},this.let={},this.var={};const i=r!==void 0||e===null;this.parent=e,this.allVars=n,this.let=i?this.let:dT(n),this.var=i?dT(n):this.var,this.globals=e===null?dT(n):{},this.functionThis=r}get(e,n=!1){if(e==="this"&&this.functionThis!==void 0)return new Ja({this:this.functionThis},e,!0,!1,!0);if(cT.has(e))throw new SyntaxError("Unexepected token '"+e+"'");if(this.parent===null||!n||this.functionThis!==void 0){if(this.globals.hasOwnProperty(e))return new Ja(this.functionThis,e,!1,!0,!0);if(e in this.allVars&&(!(e in{})||this.allVars.hasOwnProperty(e)))return new Ja(this.allVars,e,this.const.hasOwnProperty(e),this.globals.hasOwnProperty(e),!0);if(this.parent===null)return new Ja(void 0,e)}return this.parent.get(e,n)}set(e,n){if(e==="this")throw new SyntaxError('"this" cannot be assigned');if(cT.has(e))throw new SyntaxError("Unexepected token '"+e+"'");let r=this.get(e);if(r.context===void 0)throw new ReferenceError(`Variable '${e}' was not declared.`);if(r.isConst)throw new TypeError(`Cannot assign to const variable '${e}'`);if(r.isGlobal)throw new Aa(`Cannot override global variable '${e}'`);return r.context[r.prop]=n,r}declare(e,n=null,r=void 0,i=!1){if(e==="this")throw new SyntaxError('"this" cannot be declared');if(cT.has(e))throw new SyntaxError("Unexepected token '"+e+"'");if(n==="var"&&this.functionThis===void 0&&this.parent!==null)return this.parent.declare(e,n,r,i);if(this[n].hasOwnProperty(e)&&n!=="const"&&!this.globals.hasOwnProperty(e)||!(e in this.allVars))i&&(this.globals[e]=!0),this[n][e]=!0,this.allVars[e]=r;else throw new Aa(`Identifier '${e}' has already been declared`);return new Ja(this.allVars,e,this.const.hasOwnProperty(e),i)}}class x$e{}class Aa extends Error{}let $U;function _$e(t,e){return n;function n(...r){let i=r.pop()||"",o=Zh(i);return RE(r,o.tree,$U,{...t,constants:o.constants,tree:o.tree},void 0,"anonymous")}}function lw(t,e){const n={};return t.forEach((r,i)=>{r.startsWith("...")?n[r.substring(3)]=e.slice(i):n[r]=e[i]}),n}const TE=new WeakSet;function RE(t,e,n,r,i,o){if(r.ctx.options.forbidFunctionCreation)throw new Aa("Function creation is forbidden");let a;return o===void 0?a=(...s)=>{const l=lw(t,s);return wb(n,r,e,i===void 0?[]:[new Ta(i,l)]).result}:a=function(...l){const u=lw(t,l);return wb(n,r,e,i===void 0?[]:[new Ta(i,u,this)]).result},r.registerSandboxFunction(a),TE.add(a),a}function NO(t,e,n,r,i,o){var s;if(r.ctx.options.forbidFunctionCreation)throw new Aa("Function creation is forbidden");if(!((s=r.ctx.prototypeWhitelist)!=null&&s.has(Promise.prototype)))throw new Aa("Async/await not permitted");let a;return o===void 0?a=async(...l)=>{const u=lw(t,l);return(await Eb(n,r,e,i===void 0?[]:[new Ta(i,u)])).result}:a=async function(...u){const c=lw(t,u);return(await Eb(n,r,e,i===void 0?[]:[new Ta(i,c,this)])).result},r.registerSandboxFunction(a),TE.add(a),a}function S$e(t){return e;function e(n){return t(n)()}}function w$e(t){return function(n,...r){return typeof n!="string"?setTimeout(n,...r):setTimeout(t(n),...r)}}function E$e(t){return function(n,...r){return typeof n!="string"?setInterval(n,...r):setInterval(t(n),...r)}}function ha(t,e,n="assign"){var r,i,o,a,s,l,u,c;if(t.context===void 0)throw new ReferenceError(`Cannot ${n} value to undefined.`);if(typeof t.context!="object"&&typeof t.context!="function")throw new SyntaxError(`Cannot ${n} value to a primitive.`);if(t.isConst)throw new TypeError(`Cannot set value to const variable '${t.prop}'`);if(t.isGlobal)throw new Aa(`Cannot ${n} property '${t.prop}' of a global object`);if(typeof t.context[t.prop]=="function"&&!t.context.hasOwnProperty(t.prop))throw new Aa(`Override prototype property '${t.prop}' not allowed`);n==="delete"?t.context.hasOwnProperty(t.prop)&&((r=e.changeSubscriptions.get(t.context))==null||r.forEach(d=>d({type:"delete",prop:t.prop})),(i=e.changeSubscriptionsGlobal.get(t.context))==null||i.forEach(d=>d({type:"delete",prop:t.prop}))):t.context.hasOwnProperty(t.prop)?((a=(o=e.setSubscriptions.get(t.context))==null?void 0:o.get(t.prop))==null||a.forEach(d=>d({type:"replace"})),(l=(s=e.setSubscriptionsGlobal.get(t.context))==null?void 0:s.get(t.prop))==null||l.forEach(d=>d({type:"replace"}))):((u=e.changeSubscriptions.get(t.context))==null||u.forEach(d=>d({type:"create",prop:t.prop})),(c=e.changeSubscriptionsGlobal.get(t.context))==null||c.forEach(d=>d({type:"create",prop:t.prop})))}const C$e=new Set([[].push,[].pop,[].shift,[].unshift,[].splice,[].reverse,[].sort,[].copyWithin]);class T$e{constructor(e,n){this.key=e,this.val=n}}class FU{constructor(e){this.item=e}}class MO{constructor(e){this.item=e}}class jU{constructor(e,n){this.t=e,this.f=n}}const R$e=/(\$\$)*(\$)?\${(\d+)}/g,Qm=new Map;function Dn(t,e){Qm.set(t,e)}Dn(1,(t,e,n,r,i,o,a,s)=>{if(r===null)throw new TypeError(`Cannot get property ${i} of null`);const l=typeof r;if(l==="undefined"&&o===void 0){let f=s.get(i);if(f.context===a.ctx.sandboxGlobal){a.ctx.options.audit&&a.ctx.auditReport.globalsAccess.add(i);const h=a.ctx.globalsWhitelist.has(a.ctx.sandboxGlobal[i])?a.evals.get(a.ctx.sandboxGlobal[i]):void 0;if(h){e(void 0,h);return}}if(f.context&&f.context[i]===globalThis){e(void 0,a.ctx.globalScope.get("this"));return}e(void 0,f);return}else if(r===void 0)throw new Aa("Cannot get property '"+i+"' of undefined");if(l!=="object")l==="number"?r=new Number(r):l==="string"?r=new String(r):l==="boolean"&&(r=new Boolean(r));else if(typeof r.hasOwnProperty>"u"){e(void 0,new Ja(void 0,i));return}const u=l==="function";let c=u||!(r.hasOwnProperty(i)||typeof i=="number");if(a.ctx.options.audit&&c&&typeof i=="string"){let f=Object.getPrototypeOf(r);do f.hasOwnProperty(i)&&(a.ctx.auditReport.prototypeAccess[f.constructor.name]||(a.ctx.auditReport.prototypeAccess[f.constructor.name]=new Set),a.ctx.auditReport.prototypeAccess[f.constructor.name].add(i));while(f=Object.getPrototypeOf(f))}if(c){if(u){if(!["name","length","constructor"].includes(i)&&r.hasOwnProperty(i)){const f=a.ctx.prototypeWhitelist.get(r.prototype),h=a.ctx.options.prototypeReplacements.get(r);if(h){e(void 0,new Ja(h(r,!0),i));return}if(!(f&&(!f.size||f.has(i))))throw new Aa(`Static method or property access not permitted: ${r.name}.${i}`)}}else if(i!=="constructor"){let f=r;for(;f=Object.getPrototypeOf(f);)if(f.hasOwnProperty(i)){const h=a.ctx.prototypeWhitelist.get(f),v=a.ctx.options.prototypeReplacements.get(f.constuctor);if(v){e(void 0,new Ja(v(r,!1),i));return}if(h&&(!h.size||h.has(i)))break;throw new Aa(`Method or property access not permitted: ${f.constructor.name}.${i}`)}}}if(a.evals.has(r[i])){e(void 0,a.evals.get(r[i]));return}if(r[i]===globalThis){e(void 0,a.ctx.globalScope.get("this"));return}let d=o.isGlobal||u&&!TE.has(r)||a.ctx.globalsWhitelist.has(r);e(void 0,new Ja(r,i,!1,d))});Dn(5,(t,e,n,r,i,o,a,s)=>{var u,c;if(a.ctx.options.forbidFunctionCalls)throw new Aa("Function invocations are not allowed");if(typeof r!="function")throw new TypeError(`${typeof o.prop=="symbol"?"Symbol":o.prop} is not a function`);const l=i.map(d=>d instanceof MO?[...d.item]:[d]).flat().map(d=>pc(d,a));if(typeof o=="function"){e(void 0,o(...l));return}if(o.context[o.prop]===JSON.stringify&&a.getSubscriptions.size){const d=new Set,f=h=>{if(!(!h||typeof h!="object"||d.has(h))){d.add(h);for(let v in h)a.getSubscriptions.forEach(m=>m(h,v)),f(h[v])}};f(l[0])}if(o.context instanceof Array&&C$e.has(o.context[o.prop])&&(a.changeSubscriptions.get(o.context)||a.changeSubscriptionsGlobal.get(o.context))){let d,f=!1;if(o.prop==="push")d={type:"push",added:l},f=!!l.length;else if(o.prop==="pop")d={type:"pop",removed:o.context.slice(-1)},f=!!d.removed.length;else if(o.prop==="shift")d={type:"shift",removed:o.context.slice(0,1)},f=!!d.removed.length;else if(o.prop==="unshift")d={type:"unshift",added:l},f=!!l.length;else if(o.prop==="splice")d={type:"splice",startIndex:l[0],deleteCount:l[1]===void 0?o.context.length:l[1],added:l.slice(2),removed:o.context.slice(l[0],l[1]===void 0?void 0:l[0]+l[1])},f=!!d.added.length||!!d.removed.length;else if(o.prop==="reverse"||o.prop==="sort")d={type:o.prop},f=!!o.context.length;else if(o.prop==="copyWithin"){let h=l[2]===void 0?o.context.length-l[1]:Math.min(o.context.length,l[2]-l[1]);d={type:"copyWithin",startIndex:l[0],endIndex:l[0]+h,added:o.context.slice(l[1],l[1]+h),removed:o.context.slice(l[0],l[0]+h)},f=!!d.added.length||!!d.removed.length}f&&((u=a.changeSubscriptions.get(o.context))==null||u.forEach(h=>h(d)),(c=a.changeSubscriptionsGlobal.get(o.context))==null||c.forEach(h=>h(d)))}o.get(a),e(void 0,o.context[o.prop](...l))});Dn(22,(t,e,n,r,i,o,a,s)=>{let l={};for(let u of i)u.key instanceof FU?l={...l,...u.key.item}:l[u.key]=u.val;e(void 0,l)});Dn(6,(t,e,n,r,i)=>e(void 0,new T$e(r,i)));Dn(12,(t,e,n,r,i,o,a,s)=>{const l=i.map(u=>u instanceof MO?[...u.item]:[u]).flat().map(u=>pc(u,a));e(void 0,l)});Dn(23,(t,e,n,r,i)=>e(void 0,i));Dn(35,(t,e,n,r,i)=>{switch(i){case"true":return e(void 0,!0);case"false":return e(void 0,!1);case"null":return e(void 0,null);case"undefined":return e(void 0,void 0);case"NaN":return e(void 0,NaN);case"Infinity":return e(void 0,1/0)}e(new Error("Unknown symbol: "+i))});Dn(7,(t,e,n,r,i)=>e(void 0,Number(i)));Dn(83,(t,e,n,r,i)=>e(void 0,BigInt(i)));Dn(2,(t,e,n,r,i,o,a)=>e(void 0,a.constants.strings[parseInt(i)]));Dn(85,(t,e,n,r,i,o,a)=>{const s=a.constants.regexes[parseInt(i)];if(a.ctx.globalsWhitelist.has(RegExp))e(void 0,new RegExp(s.regex,s.flags));else throw new Aa("Regex not permitted")});Dn(84,(t,e,n,r,i,o,a,s)=>{let l=a.constants.literals[parseInt(i)];const[,u,c]=l;let d=[],f,h=[];for(;f=R$e.exec(u);)f[2]||(d.push(c[parseInt(f[3],10)]),h.push(f[3]));t(n,d,s,a,(v,m)=>{const g={};if(v){e(v);return}for(let x in h){const _=h[x];g[_]=m[x]}e(void 0,u.replace(/(\\\\)*(\\)?\${(\d+)}/g,(x,_,w,S)=>{if(w)return x;let C=g[S];return(_||"")+`${pc(C,a)}`}))})});Dn(18,(t,e,n,r,i,o,a,s)=>{e(void 0,new MO(i))});Dn(17,(t,e,n,r,i,o,a,s)=>{e(void 0,new FU(i))});Dn(24,(t,e,n,r,i)=>e(void 0,!i));Dn(64,(t,e,n,r,i)=>e(void 0,~i));Dn(25,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,++o.context[o.prop])});Dn(26,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]++)});Dn(27,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,--o.context[o.prop])});Dn(28,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]--)});Dn(9,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]=i)});Dn(66,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]+=i)});Dn(65,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]-=i)});Dn(67,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]/=i)});Dn(69,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]*=i)});Dn(68,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]**=i)});Dn(70,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]%=i)});Dn(71,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]^=i)});Dn(72,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]&=i)});Dn(73,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]|=i)});Dn(76,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]<<=i)});Dn(75,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]>>=i)});Dn(74,(t,e,n,r,i,o,a)=>{ha(o,a),e(void 0,o.context[o.prop]>>=i)});Dn(57,(t,e,n,r,i)=>e(void 0,r>i));Dn(56,(t,e,n,r,i)=>e(void 0,r<i));Dn(55,(t,e,n,r,i)=>e(void 0,r>=i));Dn(54,(t,e,n,r,i)=>e(void 0,r<=i));Dn(52,(t,e,n,r,i)=>e(void 0,r==i));Dn(32,(t,e,n,r,i)=>e(void 0,r===i));Dn(53,(t,e,n,r,i)=>e(void 0,r!=i));Dn(31,(t,e,n,r,i)=>e(void 0,r!==i));Dn(29,(t,e,n,r,i)=>e(void 0,r&&i));Dn(30,(t,e,n,r,i)=>e(void 0,r||i));Dn(77,(t,e,n,r,i)=>e(void 0,r&i));Dn(78,(t,e,n,r,i)=>e(void 0,r|i));Dn(33,(t,e,n,r,i)=>e(void 0,r+i));Dn(47,(t,e,n,r,i)=>e(void 0,r-i));Dn(59,(t,e,n,r,i)=>e(void 0,+i));Dn(58,(t,e,n,r,i)=>e(void 0,-i));Dn(48,(t,e,n,r,i)=>e(void 0,r/i));Dn(79,(t,e,n,r,i)=>e(void 0,r^i));Dn(50,(t,e,n,r,i)=>e(void 0,r*i));Dn(51,(t,e,n,r,i)=>e(void 0,r%i));Dn(80,(t,e,n,r,i)=>e(void 0,r<<i));Dn(81,(t,e,n,r,i)=>e(void 0,r>>i));Dn(82,(t,e,n,r,i)=>e(void 0,r>>>i));Dn(60,(t,e,n,r,i,o,a,s)=>{t(n,i,s,a,(l,u)=>{e(void 0,typeof pc(u,a))})});Dn(62,(t,e,n,r,i)=>e(void 0,r instanceof i));Dn(63,(t,e,n,r,i)=>e(void 0,r in i));Dn(61,(t,e,n,r,i,o,a,s,l)=>{if(l.context===void 0){e(void 0,!0);return}if(ha(l,a,"delete"),l.isVariable){e(void 0,!1);return}e(void 0,delete l.context[l.prop])});Dn(8,(t,e,n,r,i,o,a)=>e(void 0,i));Dn(34,(t,e,n,r,i,o,a,s,l)=>{e(void 0,s.declare(r,Mp.var,i))});Dn(3,(t,e,n,r,i,o,a,s,l)=>{e(void 0,s.declare(r,Mp.let,i,l&&l.isGlobal))});Dn(4,(t,e,n,r,i,o,a,s,l)=>{e(void 0,s.declare(r,Mp.const,i))});Dn(11,(t,e,n,r,i,o,a,s)=>{r=[...r],(typeof o[2]=="string"||o[2]instanceof lo)&&(o[2]=i=t1(new lo(o[2]),a.constants)),r.shift()?e(void 0,NO(r,i,n,a,s)):e(void 0,RE(r,i,n,a,s))});Dn(37,(t,e,n,r,i,o,a,s)=>{(typeof o[2]=="string"||o[2]instanceof lo)&&(o[2]=i=t1(new lo(o[2]),a.constants));let l=r.shift(),u=r.shift(),c;l===88?c=NO(r,i,n,a,s,u):c=RE(r,i,n,a,s,u),u&&s.declare(u,Mp.var,c),e(void 0,c)});Dn(10,(t,e,n,r,i,o,a,s)=>{(typeof o[2]=="string"||o[2]instanceof lo)&&(o[2]=i=t1(new lo(o[2]),a.constants));let l=r.shift(),u=r.shift();u&&(s=new Ta(s,{}));let c;l===88?c=NO(r,i,n,a,s,u):c=RE(r,i,n,a,s,u),u&&s.declare(u,Mp.let,c),e(void 0,c)});Dn(38,(t,e,n,r,i,o,a,s)=>{const[l,u,c,d,f,h,v]=r;let m=!0;const g=new Ta(s,{});let x={$$obj:void 0};const _=new Ta(g,x);if(t===Ad)(async()=>{let w;for(w=Cl(S=>t(n,d,g,a,S)),x.$$obj=(w=Cl(S=>t(n,c,g,a,S))).isInstant===!0?w.instant:(await w.p).result,w=Cl(S=>t(n,u,_,a,S)),l&&(m=(w=Cl(S=>t(n,h,_,a,S))).isInstant===!0?w.instant:(await w.p).result);m;){let S={};w=Cl(O=>t(n,v,new Ta(_,S),a,O)),w.isInstant===!0?w.instant:(await w.p).result;let C=await Eb(n,a,i,[new Ta(g,S)],"loop");if(C instanceof Qa&&C.returned){e(void 0,C);return}if(C instanceof Qa&&C.breakLoop)break;w=Cl(O=>t(n,f,_,a,O)),m=(w=Cl(O=>t(n,h,_,a,O))).isInstant===!0?w.instant:(await w.p).result}e()})().catch(e);else{for(Tl(w=>t(n,d,g,a,w)),x.$$obj=Tl(w=>t(n,c,g,a,w)).result,Tl(w=>t(n,u,_,a,w)),l&&(m=Tl(w=>t(n,h,_,a,w)).result);m;){let w={};Tl(C=>t(n,v,new Ta(_,w),a,C));let S=wb(n,a,i,[new Ta(g,w)],"loop");if(S instanceof Qa&&S.returned){e(void 0,S);return}if(S instanceof Qa&&S.breakLoop)break;Tl(C=>t(n,f,_,a,C)),m=Tl(C=>t(n,h,_,a,C)).result}e()}});Dn(86,(t,e,n,r,i,o,a,s,l,u)=>{if(u==="switch"&&r==="continue"||!u)throw new Aa("Illegal "+r+" statement");e(void 0,new Qa(a.ctx.auditReport,void 0,!1,r==="break",r==="continue"))});Dn(13,(t,e,n,r,i,o,a,s,l,u)=>{t(n,pc(r,a)?i.t:i.f,s,a,e)});Dn(15,(t,e,n,r,i,o,a,s)=>{t(n,pc(r,a)?i.t:i.f,s,a,e)});Dn(16,(t,e,n,r,i)=>e(void 0,new jU(r,i)));Dn(14,(t,e,n,r,i)=>e(void 0,new jU(r,i)));Dn(40,(t,e,n,r,i,o,a,s)=>{t(n,r,s,a,(l,u)=>{if(l){e(l);return}if(u=pc(u,a),t===vc){let c,d=!1;for(let f of i)if(d||(d=!f[1]||u===pc(Tl(h=>t(n,f[1],s,a,h)).result,a))){if(!f[2])continue;if(c=wb(n,a,f[2],[s],"switch"),c.breakLoop)break;if(c.returned){e(void 0,c);return}if(!f[1])break}e()}else(async()=>{let c,d=!1;for(let f of i){let h;if(d||(d=!f[1]||u===pc((h=Cl(v=>t(n,f[1],s,a,v))).isInstant===!0?h.instant:(await h.p).result,a))){if(!f[2])continue;if(c=await Eb(n,a,f[2],[s],"switch"),c.breakLoop)break;if(c.returned){e(void 0,c);return}if(!f[1])break}}e()})().catch(e)})});Dn(39,(t,e,n,r,i,o,a,s,l,u)=>{const[c,d,f]=i;zy(t,(h,v)=>{zy(t,m=>{m?e(m):h?zy(t,e,n,a,d,[new Ta(s)],u):e(void 0,v)},n,a,f,[new Ta(s,{})])},n,a,r,[new Ta(s)],u)});Dn(87,(t,e,n,r)=>{e()});Dn(45,(t,e,n,r,i,o,a)=>{if(!a.ctx.globalsWhitelist.has(r)&&!TE.has(r))throw new Aa(`Object construction not allowed: ${r.constructor.name}`);e(void 0,new r(...i))});Dn(46,(t,e,n,r,i)=>{e(i)});Dn(43,(t,e,n,r)=>e(void 0,r.pop()));Dn(0,(t,e,n,r)=>e());function pc(t,e){if(t instanceof Ja)return t.get(e);if(t!==zf)return t}function kk(t,e,n,r,i,o,a){e===vc?P$e(t,n,r,i,o,a):A$e(t,n,r,i,o,a).catch(r)}function P$e(t,e,n,r,i,o){let a=[];for(let s=0;s<e.length;s++){let l;try{l=Tl(u=>vc(t,e[s],r,i,u,o)).result}catch(u){n(u);return}if(l instanceof Qa&&(l.returned||l.breakLoop||l.continueLoop)){n(void 0,l);return}if(Id(e[s])&&e[s][0]===8){n(void 0,new Qa(i.ctx.auditReport,l,!0));return}a.push(l)}n(void 0,a)}async function A$e(t,e,n,r,i,o){let a=[];for(let s=0;s<e.length;s++){let l;try{let u;l=(u=Cl(c=>Ad(t,e[s],r,i,c,o))).isInstant===!0?u.instant:(await u.p).result}catch(u){n(u);return}if(l instanceof Qa&&(l.returned||l.breakLoop||l.continueLoop)){n(void 0,l);return}if(Id(e[s])&&e[s][0]===8){n(void 0,new Qa(i.ctx.auditReport,l,!0));return}a.push(l)}n(void 0,a)}function Cl(t){let e=!1,n;const r=new Promise((i,o)=>{t((a,s)=>{a?o(a):(e=!0,n=s,i({result:s}))})});return{isInstant:e,instant:n,p:r}}function Tl(t){let e,n;if(t((r,i)=>{n=r,e=i}),n)throw n;return{result:e}}async function Ad(t,e,n,r,i,o){let a=i;const s=new Promise(l=>{a=(u,c)=>{i(u,c),l()}});if(!BU(t,e,n,r,a,!0,o)){if(Id(e)){let l=e[0],u;try{let h;u=(h=Cl(v=>Ad(t,e[1],n,r,v,o))).isInstant===!0?h.instant:(await h.p).result}catch(h){a(h);return}let c=u;try{c=u instanceof Ja?u.get(r):u}catch(h){a(h);return}if(l===20||l===21){if(c==null){a(void 0,zf);return}l=l===20?1:5}if(c===zf)if(l===1||l===5){a(void 0,c);return}else c=void 0;let d;try{let h;d=(h=Cl(v=>Ad(t,e[2],n,r,v,o))).isInstant===!0?h.instant:(await h.p).result}catch(h){a(h);return}let f=d;try{f=d instanceof Ja?d.get(r):d}catch(h){a(h);return}if(f===zf&&(f=void 0),Qm.has(l))try{Qm.get(l)(Ad,a,t,c,f,u,r,n,d,o)}catch(h){a(h)}else a(new SyntaxError("Unknown operator: "+l))}}await s}function vc(t,e,n,r,i,o){if(!BU(t,e,n,r,i,!1,o)){if(Id(e)){let a=e[0],s;try{s=Tl(d=>vc(t,e[1],n,r,d,o)).result}catch(d){i(d);return}let l=s;try{l=s instanceof Ja?s.get(r):s}catch(d){i(d);return}if(a===20||a===21){if(l==null){i(void 0,zf);return}a=a===20?1:5}if(l===zf)if(a===1||a===5){i(void 0,l);return}else l=void 0;let u;try{u=Tl(d=>vc(t,e[2],n,r,d,o)).result}catch(d){i(d);return}let c=u;try{c=u instanceof Ja?u.get(r):u}catch(d){i(d);return}if(c===zf&&(c=void 0),Qm.has(a))try{Qm.get(a)(vc,i,t,l,c,s,r,n,u,o)}catch(d){i(d)}else i(new SyntaxError("Unknown operator: "+a))}}}const O$e=new Set([11,37,10,38,39,40,14,16,60]);function BU(t,e,n,r,i,o,a){var l;const s=o?Ad:vc;if(r.ctx.options.executionQuota<=t.ticks&&!(typeof r.ctx.options.onExecutionQuotaReached=="function"&&r.ctx.options.onExecutionQuotaReached(t,n,r,e))){i(new Aa("Execution quota exceeded"));return}if(t.ticks++,$U=t,e instanceof Ja)try{i(void 0,e.get(r))}catch(u){i(u)}else if(e===zf)i();else if(Array.isArray(e)&&!Id(e))e[0]===0?i():kk(t,s,e,i,n,r,a);else if(!Id(e))i(void 0,e);else if(e[0]===42)kk(t,s,e[1],i,n,r,a);else if(e[0]===44)o?(l=r.ctx.prototypeWhitelist)!=null&&l.has(Promise.prototype)?Ad(t,e[1],n,r,async(u,c)=>{if(u)i(u);else try{i(void 0,await pc(c,r))}catch(d){i(d)}},a).catch(i):i(new Aa("Async/await is not permitted")):i(new Aa("Illegal use of 'await', must be inside async function"));else if(O$e.has(e[0]))try{Qm.get(e[0])(s,i,t,e[1],e[2],e,r,n,void 0,a)}catch(u){i(u)}else return!1;return!0}function wb(t,e,n,r=[],i){return Tl(o=>zy(vc,o,t,e,n,r,i)).result}async function Eb(t,e,n,r=[],i){let o;return(o=Cl(a=>zy(Ad,a,t,e,n,r,i))).isInstant===!0?o.instant:(await o.p).result}function zy(t,e,n,r,i,o=[],a){if(!i){e();return}if(!(i instanceof Array))throw new SyntaxError("Bad execution tree");let s=r.ctx.globalScope,l;for(;l=o.shift();)typeof l=="object"&&(l instanceof Ta?s=l:s=new Ta(s,l,l instanceof x$e?void 0:null));r.ctx.options.audit&&!r.ctx.auditReport&&(r.ctx.auditReport={globalsAccess:new Set,prototypeAccess:{}}),t===vc?N$e(e,n,r,i,s,a):M$e(e,n,r,i,s,a).catch(e)}function N$e(t,e,n,r,i,o){if(!(r instanceof Array))throw new SyntaxError("Bad execution tree");let a=0;for(a=0;a<r.length;a++){let s,l;const u=r[a];try{vc(e,u,i,n,(c,d)=>{l=c,s=d},o)}catch(c){l=c}if(l){t(l);return}if(s instanceof Qa){t(void 0,s);return}if(Id(u)&&u[0]===8){t(void 0,new Qa(n.ctx.auditReport,s,!0));return}}t(void 0,new Qa(n.ctx.auditReport,void 0,!1))}async function M$e(t,e,n,r,i,o){if(!(r instanceof Array))throw new SyntaxError("Bad execution tree");let a=0;for(a=0;a<r.length;a++){let s,l;const u=r[a];try{await Ad(e,u,i,n,(c,d)=>{l=c,s=d},o)}catch(c){l=c}if(l){t(l);return}if(s instanceof Qa){t(void 0,s);return}if(Id(u)&&u[0]===8){t(void 0,new Qa(n.ctx.auditReport,s,!0));return}}t(void 0,new Qa(n.ctx.auditReport,void 0,!1))}class $k{constructor(e){if(e===globalThis)return globalThis;for(let n in e)this[n]=e[n]}}class I$e{constructor(e,n,r,i,o,a,s,l,u,c){this.ctx=e,this.constants=n,this.tree=r,this.getSubscriptions=i,this.setSubscriptions=o,this.changeSubscriptions=a,this.setSubscriptionsGlobal=s,this.changeSubscriptionsGlobal=l,this.evals=u,this.registerSandboxFunction=c}}function Fk(t,e,n,r){const i=r.setSubscriptions.get(t)||new Map;r.setSubscriptions.set(t,i);const o=i.get(e)||new Set;i.set(e,o),o.add(n);let a;return t&&t[e]&&typeof t[e]=="object"&&(a=r.changeSubscriptions.get(t[e])||new Set,a.add(n),r.changeSubscriptions.set(t[e],a)),{unsubscribe:()=>{o.delete(n),a==null||a.delete(n)}}}class Hy{constructor(e){this.setSubscriptions=new WeakMap,this.changeSubscriptions=new WeakMap,this.sandboxFunctions=new WeakMap,e=Object.assign({audit:!1,forbidFunctionCalls:!1,forbidFunctionCreation:!1,globals:Hy.SAFE_GLOBALS,prototypeWhitelist:Hy.SAFE_PROTOTYPES,prototypeReplacements:new Map},e||{});const n=new $k(e.globals);this.context={sandbox:this,globalsWhitelist:new Set(Object.values(e.globals)),prototypeWhitelist:new Map([...e.prototypeWhitelist].map(r=>[r[0].prototype,r[1]])),options:e,globalScope:new Ta(null,e.globals,n),sandboxGlobal:n},this.context.prototypeWhitelist.set(Object.getPrototypeOf([][Symbol.iterator]()),new Set)}static get SAFE_GLOBALS(){return{Function,console:{debug:console.debug,error:console.error,info:console.info,log:console.log,table:console.table,warn:console.warn},isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,escape,unescape,Boolean,Number,BigInt,String,Object,Array,Symbol,Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Map,Set,WeakMap,WeakSet,Promise,Intl,JSON,Math,Date,RegExp}}static get SAFE_PROTOTYPES(){let e=[$k,Function,Boolean,Number,BigInt,String,Date,Error,Array,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Map,Set,WeakMap,WeakSet,Promise,Symbol,Date,RegExp],n=new Map;return e.forEach(r=>{n.set(r,new Set)}),n.set(Object,new Set(["entries","fromEntries","getOwnPropertyNames","is","keys","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","values"])),n}subscribeGet(e,n){return n.getSubscriptions.add(e),{unsubscribe:()=>n.getSubscriptions.delete(e)}}subscribeSet(e,n,r,i){return Fk(e,n,r,i)}subscribeSetGlobal(e,n,r){return Fk(e,n,r,this)}static audit(e,n=[]){const r={};for(let o of Object.getOwnPropertyNames(globalThis))r[o]=globalThis[o];const i=new Hy({globals:r,audit:!0});return i.executeTree(i.createContext(i.context,Zh(e)),n)}static parse(e){return Zh(e)}createContext(e,n){const r=new Map,i=new I$e(e,n.constants,n.tree,new Set,new WeakMap,new WeakMap,this.setSubscriptions,this.changeSubscriptions,r,a=>this.sandboxFunctions.set(a,i)),o=_$e(i);return r.set(Function,o),r.set(eval,S$e(o)),r.set(setTimeout,w$e(o)),r.set(setInterval,E$e(o)),i}getContext(e){return this.sandboxFunctions.get(e)}executeTree(e,n=[]){return wb({ticks:BigInt(0)},e,e.tree,n)}executeTreeAsync(e,n=[]){return Eb({ticks:BigInt(0)},e,e.tree,n)}compile(e,n=!1){const r=Zh(e,n);return(...o)=>{const a=this.createContext(this.context,r);return{context:a,run:()=>this.executeTree(a,[...o]).result}}}compileAsync(e,n=!1){const r=Zh(e,n);return(...o)=>{const a=this.createContext(this.context,r);return{context:a,run:()=>this.executeTreeAsync(a,[...o]).then(s=>s.result)}}}compileExpression(e,n=!1){const r=Zh(e,n,!0);return(...o)=>{const a=this.createContext(this.context,r);return{context:a,run:()=>this.executeTree(a,[...o]).result}}}compileExpressionAsync(e,n=!1){const r=Zh(e,n,!0);return(...o)=>{const a=this.createContext(this.context,r);return{context:a,run:()=>this.executeTreeAsync(a,[...o]).then(s=>s.result)}}}}const D$e=(t,...e)=>vd(void 0,[t,...e],void 0,function*(n,r={}){try{return yield new Hy().compile(n)(r).run()}catch(i){console.log("runInBrowserContext error --->>>",i)}}),L$e=(t,e)=>vd(void 0,void 0,void 0,function*(){return yield D$e(t,e)});class IO{constructor({nodeConfig:e,context:n,globalData:r}){const{outgoing:i,incoming:o,id:a,type:s,properties:l}=e;this.baseType="base",this.outgoing=i,this.incoming=o,this.nodeId=a,this.type=s,this.properties=l,this.context=n,this.globalData=r}action(e){return vd(this,void 0,void 0,function*(){console.log("action param --->>>",e)})}onResume(e){return vd(this,void 0,void 0,function*(){console.log("onResume params --->>>",e)})}isPass(e){return vd(this,void 0,void 0,function*(){if(!e)return!0;const{conditionExpression:n}=e;if(!n)return!0;try{return yield L$e(`
          const isPassResult = (${n})
          return isPassResult
        `,Object.assign({},this.globalData))}catch{return!1}})}getOutgoing(){return vd(this,void 0,void 0,function*(){const e=[],n=[];for(const i of this.outgoing){const{properties:o}=i;n.push(this.isPass(o))}return(yield Promise.all(n)).forEach((i,o)=>{const a=this.outgoing[o];a.result=i,e.push(a)}),e})}execute(e){return vd(this,void 0,void 0,function*(){const{executionId:n,actionId:r}=e,i=yield this.action({nodeId:this.nodeId,executionId:n,actionId:r}),o=i?i.status:"success";if(o===Fy.SUCCESS){const a=yield this.getOutgoing(),s=i?i.detail:{};e.next({status:Fy.SUCCESS,detail:s,nodeId:this.nodeId,nodeType:this.type,properties:this.properties,executionId:n,actionId:r,outgoing:a})}return{status:o,detail:i==null?void 0:i.detail,executionId:n,actionId:r,nodeId:this.nodeId,nodeType:this.type,properties:this.properties,outgoing:[]}})}resume(e){return vd(this,void 0,void 0,function*(){const n=yield this.getOutgoing();yield this.onResume({executionId:e.executionId,actionId:e.actionId,nodeId:e.nodeId,data:e.data}),e.next({executionId:e.executionId,actionId:e.actionId,nodeId:this.nodeId,nodeType:this.type,properties:this.properties,outgoing:n,status:Fy.SUCCESS})})}}IO.nodeTypeName="BaseNode";class k$e extends IO{constructor(){super(...arguments),this.baseType="start"}}k$e.nodeTypeName="StartNode";class $$e extends IO{constructor(){super(...arguments),this.baseType="task"}}$$e.nodeTypeName="TaskNode";const F$e=typeof window=="object"&&window.window===window,j$e=typeof global=="object"&&global.global===global,pm=F$e?window:typeof self=="object"&&self.self===self?self:j$e?global:typeof globalThis=="object"?globalThis:{eval:()=>{}};if(!pm.sessionStorage){const t={data:{},setItem(e,n){t.data[e]=n},getItem(e){return t.data[e]},removeItem(e){delete t.data[e]},clear(){t.data={}}};pm.sessionStorage=t}const Z$e={setItem(t,e){typeof e=="object"&&(e=JSON.stringify(e)),pm.sessionStorage.setItem(t,e)},getItem(t){const e=pm.sessionStorage.getItem(t);try{return JSON.parse(e)}catch{return e}},removeItem(t){pm.sessionStorage.removeItem(t)},clear(){pm.sessionStorage.clear()}};export{Fy as A,zP as D,K$e as E,Ba as F,V$e as L,ww as P,k$e as S,Gf as T,Rde as a,Mj as b,i0e as c,Mk as d,Y$e as e,q$e as f,kae as g,X$e as h,Zge as i,ky as j,Z$e as k,$$e as l,Sse as m,bfe as n,HT as p,M0e as s,Sg as u};
